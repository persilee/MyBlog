<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>persilee&#39;s Blog</title>
    <link>https://h.lishaoy.net/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>æå°‘é¢–çš„åšå®¢</description>
    <pubDate>Fri, 03 Jul 2020 17:11:46 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Flutter(Flare) æœ€æœ‰è¶£ç”¨æˆ·äº¤äº’åŠ¨ç”»æ²¡æœ‰ä¹‹ä¸€</title>
      <link>https://h.lishaoy.net/flutter-flare.html</link>
      <guid>https://h.lishaoy.net/flutter-flare.html</guid>
      <pubDate>Fri, 03 Jul 2020 17:09:16 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/flutterFlare/flutter-flare-cover.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter Flare&quot; title=&quot;Flutter Flare&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;2019å¹´12æœˆ12æ—¥ï¼Œ&lt;strong&gt;Flutter&lt;/strong&gt; åœ¨ &lt;strong&gt;Flutter Interact â€˜19&lt;/strong&gt; ä¸Šå‘å¸ƒäº†å¦‚ä½•ä½¿ç”¨ &lt;strong&gt;Rive&lt;/strong&gt; å’Œ &lt;strong&gt;Flutter&lt;/strong&gt; åˆ¶ä½œåŠ¨æ€å¯äº¤äº’çš„åŠ¨ç”»ç»éªŒåˆ†äº«ï¼Œæˆ‘çœ‹äº†ä¹‹åï¼Œè§‰å¾—éå¸¸æœ‰è¶£ï¼Œå› æ­¤ï¼Œå†™äº†3ä¸ªå° demoï¼ŒæŠŠå®ƒå†™æˆæ–‡ç« è®°å½•åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/flutterFlare/flutter-flare-cover.png" class="full-image" alt="Flutter Flare" title="Flutter Flare"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>2019å¹´12æœˆ12æ—¥ï¼Œ<strong>Flutter</strong> åœ¨ <strong>Flutter Interact â€˜19</strong> ä¸Šå‘å¸ƒäº†å¦‚ä½•ä½¿ç”¨ <strong>Rive</strong> å’Œ <strong>Flutter</strong> åˆ¶ä½œåŠ¨æ€å¯äº¤äº’çš„åŠ¨ç”»ç»éªŒåˆ†äº«ï¼Œæˆ‘çœ‹äº†ä¹‹åï¼Œè§‰å¾—éå¸¸æœ‰è¶£ï¼Œå› æ­¤ï¼Œå†™äº†3ä¸ªå° demoï¼ŒæŠŠå®ƒå†™æˆæ–‡ç« è®°å½•åˆ†äº«ç»™å¤§å®¶ã€‚</p><hr><a id="more"></a><h2 id="åè¯ç†è§£"><a href="#åè¯ç†è§£" class="headerlink" title="åè¯ç†è§£"></a>åè¯ç†è§£</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ç†è§£å‡ ä¸ªåè¯ï¼Œä¸ç„¶åç»­æ–‡ç« ï¼Œå¯èƒ½çœ‹ç€æœ‰äº›æ™•ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>Flareï¼šæ˜¯ Flutter çš„åŠ¨ç”»æ’ä»¶åç§°ï¼Œå®Œæ•´åç§°æ˜¯ <code>flare_flutter</code> æˆ‘ä»¬è¦åœ¨ <code>pubspec.yaml</code> æ–‡ä»¶é‡Œå¼•å…¥</li><li>Riveï¼šæ˜¯åˆ¶ä½œ Flare åŠ¨ç”»çš„<a href="https://rive.app/about-rive" target="_blank" rel="noopener">ç½‘ç«™</a>ï¼Œå®ƒæ—¢æ˜¯ä¸€ä¸ªç½‘ç«™ä¹Ÿæ˜¯åˆ¶ä½œå·¥å…·ï¼Œåœ¨æ­¤ç½‘ç«™é‡Œæœ‰å¾ˆå¤šç”¨æˆ·åˆ†äº« Flare åŠ¨ç”»ä¾›æˆ‘ä»¬ä¸‹è½½ä½¿ç”¨ã€Flare APIä½¿ç”¨æ–‡æ¡£ã€åˆ¶ä½œ Flare åŠ¨ç”»çš„è§†é¢‘æ•™ç¨‹ï¼ˆå¤§å®¶ä¹Ÿå¯ä»¥é€šè¿‡å­¦ä¹ åˆ¶ä½œè‡ªå·±å–œæ¬¢çš„åŠ¨ç”»ï¼‰ç­‰</li></ul><h2 id="äº¤äº’åŠ¨ç”»é¢„è§ˆ"><a href="#äº¤äº’åŠ¨ç”»é¢„è§ˆ" class="headerlink" title="äº¤äº’åŠ¨ç”»é¢„è§ˆ"></a>äº¤äº’åŠ¨ç”»é¢„è§ˆ</h2><h3 id="ç™»å½•äº¤äº’åŠ¨ç”»"><a href="#ç™»å½•äº¤äº’åŠ¨ç”»" class="headerlink" title="ç™»å½•äº¤äº’åŠ¨ç”»"></a>ç™»å½•äº¤äº’åŠ¨ç”»</h3><p>ç™»å½•äº¤äº’åŠ¨ç”»ï¼ŒåŒ…å«å¦‚ä¸‹6ç§åŠ¨ç”»ï¼š</p><ul><li>idleï¼šæ— ä»»ä½•æ“ä½œæ—¶çš„çŠ¶æ€ï¼ˆç†Šçš„èº«ä½“ä¼šä¸Šä¸‹æµ®åŠ¨å’Œçœ¨çœ¼ç›ï¼‰</li><li>testï¼šå½“æˆ‘ä»¬åœ¨ email è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ï¼ˆç†Šä¼šçœ‹å‘è¾“å…¥æ¡†ï¼Œä¸”éšç€ä½ è¾“å…¥çš„é•¿åº¦æ—‹è½¬å¤´éƒ¨ï¼‰</li><li>hands_upï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ ï¼ˆç†Šä¼šç”¨æ‰‹è’™ä¸Šçœ¼ç›ï¼‰</li><li>hands_downï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†è¾“å…¥å®Œæˆæ—¶çš„çŠ¶æ€ ï¼ˆç†Šä¼šæ”¾ä¸‹åŒæ‰‹ï¼‰</li><li>failï¼šå½“æˆ‘ä»¬ç™»å½•å¤±è´¥æ—¶çš„çŠ¶æ€ï¼ˆç†Šä¼šåšå‡ºéš¾è¿‡çš„è¡¨æƒ…ï¼‰</li><li>successï¼šå½“æˆ‘ä»¬ç™»å½•æˆåŠŸæ—¶çš„çŠ¶æ€ï¼ˆç†Šä¼šåšå‡ºé«˜å…´çš„è¡¨æƒ…ï¼‰</li></ul><p>ä»¥ä¸Š6ç§çŠ¶æ€ï¼Œå¯ä»¥åœ¨ <strong>Rive</strong> ç½‘ç«™æŸ¥çœ‹å…·ä½“åŠ¨ç”»ï¼Œ<a href="https://rive.app/a/castor/files/flare/teddy-with-hands/preview" target="_blank" rel="noopener">ç‚¹å‡»è¿›å…¥æŸ¥çœ‹</a></p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ¡ˆä¾‹é‡Œå®ç°åŠ¨ç”»æ•ˆæœ</p><p>idleï¼šæ— ä»»ä½•æ“ä½œæ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/sign-in.gif" alt="no-shadow" title="idle"></p><p>testï¼šå½“æˆ‘ä»¬åœ¨ email è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/email.gif" alt="no-shadow" title="test"></p><p>hands_upï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ï¼Œhands_downï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†è¾“å…¥å®Œæˆæ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/password.gif" alt="no-shadow" title="hands_up &amp; hands_down"></p><p>failï¼šå½“æˆ‘ä»¬ç™»å½•å¤±è´¥æ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/failure.gif" alt="no-shadow" title="fail"></p><p>successï¼šå½“æˆ‘ä»¬ç™»å½•æˆåŠŸæ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/successful.gif" alt="no-shadow" title="success"></p><h3 id="Buttonäº¤äº’åŠ¨ç”»"><a href="#Buttonäº¤äº’åŠ¨ç”»" class="headerlink" title="Buttonäº¤äº’åŠ¨ç”»"></a>Buttonäº¤äº’åŠ¨ç”»</h3><p>button äº¤äº’åŠ¨ç”»ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/button.gif" alt="no-shadow" title="button"></p><h3 id="Menuäº¤äº’åŠ¨ç”»"><a href="#Menuäº¤äº’åŠ¨ç”»" class="headerlink" title="Menuäº¤äº’åŠ¨ç”»"></a>Menuäº¤äº’åŠ¨ç”»</h3><p>menu äº¤äº’åŠ¨ç”»ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterFlare/menu.gif" alt="no-shadow" title="menu"></p><p>ä»¥ä¸Šæ‰€æœ‰åŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥ <a href="https://www.bilibili.com/video/BV14p4y1U7YN/" target="_blank" rel="noopener">ç‚¹å‡»è§‚çœ‹è§†é¢‘</a></p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>å¦‚ä½•ç”¨ä»£ç å®ç°ï¼Œåˆ†ä¸ºä»¥ä¸‹2ä¸ªæ­¥éª¤ï¼š</p><ul><li>å¼•å…¥æ’ä»¶å’Œèµ„æºï¼šå¼•å…¥ç›¸å…³æ’ä»¶ <code>flare_flutter</code> ã€ <code>smart_flare</code></li><li>ç¼–å†™ä»£ç ï¼šç¼–å†™ç›¸å…³ä»£ç </li></ul><h3 id="å¼•å…¥æ’ä»¶å’Œèµ„æº"><a href="#å¼•å…¥æ’ä»¶å’Œèµ„æº" class="headerlink" title="å¼•å…¥æ’ä»¶å’Œèµ„æº"></a>å¼•å…¥æ’ä»¶å’Œèµ„æº</h3><p>å¼•å…¥æ’ä»¶å’Œèµ„æºï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dependencies:</span><br><span class="line">  ...</span><br><span class="line">  flare_flutter: ^2.0.4  <span class="comment"># flare æ’ä»¶</span></span><br><span class="line">  smart_flare: any  <span class="comment"># å¯¹ flare APIè¿›è¡Œå°è£…çš„æ’ä»¶ï¼Œä½¿ç”¨å°‘é‡çš„ä»£ç å³å¯å®ç°äº¤äº’åŠ¨ç”»</span></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">assets:</span><br><span class="line">  ...</span><br><span class="line">  - assets/Teddy.flr</span><br><span class="line">  - assets/button-animation.flr</span><br><span class="line">  - assets/slideout-menu.flr</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><p>ç”±äºï¼Œç™»å½•äº¤äº’åŠ¨ç”»ç¨å¤æ‚ä¸€äº›ï¼Œåœ¨æ­¤å°±ä¸å±•ç¤ºå®ç°çš„ä»£ç ï¼Œå¦‚æ„Ÿå…´è¶£ï¼Œå¯<a href="https://github.com/persilee/flutter_pro/blob/master/lib/demo/flare_demo/flare_sign_in_demo.dart" target="_blank" rel="noopener">ç§»æ­¥GitHubæŸ¥çœ‹æºç </a></p><h3 id="Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°"><a href="#Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°" class="headerlink" title="Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°"></a>Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°</h3><p>button äº¤äº’åŠ¨ç”»ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:smart_flare/actors/smart_flare_actor.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:smart_flare/models.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FlareButtonDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _FlareButtonDemoState createState() =&gt; _FlareButtonDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_FlareButtonDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">FlareButtonDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">var</span> animationWidth = <span class="number">295.0</span>;</span><br><span class="line">    <span class="keyword">var</span> animationHeight = <span class="number">251.0</span>;</span><br><span class="line">    <span class="keyword">var</span> animationWidthThirds = animationWidth / <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">var</span> halfAnimationHeight = animationHeight / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> activeAreas = [</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">        area: Rect.fromLTWH(<span class="number">0</span>, <span class="number">0</span>, animationWidthThirds, halfAnimationHeight),</span><br><span class="line">        debugArea: <span class="keyword">false</span>,</span><br><span class="line">        guardComingFrom: [<span class="string">'deactivate'</span>],</span><br><span class="line">        animationName: <span class="string">'camera_tapped'</span>,</span><br><span class="line">      ),</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">          area: Rect.fromLTWH(animationWidthThirds, <span class="number">0</span>, animationWidthThirds, halfAnimationHeight),</span><br><span class="line">          debugArea: <span class="keyword">false</span>,</span><br><span class="line">          guardComingFrom: [<span class="string">'deactivate'</span>],</span><br><span class="line">          animationName: <span class="string">'pulse_tapped'</span>),</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">          area: Rect.fromLTWH(animationWidthThirds * <span class="number">2</span>, <span class="number">0</span>, animationWidthThirds, halfAnimationHeight),</span><br><span class="line">          debugArea: <span class="keyword">false</span>,</span><br><span class="line">          guardComingFrom: [<span class="string">'deactivate'</span>],</span><br><span class="line">          animationName: <span class="string">'image_tapped'</span>),</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">          area: Rect.fromLTWH(<span class="number">0</span>, animationHeight / <span class="number">2</span>, animationWidth, animationHeight / <span class="number">2</span>),</span><br><span class="line">          debugArea: <span class="keyword">false</span>,</span><br><span class="line">          animationsToCycle: [<span class="string">'activate'</span>, <span class="string">'deactivate'</span>],</span><br><span class="line">          onAreaTapped: () &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'Button tapped!'</span>);</span><br><span class="line">          &#125;)</span><br><span class="line"></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Flare Button Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: Container(</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          gradient: LinearGradient(</span><br><span class="line">              begin: Alignment.topCenter,</span><br><span class="line">              end: Alignment.bottomCenter,</span><br><span class="line">              colors: [</span><br><span class="line">                Color(<span class="number">0x3fffeb3b</span>),</span><br><span class="line">                Colors.orange,</span><br><span class="line">              ]),</span><br><span class="line">        ),</span><br><span class="line">        child: Align(</span><br><span class="line">          alignment: Alignment.bottomCenter,</span><br><span class="line">          child: SmartFlareActor(</span><br><span class="line">            width: animationWidth,</span><br><span class="line">            height: animationHeight,</span><br><span class="line">            filename: <span class="string">'assets/button-animation.flr'</span>,</span><br><span class="line">            startingAnimation: <span class="string">'deactivate'</span>,</span><br><span class="line">            activeAreas: activeAreas,</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°"><a href="#Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°" class="headerlink" title="Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°"></a>Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°</h3><p>menu äº¤äº’åŠ¨ç”»ä»£ç å®ç°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:smart_flare/smart_flare.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FlareSidebarMenuDemo</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="built_in">print</span>(MediaQuery.of(context).size.height);</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Container(</span><br><span class="line">        child: Align(</span><br><span class="line">          alignment: Alignment.centerRight,</span><br><span class="line">          child: PanFlareActor(</span><br><span class="line">            width: MediaQuery.of(context).size.width / <span class="number">2.366</span>,</span><br><span class="line">            height: MediaQuery.of(context).size.height,</span><br><span class="line">            filename: <span class="string">'assets/slideout-menu.flr'</span>,</span><br><span class="line">            openAnimation: <span class="string">'open'</span>,</span><br><span class="line">            closeAnimation: <span class="string">'close'</span>,</span><br><span class="line">            direction: ActorAdvancingDirection.RightToLeft,</span><br><span class="line">            threshold: <span class="number">20.0</span>,</span><br><span class="line">            reverseOnRelease: <span class="keyword">true</span>,</span><br><span class="line">            completeOnThresholdReached: <span class="keyword">true</span>,</span><br><span class="line">            activeAreas: [</span><br><span class="line">              RelativePanArea(</span><br><span class="line">                  area: Rect.fromLTWH(<span class="number">0</span>, <span class="number">.7</span>, <span class="number">1.0</span>, <span class="number">.3</span>), debugArea: <span class="keyword">false</span>),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Š3ä¸ªäº¤äº’åŠ¨ç”»æ¡ˆä¾‹çš„æºç ï¼Œæ”¾åœ¨äº†æˆ‘2å¹´å‰å†™çš„ä¸€ä¸ª <a href="https://github.com/persilee/flutter_pro" target="_blank" rel="noopener">Flutteræ¡ˆä¾‹</a> çš„é¡¹ç›®é‡Œäº†ï¼Œæ­¤é¡¹ç›®ç°å·²ç»´æŠ¤èµ·æ¥ï¼Œä»¥åä¼šé•¿æœŸæ›´æ–°ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æ”¶è—ï¼Œæ²¡äº‹æ—¶æ¥çœ‹çœ‹å¯èƒ½ä¼šæœ‰æ–°çš„å‘ç° ğŸ˜²</p><p>æ­¤ç¯‡æ–‡ç« åˆ°æ­¤ç»“æŸï¼Œä¸‹ç¯‡æ–‡ç« è®¡åˆ’ç»™å¤§å®¶åˆ†äº«ï¼ŒFlutter é‡Œçš„è·¯ç”±ï¼Œä¼šæ€»ç»“å½’çº³æ‰€æœ‰çš„è·¯ç”±ä½¿ç”¨æ–¹æ³•ï¼Œæœ€åæ¥å°è£…ä¸€ä¸ªä¼˜ç§€çš„è·¯ç”±ç®¡ç†ç±»ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/flutter-flare.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>FutureBuilder and StreamBuilder ä¼˜é›…çš„æ„å»ºé«˜è´¨é‡é¡¹ç›®</title>
      <link>https://h.lishaoy.net/futrueBuilder-streamBuilder.html</link>
      <guid>https://h.lishaoy.net/futrueBuilder-streamBuilder.html</guid>
      <pubDate>Mon, 29 Jun 2020 11:59:16 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/fureBuilderStreamBuilder/cover.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»ä» &lt;code&gt;setState&lt;/code&gt; å¼€å§‹ï¼Œåˆ° &lt;code&gt;futureBuilder&lt;/code&gt; ã€ &lt;code&gt;streamBuilder&lt;/code&gt; æ¥ä¼˜é›…çš„æ„å»ºä½ çš„é«˜è´¨é‡é¡¹ç›®ï¼Œè€Œä¸å¼•å‘ &lt;code&gt;setState&lt;/code&gt; å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œå¦‚å¯¹æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¯· &lt;a href=&quot;https://github.com/persilee/flutter_pro&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç‚¹å‡»æŸ¥çœ‹æºç &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/fureBuilderStreamBuilder/cover.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»ä» <code>setState</code> å¼€å§‹ï¼Œåˆ° <code>futureBuilder</code> ã€ <code>streamBuilder</code> æ¥ä¼˜é›…çš„æ„å»ºä½ çš„é«˜è´¨é‡é¡¹ç›®ï¼Œè€Œä¸å¼•å‘ <code>setState</code> å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œå¦‚å¯¹æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¯· <a href="https://github.com/persilee/flutter_pro" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æºç </a>ã€‚</p><hr><a id="more"></a><h2 id="åŸºç¡€çš„setStateæ›´æ–°æ•°æ®"><a href="#åŸºç¡€çš„setStateæ›´æ–°æ•°æ®" class="headerlink" title="åŸºç¡€çš„setStateæ›´æ–°æ•°æ®"></a>åŸºç¡€çš„setStateæ›´æ–°æ•°æ®</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨åŸºç¡€çš„ <code>StatefulWidget</code> æ¥åˆ›å»ºé¡µé¢ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseStatefulDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _BaseStatefulDemoState createState() =&gt; _BaseStatefulDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_BaseStatefulDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">BaseStatefulDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Future</code> æ¥åˆ›å»ºä¸€äº›æ•°æ®ï¼Œæ¥æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;&gt; _getListData() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>)); <span class="comment">// 1ç§’ä¹‹åè¿”å›æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>initState()</code> æ–¹æ³•ä¸­è°ƒç”¨ <code>_getListData()</code> æ¥åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _pageData = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData().then((data) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = data;</span><br><span class="line">          &#125;));</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>ListView.builder</code> æ¥å¤„ç†è¿™äº›æ•°æ®æ„å»ºUIï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Scaffold(</span><br><span class="line">    appBar: AppBar(</span><br><span class="line">      title: Text(<span class="string">'Base Stateful Demo'</span>),</span><br><span class="line">    ),</span><br><span class="line">    body: ListView.builder(</span><br><span class="line">      itemCount: _pageData.length,</span><br><span class="line">      itemBuilder: (buildContext, index) &#123;</span><br><span class="line">        <span class="keyword">return</span> Column(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(_pageData[index]),</span><br><span class="line">            ),</span><br><span class="line">            Divider(),</span><br><span class="line">          ],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ç•Œé¢äº† ğŸ˜ ï¼Œå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/list-data.png" alt="no-shadow" title="list data"></div><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å°† <strong>UI</strong> æ˜¾ç¤ºå•ç‹¬æå–æˆä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹ä¾¿åæœŸç»´æŠ¤ï¼Œä½¿ä»£ç å±‚æ¬¡æ›´æ¸…æ™°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Scaffold(</span><br><span class="line">    appBar: AppBar(</span><br><span class="line">      title: Text(<span class="string">'Base Stateful Demo'</span>),</span><br><span class="line">    ),</span><br><span class="line">    body: ListView.builder(</span><br><span class="line">      itemCount: _pageData.length,</span><br><span class="line">      itemBuilder: (buildContext, index) &#123;</span><br><span class="line">        <span class="keyword">return</span> getListDataUi(<span class="built_in">int</span> index);</span><br><span class="line">      &#125;,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget getListDataUi(<span class="built_in">int</span> index) &#123;</span><br><span class="line">  <span class="keyword">return</span> Column(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                ListTile(</span><br><span class="line">                  title: Text(_pageData[index]),</span><br><span class="line">                ),</span><br><span class="line">                Divider(),</span><br><span class="line">              ],</span><br><span class="line">            );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»§ç»­ï¼Œæˆ‘ä»¬æ¥å®Œå–„å®ƒï¼Œæ­£å¸¸ä»åç«¯è·å–æ•°æ®ï¼Œåç«¯åº”è¯¥ä¼šç»™æˆ‘ä»¬è¿”å›ä¸åŒä¿¡æ¯ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯éœ€è¦å¤„ç†ä¸åŒçš„çŠ¶æ€ï¼Œå¦‚ï¼š</p><ul><li>BusyState(åŠ è½½ä¸­)ï¼šæˆ‘ä»¬åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºä¸€ä¸ªåŠ è½½æŒ‡ç¤ºå™¨</li><li>DataFetchedState(æ•°æ®åŠ è½½å®Œæˆ)ï¼šæˆ‘ä»¬å»¶è¿Ÿ2ç§’ï¼Œæ¥æ¨¡æ‹Ÿæ•°æ®åŠ è½½å®Œæˆ</li><li>ErrorState(é”™è¯¯)ï¼šæ˜¾ç¤ºé”™è¯¯æç¤º</li><li>NoData(æ²¡æœ‰æ•°æ®)ï¼šè¯·æ±‚æˆåŠŸï¼Œä½†æ²¡æœ‰æ•°æ®ï¼Œæ˜¾ç¤ºæç¤º</li></ul><p>å…ˆæ¥å¤„ç† <strong>BusyState</strong> åŠ è½½æŒ‡ç¤ºå™¨ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> <span class="keyword">get</span> _fetchingData =&gt; _pageData == <span class="keyword">null</span>; <span class="comment">// åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Base Stateful Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: _fetchingData</span><br><span class="line">          ? Center(</span><br><span class="line">              child: CircularProgressIndicator( <span class="comment">// åŠ è½½æŒ‡ç¤ºå™¨ </span></span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow), <span class="comment">// è®¾ç½®æŒ‡ç¤ºå™¨é¢œè‰²</span></span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],  <span class="comment">// è®¾ç½®èƒŒæ™¯è‰²</span></span><br><span class="line">              ),</span><br><span class="line">            )</span><br><span class="line">          : ListView.builder(</span><br><span class="line">              itemCount: _pageData.length,</span><br><span class="line">              itemBuilder: (buildContext, index) &#123;</span><br><span class="line">                <span class="keyword">return</span> getListDataUi(index);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/indicator.png" alt="no-shadow" title="indicator"></div><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥å¤„ç† <strong>ErrorState</strong> ï¼Œæˆ‘ç»™ <code>_getListData()</code> æ·»åŠ  <code>hasError</code> å‚æ•°æ¥æ¨¡æ‹Ÿåç«¯è¿”å›çš„é”™è¯¯ï¼Œå¦‚ä¸‹</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;&gt; _getListData(&#123;<span class="built_in">bool</span> hasError = <span class="keyword">false</span>&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>)); <span class="comment">// 1ç§’ä¹‹åè¿”å›æ•°æ®</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">    <span class="keyword">return</span> Future.error(<span class="string">'è·å–æ•°æ®å‡ºç°é—®é¢˜ï¼Œè¯·å†è¯•ä¸€æ¬¡'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <code>initState()</code> æ–¹æ³•ä¸­æ•è·å¼‚å¸¸æ›´æ–°æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData(hasError: <span class="keyword">true</span>)</span><br><span class="line">      .then((data) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = data;</span><br><span class="line">          &#125;))</span><br><span class="line">      .catchError((error) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = [error];</span><br><span class="line">          &#125;));</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾( <em>å½“ç„¶è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé”™è¯¯é¡µé¢æ¥å±•ç¤º</em> )ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/error.png" alt="no-shadow" title="error"></div><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥å¤„ç† <strong>NoData</strong> ï¼Œæˆ‘ç»™ <code>_getListData()</code> æ·»åŠ  <code>hasData</code> å‚æ•°æ¥æ¨¡æ‹Ÿåç«¯è¿”å›ç©ºæ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;&gt; _getListData(</span><br><span class="line">    &#123;<span class="built_in">bool</span> hasError = <span class="keyword">false</span>, <span class="built_in">bool</span> hasData = <span class="keyword">true</span>&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">    <span class="keyword">return</span> Future.error(<span class="string">'è·å–æ•°æ®å‡ºç°é—®é¢˜ï¼Œè¯·å†è¯•ä¸€æ¬¡'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!hasData) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <code>initState()</code> æ–¹æ³•æ›´æ–°æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData(hasError: <span class="keyword">false</span>, hasData: <span class="keyword">false</span>)</span><br><span class="line">      .then((data) =&gt; setState(() &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.length == <span class="number">0</span>) &#123;</span><br><span class="line">              data.add(<span class="string">'No data fount'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            _pageData = data;</span><br><span class="line">          &#125;))</span><br><span class="line">      .catchError((error) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = [error];</span><br><span class="line">          &#125;));</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/no-data.png" alt="no-shadow" title="error"></div><div class="note success"><p>è¿™å°±æ˜¯é€šè¿‡ <code>setState()</code> æ¥æ›´æ–°æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™ä¹ˆä½¿ç”¨æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„é¡µé¢è¶³å¤Ÿå¤æ‚ï¼Œè¦å¤„ç†çš„çŠ¶æ€è¶³å¤Ÿå¤šï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ›´å¤šçš„ <code>setState()</code> ï¼Œæ„å‘³ç€æˆ‘ä»¬è¦æ›´å¤šçš„ä»£ç æ¥æ›´æ–°æ•°æ®ï¼Œè€Œä¸”ï¼Œæˆ‘ä»¬æ¯æ¬¡ <code>setState()</code> çš„æ—¶å€™ <code>build()</code> æ–¹æ³•å°±ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡( <em>è¿™å°±æ˜¯ä¸Šæ–‡æåˆ°çš„å‰¯ä½œç”¨</em> )ã€‚</p><p>å…¶å®ï¼Œ<strong>Flutter</strong> å·²ç»æä¾›äº†æ›´ä¼˜é›…çš„æ–¹å¼æ¥æ›´æ–°æˆ‘ä»¬çš„æ•°æ®åŠå¤„ç†çŠ¶æ€ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»çš„ <code>futureBuilder</code>ã€‚</p></div><h2 id="FutureBuilder"><a href="#FutureBuilder" class="headerlink" title="FutureBuilder"></a>FutureBuilder</h2><p><code>FutureBuilder</code> é€šè¿‡ <strong>future:</strong> å‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ª <code>Future</code> ï¼Œå¹¶ä¸”é€šè¿‡ <strong>builder:</strong> å‚æ•°æ¥æ„å»º <strong>UI</strong> ï¼Œ<strong>builder:</strong> å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæä¾›äº†ä¸€ä¸ª <code>snapshot</code> å‚æ•°é‡Œé¢å¸¦ç€æˆ‘ä»¬éœ€è¦çš„çŠ¶æ€å’Œæ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ <code>StatefulWidget</code> æ”¹æˆ <code>StatelessWidget</code> ï¼Œå¹¶ä½¿ç”¨ <code>FutureBuilder</code> æ›¿æ¢ï¼Œå¦‚ä¸‹:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FutureBuilderDemo</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Future Builder Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: FutureBuilder(</span><br><span class="line">        future: _getListData(),</span><br><span class="line">        builder: (buildContext, snapshot) &#123;</span><br><span class="line">          <span class="keyword">if</span> (snapshot.hasError) &#123;  <span class="comment">// FutureBuilder å·²ç»ç»™æˆ‘ä»¬æä¾›å¥½äº† error çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(snapshot.error);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!snapshot.hasData) &#123; <span class="comment">// FutureBuilder å·²ç»ç»™æˆ‘ä»¬æä¾›å¥½äº†ç©ºæ•°æ®çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">              child: CircularProgressIndicator(</span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow),</span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],</span><br><span class="line">              ),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">var</span> listData = snapshot.data;</span><br><span class="line">          <span class="keyword">if</span> (listData.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(<span class="string">'No data found'</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: listData.length,</span><br><span class="line">            itemBuilder: (buildContext, index) &#123;</span><br><span class="line">              <span class="keyword">return</span> Column(</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  ListTile(</span><br><span class="line">                    title: Text(listData[index]),</span><br><span class="line">                  ),</span><br><span class="line">                  Divider(),</span><br><span class="line">                ],</span><br><span class="line">              );</span><br><span class="line">            &#125;,</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŸ¥çœ‹æºç ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£çš„ <code>FutureBuilder</code> å·²ç»ç»™æˆ‘å¤„ç†å¥½äº†ä¸€äº›åŸºæœ¬çŠ¶æ€ï¼Œå¦‚å›¾</p><div style="width: 66%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/snapshot.png" alt="snapshot" title="snapshot"></div><p>æˆ‘ä»¬ä½¿ç”¨ <code>_getInfoMessage()</code> æ–¹æ³•æ¥å¤„ç†çŠ¶æ€æç¤ºï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Widget _getInfoMessage(String msg) &#123;</span><br><span class="line">  return Center(</span><br><span class="line">    child: Text(msg),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±è¿™æ ·æˆ‘ä»¬ä¸ä½¿ç”¨ä»»ä½•ä¸€ä¸ª <code>setState()</code> å°±èƒ½å®Œæˆå’Œä¸Šé¢ä¸€æ ·çš„æ•ˆæœï¼Œå¹¶ä¸”ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ˜¯ä¸æ˜¯å¾ˆç»™åŠ› ğŸ’ªã€‚</p><div class="note info"><p>ä½†æ˜¯ï¼Œå®ƒå¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³åˆ·æ–°æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°è°ƒç”¨ <code>_getListData()</code> æ–¹æ³•ï¼Œç»“æœå®ƒå¹¶æ²¡æœ‰åˆ·æ–°ã€‚</p></div>  <h2 id="StreamBuilder"><a href="#StreamBuilder" class="headerlink" title="StreamBuilder"></a>StreamBuilder</h2><p><code>StreamBuilder</code> é€šè¿‡ <strong>stream:</strong> å‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ª <code>stream</code> ï¼ŒåŒæ ·ï¼Œé€šè¿‡ <strong>builder:</strong> å‚æ•°æ¥æ„å»º <strong>UI</strong> ï¼Œå’Œ <code>futureBuilder</code> ç”¨æ³•ç±»ä¼¼ï¼Œå”¯ä¸€çš„å¥½å¤„å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥éšæ„æ§åˆ¶ <code>stream</code> çš„è¾“å…¥è¾“å‡ºï¼Œæ·»åŠ ä»»ä½•çš„çŠ¶æ€æ¥æ›´æ–°æŒ‡å®šçŠ¶æ€ä¸‹çš„ <strong>UI</strong> ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>enum</code> æ¥è¡¨ç¤ºæˆ‘ä»¬çš„çŠ¶æ€ï¼Œåœ¨æ–‡ä»¶çš„å¤´éƒ¨æ·»åŠ å®ƒï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> StreamViewState &#123; Busy, DataRetrieved, NoData &#125;</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œä½¿ç”¨ <code>StreamController</code> åˆ›å»ºä¸€ä¸ªæµæ§åˆ¶å™¨ï¼ŒæŠŠ <code>FutureBuilder</code> æ›¿æ¢æˆ <code>StreamBuilder</code> ï¼ŒæŠŠ <strong>future:</strong> å‚æ•° æ”¹æˆ <strong>stream:</strong> å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">final</span> StreamController&lt;StreamDemoState&gt; _stateController = StreamController&lt;StreamDemoState&gt;();</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line"></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line">      body: StreamBuilder(</span><br><span class="line">        stream: model.homeState,</span><br><span class="line">        builder: (buildContext, snapshot) &#123;</span><br><span class="line">          <span class="keyword">if</span> (snapshot.hasError) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(snapshot.error);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// ä½¿ç”¨ æšä¸¾çš„ Busy æ¥æ›´æ–°æ•°æ®</span></span><br><span class="line">          <span class="keyword">if</span> (!snapshot.hasData || StreamViewState.Busy) &#123;</span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">              child: CircularProgressIndicator(</span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow),</span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],</span><br><span class="line">              ),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//ä½¿ç”¨ æšä¸¾çš„ NoData æ¥æ›´æ–°æ•°æ®</span></span><br><span class="line">          <span class="keyword">if</span> (listItems.length == StreamViewState.NoData) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(<span class="string">'No data found'</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: listItems.length,</span><br><span class="line">            itemBuilder: (buildContext, index) &#123;</span><br><span class="line">              <span class="keyword">return</span> Column(</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  ListTile(</span><br><span class="line">                    title: Text(listItems[index]),</span><br><span class="line">                  ),</span><br><span class="line">                  Divider(),</span><br><span class="line">                ],</span><br><span class="line">              );</span><br><span class="line">            &#125;,</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åªæ˜¯æ–°å¢äº†æšä¸¾å€¼æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°æ•°æ®ï¼Œå…¶ä»–åŸºæœ¬ä¿æŒä¸å˜ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘éœ€è¦ä¿®æ”¹ <code>_getListData()</code> æ–¹æ³•ï¼Œä½¿ç”¨æµæ§åˆ¶å™¨æ·»åŠ çŠ¶æ€åŠæ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Future _getListData(&#123;<span class="built_in">bool</span> hasError = <span class="keyword">false</span>, <span class="built_in">bool</span> hasData = <span class="keyword">true</span>&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  _stateController.add(StreamViewState.Busy);</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">    <span class="keyword">return</span> _stateController.addError(<span class="string">'error'</span>); <span class="comment">// å¾€ stream é‡Œæ–°å¢ error æ•°æ®</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!hasData) &#123;</span><br><span class="line">    <span class="keyword">return</span> _stateController.add(StreamViewState.NoData); <span class="comment">// å¾€ stream é‡Œæ–°å¢æ— æ•°æ®çŠ¶æ€</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _listItems = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">  _stateController.add(StreamViewState.DataRetrieved); <span class="comment">// å¾€ stream é‡Œæ–°å¢æ•°æ®è·å–å®ŒæˆçŠ¶æ€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰è¿”å›æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ›å»º <code>listItems</code> å­˜å‚¨æ•°æ®ï¼Œç„¶åæŠŠ <code>StatelessWidget</code> æ”¹æˆ <code>StatefulWidget</code> ï¼Œä»¥ä¾¿æˆ‘ä»¬æ ¹æ® <code>stream</code> çš„è¾“å‡ºæ¥æ›´æ–°æ•°æ®ï¼Œè¿™ä¸ªè½¬æ¢éå¸¸æ–¹ä¾¿ï¼Œ<strong>VS Code</strong> ç¼–è¾‘å™¨å¯ä»¥ä½¿ç”¨ <code>Option + Shift + R</code> ï¼ˆMacï¼‰æˆ–è€… <code>Ctrl + Shift + R</code> (Win)å¿«æ·é”® ï¼Œ<strong>Android Studio</strong> ä½¿ç”¨<code>Option + Enter</code> å¿«æ·é”®ï¼Œä¹‹ååœ¨ <code>initState()</code> æ–¹æ³•ä¸­åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; listItems;</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData();</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»è§£å†³äº† <code>FutureBuilder</code> çš„å±€é™æ€§é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ–°å¢ä¸€ä¸ª <code>FloatingActionButton</code> æ¥åˆ·æ–°æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Stream Builder Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        backgroundColor: Colors.yellow,</span><br><span class="line">        child: Icon(</span><br><span class="line">          Icons.cached,</span><br><span class="line">          color: Colors.black87,</span><br><span class="line">        ),</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          model.dispatch(FetchData());</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">      body: StreamBuilder(</span><br><span class="line"></span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œç‚¹å‡» <code>FloatingActionButton</code> åŠ è½½æŒ‡ç¤ºå™¨å·²ç»æ˜¾ç¤ºï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çš„ <code>listItems</code> æ•°æ®å¹¶æ²¡çœŸæ­£çš„æ›´æ–°ï¼Œç‚¹å‡» <code>FloatingActionButton</code> åªæ˜¯æ›´æ–°çš„åŠ è½½çŠ¶æ€è€Œå·²ï¼Œè€Œä¸”æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç è¿˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¾ˆæ˜¾ç„¶ï¼Œä»–ä»¬å·²ç»è§£è€¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å®Œå–„å®ƒï¼Œå°†ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç åˆ†ç¦»å‡ºæ¥ã€‚</p><h2 id="åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ-UI-ä»£ç "><a href="#åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ-UI-ä»£ç " class="headerlink" title="åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ UI ä»£ç "></a>åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç </h2><p>æˆ‘ä»¬å¯ä»¥æŠŠå¤„ç† <code>stream</code> çš„ä»£ç æŠ½ç¦»æˆä¸€ä¸ªç±»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:async'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'dart:math'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:pro_flutter/demo/stream_demo/stream_demo_event.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:pro_flutter/demo/stream_demo/stream_demo_state.dart'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> StreamViewState &#123; Busy, DataRetrieved, NoData &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamDemoModel</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> StreamController&lt;StreamDemoState&gt; _stateController = StreamController&lt;StreamDemoState&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _listItems;</span><br><span class="line"></span><br><span class="line">  Stream&lt;StreamDemoState&gt; <span class="keyword">get</span> streamState =&gt; _stateController.stream;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> dispatch(StreamDemoEvent event)&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Event dispatched: <span class="subst">$event<span class="string">');</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    if(event is FetchData) &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      _getListData(hasData: event.hasData, hasError: event.hasError);</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  Future _getListData(&#123;bool hasError = false, bool hasData = true&#125;) async &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    _stateController.add(BusyState());</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    await Future.delayed(Duration(seconds: 2));</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    if (hasError) &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      return _stateController.addError('</span></span>error'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!hasData) &#123;</span><br><span class="line">      <span class="keyword">return</span> _stateController.add(DataFetchedState(data: <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _listItems = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">    _stateController.add(DataFetchedState(data: _listItems));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼ŒæŠŠçŠ¶æ€ä¹Ÿå°è£…æˆä¸€ä¸ªæ–‡ä»¶ä¸”å°†æ•°æ®å’ŒçŠ¶æ€å…³è”ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamDemoState</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InitializedState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataFetchedState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; data;</span><br><span class="line"></span><br><span class="line">  DataFetchedState(&#123;<span class="keyword">this</span>.data&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> hasData =&gt; data.length &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ErrorState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BusyState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>å†å°è£…ä¸€ä¸ªäº‹ä»¶æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamDemoEvent</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FetchData</span> <span class="keyword">extends</span> <span class="title">StreamDemoEvent</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> hasError;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> hasData;</span><br><span class="line"></span><br><span class="line">  FetchData(&#123;<span class="keyword">this</span>.hasError = <span class="keyword">false</span>, <span class="keyword">this</span>.hasData = <span class="keyword">true</span>&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span> toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'FetchData &#123; hasError: <span class="subst">$hasError</span>, hasData: <span class="subst">$hasData</span> &#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬ <strong>UI</strong> éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_StreamBuilderDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">StreamBuilderDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> model = StreamDemoModel(); <span class="comment">// åˆ›å»º model</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    model.dispatch(FetchData(hasData: <span class="keyword">true</span>)); <span class="comment">// è·å– model é‡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line"></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line">      body: StreamBuilder(</span><br><span class="line">        stream: model.streamState,</span><br><span class="line">        builder: (buildContext, snapshot) &#123;</span><br><span class="line">          <span class="keyword">if</span> (snapshot.hasError) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInformationMessage(snapshot.error);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">var</span> streamState = snapshot.data;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!snapshot.hasData || streamState <span class="keyword">is</span> BusyState) &#123;  <span class="comment">// é€šè¿‡å°è£…çš„çŠ¶æ€ç±»æ¥åˆ¤æ–­æ˜¯å¦æ›´æ–°UI</span></span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">              child: CircularProgressIndicator(</span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow),</span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],</span><br><span class="line">              ),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (streamState <span class="keyword">is</span> DataFetchedState) &#123; <span class="comment">// é€šè¿‡å°è£…çš„çŠ¶æ€ç±»æ¥åˆ¤æ–­æ˜¯å¦æ›´æ–°UI</span></span><br><span class="line">            <span class="keyword">if</span> (!homeState.hasData) &#123;</span><br><span class="line">              <span class="keyword">return</span> _getInformationMessage(<span class="string">'not found data'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: streamState.data.length,  <span class="comment">// æ­¤æ—¶ï¼Œæ•°æ®ä¸å†æ˜¯æœ¬åœ°æ•°æ®ï¼Œè€Œæ˜¯ä» stream ä¸­è¾“å‡ºçš„æ•°æ®</span></span><br><span class="line">            itemBuilder: (buildContext, index) =&gt;</span><br><span class="line">                _getListItem(index, streamState.data),</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç å·²å®Œå…¨åˆ†ç¦»ï¼Œä¸”å¯æ‰©å±•æ€§å’Œç»´æŠ¤å¢å¼ºï¼Œä¸”æˆ‘ä»¬çš„æ•°æ®å’ŒçŠ¶æ€å·²å…³è”èµ·æ¥ï¼Œæ­¤æ—¶ï¼Œç‚¹å‡» <code>FloatingActionButton</code> æ•ˆæœå’Œä¸Šé¢ä¸€æ ·ï¼Œä¸”æ•°æ®å·²æ›´æ–°ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/futrueBuilder-streamBuilder.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Android Flutter æ··åˆå¼€å‘é«˜ä»¿å¤§å‚App</title>
      <link>https://h.lishaoy.net/androidCtrip.html</link>
      <guid>https://h.lishaoy.net/androidCtrip.html</guid>
      <pubDate>Thu, 18 Jun 2020 22:36:43 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/ctrip/android/android_ctrip_h.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è‡ªä¸Šç¯‡ &lt;a href=&quot;https://h.lishaoy.net/flutterctrip&quot;&gt;Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“&lt;/a&gt; çš„ç»­ç¯‡ï¼Œè¿™æ¬¡æ›´æ˜¯å¹²è´§æ»¡æ»¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« å°†æ¦‚è¿° &lt;strong&gt;Androidç»„ä»¶åŒ–çš„æ¶æ„æ­å»º&lt;/strong&gt; åŠ &lt;strong&gt;Flutter&lt;/strong&gt; å’Œ &lt;strong&gt;Android&lt;/strong&gt; å¦‚ä½•æ··åˆå¼€å‘ &lt;em&gt;(æ•´ä¸ªAppåªæœ‰é¦–é¡µæ˜¯ç”¨åŸç”ŸAndroidå®Œæˆï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯å¼•å…¥ä¹‹å‰çš„åšå¥½çš„Flutteré¡µé¢)&lt;/em&gt; ï¼Œä¸»å®¿ä¸»ç¨‹åºç”± Android æ­å»ºï¼Œé‡‡ç”¨äº†ç»„ä»¶åŒ–çš„æ¶æ„æ­å»ºæ•´ä¸ª &lt;strong&gt;App&lt;/strong&gt; ï¼Œä¸åŒä¸šåŠ¡ï¼Œå¯¹åº”ä¸åŒçš„ module å·¥ç¨‹ï¼Œä¸šåŠ¡ä¹‹é—´é‡‡ç”¨æ¥å£é€šä¿¡ &lt;em&gt;(ARouter)&lt;/em&gt; ï¼Œä»¥ module çš„å½¢å¼æ··å…¥ Flutterï¼Œé€šè¿‡ &lt;strong&gt;MethodChannel&lt;/strong&gt; å’Œ &lt;strong&gt;Flutter&lt;/strong&gt; ç«¯è¿›è¡Œæ•°æ®é€šä¿¡ç­‰ï¼Œä¸”è¿™äº›åŠŸèƒ½å®ç°æºç å¼€æºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç§»æ­¥è‡³ &lt;a href=&quot;https://github.com/persilee/android_ctrip&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/ctrip/android/android_ctrip_h.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è‡ªä¸Šç¯‡ <a href="https://h.lishaoy.net/flutterctrip">Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“</a> çš„ç»­ç¯‡ï¼Œè¿™æ¬¡æ›´æ˜¯å¹²è´§æ»¡æ»¡ã€‚</p><p>è¿™ç¯‡æ–‡ç« å°†æ¦‚è¿° <strong>Androidç»„ä»¶åŒ–çš„æ¶æ„æ­å»º</strong> åŠ <strong>Flutter</strong> å’Œ <strong>Android</strong> å¦‚ä½•æ··åˆå¼€å‘ <em>(æ•´ä¸ªAppåªæœ‰é¦–é¡µæ˜¯ç”¨åŸç”ŸAndroidå®Œæˆï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯å¼•å…¥ä¹‹å‰çš„åšå¥½çš„Flutteré¡µé¢)</em> ï¼Œä¸»å®¿ä¸»ç¨‹åºç”± Android æ­å»ºï¼Œé‡‡ç”¨äº†ç»„ä»¶åŒ–çš„æ¶æ„æ­å»ºæ•´ä¸ª <strong>App</strong> ï¼Œä¸åŒä¸šåŠ¡ï¼Œå¯¹åº”ä¸åŒçš„ module å·¥ç¨‹ï¼Œä¸šåŠ¡ä¹‹é—´é‡‡ç”¨æ¥å£é€šä¿¡ <em>(ARouter)</em> ï¼Œä»¥ module çš„å½¢å¼æ··å…¥ Flutterï¼Œé€šè¿‡ <strong>MethodChannel</strong> å’Œ <strong>Flutter</strong> ç«¯è¿›è¡Œæ•°æ®é€šä¿¡ç­‰ï¼Œä¸”è¿™äº›åŠŸèƒ½å®ç°æºç å¼€æºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç§»æ­¥è‡³ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a>ã€‚</p><hr><a id="more"></a><p>ä»¥ä¸‹åšæ–‡ä¼šåˆ†ä¸º4ä¸ªéƒ¨åˆ†æ¦‚è¿°ï¼š</p><ul><li>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</li><li>é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ</li><li>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</li><li>Android Flutter æ··åˆå¼€å‘</li></ul><h2 id="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"><a href="#é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ" class="headerlink" title="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"></a>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä¸€ä¸ªè§†é¢‘æ¥å¿«é€Ÿé¢„è§ˆä¸‹é¡¹ç›®å®Œæˆçš„åŠŸèƒ½å’Œè¿è¡Œæ•ˆæœï¼Œå¦‚ä¸‹</p><video id="flutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/ctrip/android_ctripb_bg.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/ctrip/android_ctrip.mp4" type="video/mp4"></video><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> å¦‚è§†é¢‘æ’­æ”¾å¤±è´¥ï¼Œ <a href="https://www.bilibili.com/video/BV1W54y1B72U/" target="_blank" rel="noopener">è¯·ç§»æ­¥è¿™é‡Œç‚¹å‡»è§‚çœ‹</a> <em>(ç‚¹å‡»é½¿è½® â€“&gt; æ›´å¤šæ’­æ”¾è®¾ç½®ï¼Œå¯ä»¥éšè—é»‘è¾¹)</em></p></div><p>çœ‹å®Œè§†é¢‘åï¼Œå…¶å®å¤§éƒ¨åˆ†åŠŸèƒ½å’Œä¹‹å‰çš„ <a href="https://h.lishaoy.net/flutterctrip">çº¯flutteré¡¹ç›®</a> åŠŸèƒ½ç›¸åŒï¼Œåªæ˜¯é¦–é¡µæ–°å¢äº†4ä¸ªtabæ¨èé¡µé¢åŠæºç¨‹äºŒæ¥¼å’Œå¸ƒå±€æ”¹å˜ã€‚</p><p>å¤§å®¶ä¹Ÿå¯æ‰«æï¼Œå®‰è£…ä½“éªŒï¼š</p><div style="width:166px; margin:auto"><img src="https://www.pgyer.com/app/qrcode/AsHK?sign=&amp;auSign=&amp;code=" alt="no-shadow" title="æ‰‹æœºæ‰«æäºŒç»´ç å®‰è£…"></div><h2 id="é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ"><a href="#é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ" class="headerlink" title="é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ"></a>é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ</h2><h3 id="é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ"><a href="#é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ" class="headerlink" title="é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ"></a>é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ</h3><p>å…¶æ¬¡ï¼Œåˆ†ææ¢³ç†ä¸‹é¡¹ç›®ç»“æ„ï¼Œé¡¹ç›®çš„ç»“æ„å¤§è‡´å¦‚å›¾ï¼Œè¿˜æœ‰ä¸€äº›ç»†ææœ«èŠ‚çš„æ²¡æœ‰ä½“ç°åœ¨å›¾é‡Œï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/project.png" alt="no-shadow" title="project structure"></p><h3 id="é¡¹ç›®ç»“æ„åˆ†æ"><a href="#é¡¹ç›®ç»“æ„åˆ†æ" class="headerlink" title="é¡¹ç›®ç»“æ„åˆ†æ"></a>é¡¹ç›®ç»“æ„åˆ†æ</h3><h4 id="ä¸šåŠ¡å·¥ç¨‹"><a href="#ä¸šåŠ¡å·¥ç¨‹" class="headerlink" title="ä¸šåŠ¡å·¥ç¨‹"></a>ä¸šåŠ¡å·¥ç¨‹</h4><p>æŠŠå…·ä½“ç‹¬ç«‹çš„ä¸šåŠ¡éƒ½æ‹†åˆ†æˆå•ç‹¬çš„ module å‡å°é¡¹ç›®çš„ç»´æŠ¤å‹åŠ›</p><ul><li>ft_home: é¦–é¡µæ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—å…¶å®è¿˜å¯ä»¥ç»§ç»­æ‹†åˆ†ï¼Œå¯æŠŠ4ä¸ª tab <em>(ç²¾é€‰ã€é™„è¿‘ã€æ™¯ç‚¹ã€ç¾é£Ÿ)</em> é¡µéƒ½æ‹†æˆæ¨¡å—ï¼Œè¿™é‡Œæˆ‘æš‚æ—¶æ²¡æœ‰æ‹†åˆ†ï¼Œåç»­ä¼šå®Œæˆ</li><li>ft_destination: ç›®çš„åœ°æ¨¡å—ï¼Œå…¶å®å¹¶æ²¡æœ‰å»ºç«‹è¿™ä¸ªæ¨¡å—ï¼Œå› ä¸ºç›´æ¥å¼•å…¥äº†ä¹‹å‰åšå¥½çš„ flutter é¡µé¢</li><li>ft_travel: æ—…æ‹æ¨¡å—ï¼ŒåŒæ ·ä¹Ÿä½¿ç”¨äº† flutter é¡µé¢</li><li>flutter: flutteræ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯ä» flutter_module ä¸­è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåé¢ä»‹ç»åˆ°</li></ul><h3 id="åŸºç¡€åº“å·¥ç¨‹"><a href="#åŸºç¡€åº“å·¥ç¨‹" class="headerlink" title="åŸºç¡€åº“å·¥ç¨‹"></a>åŸºç¡€åº“å·¥ç¨‹</h3><p>æŠŠå…·ä½“çš„åŠŸèƒ½éƒ½å°è£…æˆç‹¬ç«‹çš„åº“ä¾›ä¸šåŠ¡æ¨¡å—ä½¿ç”¨ï¼Œé™ä½é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬åŠä»£ç ä¹‹é—´è€¦åˆæ€§</p><ul><li>lib_network: ç½‘ç»œåº“ï¼Œä½¿ç”¨ <a href="https://github.com/square/okhttp" target="_blank" rel="noopener">okhttp</a> æ’ä»¶äºŒæ¬¡å°è£…ï¼Œä¸šåŠ¡å±‚ç®€å•çš„è°ƒç”¨å³å¯</li><li>lib_webview: æ‰“å¼€ç½‘é¡µçš„webviewåº“ï¼Œä½¿ç”¨äº† <a href="https://github.com/Justson/AgentWeb" target="_blank" rel="noopener">agentweb</a> æ’ä»¶äºŒæ¬¡å°è£…ï¼Œä¸šåŠ¡å±‚åªéœ€è¦ä¸€å¥ä»£ç å³å¯å®Œæˆç½‘é¡µçš„è·³è½¬</li><li>lib_image_loader: å›¾ç‰‡åŠ è½½åº“ï¼Œä½¿ç”¨äº† <a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">glide</a> æ’ä»¶äºŒæ¬¡å°è£…ï¼Œä¸šåŠ¡å±‚åªéœ€ä¸€å¥ä»£ç å³å¯åŠ è½½ä¸åŒå‚æ•°çš„å›¾ç‰‡</li><li>lib_asr: ç™¾åº¦AIè¯­éŸ³åº“ï¼Œé€šè¿‡ Android é›†æˆå¥½ä¾› Flutter ç«¯ä½¿ç”¨</li><li>lib_common_ui: å…¬å…±UIåº“ï¼Œé‡å¤å¤šæ¬¡ä½¿ç”¨çš„é¡µé¢é›†ä¸­ç®¡ç†</li><li>lib_base: åŸºç¡€åº“ï¼Œé€šè¿‡ <a href="https://github.com/alibaba/ARouter" target="_blank" rel="noopener">ARouter</a> çš„ service åŠŸèƒ½æš´éœ²æ¥å£æä¾›æœåŠ¡ç»™ä¸šåŠ¡å±‚ï¼Œå½“ç„¶ä¸šåŠ¡å±‚ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæš´éœ²æ¥å£ä¾›å¤–ç•Œä½¿ç”¨</li></ul><p>è¿™é‡Œæœ‰ä¸€äº›ä½¿ç”¨çš„æ’ä»¶å¹¶æ²¡æœ‰åœ¨é¡¹ç›®ç»“æ„å›¾é‡Œä½“ç°å‡ºæ¥(ç»“æ„å›¾ç©ºé—´æœ‰é™)ã€‚</p><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3><p>åœ¨è¿™é‡ŒæŠŠé¡¹ç›®ä½¿ç”¨çš„æ’ä»¶æ•´ç†åˆ—ä¸¾å‡ºæ¥ä¾›å¤§å®¶å‚è€ƒï¼š</p><ul><li><a href="https://github.com/hackware1993/MagicIndicator" target="_blank" rel="noopener">magicindicator</a> å¼ºå¤§ã€å¯å®šåˆ¶ã€æ˜“æ‰©å±•çš„ ViewPager æŒ‡ç¤ºå™¨æ¡†æ¶ï¼Œé¦–é¡µçš„4ä¸ª tab <em>(ç²¾é€‰ã€é™„è¿‘ã€æ™¯ç‚¹ã€ç¾é£Ÿ)</em> å°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„ã€‚</li><li><a href="https://github.com/gyf-dev/ImmersionBar" target="_blank" rel="noopener">immersionbar</a> ä¸€å¥ä»£ç è½»æ¾å®ç°çŠ¶æ€æ ã€å¯¼èˆªæ æ²‰æµ¸å¼ç®¡ç†</li><li><a href="https://github.com/tyzlmjj/PagerBottomTabStrip" target="_blank" rel="noopener">pagerBottomTabStrip</a> é¡µé¢åº•éƒ¨å’Œä¾§è¾¹çš„å¯¼èˆªæ ï¼Œé¦–é¡µã€ç›®çš„åœ°ã€æ—…æ‹ã€æˆ‘çš„é¡µé¢åˆ‡æ¢å°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„ã€‚</li><li><a href="https://github.com/ReactiveX/RxAndroid" target="_blank" rel="noopener">rxjava/rxandroid</a> å¼‚æ­¥å’Œé“¾å¼ç¼–ç¨‹</li><li><a href="https://github.com/JakeWharton/butterknife" target="_blank" rel="noopener">butterknife</a> viewæ³¨å…¥æ’ä»¶ï¼Œé…åˆAndroidæ’ä»¶ä½¿ç”¨ï¼Œå¯å¿«é€Ÿè‡ªåŠ¨ç”Ÿæˆ init viewçš„ä»£ç ï¼Œä¸ç”¨å†™ä¸€å¥ <code>findViewById</code> çš„ä»£ç ã€‚</li><li><a href="https://github.com/google/gson" target="_blank" rel="noopener">gson</a> jsonè§£æï¼Œé…åˆAndroidæ’ä»¶ä½¿ç”¨ï¼Œå¯å¿«é€Ÿç”Ÿæˆå®ä½“ç±»</li><li><a href="https://github.com/scwang90/SmartRefreshLayout" target="_blank" rel="noopener">smartRefreshLayout</a> æ™ºèƒ½ä¸‹æ‹‰åˆ·æ–°æ¡†æ¶ï¼Œæºç¨‹äºŒæ¥¼åŠä¸‹æ‹‰åˆ·æ–°åŠ è½½æ›´å¤šå°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„</li><li><a href="https://github.com/greenrobot/EventBus" target="_blank" rel="noopener">eventbus</a> å‘å¸ƒ/è®¢é˜…äº‹ä»¶æ€»çº¿ï¼Œä¼˜é›…çš„å®Œæˆç»„ä»¶ä¹‹é—´é€šä¿¡</li><li><a href="https://github.com/alibaba/ARouter" target="_blank" rel="noopener">arouter</a> ä¾èµ–æ³¨å…¥ã€è·¯ç”±è·³è½¬ã€æ³¨å†Œserviceï¼Œä¼˜é›…çš„å®Œæˆæ¨¡å—ä¹‹é—´çš„é€šä¿¡</li><li><a href="https://github.com/square/okhttp" target="_blank" rel="noopener">okhttp</a> ç½‘ç»œè¯·æ±‚æ’ä»¶</li><li><a href="https://github.com/Justson/AgentWeb" target="_blank" rel="noopener">agentweb</a> webviewæ¡†æ¶ï¼Œè¿›è¡Œç®€å•çš„äºŒæ¬¡å°è£…å¯ä¼˜é›…çš„è¿›è¡Œç½‘é¡µè·³è½¬</li><li><a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">glide</a> é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å›¾ç‰‡åŠ è½½æ’ä»¶</li><li><a href="https://github.com/youth5201314/banner" target="_blank" rel="noopener">banner</a> å›¾ç‰‡è½®æ’­æ§ä»¶</li></ul><p>åŸºæœ¬å°±æ˜¯è¿™äº›äº†ï¼Œåº”è¯¥æ²¡æœ‰æ¼çš„ï¼Œæ’ä»¶çš„è¯¦ç»†ä½¿ç”¨ï¼Œè¯·è¿›å…¥å„æ’ä»¶çš„ GitHub ä¸»é¡µã€‚</p><p>åœ¨æ­¤ï¼ŒæŠŠæˆ‘é¡¹ç›®çš„æ’ä»¶å¼•å…¥ä»£ç åŠç‰ˆæœ¬ç®¡ç†çš„ <code>gradle</code> ä»£ç è´´å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š</p><p>æ’ä»¶å¼•å…¥ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation fileTree(dir: <span class="string">'libs'</span>, include: [<span class="string">'*.jar'</span>])</span><br><span class="line"></span><br><span class="line">    implementation rootProject.depsLibs.appcompat</span><br><span class="line">    implementation rootProject.depsLibs.legacy</span><br><span class="line">    implementation rootProject.depsLibs.recyclerview</span><br><span class="line">    implementation rootProject.depsLibs.constraintlayout</span><br><span class="line">    implementation rootProject.depsLibs.cardview</span><br><span class="line"></span><br><span class="line">    //tabæŒ‡ç¤ºå™¨</span><br><span class="line">    implementation rootProject.depsLibs.magicindicator</span><br><span class="line">    //æ²‰æµ¸å¼</span><br><span class="line">    implementation rootProject.depsLibs.immersionbar</span><br><span class="line">    //å¯¼èˆªæ </span><br><span class="line">    implementation rootProject.depsLibs.pagerBottomTabStrip</span><br><span class="line">    //rxjava</span><br><span class="line">    implementation rootProject.depsLibs.rxjava</span><br><span class="line">    //rxandroid</span><br><span class="line">    implementation rootProject.depsLibs.rxandroid</span><br><span class="line">    //view æ³¨å…¥</span><br><span class="line">    implementation rootProject.depsLibs.butterknife</span><br><span class="line">    //view æ³¨å…¥</span><br><span class="line">    annotationProcessor rootProject.depsLibs.butterknifeCompiler</span><br><span class="line">    //gson</span><br><span class="line">    implementation rootProject.depsLibs.gson</span><br><span class="line">    //banner</span><br><span class="line">    implementation rootProject.depsLibs.banner</span><br><span class="line">    //smartRefreshLayout ä¸Šä¸‹æ‹‰åˆ·æ–°</span><br><span class="line">    implementation rootProject.depsLibs.smartRefreshLayout</span><br><span class="line">    implementation rootProject.depsLibs.refreshHeader</span><br><span class="line">    implementation rootProject.depsLibs.refreshHeaderTwoLevel</span><br><span class="line">    implementation rootProject.depsLibs.refreshFooter</span><br><span class="line">    //eventbus</span><br><span class="line">    implementation rootProject.depsLibs.eventbus</span><br><span class="line">    //arouteråº“</span><br><span class="line">    implementation(rootProject.depsLibs.arouterapi) &#123;</span><br><span class="line">        exclude group: <span class="string">'com.android.support'</span></span><br><span class="line">    &#125;</span><br><span class="line">    annotationProcessor rootProject.depsLibs.aroutercompiler</span><br><span class="line"></span><br><span class="line">    //å¼•å…¥homeæ¨¡å—</span><br><span class="line">    implementation project(<span class="string">':ft_home'</span>)</span><br><span class="line">    //å¼•å…¥å›¾ç‰‡åŠ è½½åº“</span><br><span class="line">    implementation project(<span class="string">':lib_image_loader'</span>)</span><br><span class="line">    //å¼•å…¥ç½‘ç»œåº“</span><br><span class="line">    implementation project(<span class="string">':lib_network'</span>)</span><br><span class="line">    //webview</span><br><span class="line">    implementation project(<span class="string">':lib_webview'</span>)</span><br><span class="line">    //å¼•å…¥åŸºç¡€uiåº“</span><br><span class="line">    implementation project(<span class="string">':lib_common_ui'</span>)</span><br><span class="line">    //baseåº“</span><br><span class="line">    implementation project(<span class="string">':lib_base'</span>)</span><br><span class="line">    //å¼•å…¥flutteræ¨¡å—</span><br><span class="line">    implementation project(<span class="string">':flutter'</span>)</span><br><span class="line">    //å¼•å…¥ç™¾åº¦AIè¯­éŸ³åº“</span><br><span class="line">    implementation project(<span class="string">':lib_asr'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰ˆæœ¬ç®¡ç†ä»£ç  <em>(ç»Ÿä¸€ç®¡ç†ç‰ˆæœ¬å·)</em> : </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">ext &#123;</span><br><span class="line">    android = [</span><br><span class="line">            compileSdkVersion: 29,</span><br><span class="line">            buildToolsVersion: <span class="string">"29.0.0"</span>,</span><br><span class="line">            minSdkVersion    : 19,</span><br><span class="line">            targetSdkVersion : 29,</span><br><span class="line">            applicationId    : <span class="string">'net.lishaoy.android_ctrip'</span>,</span><br><span class="line">            versionCode      : 1,</span><br><span class="line">            versionName      : <span class="string">'1.0'</span>,</span><br><span class="line">            multiDexEnabled  : <span class="literal">true</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    depsVersion = [</span><br><span class="line">            appcompat            : <span class="string">'1.1.0'</span>,</span><br><span class="line">            legacy               : <span class="string">'1.0.0'</span>,</span><br><span class="line">            recyclerview         : <span class="string">'1.0.0'</span>,</span><br><span class="line">            constraintlayout     : <span class="string">'1.1.3'</span>,</span><br><span class="line">            cardview             : <span class="string">'1.0.0'</span>,</span><br><span class="line">            magicindicator       : <span class="string">'1.5.0'</span>,</span><br><span class="line">            immersionbar         : <span class="string">'3.0.0'</span>,</span><br><span class="line">            pagerBottomTabStrip  : <span class="string">'2.3.0X'</span>,</span><br><span class="line">            glide                : <span class="string">'4.11.0'</span>,</span><br><span class="line">            glidecompiler        : <span class="string">'4.11.0'</span>,</span><br><span class="line">            butterknife          : <span class="string">'10.2.1'</span>,</span><br><span class="line">            butterknifeCompiler  : <span class="string">'10.2.1'</span>,</span><br><span class="line">            rxjava               : <span class="string">'3.0.0'</span>,</span><br><span class="line">            rxandroid            : <span class="string">'3.0.0'</span>,</span><br><span class="line">            okhttp               : <span class="string">'4.7.2'</span>,</span><br><span class="line">            okhttpLogging        : <span class="string">'4.7.2'</span>,</span><br><span class="line">            gson                 : <span class="string">'2.8.6'</span>,</span><br><span class="line">            banner               : <span class="string">'2.0.10'</span>,</span><br><span class="line">            smartRefreshLayout   : <span class="string">'2.0.1'</span>,</span><br><span class="line">            refreshHeader        : <span class="string">'2.0.1'</span>,</span><br><span class="line">            refreshFooter        : <span class="string">'2.0.1'</span>,</span><br><span class="line">            refreshHeaderTwoLevel: <span class="string">'2.0.1'</span>,</span><br><span class="line">            eventbus             : <span class="string">'3.2.0'</span>,</span><br><span class="line">            agentweb             : <span class="string">'4.1.3'</span>,</span><br><span class="line">            arouterapi           : <span class="string">'1.5.0'</span>,</span><br><span class="line">            aroutercompiler      : <span class="string">'1.2.2'</span>,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    depsLibs = [</span><br><span class="line">            appcompat            : <span class="string">"androidx.appcompat:appcompat:<span class="variable">$&#123;depsVersion.appcompat&#125;</span>"</span>,</span><br><span class="line">            legacy               : <span class="string">"androidx.legacy:legacy-support-v4:<span class="variable">$&#123;depsVersion.legacy&#125;</span>"</span>,</span><br><span class="line">            recyclerview         : <span class="string">"androidx.recyclerview:recyclerview:<span class="variable">$&#123;depsVersion.recyclerview&#125;</span>"</span>,</span><br><span class="line">            constraintlayout     : <span class="string">"androidx.constraintlayout:constraintlayout:<span class="variable">$&#123;depsVersion.constraintlayout&#125;</span>"</span>,</span><br><span class="line">            cardview             : <span class="string">"androidx.cardview:cardview:<span class="variable">$&#123;depsVersion.cardview&#125;</span>"</span>,</span><br><span class="line">            magicindicator       : <span class="string">"com.github.hackware1993:MagicIndicator:<span class="variable">$&#123;depsVersion.magicindicator&#125;</span>"</span>,</span><br><span class="line">            immersionbar         : <span class="string">"com.gyf.immersionbar:immersionbar:<span class="variable">$&#123;depsVersion.immersionbar&#125;</span>"</span>,</span><br><span class="line">            pagerBottomTabStrip  : <span class="string">"me.majiajie:pager-bottom-tab-strip:<span class="variable">$&#123;depsVersion.pagerBottomTabStrip&#125;</span>"</span>,</span><br><span class="line">            glide                : <span class="string">"com.github.bumptech.glide:glide:<span class="variable">$&#123;depsVersion.glide&#125;</span>"</span>,</span><br><span class="line">            glidecompiler        : <span class="string">"com.github.bumptech.glide:compiler:<span class="variable">$&#123;depsVersion.glidecompiler&#125;</span>"</span>,</span><br><span class="line">            butterknife          : <span class="string">"com.jakewharton:butterknife:<span class="variable">$&#123;depsVersion.butterknife&#125;</span>"</span>,</span><br><span class="line">            butterknifeCompiler  : <span class="string">"com.jakewharton:butterknife-compiler:<span class="variable">$&#123;depsVersion.butterknifeCompiler&#125;</span>"</span>,</span><br><span class="line">            rxjava               : <span class="string">"io.reactivex.rxjava3:rxjava:<span class="variable">$&#123;depsVersion.rxjava&#125;</span>"</span>,</span><br><span class="line">            rxandroid            : <span class="string">"io.reactivex.rxjava3:rxandroid:<span class="variable">$&#123;depsVersion.rxandroid&#125;</span>"</span>,</span><br><span class="line">            okhttp               : <span class="string">"com.squareup.okhttp3:okhttp:<span class="variable">$&#123;depsVersion.okhttp&#125;</span>"</span>,</span><br><span class="line">            okhttpLogging        : <span class="string">"com.squareup.okhttp3:logging-interceptor:<span class="variable">$&#123;depsVersion.okhttpLogging&#125;</span>"</span>,</span><br><span class="line">            gson                 : <span class="string">"com.google.code.gson:gson:<span class="variable">$&#123;depsVersion.gson&#125;</span>"</span>,</span><br><span class="line">            banner               : <span class="string">"com.youth.banner:banner:<span class="variable">$&#123;depsVersion.banner&#125;</span>"</span>,</span><br><span class="line">            smartRefreshLayout   : <span class="string">"com.scwang.smart:refresh-layout-kernel:<span class="variable">$&#123;depsVersion.smartRefreshLayout&#125;</span>"</span>,</span><br><span class="line">            refreshHeader        : <span class="string">"com.scwang.smart:refresh-header-classics:<span class="variable">$&#123;depsVersion.refreshHeader&#125;</span>"</span>,</span><br><span class="line">            refreshHeaderTwoLevel: <span class="string">"com.scwang.smart:refresh-header-two-level:<span class="variable">$&#123;depsVersion.refreshHeader&#125;</span>"</span>,</span><br><span class="line">            refreshFooter        : <span class="string">"com.scwang.smart:refresh-footer-classics:<span class="variable">$&#123;depsVersion.refreshFooter&#125;</span>"</span>,</span><br><span class="line">            eventbus             : <span class="string">"org.greenrobot:eventbus:<span class="variable">$&#123;depsVersion.eventbus&#125;</span>"</span>,</span><br><span class="line">            agentweb             : <span class="string">"com.just.agentweb:agentweb:<span class="variable">$&#123;depsVersion.agentweb&#125;</span>"</span>,</span><br><span class="line">            arouterapi           : <span class="string">"com.alibaba:arouter-api:<span class="variable">$&#123;depsVersion.arouterapi&#125;</span>"</span>,</span><br><span class="line">            aroutercompiler      : <span class="string">"com.alibaba:arouter-compiler:<span class="variable">$&#123;depsVersion.aroutercompiler&#125;</span>"</span>,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"><a href="#é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰" class="headerlink" title="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"></a>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</h2><p>è¿™é‡Œä¸»è¦å¯¹é¦–é¡µåŠŸèƒ½åŠçŸ¥è¯†ç‚¹è¿›è¡Œæ¦‚è¿°ï¼Œç”±äºå…¶ä»–é¡µé¢æ˜¯å¼•å…¥äº†ä¹‹å‰çš„ Flutter é¡µé¢ï¼Œ å…·ä½“åŠŸèƒ½åœ¨ <a href="https://h.lishaoy.net/flutterctrip">Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“</a> å·²ç»ä»‹ç»è¿‡äº†ï¼Œåœ¨è¿™å°±ä¸å†é˜è¿°ã€‚</p><p>é¦–é¡µé‡ç‚¹æ¦‚è¿°ä»¥ä¸‹åŠŸèƒ½çš„å®ç°ï¼š</p><ul><li>ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼</li><li>æœç´¢appBar</li><li>æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª</li><li>bannerç»„ä»¶</li><li>å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨ <em>(æ»šåŠ¨å›ºå®šé¡¶éƒ¨)</em></li></ul><h3 id="ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼"><a href="#ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼" class="headerlink" title="ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼"></a>ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼</h3><p>é¦–å…ˆï¼Œçœ‹çœ‹å…·ä½“çš„æ•ˆæœå›¾ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/second_floor.gif" alt="no-shadow" title="second floor"></p><p>ä¸‹æ‹‰åˆ·æ–°å’Œæºç¨‹äºŒæ¥¼æ˜¯ä½¿ç”¨ <a href="https://github.com/scwang90/SmartRefreshLayout" target="_blank" rel="noopener">smartRefreshLayout</a> æ’ä»¶å®Œæˆçš„ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initRefreshMore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    homeHeader.setRefreshHeader(<span class="keyword">new</span> ClassicsHeader(getContext()), -<span class="number">1</span>, (<span class="keyword">int</span>) Utils.dp2px(<span class="number">76</span>)); <span class="comment">//è®¾ç½®ä¸‹æ‹‰åˆ·æ–°åŠäºŒæ¥¼headerçš„é«˜åº¦</span></span><br><span class="line">    homeHeader.setFloorRate(<span class="number">1.6f</span>); <span class="comment">//è®¾ç½®äºŒæ¥¼è§¦å‘æ¯”ç‡</span></span><br><span class="line">    homeRefreshContainer.setPrimaryColorsId(R.color.colorPrimary, R.color.white); <span class="comment">//è®¾ç½®ä¸‹æ‹‰åˆ·æ–°åŠäºŒæ¥¼æç¤ºæ–‡å­—é¢œè‰²</span></span><br><span class="line">    homeRefreshContainer.setOnMultiListener(<span class="keyword">new</span> SimpleMultiListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLoadMore</span><span class="params">(@NonNull RefreshLayout refreshLayout)</span> </span>&#123;</span><br><span class="line">            loadMore(refreshLayout); <span class="comment">//åŠ è½½æ›´å¤š</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRefresh</span><span class="params">(@NonNull RefreshLayout refreshLayout)</span> </span>&#123;</span><br><span class="line">            refreshLayout.finishRefresh(<span class="number">1600</span>); <span class="comment">//è®¾ç½®ä¸‹æ‹‰åˆ·æ–°å»¶è¿Ÿ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onHeaderMoving</span><span class="params">(RefreshHeader header, <span class="keyword">boolean</span> isDragging, <span class="keyword">float</span> percent, <span class="keyword">int</span> offset, <span class="keyword">int</span> headerHeight, <span class="keyword">int</span> maxDragHeight)</span> </span>&#123;</span><br><span class="line">            homeSecondFloorImg.setVisibility(View.VISIBLE);  <span class="comment">//éšè—äºŒæ¥¼èƒŒæ™¯å›¾</span></span><br><span class="line">            homeSearchBarContainer.setAlpha(<span class="number">1</span> - Math.min(percent, <span class="number">1</span>)); <span class="comment">//æ”¹å˜searchBaré€æ˜åº¦</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStateChanged</span><span class="params">(@NonNull RefreshLayout refreshLayout, @NonNull RefreshState oldState, @NonNull RefreshState newState)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (oldState == RefreshState.ReleaseToTwoLevel) &#123;  <span class="comment">//å³å°†å»å¾€äºŒæ¥¼çŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeSecondFloorImg.setVisibility(View.GONE);</span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">1</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newState == RefreshState.PullDownCanceled) &#123; <span class="comment">//ä¸‹æ‹‰å–æ¶ˆçŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">0</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newState == RefreshState.Refreshing) &#123; <span class="comment">//æ­£åœ¨åˆ·æ–°çŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">0</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldState == RefreshState.TwoLevelReleased) &#123; <span class="comment">// å‡†å¤‡å»å¾€äºŒæ¥¼å®ŒæˆçŠ¶æ€å¤„ç†ï¼Œè¿™é‡Œæ‰“å¼€webview</span></span><br><span class="line">                WebViewImpl.getInstance().gotoWebView(<span class="string">"https://m.ctrip.com/webapp/you/tsnap/secondFloorIndex.html?isHideNavBar=YES&amp;s_guid=feb780be-c55a-4f92-a6cd-2d81e04d3241"</span>, <span class="keyword">true</span>);</span><br><span class="line">                homeHeader.finishTwoLevel();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldState == RefreshState.TwoLevel) &#123; <span class="comment">//åˆ°è¾¾äºŒæ¥¼çŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeCustomScrollView.setVisibility(View.GONE);</span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">0</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldState == RefreshState.TwoLevelFinish) &#123; <span class="comment">//äºŒæ¥¼å®ŒæˆçŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeCustomScrollView.setVisibility(View.VISIBLE);</span><br><span class="line">                homeCustomScrollView.animate().alpha(<span class="number">1</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>XML</code> é¡µé¢å¸ƒå±€æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">com.scwang.smart.refresh.layout.SmartRefreshLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/home_refresh_container"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipChildren</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:srlAccentColor</span>=<span class="string">"@color/colorPrimary"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:srlPrimaryColor</span>=<span class="string">"@color/colorPrimary"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.scwang.smart.refresh.header.TwoLevelHeader</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/home_header"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"top"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/home_second_floor_img"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"460dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_alignTop</span>=<span class="string">"@+id/home_header"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:scaleType</span>=<span class="string">"fitXY"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@drawable/second_floor"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:visibility</span>=<span class="string">"gone"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/home_header_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:alpha</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:scaleType</span>=<span class="string">"fitXY"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:src</span>=<span class="string">"@drawable/second_floor"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">com.scwang.smart.refresh.header.TwoLevelHeader</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.scwang.smart.refresh.footer.ClassicsFooter</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">com.scwang.smart.refresh.layout.SmartRefreshLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…·ä½“å®ç°è¯¦æƒ…ï¼Œå¯ç§»æ­¥ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p><h3 id="æœç´¢appBar"><a href="#æœç´¢appBar" class="headerlink" title="æœç´¢appBar"></a>æœç´¢appBar</h3><p>æœç´¢æ çš„æ»šåŠ¨çš„ placeholder æ–‡å­—æ˜¯ä½¿ç”¨ <a href="https://github.com/youth5201314/banner" target="_blank" rel="noopener">banner</a> æ’ä»¶å®ç°çš„ï¼Œç‚¹å‡»æœç´¢æ¡†å¯è·³è½¬åˆ°æœç´¢é¡µé¢ <em>(flutterå†™çš„æœç´¢é¡µé¢)</em> ï¼Œè·³è½¬é¡µé¢åå¯ä»¥æŠŠ placeholder æ–‡å­—å¸¦åˆ° flutter æœç´¢é¡µé¢ã€‚</p><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/searchBar.gif" alt="no-shadow" title="search bar"></p><p>æ»šåŠ¨çš„placeholderæ–‡å­—å®ç°ä»£ç å¦‚ä¸‹ <em>(æœç´¢æ¡†çš„å®ç°å°±ä¸å†è¿™é‡Œå±•ç¤ºéƒ½æ˜¯ä¸€äº›XMLå¸ƒå±€ä»£ç )</em>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    homeSearchBarPlaceholder</span><br><span class="line">            .setAdapter(<span class="keyword">new</span> HomeSearchBarPlaceHolderAdapter(homeData.getSearchPlaceHolderList())) <span class="comment">// è®¾ç½®é€‚é…å™¨</span></span><br><span class="line">            .setOrientation(Banner.VERTICAL) <span class="comment">// è®¾ç½®æ»šåŠ¨æ–¹å‘</span></span><br><span class="line">            .setDelayTime(<span class="number">3600</span>) <span class="comment">// è®¾ç½®é—´éš”æ—¶é—´</span></span><br><span class="line">            .setOnBannerListener(<span class="keyword">new</span> OnBannerListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnBannerClick</span><span class="params">(Object data, <span class="keyword">int</span> position)</span> </span>&#123;  <span class="comment">//ç‚¹å‡»æ‰“å¼€ flutter æœç´¢é¡µé¢</span></span><br><span class="line">                    ARouter.getInstance()</span><br><span class="line">                            .build(<span class="string">"/home/search"</span>)</span><br><span class="line">                            .withString(<span class="string">"placeHolder"</span>, ((Home.SearchPlaceHolderListBean) data).getText())</span><br><span class="line">                            .navigation();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>searchBarçš„å…·ä½“åŠŸèƒ½ä¸è¿‡å¤šé˜è¿°ï¼Œå’Œä¹‹å‰çš„é¡¹ç›®ä¸€è‡´ã€‚</p><h3 id="æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª"><a href="#æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª" class="headerlink" title="æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª"></a>æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª</h3><p>æ¸å˜è‰²ç½‘æ ¼å¯¼èˆªåŸºæœ¬éƒ½æ˜¯ä¸€äº› <code>XML</code> é¡µé¢å¸ƒå±€ä»£ç ï¼Œåªæ˜¯æˆ‘æŠŠå®ƒå°è£…æˆäº†å•ç‹¬çš„ç»„ä»¶ï¼Œæ•ˆæœå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/ctrip/android/gridBar.png" alt="GridNav" width="36%" title="GridNav" align="center"></p><p>å°è£…ä¹‹åçš„å¼•å…¥å°±éå¸¸ç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/white"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç½‘æ ¼å¯¼èˆª --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">net.lishaoy.ft_home.GridNavView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/home_grid_nav_container"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…·ä½“å®ç°è¯¦æƒ…ï¼Œå¯ç§»æ­¥ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p><h3 id="bannerç»„ä»¶"><a href="#bannerç»„ä»¶" class="headerlink" title="bannerç»„ä»¶"></a>bannerç»„ä»¶</h3><p>bannerç»„ä»¶ä¹Ÿæ˜¯ç”¨ <a href="https://github.com/youth5201314/banner" target="_blank" rel="noopener">banner</a> æ’ä»¶å®ç°çš„ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/ctrip/android/banner.gif" alt="no-shadow" title="banner"></p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initBanner</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    homeBanner.addBannerLifecycleObserver(<span class="keyword">this</span>)</span><br><span class="line">            .setAdapter(<span class="keyword">new</span> HomeBannerAdapter(homeData.getBannerList())) <span class="comment">//è®¾ç½®é€‚é…å™¨</span></span><br><span class="line">            .setIndicator(<span class="keyword">new</span> EllipseIndicator(getContext()))           <span class="comment">//è®¾ç½®æŒ‡ç¤ºå™¨ï¼Œå¦‚å›¾çš„æŒ‡ç¤ºå™¨æ˜¯æˆ‘è‡ªå®šä¹‰çš„æ’ä»¶é‡Œå¹¶æ²¡æœ‰æä¾›</span></span><br><span class="line">            .setIndicatorSelectedColorRes(R.color.white)                <span class="comment">//è®¾ç½®æŒ‡ç¤ºå™¨é¢œè‰²</span></span><br><span class="line">            .setIndicatorSpace((<span class="keyword">int</span>) BannerUtils.dp2px(<span class="number">10</span>))             <span class="comment">//è®¾ç½®é—´è·</span></span><br><span class="line">            .setBannerRound(BannerUtils.dp2px(<span class="number">6</span>));                      <span class="comment">//è®¾ç½®åœ†è§’</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨"><a href="#å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨" class="headerlink" title="å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨"></a>å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨</h3><p>å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨çš„å®ç°éœ€è¦æ³¨æ„å¾ˆå¤šç»†èŠ‚ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨é¦–é¡µçš„ <code>fragment</code> çš„ <code>ScrollView</code> é‡ŒåµŒå…¥ <code>viewPaper</code>ï¼Œé¦–å…ˆä½ ä¼šå‘ç° viewPaper ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œå…¶æ¬¡æ˜¯æ»šåŠ¨ä¸æµç•…çš„é—®é¢˜ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p><ul><li>viewPaper ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ <code>ViewPager</code> é‡å†™ <code>onMeasure</code> æ–¹æ³•ï¼Œé‡æ–°è®¡ç®—é«˜åº¦</li><li>æ»šåŠ¨ä¸æµç•…çš„é—®é¢˜ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ <code>ScrollView</code>ï¼Œé‡å†™ <code>computeScroll</code> å’Œ <code>onScrollChanged</code> é‡æ–°è·å–æ»šåŠ¨è·ç¦»</li></ul><p>å®ç°æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/tab_bar.gif" alt="no-shadow" title="tab page"></p><p>è¿™ä¸ªåŠŸèƒ½å®ç°ä»£ç è¿‡å¤šä¸ä¾¿åœ¨è¿™é‡Œå±•ç¤ºï¼Œå…·ä½“å®ç°è¯¦æƒ…ï¼Œå¯ç§»æ­¥ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p><h2 id="Android-Flutter-æ··åˆå¼€å‘"><a href="#Android-Flutter-æ··åˆå¼€å‘" class="headerlink" title="Android Flutter æ··åˆå¼€å‘"></a>Android Flutter æ··åˆå¼€å‘</h2><p>è¿™ä¸ªé¡¹ç›®çš„å®ç°åªæœ‰é¦–é¡µæ˜¯ç”¨ Android åŸç”Ÿå®ç°ï¼Œå…¶ä»–çš„é¡µé¢å‡æ˜¯ Flutter å®ç°çš„ï¼Œä¹‹å‰ <a href="https://h.lishaoy.net/flutterctrip">çº¯Flutteré¡¹ç›®</a>ã€‚</p><p>Android å¼•å…¥ Flutter è¿›è¡Œæ··åˆå¼€å‘ï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤</p><ul><li>å»ºç«‹ä¸€ä¸ªflutter module</li><li>ç¼–å†™flutterä»£ç  <em>(åˆ›å»º flutter è·¯ç”±)</em></li><li>flutter å’Œ android ä¹‹é—´ç›¸äº’é€šä¿¡</li></ul><p>ä¸‹é¢ä¾æ¬¡æ¦‚è¿°è¿™å‡ éƒ¨åˆ†æ˜¯å¦‚ä½•æ“ä½œå®ç°çš„ã€‚</p><h3 id="å»ºç«‹ä¸€ä¸ªflutter-module"><a href="#å»ºç«‹ä¸€ä¸ªflutter-module" class="headerlink" title="å»ºç«‹ä¸€ä¸ªflutter module"></a>å»ºç«‹ä¸€ä¸ªflutter module</h3><p>è¿™ä¸ªåº”è¯¥ä¸ç”¨è¿‡å¤šæè¿°ï¼ŒåŸºæœ¬æ“ä½œå¤§å®¶éƒ½ä¼š File â€“&gt; New â€“&gt; New Module å¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/flutter_module.png" alt="no-shadow" title="flutter module"></p><p>æ–°å»ºå®Œæˆä¹‹åï¼Œandroid studio ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®ä»£ç åˆ° gradle é…ç½®æ–‡ä»¶é‡Œï¼Œä¸”ç”Ÿæˆä¸€ä¸ª flutter çš„ library æ¨¡å—ã€‚</p><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> <br \="">æ–°å»ºçš„æ—¶å€™æœ€å¥½ flutter module å’Œ android é¡¹ç›®æ”¾åˆ°åŒçº§ç›®å½•ä¸‹ï¼›<br \="">æ–°ç‰ˆçš„ android studio æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆ gradle é…ç½®ä»£ç ï¼Œè€ç‰ˆæœ¬è²Œä¼¼éœ€è¦æ‰‹åŠ¨é…ç½®</p></div><p>å¦‚ï¼Œæ²¡æœ‰ç”Ÿæˆ gradle é…ç½®ä»£ç ï¼Œä½ éœ€è¦åœ¨æ ¹é¡¹ç›®çš„ <code>settings.gradle</code> æ–‡ä»¶é‡Œæ‰‹åŠ¨åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setBinding(<span class="keyword">new</span> Binding([gradle: <span class="keyword">this</span>]))</span><br><span class="line">evaluate(<span class="keyword">new</span> File(</span><br><span class="line">  settingsDir, <span class="comment">//è®¾ç½®æ ¹è·¯å¾„ï¼Œæ ¹æ®å…·ä½“flutter moduleè·¯å¾„é…ç½®</span></span><br><span class="line">  <span class="string">'flutter_module/.android/include_flutter.groovy'</span></span><br><span class="line">))</span><br><span class="line"></span><br><span class="line">include <span class="string">':flutter_module'</span></span><br></pre></td></tr></table></figure><p>è¿˜éœ€åœ¨å®¿ä¸»å·¥ç¨‹ <em>(æ²¡æ”¹åçš„è¯éƒ½æ˜¯app)</em> çš„ <code>build.gradle</code> å¼•å…¥ flutterï¼Œ å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">//å¼•å…¥flutteræ¨¡å—</span></span><br><span class="line">    <span class="function">implementation <span class="title">project</span><span class="params">(<span class="string">':flutter'</span>)</span></span></span><br><span class="line"><span class="function">    ...</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™flutterä»£ç "><a href="#ç¼–å†™flutterä»£ç " class="headerlink" title="ç¼–å†™flutterä»£ç "></a>ç¼–å†™flutterä»£ç </h3><p>ç¼–å†™flutterä»£ç ï¼Œåœ¨ flutter module é‡ŒæŒ‰ç…§æ­£å¸¸ flutter å¼€å‘æµç¨‹ç¼–å†™ flutter ä»£ç å³å¯ã€‚ <em>(æˆ‘é¡¹ç›®é‡Œçš„ flutter çš„ä»£ç æ˜¯ä¹‹å‰é¡¹ç›®éƒ½å†™å¥½çš„ï¼Œå¤åˆ¶è¿‡æ¥ï¼Œæ”¹æ”¹åŒ…çš„å¼•å…¥é—®é¢˜ï¼Œå°±å¯ä»¥è¿è¡Œäº†ã€‚)</em></p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œflutter æœ‰ä¸”åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå°±æ˜¯ <code>main()</code> å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™é‡Œå¤„ç†å¥½ flutter é¡µé¢çš„è·³è½¬é—®é¢˜ã€‚</p><p>åœ¨ android ç«¯ï¼Œåˆ›å»º flutter é¡µé¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Flutter.createView(getActivity(),getLifecycle(),<span class="string">"destination"</span>);</span><br></pre></td></tr></table></figure><p><code>Flutter.createView</code> éœ€è¦3ä¸ªå‚æ•° <code>activity</code> ã€<code>lifecycle</code> ã€<code>route</code> ï¼Œè¿™ä¸ª route å°±æ˜¯è¦ä¼ é€’åˆ° flutter ç«¯çš„ï¼Œå½“ç„¶ï¼Œå®ƒæ˜¯ String ç±»å‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±å‘æŒ¥ä¼ é€’æ™®é€šå­—ç¬¦ä¸²æˆ– json å­—ç¬¦ä¸²ç­‰ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–çš„æ–¹å¼åˆ›å»º flutter é¡µé¢ï¼Œå¦‚ï¼š <code>Flutter.createFragment()</code> ã€ <code>FlutterActivity.withNewEngine()</code>ã€ <code>FlutterFragment.createDefault()</code> ç­‰ã€‚</p><p>å…·ä½“çš„ä½¿ç”¨ï¼Œå¯å‰å¾€ <a href="https://flutter.dev/docs/development/add-to-app/android" target="_blank" rel="noopener">Flutterå®˜æ–¹æ–‡æ¡£</a> æŸ¥é˜…ã€‚</p><p>é‚£ä¹ˆï¼Œflutter ç«¯å¦‚ä½•æ¥æ”¶è¿™ä¸ª route å‚æ•°ï¼Œæ˜¯é€šè¿‡ <code>window.defaultRouteName</code>ï¼Œæ­¤é¡¹ç›®é‡Œç®¡ç† flutter ç«¯è·¯ç”±ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      title: <span class="string">'Flutter model'</span>,</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        primarySwatch: Colors.blue,</span><br><span class="line">        fontFamily: <span class="string">'PingFang'</span>,</span><br><span class="line">      ),</span><br><span class="line">      home: _widgetRoute(<span class="built_in">window</span>.defaultRouteName), <span class="comment">// é€šè¿‡ window.defaultRouteName æ¥æ”¶ android ç«¯ä¼ æ¥çš„å‚æ•°</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget _widgetRoute(<span class="built_in">String</span> defaultRouteName) &#123;</span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; params = convert.jsonDecode(defaultRouteName); <span class="comment">//è§£æå‚æ•°</span></span><br><span class="line">    defaultRouteName = params[<span class="string">'routeName'</span>];</span><br><span class="line">    placeHolder = params[<span class="string">'placeHolder'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (defaultRouteName) &#123; <span class="comment">// æ ¹æ®å‚æ•°è¿”å›å¯¹åº”çš„é¡µé¢</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'destination/search'</span>:</span><br><span class="line">            <span class="keyword">return</span> DestinationSearchPage(</span><br><span class="line">                hideLeft: <span class="keyword">false</span>,</span><br><span class="line">        );</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">                child: Column(</span><br><span class="line">                mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                    Text(<span class="string">'not found <span class="subst">$defaultRouteName<span class="string">',</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        textDirection: TextDirection.ltr),</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                ],</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                ),</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">            );</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">&#125;</span></span></span></span><br></pre></td></tr></table></figure><p>å…¶å®ï¼Œflutter ç«¯æ¥æ”¶è¿™ä¸ª route å‚æ•°ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯é€šè¿‡ <code>onGenerateRoute</code>ï¼Œå®ƒæ˜¯ MaterialApp é‡Œçš„ä¸€ä¸ªæ–¹æ³•ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onGenerateRoute: (settings)&#123; <span class="comment">//é€šè¿‡ settings.name è·å–androidç«¯ä¼ æ¥çš„å‚æ•°</span></span><br><span class="line">    <span class="keyword">return</span> _widgetRoute(settings.name);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="flutter-å’Œ-android-ä¹‹é—´ç›¸äº’é€šä¿¡"><a href="#flutter-å’Œ-android-ä¹‹é—´ç›¸äº’é€šä¿¡" class="headerlink" title="flutter å’Œ android ä¹‹é—´ç›¸äº’é€šä¿¡"></a>flutter å’Œ android ä¹‹é—´ç›¸äº’é€šä¿¡</h3><p>flutter ç«¯å¯ä»¥è°ƒç”¨ android ç«¯çš„æ–¹æ³•åŠç›¸äº’ä¼ é€’æ•°æ®æ˜¯å¦‚ä½•å®ç°çš„ï¼Œflutter å®˜æ–¹æä¾›äº†3ä¸ªæ–¹æ³•å¯ä»¥å®ç°ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>EventChannelï¼šå•å‘çš„æŒç»­é€šä¿¡ï¼Œå¦‚ï¼šç½‘ç»œå˜åŒ–ã€ä¼ æ„Ÿå™¨ç­‰ã€‚</li><li>MethodChannelï¼šä¸€æ¬¡æ€§é€šä¿¡ï¼Œä¸€èˆ¬é€‚ç”¨å¦‚æ–¹æ³•çš„è°ƒç”¨ã€‚</li><li>BasicMessageChannelï¼šæŒç»­çš„åŒå‘é€šä¿¡ã€‚</li></ul><p>æ­¤é¡¹ç›®é‡Œé‡‡ç”¨äº† <code>MethodChannel</code> æ–¹æ³•è¿›è¡Œé€šä¿¡ï¼Œå¦‚ï¼šflutter ç«¯è°ƒç”¨ android ç«¯çš„AIæ™ºèƒ½è¯­éŸ³æ–¹æ³•ä»¥åŠ flutter æ‰“å¼€ android ç«¯é¡µé¢å°±æ˜¯ç”¨ <code>MethodChannel</code> å®ç°çš„ã€‚</p><p>flutter ç«¯è°ƒç”¨ android ç«¯çš„AIæ™ºèƒ½è¯­éŸ³æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AsrManager</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> MethodChannel _channel = <span class="keyword">const</span> MethodChannel(<span class="string">'lib_asr'</span>);</span><br><span class="line">  <span class="comment">//å¼€å§‹å½•éŸ³</span></span><br><span class="line">  <span class="keyword">static</span> Future&lt;<span class="built_in">String</span>&gt; start(&#123;<span class="built_in">Map</span> params&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> _channel.invokeMethod(<span class="string">'start'</span>, params ?? &#123;&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//åœæ­¢å½•éŸ³</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="comment">//å–æ¶ˆå½•éŸ³</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="comment">//é”€æ¯</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>flutter æ‰“å¼€ android ç«¯é¡µé¢ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MethodChannelPlugin</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> MethodChannel methodChannel = MethodChannel(<span class="string">'MethodChannelPlugin'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> Future&lt;<span class="keyword">void</span>&gt; gotoDestinationSearchPage() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> methodChannel.invokeMethod(<span class="string">'gotoDestinationSearchPage'</span>); <span class="comment">//gotoDestinationSearchPage å‚æ•°ä¼šä¼ åˆ°androidç«¯</span></span><br><span class="line">    &#125; on PlatformException &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">'Failed go to gotoDestinationSearchPage'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>android æ¥æ”¶ä¹Ÿæ˜¯é€šè¿‡ <code>MethodChannel</code> ï¼Œå…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodChannelPlugin</span> <span class="keyword">implements</span> <span class="title">MethodChannel</span>.<span class="title">MethodCallHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MethodChannel methodChannel;</span><br><span class="line">    <span class="keyword">private</span> Activity activity;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">MethodChannelPlugin</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.activity = activity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨æ–¹é€šè¿‡ registerWith æ¥æ³¨å†Œflutteré¡µé¢</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">registerWith</span><span class="params">(FlutterView flutterView)</span> </span>&#123;</span><br><span class="line">        methodChannel = <span class="keyword">new</span> MethodChannel(flutterView, <span class="string">"MethodChannelPlugin"</span>);</span><br><span class="line">        MethodChannelPlugin instance = <span class="keyword">new</span> MethodChannelPlugin((Activity) flutterView.getContext());</span><br><span class="line">        methodChannel.setMethodCallHandler(instance);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMethodCall</span><span class="params">(MethodCall methodCall, MethodChannel.Result result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (methodCall.method.equals(<span class="string">"gotoDestinationSearchPage"</span>)) &#123; <span class="comment">// æ”¶åˆ°æ¶ˆæ¯è¿›è¡Œå…·ä½“æ“ä½œ</span></span><br><span class="line">            EventBus.getDefault().post(<span class="keyword">new</span> GotoDestinationSearchPageEvent());</span><br><span class="line">            result.success(<span class="number">200</span>);</span><br><span class="line">        &#125; </span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            result.notImplemented();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>android flutter æ··åˆå¼€å‘åŸºæœ¬å°±æ˜¯è¿™3ä¸ªæ­¥éª¤ï¼Œå…¶ä»–ä¸€äº›ç»†èŠ‚åŠå…·ä½“çš„æµç¨‹è¯·å‚è€ƒ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> é¡¹ç›®æºç ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/androidCtrip.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“</title>
      <link>https://h.lishaoy.net/flutterCtrip.html</link>
      <guid>https://h.lishaoy.net/flutterCtrip.html</guid>
      <pubDate>Mon, 11 May 2020 13:53:05 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/flutterCtrip/iOS-andorid.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;ä¹‹å‰ï¼Œä¹Ÿå†™è¿‡å‡ ç¯‡å…³äº &lt;code&gt;Flutter&lt;/code&gt; çš„åšæ–‡ï¼Œæœ€è¿‘ï¼ŒåˆèŠ±äº†ä¸€äº›æ—¶é—´å­¦ä¹ ç ”ç©¶ &lt;code&gt;Flutter&lt;/code&gt;ï¼Œå®Œæˆäº†é«˜ä»¿å¤§å‚ &lt;strong&gt;App&lt;/strong&gt; é¡¹ç›® &lt;em&gt;(é¡¹ç›®ä½¿ç”¨çš„æ¥å£éƒ½æ˜¯æ¥è‡ªçº¿ä¸ŠçœŸå®AppæŠ“åŒ…è€Œæ¥ï¼Œå¯ä»¥åšåˆ°å’Œçº¿ä¸Šé¡¹ç›®ç›¸åŒçš„æ•ˆæœ)&lt;/em&gt;ï¼Œä¹Ÿæ€»ç»“ç§¯ç´¯äº†ä¸€äº›å°æŠ€å·§å’ŒçŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™é‡Œè®°å½•åˆ†äº«å‡ºæ¥ï¼Œä¹Ÿå¸Œæœ› &lt;code&gt;Flutter&lt;/code&gt; ç”Ÿæ€è¶Šæ¥è¶Šå¥½ &lt;em&gt;ï¼ˆflutterå¼€å‘Appæ•ˆç‡çœŸçš„å¾ˆé«˜ï¼Œå¼€å‘ä½“éªŒä¹Ÿæ˜¯å¾ˆå¥½çš„ ğŸ™‚ï¼‰&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/flutterCtrip/iOS-andorid.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>ä¹‹å‰ï¼Œä¹Ÿå†™è¿‡å‡ ç¯‡å…³äº <code>Flutter</code> çš„åšæ–‡ï¼Œæœ€è¿‘ï¼ŒåˆèŠ±äº†ä¸€äº›æ—¶é—´å­¦ä¹ ç ”ç©¶ <code>Flutter</code>ï¼Œå®Œæˆäº†é«˜ä»¿å¤§å‚ <strong>App</strong> é¡¹ç›® <em>(é¡¹ç›®ä½¿ç”¨çš„æ¥å£éƒ½æ˜¯æ¥è‡ªçº¿ä¸ŠçœŸå®AppæŠ“åŒ…è€Œæ¥ï¼Œå¯ä»¥åšåˆ°å’Œçº¿ä¸Šé¡¹ç›®ç›¸åŒçš„æ•ˆæœ)</em>ï¼Œä¹Ÿæ€»ç»“ç§¯ç´¯äº†ä¸€äº›å°æŠ€å·§å’ŒçŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™é‡Œè®°å½•åˆ†äº«å‡ºæ¥ï¼Œä¹Ÿå¸Œæœ› <code>Flutter</code> ç”Ÿæ€è¶Šæ¥è¶Šå¥½ <em>ï¼ˆflutterå¼€å‘Appæ•ˆç‡çœŸçš„å¾ˆé«˜ï¼Œå¼€å‘ä½“éªŒä¹Ÿæ˜¯å¾ˆå¥½çš„ ğŸ™‚ï¼‰</em>ã€‚</p><hr><a id="more"></a><p>ä»¥ä¸‹åšæ–‡ä¼šåˆ†ä¸º4ä¸ªéƒ¨åˆ†æ¦‚è¿°ï¼š</p><ul><li>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</li><li>é¡¹ç›®ç»“æ„åˆ†æ</li><li>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</li><li>å°æŠ€å·§ç§¯ç´¯æ€»ç»“</li></ul><h2 id="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"><a href="#é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ" class="headerlink" title="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"></a>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªè§†é¢‘æ¥å¿«é€Ÿé¢„è§ˆä¸‹é¡¹ç›®å®Œæˆçš„åŠŸèƒ½å’Œè¿è¡Œæ•ˆæœï¼Œå¦‚ä¸‹</p><video id="flutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/ctrip/ctripV.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/flutterCtrip/ctrip.mp4" type="video/mp4"></video><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> å¦‚è§†é¢‘æ’­æ”¾å¤±è´¥ï¼Œ <a href="https://www.bilibili.com/video/BV16p4y1Q71f/" target="_blank" rel="noopener">è¯·ç§»æ­¥è¿™é‡Œç‚¹å‡»è§‚çœ‹</a> ï¼ˆå¯ç‚¹å‡»é½¿è½®è®¾ç½®éšè—é»‘è¾¹ï¼‰</p></div><p><br>å¤§å®¶çœ‹å®Œè§†é¢‘ï¼Œå¤§æ¦‚äº†è§£åˆ°ï¼Œå®Œæˆåº¦åŸºæœ¬å¯ä»¥å’Œçº¿ä¸Šçš„ <strong>App</strong> ç›¸å·®æ— å¼‚äº†ï¼Œå¤§å®¶å¦‚æœå¯¹é¡¹ç›®æ„Ÿå…´è¶£ï¼Œæƒ³äº†è§£å…·ä½“æ€ä¹ˆå®ç°çš„ï¼Œå¯ä»¥å»æˆ‘çš„ <a href="https://github.com/persilee" target="_blank" rel="noopener">GitHub</a> clone æºç æŸ¥çœ‹ã€‚</p><p>ä¹Ÿå¯æ‰«æï¼Œå®‰è£…ä½“éªŒï¼š</p><div style="width:166px; margin:auto"><img src="https://www.pgyer.com/app/qrcode/HqqH" alt="no-shadow" title="æ‰‹æœºæ‰«æäºŒç»´ç å®‰è£…"></div><p>æœ¬è§†é¢‘æ˜¯ç”¨çœŸæœºå½•å±çš„ï¼Œå› ä¸ºï¼Œè¯­éŸ³æœç´¢åŠŸèƒ½éœ€è¦å½•éŸ³ï¼Œæ¨¡æ‹Ÿå™¨æ— æ³•å½•éŸ³ï¼Œå½“ç„¶, <code>iOS</code> å’Œ <code>Andorid</code>éƒ½å¯ä»¥è¿è¡Œï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterCtrip/iOS-andorid.png" alt="no-shadow" title="iOS Andorid"></p><h2 id="é¡¹ç›®ç»“æ„åˆ†æ"><a href="#é¡¹ç›®ç»“æ„åˆ†æ" class="headerlink" title="é¡¹ç›®ç»“æ„åˆ†æ"></a>é¡¹ç›®ç»“æ„åˆ†æ</h2><p>å…¶æ¬¡ï¼Œæ¢³ç†ä¸‹é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œç†è§£æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€çº§ç›®å½•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ README.md  <span class="comment"># æè¿°æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ android    <span class="comment"># android å®¿ä¸»ç¯å¢ƒ</span></span><br><span class="line">â”œâ”€â”€ build      <span class="comment"># é¡¹ç›®æ„å»ºç›®å½•ï¼Œç”±flutterè‡ªåŠ¨å®Œæˆ</span></span><br><span class="line">â”œâ”€â”€ flutter_ctrip.iml</span><br><span class="line">â”œâ”€â”€ fonts      <span class="comment"># è‡ªå·±åˆ›å»ºçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾å­—ä½“</span></span><br><span class="line">â”œâ”€â”€ images     <span class="comment"># è‡ªå·±åˆ›å»ºçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾å›¾ç‰‡</span></span><br><span class="line">â”œâ”€â”€ ios        <span class="comment"># iOS å®¿ä¸»ç¯å¢ƒ</span></span><br><span class="line">â”œâ”€â”€ lib        <span class="comment"># flutter æ‰§è¡Œæ–‡ä»¶ï¼Œè‡ªå·±å†™çš„ä»£ç éƒ½åœ¨è¿™</span></span><br><span class="line">â”œâ”€â”€ pubspec.lock <span class="comment"># ç”¨æ¥è®°å½•é”å®šæ’ä»¶ç‰ˆæœ¬</span></span><br><span class="line">â”œâ”€â”€ pubspec.yaml <span class="comment"># æ’ä»¶åŠèµ„æºé…ç½®æ–‡ä»¶</span></span><br><span class="line">â””â”€â”€ <span class="built_in">test</span>       <span class="comment"># æµ‹è¯•ç›®å½•</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°±ä¸ç”¨å¤šè§£é‡Šï¼Œå¤§å¤šæ˜¯ flutter ç”ŸæˆåŠç®¡ç†çš„ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯ <strong>lib</strong> ç›®å½•ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹çœ‹äºŒçº§ç›®å½•ï¼Œå¦‚ä¸‹ <em>(é‡ç‚¹å…³æ³¨ä¸‹libç›®å½•)</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ android</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ android.iml</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ settings.gradle</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ app</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ snapshot_blob.bin.d.fingerprint</span><br><span class="line">â”œâ”€â”€ flutter_ctrip.iml</span><br><span class="line">â”œâ”€â”€ fonts</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ PingFang-Italic.ttf</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ PingFang-Regular.ttf</span><br><span class="line">â”‚Â Â  â””â”€â”€ PingFang_Bold.ttf</span><br><span class="line">â”œâ”€â”€ images</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ grid-nav-items-dingzhi.png</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ yuyin.png</span><br><span class="line">â”œâ”€â”€ ios</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ Flutter</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ ServiceDefinitions.json</span><br><span class="line">â”œâ”€â”€ lib</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ dao           <span class="comment"># è¯·æ±‚æ¥å£çš„ç±»</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ main.dart     <span class="comment"># flutter å…¥å£æ–‡ä»¶</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ model         <span class="comment"># å®ä½“ç±»ï¼ŒæŠŠæœåŠ¡å™¨è¿”å›çš„ json æ•°æ®ï¼Œè½¬æ¢æˆ dart ç±»</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ navigator     <span class="comment"># bottom bar é¦–é¡µåº•éƒ¨å¯¼èˆªè·¯ç”±</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ pages         <span class="comment"># æ‰€ä»¥çš„é¡µé¢</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ plugin        <span class="comment"># å°è£…çš„æ’ä»¶</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ util          <span class="comment"># å·¥å…·ç±»ï¼Œé¿å…é‡å¤ä»£ç ï¼Œå°è£…æˆå·¥å…·ç±»ä»¥ä¾¿å„ä¸ª page è°ƒç”¨</span></span><br><span class="line">â”‚Â Â  â””â”€â”€ widget        <span class="comment"># å°è£…çš„ç»„ä»¶</span></span><br><span class="line">â”œâ”€â”€ pubspec.lock</span><br><span class="line">â”œâ”€â”€ pubspec.yaml</span><br><span class="line">â””â”€â”€ <span class="built_in">test</span></span><br><span class="line">    â””â”€â”€ widget_test.dart</span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹çœ‹ï¼Œ<strong>lib</strong> ç›®å½•ä¸‹äºŒçº§ç›®å½•ï¼Œçœ‹çœ‹æ•´ä¸ªé¡¹ç›®åˆ›å»ºäº†å¤šå°‘ä¸ªæ–‡ä»¶ï¼Œå†™äº†å¤šå°‘ä»£ç ï¼Œå¦‚ä¸‹ <em>ï¼ˆå…¶å®ï¼Œå¹¶ä¸æ˜¯å¾ˆå¤šï¼‰</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ dao/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_search_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ home_dao.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ search_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ trave_hot_keyword_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ trave_search_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ trave_search_hot_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_params_dao.dart*</span><br><span class="line">â”‚Â Â  â””â”€â”€ travel_tab_dao.dart*</span><br><span class="line">â”œâ”€â”€ main.dart</span><br><span class="line">â”œâ”€â”€ model/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ common_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ config_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_search_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ grid_nav_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ home_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ sales_box_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ seach_model.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_hot_keyword_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_model.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_params_model.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_search_hot_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_search_model.dart</span><br><span class="line">â”‚Â Â  â””â”€â”€ travel_tab_model.dart</span><br><span class="line">â”œâ”€â”€ navigator/</span><br><span class="line">â”‚Â Â  â””â”€â”€ tab_navigater.dart</span><br><span class="line">â”œâ”€â”€ pages/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_search_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ home_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ my_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ search_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ speak_page.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ test_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_search_page.dart</span><br><span class="line">â”‚Â Â  â””â”€â”€ travel_tab_page.dart*</span><br><span class="line">â”œâ”€â”€ plugin/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ asr_manager.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ side_page_view.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ square_swiper_pagination.dart</span><br><span class="line">â”‚Â Â  â””â”€â”€ vertical_tab_view.dart</span><br><span class="line">â”œâ”€â”€ util/</span><br><span class="line">â”‚Â Â  â””â”€â”€ navigator_util.dart*</span><br><span class="line">â””â”€â”€ widget/</span><br><span class="line">    â”œâ”€â”€ grid_nav.dart</span><br><span class="line">    â”œâ”€â”€ grid_nav_new.dart</span><br><span class="line">    â”œâ”€â”€ loading_container.dart</span><br><span class="line">    â”œâ”€â”€ local_nav.dart</span><br><span class="line">    â”œâ”€â”€ sales_box.dart</span><br><span class="line">    â”œâ”€â”€ scalable_box.dart</span><br><span class="line">    â”œâ”€â”€ search_bar.dart*</span><br><span class="line">    â”œâ”€â”€ sub_nav.dart</span><br><span class="line">    â””â”€â”€ webview.dart</span><br></pre></td></tr></table></figure><p>æ•´ä¸ªé¡¹ç›®å°±æ˜¯ä»¥ä¸Šè¿™äº›æ–‡ä»¶äº† <em>ï¼ˆå…·ä½“çš„å°±ä¸ä¸€ä¸ªä¸€ä¸ªåˆ†æäº†ï¼Œå¦‚ï¼Œæ„Ÿå…´è¶£ï¼Œå¤§å®¶å¯ä»¥ clone æºç è¿è¡Œèµ·æ¥ï¼Œè‡ªç„¶å°±æ¸…é™¤äº†ï¼‰</em>ã€‚</p><h2 id="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"><a href="#é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰" class="headerlink" title="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"></a>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</h2><p>é¦–å…ˆï¼Œæ¥çœ‹çœ‹é¦–é¡µåŠŸèƒ½åŠæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼Œé¦–é¡µé‡ç‚¹çœ‹ä¸‹ä»¥ä¸‹åŠŸèƒ½å®ç°ï¼š</p><ul><li>æ¸éšæ¸ç°çš„ <strong>appBar</strong> </li><li>æœç´¢ç»„ä»¶çš„å°è£…</li><li>è¯­éŸ³æœç´¢é¡µé¢</li><li>bannerç»„ä»¶</li><li>æµ®åŠ¨çš„ icon å¯¼èˆª</li><li>æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª</li></ul><h3 id="æ¸éšæ¸ç°çš„-appBar"><a href="#æ¸éšæ¸ç°çš„-appBar" class="headerlink" title="æ¸éšæ¸ç°çš„ appBar"></a>æ¸éšæ¸ç°çš„ appBar</h3><p>å…ˆæ¥çœ‹çœ‹å…·ä½“æ•ˆæœï¼Œä¸€ç¹èŠ³å®¹ï¼Œå¦‚å›¾ï¼š</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/appBar.gif" alt="no-shadow" title="appBar"></div><p>æ»šåŠ¨çš„æ—¶å€™ <strong>appBar</strong> èƒŒæ™¯è‰²ä»é€æ˜å˜æˆç™½è‰²æˆ–ç™½è‰²å˜æˆé€æ˜ï¼Œè¿™é‡Œä¸»è¦ç”¨äº† <strong>flutter</strong> çš„ <code>NotificationListener</code> ç»„ä»¶ï¼Œå®ƒä¼šå»ç›‘å¬ç»„ä»¶æ ‘å†’æ³¡äº‹ä»¶ï¼Œå½“è¢«å®ƒåŒ…è£¹çš„çš„ç»„ä»¶<em>ï¼ˆå­ç»„ä»¶ï¼‰</em> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code>Notification</code> å›è°ƒå‡½æ•°ä¼šè¢«è§¦å‘ï¼Œæ‰€ä»¥ï¼Œé€šè¿‡å®ƒå¯ä»¥å»ç›‘å¬é¡µé¢çš„æ»šåŠ¨ï¼Œæ¥åŠ¨æ€æ”¹å˜ <strong>appBar</strong> çš„é€æ˜åº¦<em>ï¼ˆalphaï¼‰</em>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NotificationListener(</span><br><span class="line">  onNotification: (scrollNotification) &#123;</span><br><span class="line">    <span class="keyword">if</span> (scrollNotification <span class="keyword">is</span> ScrollUpdateNotification &amp;&amp;</span><br><span class="line">        scrollNotification.depth == <span class="number">0</span>) &#123;</span><br><span class="line">      _onScroll(scrollNotification.metrics.pixels);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  child: ...</span><br></pre></td></tr></table></figure><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> <span class="label danger">scrollNotification.depth</span>çš„å€¼ 0 è¡¨ç¤ºå…¶å­ç»„ä»¶<em>(åªç›‘å¬å­ç»„ä»¶ï¼Œä¸ç›‘å¬å­™ç»„ä»¶)</em>ï¼›<span class="label danger">scrollNotification is ScrollUpdateNotification</span>æ¥åˆ¤æ–­ç»„ä»¶æ˜¯å¦å·²æ›´æ–°ï¼Œ<strong>ScrollUpdateNotification</strong> æ˜¯ notifications çš„ç”Ÿå‘½å‘¨æœŸä¸€ç§æƒ…å†µï¼Œåˆ†åˆ«æœ‰ä¸€ä¸‹å‡ ç§ï¼š</p><ul><li>ScrollStartNotification ç»„ä»¶å¼€å§‹æ»šåŠ¨</li><li>ScrollUpdateNotification ç»„ä»¶ä½ç½®å·²ç»å‘ç”Ÿæ”¹å˜</li><li>ScrollEndNotification ç»„ä»¶åœæ­¢æ»šåŠ¨</li><li>UserScrollNotification ä¸æ¸…æ¥š</li></ul><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¸æ¢ç©¶å¤ªæ·±å…¥ï¼Œå¦‚æƒ³äº†è§£å¯å¤šæŸ¥çœ‹æºç ã€‚</p></div> <p><strong>_onScroll</strong> æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _onScroll(offset) &#123;</span><br><span class="line">  <span class="built_in">double</span> alpha = offset / APPBAR_SCROLL_OFFSET;  <span class="comment">// APPBAR_SCROLL_OFFSET å¸¸é‡ï¼Œå€¼ï¼š100ï¼›offset æ»šåŠ¨çš„è·ç¦»</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//æŠŠ alpha å€¼æ§åˆ¶å€¼ 0-1 ä¹‹é—´</span></span><br><span class="line">  <span class="keyword">if</span> (alpha &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    alpha = <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (alpha &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    alpha = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    appBarAlpha = alpha;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(alpha);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœç´¢ç»„ä»¶çš„å°è£…"><a href="#æœç´¢ç»„ä»¶çš„å°è£…" class="headerlink" title="æœç´¢ç»„ä»¶çš„å°è£…"></a>æœç´¢ç»„ä»¶çš„å°è£…</h3><p>æœç´¢ç»„ä»¶æ•ˆæœå¦‚å›¾ï¼š</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/searchBar.gif" alt="no-shadow" title="searchBar"></div><p>ä»¥ä¸‹æ˜¯é¦–é¡µè°ƒç”¨ <code>searchBar</code> çš„ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SearchBar(</span><br><span class="line">  searchBarType: appBarAlpha &gt; <span class="number">0.2</span>  <span class="comment">//searchBar çš„ç±»ï¼šæš—è‰²ã€äº®è‰²</span></span><br><span class="line">      ? SearchBarType.homeLight</span><br><span class="line">      : SearchBarType.home,</span><br><span class="line">  inputBoxClick: _jumpToSearch,     <span class="comment">//ç‚¹å‡»å›è°ƒå‡½æ•°</span></span><br><span class="line">  defaultText: SEARCH_BAR_DEFAULT_TEXT,   <span class="comment">// æç¤ºæ–‡å­—</span></span><br><span class="line">  leftButtonClick: () &#123;&#125;,           <span class="comment">//å·¦è¾¹è¾¹æŒ‰é’®ç‚¹å‡»å›è°ƒå‡½æ•°</span></span><br><span class="line">  speakClick: _jumpToSpeak,         <span class="comment">//ç‚¹å‡»è¯ç­’å›è°ƒå‡½æ•°</span></span><br><span class="line">  rightButtonClick: _jumpToUser,    <span class="comment">//å³è¾¹è¾¹æŒ‰é’®ç‚¹å‡»å›è°ƒå‡½æ•°</span></span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯ç”¨ <code>TextField</code> ç»„ä»¶ï¼Œå†åŠ ä¸€äº›æ ·å¼ï¼Œéœ€è¦æ³¨æ„ç‚¹æ˜¯ï¼š<strong>onChanged</strong>ï¼Œä»–æ˜¯ <strong>TextField</strong> ç”¨æ¥ç›‘å¬æ–‡æœ¬æ¡†æ˜¯å¦å˜åŒ–ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬æ¥ç›‘å¬ç”¨æˆ·è¾“å…¥ï¼Œæ¥è¯·æ±‚æ¥å£æ•°æ®;å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œè¯·æŸ¥é˜…æºç ï¼š <a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/widget/search_bar.dart" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹searchBaræºç </a></p><h3 id="è¯­éŸ³æœç´¢é¡µé¢"><a href="#è¯­éŸ³æœç´¢é¡µé¢" class="headerlink" title="è¯­éŸ³æœç´¢é¡µé¢"></a>è¯­éŸ³æœç´¢é¡µé¢</h3><p>è¯­éŸ³æœç´¢é¡µé¢æ•ˆæœå¦‚å›¾ï¼šç”±äºæ¨¡æ‹Ÿå™¨æ— æ³•å½•éŸ³ï¼Œæ‰€ä»¥æ— æ³•å±•ç¤ºæ­£å¸¸æµç¨‹ï¼Œå¦‚æœå½•éŸ³è¯†åˆ«æˆåŠŸåä¼šè¿”å›æœç´¢é¡µé¢ï¼Œåœ¨é¡¹ç›®é¢„è§ˆè§†é¢‘ä¸­å¯ä»¥çœ‹åˆ°æ­£å¸¸æµç¨‹ã€‚</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/speak.gif" alt="no-shadow" title="speak"></div><p>è¯­éŸ³æœç´¢åŠŸèƒ½ä½¿ç”¨çš„æ˜¯ç™¾åº¦çš„è¯­è¨€è¯†åˆ«SDKï¼ŒåŸç”Ÿæ¥å…¥ä¹‹åï¼Œé€šè¿‡ <strong>MethodChannel</strong> å’ŒåŸç”ŸNativeç«¯é€šä¿¡ï¼Œè¿™é‡Œä¸åšé‡ç‚¹è®²è¿°ï¼ˆè¿™é‡Œä¼šæ¶‰åŠåŸç”ŸNativeçš„çŸ¥è¯†ï¼‰ã€‚</p><p>é‡ç‚¹çœ‹çœ‹ç‚¹å‡»å½•éŸ³æŒ‰é’®æ—¶çš„åŠ¨ç”»å®ç°ï¼Œè¿™ä¸ªåŠ¨ç”»ç”¨äº† <strong>AnimatedWidget</strong> å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimatedWear</span> <span class="keyword">extends</span> <span class="title">AnimatedWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> isStart;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> _opacityTween = Tween&lt;<span class="built_in">double</span>&gt;(begin: <span class="number">0.5</span>, end: <span class="number">0</span>); <span class="comment">// è®¾ç½®é€æ˜åº¦å˜åŒ–å€¼</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> _sizeTween = Tween&lt;<span class="built_in">double</span>&gt;(begin: <span class="number">90</span>, end: <span class="number">260</span>);   <span class="comment">// è®¾ç½®åœ†å½¢çº¿çš„æ‰©æ•£å€¼</span></span><br><span class="line"></span><br><span class="line">  AnimatedWear(&#123;Key key, <span class="keyword">this</span>.isStart, Animation&lt;<span class="built_in">double</span>&gt; animation&#125;)</span><br><span class="line">      : <span class="keyword">super</span>(key: key, listenable: animation);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">final</span> Animation&lt;<span class="built_in">double</span>&gt; animation = listenable;  <span class="comment">// listenable ç»§æ‰¿ AnimatedWidgetï¼Œå…¶å®å°±æ˜¯æ§åˆ¶å™¨ï¼Œä¼šè‡ªåŠ¨ç›‘å¬ç»„ä»¶çš„å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      height: <span class="number">90</span>,</span><br><span class="line">      width: <span class="number">90</span>,</span><br><span class="line">      child: Stack(</span><br><span class="line">        overflow: Overflow.visible,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          ...</span><br><span class="line">          <span class="comment">// æ‰©æ•£çš„åœ†çº¿ï¼Œå…¶å®å°±æ˜¯ç”¨ä¸€ä¸ªåœ†å®ç°çš„ï¼Œè®¾ç½®åœ†ä¸ºé€æ˜ï¼Œè®¾ç½®border</span></span><br><span class="line">          Positioned(</span><br><span class="line">            left: -((_sizeTween.evaluate(animation) - <span class="number">90</span>) / <span class="number">2</span>), <span class="comment">// æ ¹æ® _sizeTween åŠ¨æ€è®¾ç½®leftåç§»å€¼</span></span><br><span class="line">            top: -((_sizeTween.evaluate(animation) - <span class="number">90</span>) / <span class="number">2</span>), <span class="comment">//  æ ¹æ® _sizeTween åŠ¨æ€è®¾ç½®topåç§»å€¼</span></span><br><span class="line">            child: Opacity(</span><br><span class="line">              opacity: _opacityTween.evaluate(animation),      <span class="comment">// æ ¹æ® _opacityTween åŠ¨æ€è®¾ç½®é€æ˜å€¼</span></span><br><span class="line">              child: Container(</span><br><span class="line">                width: isStart ? _sizeTween.evaluate(animation) : <span class="number">0</span>, <span class="comment">// è®¾ç½® å®½</span></span><br><span class="line">                height: _sizeTween.evaluate(animation),              <span class="comment">// è®¾ç½® é«˜</span></span><br><span class="line">                decoration: BoxDecoration(</span><br><span class="line">                    color: Colors.transparent,</span><br><span class="line">                    borderRadius: BorderRadius.circular(</span><br><span class="line">                        _sizeTween.evaluate(animation) / <span class="number">2</span>),</span><br><span class="line">                    border: Border.all(</span><br><span class="line">                      color: Color(<span class="number">0xa8000000</span>),</span><br><span class="line">                    )),</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä»–ç»†èŠ‚ï¼Œå¦‚ï¼šç‚¹å‡»æ—¶æç¤ºå½•éŸ³ï¼Œå½•éŸ³å¤±è´¥æç¤ºï¼Œç‚¹å‡»å½•éŸ³æŒ‰é’®å‡ºç°åŠé€æ˜é»‘è‰²åœ†è¾¹æ¡†ï¼Œåœæ­¢åæ¶ˆå¤±ç­‰ï¼Œ<a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/pages/speak_page.dart" target="_blank" rel="noopener">è¯·æŸ¥çœ‹æºç </a>ã€‚</p><h3 id="bannerç»„ä»¶"><a href="#bannerç»„ä»¶" class="headerlink" title="bannerç»„ä»¶"></a>bannerç»„ä»¶</h3><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/banner.gif" alt="no-shadow" title="banner"></div><p><code>banner</code>ä½¿ç”¨çš„æ˜¯flutterçš„ <a href="https://pub.dev/packages/flutter_swiper" target="_blank" rel="noopener">flutter_swiper</a> æ’ä»¶å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Swiper(</span><br><span class="line">  itemCount: bannerList.length,              <span class="comment">// æ»šåŠ¨å›¾ç‰‡çš„æ•°é‡</span></span><br><span class="line">  autoplay: <span class="keyword">true</span>,                            <span class="comment">// è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  pagination: SwiperPagination(              <span class="comment">// æŒ‡ç¤ºå™¨</span></span><br><span class="line">      builder: SquareSwiperPagination(</span><br><span class="line">        size: <span class="number">6</span>,                             <span class="comment">// æŒ‡ç¤ºå™¨çš„å¤§å°</span></span><br><span class="line">        activeSize: <span class="number">6</span>,                       <span class="comment">// æ¿€æ´»çŠ¶æ€æŒ‡ç¤ºå™¨çš„å¤§å°</span></span><br><span class="line">        color: Colors.white.withAlpha(<span class="number">80</span>),   <span class="comment">// é¢œè‰²</span></span><br><span class="line">        activeColor: Colors.white,           <span class="comment">// æ¿€æ´»çŠ¶æ€çš„é¢œè‰²</span></span><br><span class="line">      ),</span><br><span class="line">    alignment: Alignment.bottomRight,        <span class="comment">// å¯¹é½æ–¹å¼</span></span><br><span class="line">    margin: EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">28</span>), <span class="comment">// è¾¹è·</span></span><br><span class="line">  ),</span><br><span class="line">  itemBuilder: (BuildContext context, <span class="built_in">int</span> index) &#123; <span class="comment">// æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">return</span> GestureDetector(</span><br><span class="line">      onTap: () &#123;</span><br><span class="line">        CommonModel model = bannerList[index];</span><br><span class="line">        Navigator.push(</span><br><span class="line">          context,</span><br><span class="line">          MaterialPageRoute(</span><br><span class="line">            builder: (context) =&gt; WebView(</span><br><span class="line">              url: model.url,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">      child: Image.network(</span><br><span class="line">        bannerList[index].icon,</span><br><span class="line">        fit: BoxFit.fill,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥å» flutterçš„å®˜æ–¹æ’ä»¶åº“ <a href="https://pub.dev/" target="_blank" rel="noopener">pub.dev</a> æŸ¥çœ‹ï¼š<a href="https://pub.dev/packages/flutter_swiper" target="_blank" rel="noopener">ç‚¹å‡»flutter_swiperæŸ¥çœ‹</a>ã€‚<div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ç¨æ”¹é€ äº†ä¸€ä¸‹æŒ‡ç¤ºå™¨çš„æ ·å¼ï¼Œ<code>flutter_swiper</code> åªæä¾›äº† 3 ç§æŒ‡ç¤ºå™¨æ ·å¼ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>dots = const DotSwiperPaginationBuilder()ï¼Œåœ†å½¢</li><li>fraction = const FractionPaginationBuilder()ï¼Œç™¾åˆ†æ•°ç±»å‹çš„,å¦‚ï¼š1/6ï¼Œè¡¨ç¤º6é¡µçš„ç¬¬ä¸€é¡µ</li><li>rect = const RectSwiperPaginationBuilder()ï¼ŒçŸ©å½¢</li></ul><p>å¹¶æ²¡æœ‰ä¸Šå›¾çš„æ¿€æ´»çŠ¶æ€çš„é•¿æ¤­åœ†å½¢ï¼Œå…¶å®å°±æ˜¯æŒ‰è‘«èŠ¦ç”»ç“¢ï¼Œè‡ªå·±å®ç°ä¸€ä¸ªé•¿æ¤­åœ†ç±»å‹ï¼Œå¦‚çŸ¥è¯¦æƒ…ï¼Œå¯<a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/plugin/square_swiper_pagination.dart" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹é•¿æ¤­åœ†å½¢æŒ‡ç¤ºå™¨æºç </a></p></div> </p><h3 id="æµ®åŠ¨çš„-icon-å¯¼èˆª"><a href="#æµ®åŠ¨çš„-icon-å¯¼èˆª" class="headerlink" title="æµ®åŠ¨çš„ icon å¯¼èˆª"></a>æµ®åŠ¨çš„ icon å¯¼èˆª</h3><p><strong>iconå¯¼èˆª</strong>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterCtrip/iconBar.png" alt="iconBar" width="36%" title="iconBar" align="center"></p><p><strong>iconå¯¼èˆª</strong>æµ®åŠ¨åœ¨bannerä¹‹ä¸Šï¼Œå…¶å®ç”¨çš„æ˜¯ <code>flutter</code> çš„ <strong>Stack</strong> ç»„ä»¶ï¼ŒStack ç»„ä»¶èƒ½è®©å…¶å­ç»„ä»¶å †å æ˜¾ç¤ºï¼Œå®ƒé€šå¸¸å’Œ <strong>Positioned</strong> ç»„ä»¶é…åˆä½¿ç”¨ï¼Œå¸ƒå±€ç»“æ„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ListView(</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Container(</span><br><span class="line">      child: Stack(</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          Container( ... ), <span class="comment">//è¿™é‡Œæ”¾çš„æ˜¯bannerçš„ä»£ç </span></span><br><span class="line">          Positioned( ... ), <span class="comment">//è¿™ä¸ªå°±æ˜¯iconå¯¼èˆªï¼Œé€šè¿‡ Positioned å›ºå®šæ˜¾ç¤ºä½ç½®</span></span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">    Container( ... ), <span class="comment">// è¿™é‡Œæ”¾çš„ç½‘æ ¼å¯¼èˆªåŠå…¶ä»–</span></span><br><span class="line">  ],</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª"><a href="#æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª" class="headerlink" title="æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª"></a>æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª</h3><p>ç½‘æ ¼å¯¼èˆªæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterCtrip/gridNav.png" alt="gridNav" width="46%" title="gridNav" align="center"></p><p>å¦‚å›¾ï¼Œç½‘æ ¼å¯¼èˆªåˆ†ä¸ºä¸‰è¡Œå››æ ï¼Œè€Œç¬¬ä¸€è¡Œåˆ†ä¸ºä¸‰æ ï¼Œæ¯ä¸€è¡Œçš„ç¬¬ä¸€æ å®½åº¦å¤§äºå…¶ä½™ä¸‰æ ï¼Œå…¶ä½™ä¸‰æ å‡ç­‰ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰æ¸å˜è‰²ï¼Œè€Œä¸”ç¬¬ä¸€ã€äºŒæ éƒ½æœ‰èƒŒæ™¯å›¾;<code>flutter</code> é‡Œ <strong>Column</strong> ç»„ä»¶èƒ½è®©å­ç»„ä»¶ç«–è½´æ’åˆ—ï¼Œ <strong>Row</strong> ç»„ä»¶èƒ½è®©å­ç»„ä»¶æ¨ªè½´æ’åˆ—ï¼Œå¸ƒå±€ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Column(                      <span class="comment">// æœ€å¤–é¢æ”¾åœ¨ Column ç»„ä»¶</span></span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Container(               <span class="comment">// ç¬¬ä¸€è¡ŒåŒ…è£¹ Container è®¾ç½®å…¶æ¸å˜è‰²</span></span><br><span class="line">      height: <span class="number">72</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        gradient: LinearGradient(colors: [  <span class="comment">//è®¾ç½®æ¸å˜è‰²</span></span><br><span class="line">          Color(<span class="number">0xfffa5956</span>),</span><br><span class="line">          Color(<span class="number">0xffef9c76</span>).withAlpha(<span class="number">45</span>)</span><br><span class="line">        ]),</span><br><span class="line">      ),</span><br><span class="line">      child: Row( ... ),    <span class="comment">// ç¬¬ä¸€è¡Œ</span></span><br><span class="line">    ),</span><br><span class="line">    Padding(</span><br><span class="line">      padding: EdgeInsets.only(top: <span class="number">1</span>),  <span class="comment">// è®¾ç½®è¡Œç›´æ¥çš„é—´éš”</span></span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      height: <span class="number">72</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        gradient: LinearGradient(colors: [  <span class="comment">//è®¾ç½®æ¸å˜è‰²</span></span><br><span class="line">          Color(<span class="number">0xff4b8fed</span>),</span><br><span class="line">          Color(<span class="number">0xff53bced</span>),</span><br><span class="line">        ]),</span><br><span class="line">      ),</span><br><span class="line">      child: Row( ... ),  <span class="comment">// ç¬¬äºŒè¡Œ</span></span><br><span class="line">    ),</span><br><span class="line">    Padding(</span><br><span class="line">      padding: EdgeInsets.only(top: <span class="number">1</span>),   <span class="comment">// è®¾ç½®è¡Œç›´æ¥çš„é—´éš”</span></span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      height: <span class="number">72</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        gradient: LinearGradient(colors: [  <span class="comment">//è®¾ç½®æ¸å˜è‰²</span></span><br><span class="line">          Color(<span class="number">0xff34c2aa</span>),</span><br><span class="line">          Color(<span class="number">0xff6cd557</span>),</span><br><span class="line">        ]),</span><br><span class="line">      ),</span><br><span class="line">      child: Row( ... ),  <span class="comment">// ç¬¬ä¸‰è¡Œ</span></span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…¶å®ï¼Œå…·ä½“å®ç°çš„ç»†èŠ‚è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚ï¼š</p><ul><li>æ€ä¹ˆè®¾ç½®ç¬¬ä¸€æ å®½åº¦åå¤§ï¼Œå…¶ä»–å‡ç­‰ï¼›</li><li>ç¬¬ä¸€è¡Œæœ€åä¸€æ å®½åº¦æ˜¯å…¶ä»–çš„2å€ï¼›</li><li>ç¬¬ä¸€ã€äºŒæ çš„èƒŒæ™¯å›¾åŠæµ®åŠ¨çš„çº¢è‰²æ°”æ³¡tipç­‰;</li></ul><p>åœ¨è¿™é‡Œå°±ä¸ç»†è®²ï¼Œå¦åˆ™ç¯‡å¹…å¤ªé•¿ï¼Œå¦‚æƒ³äº†è§£è¯¦æƒ… <a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/widget/grid_nav_new.dart" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æºç </a></p><p>å…¶æ¬¡ï¼Œå†æ¥çœ‹çœ‹<strong>ç›®çš„åœ°</strong>é¡µé¢åŠŸèƒ½åŠæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼Œé‡ç‚¹çœ‹ä¸‹ä»¥ä¸‹åŠŸèƒ½å®ç°ï¼š</p><ul><li>å·¦å³å¸ƒå±€tabBarListView </li><li>ç›®çš„åœ°æœç´¢é¡µé¢</li></ul><h3 id="å·¦å³å¸ƒå±€tabBarListView"><a href="#å·¦å³å¸ƒå±€tabBarListView" class="headerlink" title="å·¦å³å¸ƒå±€tabBarListView"></a>å·¦å³å¸ƒå±€tabBarListView</h3><p>å…·ä½“æ•ˆæœå¦‚å›¾ï¼šç‚¹å‡»å·¦è¾¹æ ‡ç­¾å¯ä»¥åˆ‡æ¢é¡µé¢ï¼Œå·¦å³æ»‘åŠ¨ä¹Ÿå¯åˆ‡æ¢é¡µé¢ï¼Œç‚¹å‡»å±•å¼€æ˜¾ç¤ºæ›´å¤šç­‰</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/destination.gif" alt="no-shadow" title="destination"></div><p>å…¶å®å®˜æ–¹å·²ç»æä¾›äº† <strong>tabBar</strong> å’Œ <strong>TabBarView</strong> ç»„ä»¶å¯ä»¥å®ç°ä¸Šä¸‹å¸ƒå±€çš„æ•ˆæœ<em>(æ—…æ‹é¡µé¢å°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„)</em>ï¼Œä½†æ˜¯å®ƒæ— æ³•å®ç°å·¦å³å¸ƒå±€ï¼Œè€Œä¸”ä¸å¤ªçµæ´»ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <a href="https://pub.dev/packages/vertical_tabs" target="_blank" rel="noopener">vertical_tabs</a>æ’ä»¶, ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">VerticalTabView(</span><br><span class="line">    tabsWidth: <span class="number">88</span>,</span><br><span class="line">    tabsElevation: <span class="number">0</span>,</span><br><span class="line">    indicatorWidth: <span class="number">0</span>,</span><br><span class="line">    selectedTabBackgroundColor: Colors.white,</span><br><span class="line">    backgroundColor: Colors.white,</span><br><span class="line">    tabTextStyle: TextStyle(</span><br><span class="line">      height: <span class="number">60</span>,</span><br><span class="line">      color: Color(<span class="number">0xff333333</span>),</span><br><span class="line">    ),</span><br><span class="line">    tabs: tabs,</span><br><span class="line">    contents: tabPages,</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œ<a href="https://pub.dev/packages/vertical_tabs" target="_blank" rel="noopener">ç‚¹å‡»vertical_tabsæŸ¥çœ‹</a></p><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š<strong>å±•å¼€</strong>æ˜¾ç¤ºæ›´å¤šspanæ ‡ç­¾ç»„ä»¶çš„å®ç°ï¼Œå› ä¸ºï¼Œè¿™ä¸ªç»„ä»¶åœ¨å¾ˆå¤šçš„å…¶ä»–ç»„ä»¶é‡Œç”¨åˆ°è€Œä¸”è¦æ ¹æ®æ¥å£æ•°æ®åŠ¨æ€æ¸²æŸ“ï¼Œä¸”ç»„ä»¶è‡ªèº«å­˜åœ¨çŠ¶æ€çš„å˜åŒ–ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½æ˜¯æŠŠä»–å•ç‹¬å°è£…æˆä¸€ä¸ªç»„ä»¶<em>(widget)</em>ï¼Œå¦åˆ™ï¼Œå¾ˆéš¾æ§åˆ¶è‡ªèº«çŠ¶æ€çš„å˜åŒ–ï¼Œå‡ºç°ç‚¹å‡»æ²¡æœ‰æ•ˆæœï¼Œæˆ–ç‚¹å‡»å½±å“å…¶ä»–ç»„ä»¶ã€‚ </p></div> <h3 id="ç›®çš„åœ°æœç´¢é¡µé¢"><a href="#ç›®çš„åœ°æœç´¢é¡µé¢" class="headerlink" title="ç›®çš„åœ°æœç´¢é¡µé¢"></a>ç›®çš„åœ°æœç´¢é¡µé¢</h3><p>æ•ˆæœå¦‚å›¾ï¼šç‚¹å‡»æœç´¢ç»“æœï¼Œå¦‚ï¼šç‚¹å‡»â€˜ä¸€æ—¥æ¸¸â€˜ï¼Œä¼šæœç´¢åˆ°â€˜ä¸€æ—¥æ¸¸â€˜çš„ç›¸å…³æ•°æ®</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/destination-search.gif" alt="no-shadow" title="destination"></div><p>ç›®çš„åœ°æœç´¢é¡µé¢ï¼Œå¤§å¤šéƒ½æ˜¯å’Œå¸ƒå±€å’Œå¯¹æ¥æ¥å£çš„ä»£ç ï¼Œåœ¨è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p><p>ç„¶åå°±æ˜¯<strong>æ—…æ‹é¡µé¢</strong>åŠŸèƒ½åŠæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼Œé‡ç‚¹çœ‹ä¸‹ä»¥ä¸‹åŠŸèƒ½å®ç°ï¼š</p><ul><li>å·¦å³å¸ƒå±€tabBarListView</li><li>ç€‘å¸ƒæµå¡ç‰‡</li><li>æ—…æ‹æœç´¢é¡µ</li></ul><h3 id="å·¦å³å¸ƒå±€tabBarListView-1"><a href="#å·¦å³å¸ƒå±€tabBarListView-1" class="headerlink" title="å·¦å³å¸ƒå±€tabBarListView"></a>å·¦å³å¸ƒå±€tabBarListView</h3><p>æ•ˆæœå¦‚å›¾ï¼šå¯å·¦å³æ»‘åŠ¨åˆ‡æ¢é¡µé¢ï¼Œä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œä¸‹æ‹‰åˆ·æ–°ç­‰</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/travel.gif" alt="no-shadow" title="travel"></div><p>è¿™ä¸ªæ˜¯<code>flutter</code> æä¾›çš„ç»„ä»¶ï¼Œ<strong>tabBar</strong> å’Œ <strong>TabBarView</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  color: Colors.white,</span><br><span class="line">  padding: EdgeInsets.only(left: <span class="number">2</span>),</span><br><span class="line">  child: TabBar(</span><br><span class="line">    controller: _controller,</span><br><span class="line">    isScrollable: <span class="keyword">true</span>,</span><br><span class="line">    labelColor: Colors.black,</span><br><span class="line">    labelPadding: EdgeInsets.fromLTRB(<span class="number">8</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>),</span><br><span class="line">    indicatorColor: Color(<span class="number">0xff2FCFBB</span>),</span><br><span class="line">    indicatorPadding: EdgeInsets.all(<span class="number">6</span>),</span><br><span class="line">    indicatorSize: TabBarIndicatorSize.label,</span><br><span class="line">    indicatorWeight: <span class="number">2.2</span>,</span><br><span class="line">    labelStyle: TextStyle(fontSize: <span class="number">18</span>),</span><br><span class="line">    unselectedLabelStyle: TextStyle(fontSize: <span class="number">15</span>),</span><br><span class="line">    tabs: tabs.map&lt;Tab&gt;((Groups tab) &#123;</span><br><span class="line">      <span class="keyword">return</span> Tab(</span><br><span class="line">        text: tab.name,</span><br><span class="line">      );</span><br><span class="line">    &#125;).toList(),</span><br><span class="line">  ),</span><br><span class="line">),</span><br><span class="line">Flexible(</span><br><span class="line">    child: Container(</span><br><span class="line">  padding: EdgeInsets.fromLTRB(<span class="number">6</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">0</span>),</span><br><span class="line">  child: TabBarView(</span><br><span class="line">      controller: _controller,</span><br><span class="line">      children: tabs.map((Groups tab) &#123;</span><br><span class="line">        <span class="keyword">return</span> TravelTabPage(</span><br><span class="line">          travelUrl: travelParamsModel?.url,</span><br><span class="line">          params: travelParamsModel?.params,</span><br><span class="line">          groupChannelCode: tab?.code,</span><br><span class="line">        );</span><br><span class="line">      &#125;).toList()),</span><br><span class="line">)),</span><br></pre></td></tr></table></figure><h3 id="ç€‘å¸ƒæµå¡ç‰‡"><a href="#ç€‘å¸ƒæµå¡ç‰‡" class="headerlink" title="ç€‘å¸ƒæµå¡ç‰‡"></a>ç€‘å¸ƒæµå¡ç‰‡</h3><p><strong>ç€‘å¸ƒæµå¡ç‰‡</strong> ç”¨çš„æ˜¯ <a href="https://pub.dev/packages/flutter_staggered_grid_view" target="_blank" rel="noopener">flutter_staggered_grid_view</a> æ’ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">StaggeredGridView.countBuilder(</span><br><span class="line">  controller: _scrollController,</span><br><span class="line">  crossAxisCount: <span class="number">4</span>,</span><br><span class="line">  itemCount: travelItems?.length ?? <span class="number">0</span>,</span><br><span class="line">  itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; _TravelItem(</span><br><span class="line">        index: index,</span><br><span class="line">        item: travelItems[index],</span><br><span class="line">      ),</span><br><span class="line">  staggeredTileBuilder: (<span class="built_in">int</span> index) =&gt; <span class="keyword">new</span> StaggeredTile.fit(<span class="number">2</span>),</span><br><span class="line">  mainAxisSpacing: <span class="number">2.0</span>,</span><br><span class="line">  crossAxisSpacing: <span class="number">2.0</span>,</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹äº†è§£æ›´å¤šç›¸å…³ä¿¡æ¯ï¼Œ<a href="https://pub.dev/packages/flutter_staggered_grid_view" target="_blank" rel="noopener">ç‚¹å‡»flutter_staggered_grid_viewæŸ¥çœ‹</a>ã€‚</p><h3 id="æ—…æ‹æœç´¢é¡µ"><a href="#æ—…æ‹æœç´¢é¡µ" class="headerlink" title="æ—…æ‹æœç´¢é¡µ"></a>æ—…æ‹æœç´¢é¡µ</h3><p>æ•ˆæœå¦‚å›¾ï¼šé¦–å…ˆæ˜¾ç¤ºçƒ­é—¨æ—…æ‹æ ‡ç­¾ï¼Œç‚¹å‡»å¯æœç´¢ç›¸å…³å†…å®¹ï¼Œè¾“å…¥å…³é”®å­—å¯æœç´¢ç›¸å…³æ—…æ‹ä¿¡æ¯ï¼Œåœ°ç‚¹ã€æ™¯ç‚¹ã€ç”¨æˆ·ç­‰</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/travel-search.gif" alt="no-shadow" title="travel-search"></div><p>æ—…æ‹æœç´¢é¡µï¼Œå¤§å¤šä¹Ÿæ˜¯å’Œå¸ƒå±€å’Œå¯¹æ¥æ¥å£çš„ä»£ç ï¼Œåœ¨è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p><h2 id="å°æŠ€å·§ç§¯ç´¯æ€»ç»“"><a href="#å°æŠ€å·§ç§¯ç´¯æ€»ç»“" class="headerlink" title="å°æŠ€å·§ç§¯ç´¯æ€»ç»“"></a>å°æŠ€å·§ç§¯ç´¯æ€»ç»“</h2><p>ä»¥ä¸‹éƒ½æ˜¯æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨è¿™é‡Œè®°å½•åˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ã€‚</p><h3 id="PhysicalModel"><a href="#PhysicalModel" class="headerlink" title="PhysicalModel"></a>PhysicalModel</h3><p><strong>PhysicalModel</strong> å¯ä»¥è£å‰ªå¸¦èƒŒæ™¯å›¾çš„å®¹å™¨ï¼Œå¦‚ï¼Œä½ åœ¨ä¸€ä¸ª Container é‡Œæ”¾äº†ä¸€å¼ å›¾ç‰‡ï¼Œæƒ³è®¾ç½®å›¾ç‰‡åœ†è§’ï¼Œè®¾ç½® Container çš„ decoration çš„ borderRadius æ˜¯æ— æ•ˆçš„ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ° <strong>PhysicalModel</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PhysicalModel(</span><br><span class="line">  borderRadius: BorderRadius.circular(<span class="number">6</span>),  <span class="comment">// è®¾ç½®åœ†è§’</span></span><br><span class="line">  clipBehavior: Clip.antiAlias,            <span class="comment">// è£å‰ªè¡Œä¸º</span></span><br><span class="line">  color: Colors.transparent,               <span class="comment">// é¢œè‰²</span></span><br><span class="line">  elevation: <span class="number">5</span>,                            <span class="comment">// è®¾ç½®é˜´å½±</span></span><br><span class="line">  child: Container(</span><br><span class="line">        child: Image.network(</span><br><span class="line">          picUrl,</span><br><span class="line">          fit: BoxFit.cover,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="LinearGradient"><a href="#LinearGradient" class="headerlink" title="LinearGradient"></a>LinearGradient</h3><p>ç»™å®¹å™¨æ·»åŠ æ¸å˜è‰²ï¼Œåœ¨ç½‘æ ¼å¯¼èˆªã€appBarç­‰åœ°æ–¹éƒ½ä½¿ç”¨åˆ°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  height: <span class="number">72</span>,</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    gradient: LinearGradient(colors: [</span><br><span class="line">      Color(<span class="number">0xff4b8fed</span>),</span><br><span class="line">      Color(<span class="number">0xff53bced</span>),</span><br><span class="line">    ]),</span><br><span class="line">  ),</span><br><span class="line">  child: ...</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="Color-int-parse-â€˜0xffâ€™-gridNavItem-startColor"><a href="#Color-int-parse-â€˜0xffâ€™-gridNavItem-startColor" class="headerlink" title="Color(int.parse(â€˜0xffâ€™ + gridNavItem.startColor))"></a>Color(int.parse(â€˜0xffâ€™ + gridNavItem.startColor))</h3><p>é¢œè‰²å€¼è½¬æ¢æˆé¢œè‰²ï¼Œå¦‚æœï¼Œæ²¡æœ‰å˜é‡çš„è¯ï¼Œä¹Ÿå¯ç›´æ¥è¿™æ ·ç”¨ <code>Color(0xff53bced)</code>ï¼Œ</p><ul><li>oxï¼šflutterè¦æ±‚ï¼Œå¯å›ºå®šä¸å˜</li><li>ffï¼šä»£è¡¨é€æ˜åº¦ï¼Œä¸çŸ¥é“å¦‚ä½•è®¾ç½®çš„è¯ï¼Œå¯ä»¥ç”¨å–è‰²å™¨ï¼Œæˆ–è€… withOpacity(opacity) ã€ withAlpha(a)</li><li>53bced: å¸¸è§„çš„6ä½RGBå€¼</li></ul><h3 id="Expandedã€FractionallySizedBox"><a href="#Expandedã€FractionallySizedBox" class="headerlink" title="Expandedã€FractionallySizedBox"></a>Expandedã€FractionallySizedBox</h3><p><strong>Expanded</strong> å¯ä»¥è®©å­ç»„ä»¶æ’‘æ»¡çˆ¶å®¹å™¨ï¼Œé€šå¸¸å’Œ <strong>Row</strong> åŠ <strong>Column</strong> ç»„ä»¶æ­é…ä½¿ç”¨ï¼›<br><strong>FractionallySizedBox</strong> å¯ä»¥è®©å­ç»„ä»¶æ’‘æ»¡æˆ–è¶…å‡ºçˆ¶å®¹å™¨ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œå¤§å°å— widthFactor å’Œ heightFactor å®½é«˜å› å­çš„å½±å“</p><h3 id="MediaQuery-removePadding"><a href="#MediaQuery-removePadding" class="headerlink" title="MediaQuery.removePadding"></a>MediaQuery.removePadding</h3><p><strong>MediaQuery.removePadding</strong> å¯ä»¥ç§»é™¤ç»„ä»¶çš„è¾¹è·ï¼Œæœ‰äº›ç»„ä»¶è‡ªå¸¦æœ‰è¾¹è·ï¼Œæœ‰æ—¶å€™å¸ƒå±€çš„æ—¶å€™ï¼Œä¸éœ€è¦è¾¹è·ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨ <strong>MediaQuery.removePadding</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MediaQuery.removePadding(</span><br><span class="line">  removeTop: <span class="keyword">true</span>,</span><br><span class="line">  context: context,</span><br><span class="line">  child: ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="MediaQuery-of-context-size-width"><a href="#MediaQuery-of-context-size-width" class="headerlink" title="MediaQuery.of(context).size.width"></a>MediaQuery.of(context).size.width</h3><p><strong>MediaQuery.of(context).size.width</strong> è·å–å±å¹•çš„å®½åº¦ï¼ŒåŒç†ï¼Œ<strong>MediaQuery.of(context).size.height</strong> è·å–å±å¹•çš„é«˜åº¦ï¼›å¦‚ï¼Œæƒ³ä¸€è¡Œå¹³å‡3ç­‰åˆ†ï¼š 0.3 * MediaQuery.of(context).size.widthï¼Œåœ¨<strong>ç›®çš„åœ°é¡µé¢</strong>çš„æ ‡ç­¾ç»„ä»¶å°±ä½¿ç”¨åˆ°å®ƒï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  alignment: Alignment.center,</span><br><span class="line">  ...</span><br><span class="line">  width: <span class="number">0.3</span>*MediaQuery.of(context).size.width - <span class="number">12</span>, <span class="comment">// å±å¹•å¹³åˆ†ä¸‰ç­‰åˆ†ï¼Œ - 12 æ˜¯ç»™æ¯ä»½ä¸­é—´ç•™å‡ºç©ºé—´ </span></span><br><span class="line">  height: <span class="number">40</span>,</span><br><span class="line">  ...</span><br><span class="line">  child: ...</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="Theme-of-context-platform-TargetPlatform-iOS"><a href="#Theme-of-context-platform-TargetPlatform-iOS" class="headerlink" title="Theme.of(context).platform == TargetPlatform.iOS"></a>Theme.of(context).platform == TargetPlatform.iOS</h3><p>åˆ¤æ–­æ“ä½œç³»ç»Ÿç±»å‹ï¼Œæœ‰æ—¶å€™å¯èƒ½æœ‰ç»™ Andorid å’Œ iOS åšå‡ºä¸åŒçš„å¸ƒå±€ï¼Œå°±éœ€è¦ç”¨åˆ°å®ƒã€‚</p><h3 id="with-AutomaticKeepAliveClientMixin"><a href="#with-AutomaticKeepAliveClientMixin" class="headerlink" title="with AutomaticKeepAliveClientMixin"></a>with AutomaticKeepAliveClientMixin</h3><p><code>flutter</code> åœ¨åˆ‡æ¢é¡µé¢æ—¶å€™æ¯æ¬¡éƒ½ä¼šé‡æ–°åŠ è½½æ•°æ®ï¼Œå¦‚æœæƒ³è®©é¡µé¢ä¿ç•™çŠ¶æ€ï¼Œä¸é‡æ–°åŠ è½½ï¼Œå°±éœ€è¦ä½¿ç”¨ <strong>AutomaticKeepAliveClientMixin</strong>,ä»£ç å¦‚ä¸‹ï¼š<em>ï¼ˆåœ¨æ—…æ‹é¡µé¢å°±æœ‰ä½¿ç”¨åˆ°å®ƒï¼Œä¸ºäº†è®©tabBar å’Œ tabBarViewåœ¨åˆ‡æ¢æ—¶ä¸é‡æ–°åŠ è½½ï¼‰</em></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TravelTabPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">//éœ€è¦é‡å†™ wantKeepAlive ä¸” è®¾ç½®æˆ true</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> wantKeepAlive =&gt; <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="with-SingleTickerProviderStateMixin"><a href="#with-SingleTickerProviderStateMixin" class="headerlink" title="with SingleTickerProviderStateMixin"></a>with SingleTickerProviderStateMixin</h3><p>æ··å…¥ <code>SingleTickerProviderStateMixin</code> å¯ä»¥åœ¨åˆ‡æ¢é¡µé¢æ—¶å€™ï¼Œä½¿ç”¨åŠ¨ç”»æ•ˆæœï¼Œå¦‚ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          currentIndex: _currentIndex,</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            _controller.animateToPage( <span class="comment">// _controller æ˜¯ PageView çš„ PageController</span></span><br><span class="line">                index,</span><br><span class="line">                curve: Curves.easeIn, duration: <span class="built_in">Duration</span>(milliseconds: <span class="number">260</span>)</span><br><span class="line">            );</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              _currentIndex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="SystemUiOverlayStyle"><a href="#SystemUiOverlayStyle" class="headerlink" title="SystemUiOverlayStyle"></a>SystemUiOverlayStyle</h3><p><code>SystemUiOverlayStyle</code> å¯å®ç°çŠ¶æ€æ æ²‰æµ¸å¼ï¼Œè®¾ç½®å…¨å±€é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    TextStyle textStyle = TextStyle(fontSize: <span class="number">20</span>);</span><br><span class="line">    SystemUiOverlayStyle style = SystemUiOverlayStyle(</span><br><span class="line">        statusBarColor: Colors.transparent,</span><br><span class="line">        statusBarIconBrightness: Brightness.light</span><br><span class="line">    );</span><br><span class="line">    SystemChrome.setSystemUIOverlayStyle(style);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•é¡µé¢è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_HomePageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">HomePage</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle.light); <span class="comment">//è®¾ç½®çŠ¶æ€æ æ²‰æµ¸å¼</span></span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      backgroundColor: Color(<span class="number">0xfffafafc</span>),</span><br><span class="line">      body: LoadingContainer(</span><br><span class="line">        ...</span><br><span class="line">      )</span><br><span class="line">      ...</span><br></pre></td></tr></table></figure><p>æš‚æ—¶åªèƒ½æƒ³åˆ°è¿™äº›å¸¸ç”¨çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åå¦‚æœ‰æ–°çš„ä¼šæ…¢æ…¢è¡¥å……ã€‚</p><p><strong>é¡¹ç›®GitHubåœ°å€:</strong> <a href="https://github.com/persilee/flutter_ctrip" target="_blank" rel="noopener">https://github.com/persilee/flutter_ctrip</a></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/flutterCtrip.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ä¸‰æ‹›è®©ä½ æˆä¸ºç¨‹åºçŒ¿ä¸­ä¼˜ç§€çš„å°„é¸¡æ¹¿</title>
      <link>https://h.lishaoy.net/goodDesigner.html</link>
      <guid>https://h.lishaoy.net/goodDesigner.html</guid>
      <pubDate>Fri, 01 Mar 2019 08:24:32 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/goodDesigner/goodDesigner.jpg&quot; class=&quot;full-image&quot; alt=&quot;goodDesigner&quot; title=&quot;goodDesigner&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹ä¹‹å‰é¡¹ç›®ä¸­ä¸€äº› &lt;strong&gt;å‰ç«¯&lt;/strong&gt; å·¥å…·åŠæŠ€å·§ï¼Œä¸»è¦åŒ…æ‹¬ &lt;strong&gt;Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿&lt;/strong&gt; ã€ &lt;strong&gt;å¦‚ä½•ä½¿ç”¨é…·ç‚«æ¼‚äº®çš„åŠ¨ç”»ï¼ˆLottieï¼‰&lt;/strong&gt; ã€ &lt;strong&gt;å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/goodDesigner/goodDesigner.jpg" class="full-image" alt="goodDesigner" title="goodDesigner"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹ä¹‹å‰é¡¹ç›®ä¸­ä¸€äº› <strong>å‰ç«¯</strong> å·¥å…·åŠæŠ€å·§ï¼Œä¸»è¦åŒ…æ‹¬ <strong>Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</strong> ã€ <strong>å¦‚ä½•ä½¿ç”¨é…·ç‚«æ¼‚äº®çš„åŠ¨ç”»ï¼ˆLottieï¼‰</strong> ã€ <strong>å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ</strong>ã€‚</p><a id="more"></a><h2 id="Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"><a href="#Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿" class="headerlink" title="Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"></a>Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</h2><p><a href="https://www.iconfont.cn" target="_blank" rel="noopener">Iconfont</a> æ˜¯é˜¿é‡Œå·´å·´æ‰“é€ çš„çŸ¢é‡å›¾æ ‡åº“ï¼Œå›¾æ ‡ä¸°å¯Œå¤šå½©ï¼ˆå•è‰²å’Œå½©è‰²ï¼‰ï¼Œä½¿ç”¨æ–¹ä¾¿å¿«æ·ï¼ˆå¯ç­›é€‰å›¾ç‰‡åˆ›å»ºè‡ªå·±é¡¹ç›®å›¾æ ‡åº“ï¼‰ï¼Œæ”¯æŒåœ¨çº¿ä½¿ç”¨ï¼Œæ‘†è„±äº†ä¼ ç»Ÿçš„å›¾ç‰‡çš„ç¹çå’Œcsså­—ä½“å›¾æ ‡åº“å¼•å…¥çš„å†—ä½™ã€‚</p><p>ä¸‹é¢ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨ Iconfont</p><h3 id="æœç´¢é€‰æ‹©å›¾æ ‡"><a href="#æœç´¢é€‰æ‹©å›¾æ ‡" class="headerlink" title="æœç´¢é€‰æ‹©å›¾æ ‡"></a>æœç´¢é€‰æ‹©å›¾æ ‡</h3><p>ç‚¹å‡» <a href="https://www.iconfont.cn" target="_blank" rel="noopener">Iconfont</a> æ‰“å¼€é¡µé¢å¦‚å›¾ï¼Œå¯ä»¥æœç´¢ ğŸ” å…³é”®å­—ï¼Œæ‰¾åˆ°æƒ³è¦çš„å›¾æ ‡</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont.png" alt="Iconfont" title="Iconfont"></p><p>ä¾‹å¦‚ï¼Œæœç´¢ â€˜imageâ€™ å…³é”®å­—ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont2.png" alt="Iconfont" title="Iconfont"></p><p>é¼ æ ‡æ”¾åˆ°å›¾æ ‡ä¸Šä¼šå‡ºç° <strong>æ·»åŠ å…¥åº“</strong> ã€ <strong>æ”¶è—</strong> ã€ <strong>ä¸‹è½½å›¾æ ‡</strong> é€‰é¡¹ï¼Œä¸€èˆ¬æˆ‘ä¼šé€‰æ‹© <strong>æ·»åŠ å…¥åº“</strong> ï¼Œä¹‹åç»Ÿä¸€æ·»åŠ åˆ°é¡¹ç›®ï¼Œç”Ÿæˆåœ¨çº¿åœ°å€å¼•å…¥é¡¹ç›®ï¼ˆåé¢ä¼šä»‹ç»åˆ°ï¼‰</p><p>å³è¾¹çš„è“è‰²çš‡å† æŒ‰é’®å¯ä»¥è¿›è¡Œ <em>ç²¾é€‰</em> ã€ <em>å…¨éƒ¨</em> çš„ç­›é€‰ï¼Œçº¢è‰²çš„æŒ‰é’®å¯ä»¥è¿›è¡Œ <em>å•è‰²</em> ã€ <em>å¤šè‰²</em> ã€ <em>å…¨éƒ¨</em> çš„ç­›é€‰</p><p>ç‚¹å‡» ä¸‹è½½ ä¼šå¼¹å‡ºä¸‹è½½é¡µé¢ï¼Œå¯ä»¥è¿›è¡Œå›¾æ ‡çš„ç¼–è¾‘å’Œä¸åŒæ ¼å¼çš„ä¸‹è½½ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont3.1.png" alt="Iconfont" title="Iconfont"></p><h3 id="æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥"><a href="#æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥" class="headerlink" title="æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥"></a>æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥</h3><p>é€‰æ‹© <strong>æ·»åŠ å…¥åº“</strong> çš„å›¾æ ‡ï¼Œä¼šåœ¨å³ä¸Šè§’çš„è´­ç‰©è½¦æ˜¾ç¤ºæ•°é‡ï¼Œç‚¹å‡»è´­ç‰©è½¦å›¾æ ‡ï¼Œä¼šå¼¹å‡ºå³ä¾§æ ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont4.png" alt="Iconfont" title="Iconfont"></p><p>å¯ä»¥æ‰¹é‡ä¸‹è½½å’Œæ·»åŠ åˆ°é¡¹ç›®ï¼Œç‚¹å‡» <strong>æ·»åŠ è‡³é¡¹ç›®</strong> å¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont5.png" alt="Iconfont" title="Iconfont"></p><p>ç»™é¡¹ç›®å–ä¸€ä¸ªåå­—ï¼Œç‚¹å‡»ç¡®å®šï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont6.png" alt="Iconfont" title="Iconfont"></p><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ç§å›¾æ ‡å¼•å…¥çš„æ–¹å¼ï¼Œé»˜è®¤é€‰ä¸­çš„æ˜¯ <strong>Font class</strong> çš„æ–¹å¼ï¼Œä¹Ÿæ¨èä½¿ç”¨è¿™ç§æ–¹å¼</p><p><strong>Unicode</strong> : æ˜¯ä»¥å­—ä½“çš„æ–¹å¼å¼•å…¥ï¼Œå¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;  <span class="comment">/* project id 1066942 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.eot'</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.woff2'</span>) <span class="built_in">format</span>(<span class="string">'woff2'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Font class</strong> : æ˜¯ä»¥Cssçš„æ–¹å¼å¼•å…¥ï¼Œå¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_1066942_yvi703p2pv.css</span><br></pre></td></tr></table></figure><p><strong>Symbol</strong> : æ˜¯ä»¥jsçš„æ–¹å¼å¼•å…¥ï¼Œå¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_1066942_yvi703p2pv.js</span><br></pre></td></tr></table></figure><p>å¦‚æƒ³äº†è§£3ä¸­æ–¹å¼å…·ä½“ç”¨æ³•ï¼Œå¯ç‚¹å‡» <a href="https://www.iconfont.cn/help/detail?spm=a313x.7781069.1998910419.d8cf4382a&amp;helptype=code" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œè¿™é‡Œæˆ‘ä¸»è¦ä»‹ç» <strong>Font class</strong> çš„æ–¹å¼</p><h3 id="å¼•å…¥é¡¹ç›®ä½¿ç”¨"><a href="#å¼•å…¥é¡¹ç›®ä½¿ç”¨" class="headerlink" title="å¼•å…¥é¡¹ç›®ä½¿ç”¨"></a>å¼•å…¥é¡¹ç›®ä½¿ç”¨</h3><p>é¦–å…ˆï¼ŒæŠŠç”Ÿæˆçš„é“¾æ¥å¼•å…¥åˆ°é¡µé¢ä¸­ï¼Œå¦‚ä¸‹</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel="stylesheet" href="//at.alicdn.com/t/font_1066942_yvi703p2pv.css"&gt;</span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼Œç”¨ <code>&lt;i class=&quot;iconfont icon-Userselect&quot;&gt;&lt;/i&gt;</code> åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼Œå¤§å°é¢œè‰²éƒ½å¯ä»¥ç”¨ <code>css</code> è°ƒæ•´</p><p>é˜¿é‡Œåœ¨ä»£ç çš„å¤åˆ¶ã€å›¾æ ‡çš„æœç´¢ã€ç¼–è¾‘ã€ä¸‹è½½ã€ç­›é€‰ç­‰ä¸€äº›æ“ä½œä¸Šåšçš„å¾ˆåˆ°ä½ï¼Œä½¿ç”¨èµ·æ¥æ–¹ä¾¿å¿«æ·</p><p>æˆ‘åœ¨ä¹‹å‰çš„é¡¹ç›®é‡Œä¹Ÿä½¿ç”¨è¿‡ï¼Œè¿˜æ˜¯å¾ˆæ¼‚äº®çš„ <a href="https://a.lishaoy.net" target="_blank" rel="noopener">https://a.lishaoy.net</a> ï¼Œå¦‚å›¾æ˜¯æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨çš„ä¸€äº›å›¾æ ‡ï¼Œæ¯ä¸ªå›¾æ ‡æ˜¯ä¸æ˜¯éƒ½åšçš„å¾ˆç²¾è‡´</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont7.png" alt="Iconfont" title="Iconfont"></p><h2 id="Lottieå¼€æºåŠ¨ç”»åº“"><a href="#Lottieå¼€æºåŠ¨ç”»åº“" class="headerlink" title="Lottieå¼€æºåŠ¨ç”»åº“"></a>Lottieå¼€æºåŠ¨ç”»åº“</h2><p><strong>Lottie</strong> æ˜¯Airbnbå¼€æºçš„ä¸€ä¸ªé¢å‘ iOSã€Androidã€React Native çš„åŠ¨ç”»åº“ï¼Œèƒ½å¤Ÿç›´æ¥æŠŠ <strong>AE</strong> å¯¼å‡ºçš„åŠ¨ç”»æ–‡ä»¶ï¼ˆjsonï¼‰ï¼Œå¼•å…¥åˆ°é¡µé¢ä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹ç»™å‡ºçš„æ•ˆæœå›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/lottie.gif" alt="no-shadow" title="Lottie"></p><p><img src="https://cdn.lishaoy.net/goodDesigner/lottie2.gif" alt="no-shadow" title="Lottie"></p><p><strong>Lottie</strong> æ”¯æŒ iOSã€Androidã€React Native ã€Web ï¼Œè¿™é‡Œä¸»è¦ä»‹ç» lottie-Web æ˜¯å¦‚ä½•ä½¿ç”¨ï¼Œæ›´å¤šä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="http://airbnb.io/lottie/" target="_blank" rel="noopener">http://airbnb.io/lottie/</a></p><p>é¦–å…ˆï¼Œåœ¨é¡µé¢ä¸­å¼•å…¥ <code>CDN</code> ä¸Šçš„æ–‡ä»¶ï¼Œå¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.4.2/lottie.min.js"</span> type=<span class="string">"text/javascript"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼Œä½¿ç”¨ <strong>AE</strong> åˆ¶ä½œåŠ¨ç”»ï¼ˆUIæä¾›æˆ–è€…è‡ªå·±åˆ¶ä½œï¼‰å¯¼å‡ºçš„ <code>json</code>ï¼Œæˆ–è€…å¯ä»¥åœ¨ <a href="https://lottiefiles.com/featured" target="_blank" rel="noopener">Lottie Files</a> ä¸‹è½½ ï¼ˆ<a href="https://lottiefiles.com/featured" target="_blank" rel="noopener">Lottie Files</a> æ˜¯ä¸€ä¸ªæ‹¥æœ‰é«˜è´¨é‡ <strong>Lottie</strong> æ–‡ä»¶æ ¼å¼åŠ¨ç”»çš„ç½‘ç«™ï¼Œä¸ä»…è®¾è®¡å¸ˆå¯ä»¥åœ¨ä¸Šé¢é™ˆåˆ—ä»–ä»¬çš„åŠ¨ç”»è€Œä¸”è¿˜æä¾›å…è´¹ä¸‹è½½ï¼‰</p><p>ä»¥ä¸‹æ˜¯æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨çš„æ•ˆæœå›¾ï¼ˆä¸Šä¼ å›¾ç‰‡ä¸­ä¼šåŠ é‡åŠ¨ç”»ï¼Œä¸Šä¼ æˆåŠŸåŠ¨ç”»åœæ­¢ï¼‰ï¼Œå…·ä½“æ•ˆæœå¯ä»¥å»æˆ‘çš„é¡¹ç›®ä¸Šä¼ å›¾ç‰‡ä½“éªŒ <a href="https://a.lishaoy.net/posts/56" target="_blank" rel="noopener">ä¸Šä¼ å›¾ç‰‡åŠ¨ç”»æ•ˆæœ</a></p><p><img src="https://cdn.lishaoy.net/adonisjs/image_upload4.gif" alt="Lottie" title="Lottie"></p><p>å…·ä½“çš„ä»£ç å¦‚ä¸‹ï¼Œåœ¨é¡µé¢ä¸­åˆ›å»ºéœ€è¦åŠ é‡åŠ¨ç”»çš„å®¹å™¨ï¼ˆ<code>HTML</code> ä»£ç ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"image-load d-flex justify-content-center align-items-center"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lottie"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text text-muted text-center"</span>&gt;</span>The picture is being uploaded ...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œç”¨ <code>js</code> åˆå§‹åŒ–åŠ¨ç”»ï¼Œå¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anim = lottie.loadAnimation(&#123;</span><br><span class="line">  container: $(<span class="string">'.image-load .lottie'</span>)[<span class="number">0</span>], <span class="comment">//åŠ¨ç”»å®¹å™¨çš„å…ƒç´ </span></span><br><span class="line">  renderer: <span class="string">'svg'</span>, <span class="comment">//æ”¯æŒ svg å’Œ canvas</span></span><br><span class="line">  loop: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦å¾ªç¯</span></span><br><span class="line">  autoplay: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  path: <span class="string">'/EmojiReaction.json'</span> <span class="comment">//åŠ¨ç”»jsonæ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">&#125;)</span><br><span class="line">anim.addEventListener(<span class="string">'loopComplete'</span>, () =&gt; &#123;  <span class="comment">// ç›‘å¬ `loopComplete` äº‹ä»¶ï¼Œæ¯æ¬¡æ’­æ”¾å®Œæˆæ‰§è¡Œ</span></span><br><span class="line">  anim.pause() <span class="comment">//åœæ­¢æ’­æ”¾</span></span><br><span class="line">  $(<span class="string">'.image-load'</span>).removeClass(<span class="string">'loading'</span>) <span class="comment">//éšè—å®¹å™¨</span></span><br><span class="line">  $(<span class="string">'.image-load .box .text'</span>).text(<span class="string">'The picture is being uploaded...'</span>).removeClass(<span class="string">'text-success'</span>).addClass(<span class="string">'text-muted'</span>) <span class="comment">//æ”¹å˜è¯´æ˜æ–‡å­—çŠ¶æ€åŠé¢œè‰²</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ›´å¤šçš„å‚æ•°å’Œäº‹ä»¶å¯æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ <a href="http://airbnb.io/lottie/web/web.html" target="_blank" rel="noopener">Lottie-Web</a></p><h2 id="å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ"><a href="#å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ" class="headerlink" title="å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ"></a>å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ</h2><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥å…ˆçœ‹çœ‹æ•ˆæœï¼Œå¦‚å›¾ï¼ˆæ•ˆæœæ¥æºæˆ‘çš„åšå®¢ <a href="https://lishaoy.net/laboratory/" target="_blank" rel="noopener">https://lishaoy.net</a>ï¼‰</p><p><img src="https://cdn.lishaoy.net/goodDesigner/lottie3.gif" alt="Lottie" title="Lottie"></p><p>ä»¥ä¸ŠåŠ¨æ•ˆå°±æ˜¯ç”¨çš„ <strong>AOS</strong> è¿™ä¸ªåº“ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•</p><p>åœ¨é¡µé¢ä¸Šå¼•å…¥ <code>css</code> å’Œ <code>js</code> æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/aos@next/dist/aos.css"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/aos@next/dist/aos.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œç”¨ <code>AOS.init()</code> åˆå§‹åŒ–ï¼Œè¿™æ ·åˆå§‹åŒ–ï¼Œä½¿ç”¨çš„æ˜¯é»˜è®¤è®¾ç½®ï¼Œå…·ä½“æœ‰å¾ˆå¤šå‚æ•°å¯ä»¥è°ƒæ•´ï¼Œè¯¦æƒ…å¯æŸ¥é˜… <a href="https://github.com/michalsnik/aos" target="_blank" rel="noopener">é¡¹ç›®æ–‡æ¡£</a>ï¼Œå¦‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">AOS.init(&#123;</span><br><span class="line">  <span class="comment">// Global settings:</span></span><br><span class="line">  disable: <span class="literal">false</span>, <span class="comment">// accepts following values: 'phone', 'tablet', 'mobile', boolean, expression or function</span></span><br><span class="line">  startEvent: <span class="string">'DOMContentLoaded'</span>, <span class="comment">// name of the event dispatched on the document, that AOS should initialize on</span></span><br><span class="line">  initClassName: <span class="string">'aos-init'</span>, <span class="comment">// class applied after initialization</span></span><br><span class="line">  animatedClassName: <span class="string">'aos-animate'</span>, <span class="comment">// class applied on animation</span></span><br><span class="line">  useClassNames: <span class="literal">false</span>, <span class="comment">// if true, will add content of `data-aos` as classes on scroll</span></span><br><span class="line">  disableMutationObserver: <span class="literal">false</span>, <span class="comment">// disables automatic mutations' detections (advanced)</span></span><br><span class="line">  debounceDelay: <span class="number">50</span>, <span class="comment">// the delay on debounce used while resizing window (advanced)</span></span><br><span class="line">  throttleDelay: <span class="number">99</span>, <span class="comment">// the delay on throttle used while scrolling the page (advanced)</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="comment">// Settings that can be overridden on per-element basis, by `data-aos-*` attributes:</span></span><br><span class="line">  offset: <span class="number">120</span>, <span class="comment">// offset (in px) from the original trigger point</span></span><br><span class="line">  delay: <span class="number">0</span>, <span class="comment">// values from 0 to 3000, with step 50ms</span></span><br><span class="line">  duration: <span class="number">400</span>, <span class="comment">// values from 0 to 3000, with step 50ms</span></span><br><span class="line">  easing: <span class="string">'ease'</span>, <span class="comment">// default easing for AOS animations</span></span><br><span class="line">  once: <span class="literal">false</span>, <span class="comment">// whether animation should happen only once - while scrolling down</span></span><br><span class="line">  mirror: <span class="literal">false</span>, <span class="comment">// whether elements should animate out while scrolling past them</span></span><br><span class="line">  anchorPlacement: <span class="string">'top-bottom'</span>, <span class="comment">// defines which position of the element regarding to window should trigger the animation</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨é¡µé¢ä¸Šä½¿ç”¨å³å¯ï¼Œå¦‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-aos</span>=<span class="string">"fade-in"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ç»™å…ƒç´ è®¾ç½®å‚æ•°ï¼Œä½¿ç”¨ <code>data-aos-*</code> ï¼Œå¦‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-aos</span>=<span class="string">"fade-in"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-offset</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-delay</span>=<span class="string">"50"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-duration</span>=<span class="string">"1000"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-easing</span>=<span class="string">"ease-in-out"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šçš„è½½å…¥æ•ˆæœå¯ä»¥å‚è€ƒå®˜æ–¹ç»™å‡ºçš„ <a href="http://michalsnik.github.io/aos/" target="_blank" rel="noopener">ç¤ºä¾‹</a></p><p>å¦‚åœ¨æ‚¨åšçš„é¡µé¢æˆ–åº”ç”¨ä¸­ä½¿ç”¨äº†è¿™ä¸‰æ‹›ï¼Œ<strong>ç²¾è‡´å°å›¾æ ‡</strong> ã€ <strong>ç‚«é…·çš„åŠ¨ç”»</strong> ã€ <strong>é¡µé¢æ»šåŠ¨è½½å…¥åŠ¨æ•ˆ</strong> ï¼Œé‚£ä¹ˆç¬é—´è®©æ‚¨çš„é¡µé¢æˆ–åº”ç”¨é«˜å¤§ä¸Šä¸”ç”ŸåŠ¨æ´»æ³¼èµ·æ¥ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/goodDesigner.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç”¨ Node.js å¿«é€Ÿå¼€å‘å‡ºå¤šåŠŸèƒ½çš„å¤šäººåœ¨çº¿çš„æ–‡ç« åˆ†äº«å¹³å°</title>
      <link>https://h.lishaoy.net/adonisjs.html</link>
      <guid>https://h.lishaoy.net/adonisjs.html</guid>
      <pubDate>Sun, 16 Dec 2018 18:03:27 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/adonisjs/adonisjs1.png&quot; class=&quot;full-image&quot; alt=&quot;Adonisjs&quot; title=&quot;Adonisjs&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æœ€è¿‘åœ¨å­¦ä¹ ä½¿ç”¨ &lt;code&gt;Node.js&lt;/code&gt; æ¡†æ¶ï¼Œè¾¹å­¦ä¹ è¾¹ä½¿ç”¨ï¼ŒèŠ±äº†å¤§æ¦‚ &lt;strong&gt;3å‘¨&lt;/strong&gt; æ—¶é—´åšå®Œè¿™ä¸ª &lt;strong&gt;Webåº”ç”¨&lt;/strong&gt; ä¸”åœ¨ &lt;time&gt;12æœˆ16&lt;/time&gt; å‡Œæ™¨å·¦å³ä¸Šçº¿æˆåŠŸï¼ˆå…¶å®å°±æ˜¯æŠŠå¼€å‘ç¯å¢ƒæ¬åˆ°æœåŠ¡å™¨ï¼‰ï¼Œ åœ°å€ï¼š &lt;a href=&quot;https://a.lishaoy.net&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://a.lishaoy.net&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;è¿™ä¸ª &lt;strong&gt;Webåº”ç”¨&lt;/strong&gt; çš„ä»£ç æ˜¯å¼€æºçš„ï¼Œå¦‚å¯¹è¿™ä¸ªåº”ç”¨æ„Ÿå…´è¶£ï¼Œæƒ³çŸ¥é“ä»£ç æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œå¯ä»¥å»æˆ‘ &lt;strong&gt;GitHub&lt;/strong&gt; ä¸‹è½½æˆ– &lt;code&gt;clone&lt;/code&gt; ï¼š&lt;a href=&quot;https://github.com/persilee/adonis_pro&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åº”ç”¨æºç &lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/adonisjs/adonisjs1.png" class="full-image" alt="Adonisjs" title="Adonisjs"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æœ€è¿‘åœ¨å­¦ä¹ ä½¿ç”¨ <code>Node.js</code> æ¡†æ¶ï¼Œè¾¹å­¦ä¹ è¾¹ä½¿ç”¨ï¼ŒèŠ±äº†å¤§æ¦‚ <strong>3å‘¨</strong> æ—¶é—´åšå®Œè¿™ä¸ª <strong>Webåº”ç”¨</strong> ä¸”åœ¨ <time>12æœˆ16</time> å‡Œæ™¨å·¦å³ä¸Šçº¿æˆåŠŸï¼ˆå…¶å®å°±æ˜¯æŠŠå¼€å‘ç¯å¢ƒæ¬åˆ°æœåŠ¡å™¨ï¼‰ï¼Œ åœ°å€ï¼š <a href="https://a.lishaoy.net" target="_blank" rel="noopener">https://a.lishaoy.net</a>  </p><p>è¿™ä¸ª <strong>Webåº”ç”¨</strong> çš„ä»£ç æ˜¯å¼€æºçš„ï¼Œå¦‚å¯¹è¿™ä¸ªåº”ç”¨æ„Ÿå…´è¶£ï¼Œæƒ³çŸ¥é“ä»£ç æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œå¯ä»¥å»æˆ‘ <strong>GitHub</strong> ä¸‹è½½æˆ– <code>clone</code> ï¼š<a href="https://github.com/persilee/adonis_pro" target="_blank" rel="noopener">åº”ç”¨æºç </a></p><hr><a id="more"></a><p>é¦–å…ˆï¼Œæ¥çœ‹çœ‹ç”¨ <strong>3å‘¨</strong> æ—¶é—´åšå‡ºæ¥çš„åº”ç”¨éƒ½æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Œä¹‹åå†çœ‹çœ‹é€‰ç”¨çš„ <code>Node.js</code> æ¡†æ¶ï¼Œæœ€åçœ‹çœ‹ <code>Node.js</code> é¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚</p><h2 id="Webåº”ç”¨åŠŸèƒ½"><a href="#Webåº”ç”¨åŠŸèƒ½" class="headerlink" title="Webåº”ç”¨åŠŸèƒ½"></a>Webåº”ç”¨åŠŸèƒ½</h2><h3 id="ç™»å½•ã€æ³¨å†ŒéªŒè¯"><a href="#ç™»å½•ã€æ³¨å†ŒéªŒè¯" class="headerlink" title="ç™»å½•ã€æ³¨å†ŒéªŒè¯"></a>ç™»å½•ã€æ³¨å†ŒéªŒè¯</h3><p><strong>ç™»å½•åŠŸèƒ½</strong></p><ul><li>è¾“å…¥æ¡†æ²¡æœ‰è¾“å…¥ç‚¹å‡»ç™»å½•ä¼šæç¤ºï¼šç”¨æˆ·åã€å¯†ç ä¸èƒ½ä¸ºç©º</li><li>è¾“å…¥çš„ç”¨æˆ·é”™è¯¯æˆ–ä¸å­˜åœ¨ä¼šæç¤ºï¼šç”¨æˆ·ä¸å­˜åœ¨</li><li>è¾“å…¥çš„å¯†ç é”™è¯¯ä¼šæç¤ºï¼šå¯†ç é”™è¯¯</li><li>ç™»å½•åä¼šé‡å®šå‘åˆ°ç”¨æˆ·ä¸Šæ¬¡è®¿é—®çš„åœ°å€</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/login.gif" alt="no-shadow" title="Login"></p><p><strong>æ³¨å†ŒåŠŸèƒ½</strong></p><ul><li>è¾“å…¥æ¡†æ²¡æœ‰è¾“å…¥ç‚¹å‡»æ³¨å†Œä¼šæç¤ºï¼šç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ä¸èƒ½ä¸ºç©º</li><li>ç”¨æˆ·åå’Œé‚®ç®±ä¸å…¶ä»–ç”¨æˆ·ç›¸åŒä¼šæç¤ºï¼šç”¨æˆ·åã€é‚®ç®±å·²å­˜åœ¨</li><li>å¯†ç å°äº6ä½æ•°ä¼šæç¤ºï¼šæœ€å°é•¿åº¦æ˜¯6ä½</li><li>æ³¨å†ŒæˆåŠŸåä¼šå‘é€éªŒè¯é‚®ä»¶åˆ°ç”¨æˆ·é‚®ç®±ï¼Œéœ€ç‚¹å‡»é‚®ç®±æŒ‰é’®éªŒè¯</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/register.gif" alt="no-shadow" title="Register"></p><h3 id="æ–‡ç« åˆ—è¡¨"><a href="#æ–‡ç« åˆ—è¡¨" class="headerlink" title="æ–‡ç« åˆ—è¡¨"></a>æ–‡ç« åˆ—è¡¨</h3><p>ç™»å½•è¿›æ¥ï¼Œä¼šæ˜¾ç¤ºæ–‡ç« åˆ—è¡¨é¡µé¢ï¼Œæ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>æ–‡ç« æ ‡é¢˜ï¼šç‚¹å‡»å¯è¿›å…¥æ–‡ç« è¯¦æƒ…é¡µ</li><li>ä½œè€…å¤´åƒã€ä½œè€…åç§°ï¼šç‚¹å‡»å¯è¿›å…¥ä½œè€…ä¿¡æ¯é¡µ</li><li>æ—¶é—´ï¼šæ˜¾ç¤ºåˆ›å»ºæ—¶é—´ï¼ˆå¤šä¹…ä»¥å‰æ–¹å¼æ˜¾ç¤ºï¼‰</li><li>é˜…è¯»æ¬¡æ•°ã€ç‚¹èµæ¬¡æ•°</li><li>æ–‡ç« ç®€è¦ï¼šè‡ªåŠ¨æ‘˜å–ç« å¤´æ–‡ç« </li><li>ç¼©ç•¥å›¾ï¼šè‡ªåŠ¨æ‘˜å–æ–‡ç« ç¬¬ä¸€å¼ å›¾ç‰‡</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/posts.png" alt="no-shadow" title="Post List"></p><h3 id="æ–‡ç« è¯¦æƒ…"><a href="#æ–‡ç« è¯¦æƒ…" class="headerlink" title="æ–‡ç« è¯¦æƒ…"></a>æ–‡ç« è¯¦æƒ…</h3><p>ç‚¹å‡»æ–‡ç« æ ‡é¢˜å¯è¿›å…¥æ–‡ç« è¯¦æƒ…é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>æ–‡ç« æ ‡é¢˜</li><li>ä½œè€…å¤´åƒã€ä½œè€…åç§°</li><li>å‘å¸ƒæ—¶é—´</li><li>é˜…è¯»æ¬¡æ•°å’Œç‚¹èµæ¬¡æ•°</li><li>ç¼–è¾‘æŒ‰é’®ï¼ˆä»…ä½œè€…å¯è§ï¼‰</li><li>å·¦ä¾§æµ®åŠ¨å·¥å…·æ ï¼ˆç‚¹èµã€å‘é€é‚®ä»¶åˆ°è‡ªå·±é‚®ç®±ã€è¿”å›é¡¶éƒ¨ã€åˆ†äº«ï¼‰</li><li>ç‚¹èµï¼šæ–‡ç« è¢«ç‚¹èµåï¼Œä½œè€…å¯ä»¥æ”¶åˆ°æ¶ˆæ¯é€šçŸ¥ï¼Œä¸”å°†æ–‡ç« æ”¶å½•åˆ°ç‚¹èµåˆ—è¡¨ï¼ˆæ”¯æŒåŒ¿åç‚¹èµï¼Œä½†ä¸ä¼šè®°å½•é€šçŸ¥ï¼Œåªä¼šåŠ ç‚¹èµæ•°ï¼‰</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/post.png" alt="no-shadow" title="Post"></p><h3 id="ç¼–è¾‘æ–‡ç« æ”¯æŒ-Markdown"><a href="#ç¼–è¾‘æ–‡ç« æ”¯æŒ-Markdown" class="headerlink" title="ç¼–è¾‘æ–‡ç« æ”¯æŒ Markdown"></a>ç¼–è¾‘æ–‡ç« æ”¯æŒ Markdown</h3><p>æ–°å»ºæ–‡ç« å’Œä¿®æ”¹æ–‡ç« éƒ½æ”¯æŒ <strong>Markdown</strong> è¯­æ³•ï¼Œä¸”ä¼šæ¯éš”6ç§’é’Ÿè‡ªåŠ¨ä¿å­˜</p><p><img src="https://cdn.lishaoy.net/adonisjs/post_edit.png" alt="no-shadow" title="Post Edit"></p><h3 id="ä¸ªäººä¿¡æ¯"><a href="#ä¸ªäººä¿¡æ¯" class="headerlink" title="ä¸ªäººä¿¡æ¯"></a>ä¸ªäººä¿¡æ¯</h3><p>ä¸ªäººä¿¡æ¯é¡µé¢æ˜¾ç¤ºå†…å®¹å¦‚ä¸‹</p><ul><li>ä½œè€…çš„å¤´åƒã€å§“åã€ç®€ä»‹ï¼ˆæ”¯æŒemojiï¼‰</li><li>ä¿¡æ¯æ ï¼šGitHub é“¾æ¥ã€ä¸ªäººç½‘ç«™é“¾æ¥ã€å‘å¸ƒæ–‡ç« æ•°ã€æ€»é˜…è¯»æ¬¡æ•°ã€æ€»ç‚¹èµæ¬¡æ•°</li><li>å‘å¸ƒæ–‡ç« åˆ—è¡¨ï¼šä¸ªäººå‘å¸ƒçš„æ‰€æœ‰æ–‡ç« (æœ‰åˆ é™¤å’Œç¼–è¾‘æŒ‰é’®)</li><li>å·²èµæ–‡ç« åˆ—è¡¨ï¼šç‚¹è¿‡èµçš„æ–‡ç« ä¼šè®°å½•åœ¨è¿™é‡Œ</li><li>å…³æ³¨è€…åˆ—è¡¨ï¼šå…³æ³¨ä½ çš„ç”¨æˆ·ï¼ˆå…³æ³¨è¿‡çš„ç”¨æˆ·ï¼Œå…³æ³¨æŒ‰é’®é«˜äº®æ˜¾ç¤ºï¼‰</li><li>å·²å…³æ³¨åˆ—è¡¨ï¼šä½ å…³æ³¨çš„ç”¨æˆ·ï¼ˆå…³æ³¨è¿‡çš„ç”¨æˆ·ï¼Œå…³æ³¨æŒ‰é’®é«˜äº®æ˜¾ç¤º)</li><li>å…³æ³¨æŒ‰é’®ï¼šä½œè€…æœ¬äººä¸å¯è§ï¼Œç‚¹å‡»å¯å…³æ³¨ï¼Œå†æ¬¡ç‚¹å‡»å–æ¶ˆå…³æ³¨ï¼Œå…³æ³¨åï¼Œç”¨æˆ·ä¼šæ”¶åˆ°æ¶ˆæ¯é€šçŸ¥</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/profile.gif" alt="no-shadow" title="Profile"></p><p>æ–‡ç« åˆ é™¤ç¼–è¾‘å¿«æ·å…¥å£ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/adonisjs/edit_delete_post.gif" alt="no-shadow" title="Edit &amp;&amp; Delete post"></p><p>ä¸‹é¢æ˜¯æˆ‘ç”¨å¦ä¸€ä¸ªç”¨æˆ·ç™»å½•ï¼Œè¿›å…¥åˆ°ä¸ªäººä¿¡æ¯é¡µé¢å°±ä¼šæ˜¾ç¤ºå…³æ³¨æŒ‰é’®ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/adonisjs/follow.png" alt="no-shadow" title="Follow"></p><h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><p>ç‚¹å‡»æ–‡ä»¶ä¸Šä¼ å°å›¾æ ‡å¯è¿›å…¥æ–‡ä»¶ä¸Šä¼ é¡µé¢ï¼Œç‚¹å‡» <strong>Files</strong> é“¾æ¥å¯è¿›å…¥æ–‡ä»¶ä¸Šä¼ åˆ—è¡¨ï¼Œæ˜¾ç¤ºå†…å®¹å¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/adonisjs/file_upload.png" alt="no-shadow" title="File Upload"></p><p><img src="https://cdn.lishaoy.net/adonisjs/file_list.png" alt="no-shadow" title="File List"></p><h3 id="æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘"><a href="#æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘" class="headerlink" title="æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘"></a>æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘</h3><p>ä»æ–‡ä»¶åˆ—è¡¨é¡µé¢ç‚¹å‡»æ ‡é¢˜å¯è¿›å…¥æ–‡ä»¶é¢„è§ˆé¡µé¢ï¼Œæ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœæ˜¯å›¾ç‰‡æ˜¾ç¤ºå›¾ç‰‡ï¼Œå¦‚æœæ˜¯è§†é¢‘æ˜¾ç¤ºè§†é¢‘</li><li>å·¥å…·æ ï¼šå‘é€é‚®ä»¶åˆ°è‡ªå·±é‚®ç®±ï¼ˆç™»å½•å¯è§ï¼‰ã€ç¼–è¾‘æŒ‰é’®ã€åˆ é™¤æŒ‰é’®ï¼ˆç™»å½•è‡ªå·±ä¸Šä¼ å¯è§ï¼‰</li><li>æ–‡ä»¶åç§°</li><li>ä¸‹è½½æŒ‰é’®</li><li>ä¸Šä¼ è€…å¤´åƒ</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/file_show.gif" alt="no-shadow" title="File Show"></p><h3 id="æ¶ˆæ¯é€šçŸ¥"><a href="#æ¶ˆæ¯é€šçŸ¥" class="headerlink" title="æ¶ˆæ¯é€šçŸ¥"></a>æ¶ˆæ¯é€šçŸ¥</h3><p>ç‚¹å‡»é“ƒé“›å°å›¾æ ‡å¯è¿›å…¥æ¶ˆæ¯é€šçŸ¥é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>ç‚¹èµæ¶ˆæ¯åˆ—è¡¨ï¼šæ”¶åˆ°ç”¨æˆ·ç‚¹èµé€šçŸ¥ï¼Œæœ€æ–°çš„æœªè¯»æ¶ˆæ¯ä¼šé«˜äº®æ˜¾ç¤ºï¼Œç‚¹å‡»ç‚¹èµè€…å¤´åƒè¿›å…¥ä¸ªäººä¿¡æ¯é¡µé¢ï¼Œç‚¹å‡»æ–‡ç« æ ‡é¢˜è¿›å…¥ä½ çš„æ–‡ç« è¯¦æƒ…é¡µé¢</li><li>å…³æ³¨è€…åˆ—è¡¨ï¼šæ”¶åˆ°å…³æ³¨è€…çš„é€šçŸ¥ï¼Œæœ€æ–°æœªè¯»æ¶ˆæ¯ä¼šé«˜äº®æ˜¾ç¤ºï¼Œç‚¹å…³æ³¨æŒ‰é’®ä¹Ÿå¯å…³æ³¨ä»–ï¼Œå†ç‚¹å‡»å–æ¶ˆå…³æ³¨</li><li>ç³»ç»Ÿæ¶ˆæ¯ï¼šç›®å‰è¿˜æ²¡æœ‰åšåŠŸèƒ½å®ç°</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/notification.gif" alt="no-shadow" title="Notification"></p><h3 id="å·¥å…·æ åˆ—è¡¨"><a href="#å·¥å…·æ åˆ—è¡¨" class="headerlink" title="å·¥å…·æ åˆ—è¡¨"></a>å·¥å…·æ åˆ—è¡¨</h3><p>ç‚¹å‡»ä¸ªäººå¤´åƒå¯å±•å¼€å·¥å…·æ åˆ—è¡¨ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>å†™æ–‡ç« ï¼šç‚¹å‡»å¯æ–°å»ºæ–‡ç« ç¼–è¾‘é¡µé¢ï¼Œå’Œ â• å°å›¾æ ‡æ˜¯åŒæ ·åŠŸèƒ½</li><li>ä¸Šä¼ æ–‡ä»¶ï¼šç‚¹å‡»å¯æ‰“å¼€æ–‡ä»¶ä¸Šä¼ é¡µé¢ï¼Œå’Œä¸Šä¼ å°å›¾æ ‡æ˜¯åŒæ ·åŠŸèƒ½</li><li>ä¸ªäººä¿¡æ¯ï¼š ç‚¹å‡»å¯è¿›å…¥ä¸ªäººä¿¡æ¯é¡µé¢</li><li>å·²èµï¼šç‚¹å‡»å¯æŸ¥çœ‹å·²èµè¿‡å¾—æ–‡ç« </li><li>è®¾ç½®ï¼šç‚¹å‡»å¯æ‰“å¼€ä¸ªäººè®¾ç½®é¡µé¢</li><li>ç™»å‡ºï¼šç‚¹å‡»é€€å‡ºç™»å½•</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/tool_menu.png" alt="no-shadow" title="Tool Menu"></p><h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h3><p>ç‚¹å‡»å·¥å…·æ ä¸Šçš„è®¾ç½®æŒ‰é’®å¯ä»¥è®¾ç½®é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><p><strong>ä¸ªäººä¿¡æ¯è®¾ç½®</strong></p><ul><li>å¤´åƒï¼šå¤´åƒæ˜¯ä½¿ç”¨çš„ <code>Gravatar</code> æä¾›çš„åŠŸèƒ½ï¼Œæ ¹æ®é‚®ç®±ç”Ÿæˆå¤´åƒ</li><li>ç”¨æˆ·å</li><li>é‚®ç®±ï¼šå·²éªŒè¯é€šè¿‡ä¼šæ˜¾ç¤ºéªŒè¯å°å›¾æ ‡ï¼Œæ²¡æœ‰é€šè¿‡çš„ä¼šæ˜¾ç¤ºæç¤º</li><li>GitHubï¼šåªéœ€å¡«å†™æœ‰æˆ·å</li><li>ä¸ªäººç®€ä»‹ï¼šæ”¯æŒemoji</li><li>ä¸ªäººç½‘ç«™</li></ul><p><img src="https://cdn.lishaoy.net/setting_profile.png" alt="no-shadow" title="Setting Profile"></p><p><strong>ä¿®æ”¹å¯†ç è®¾ç½®</strong></p><p>éœ€å¡«å†™åŸå¯†ç ï¼Œæ–°å¯†ç ï¼Œå†æ¬¡è¾“å…¥å¯†ç </p><p><img src="https://cdn.lishaoy.net/setting_pwd.png" alt="no-shadow" title="Setting Password"></p><h3 id="èŠå¤©å®¤"><a href="#èŠå¤©å®¤" class="headerlink" title="èŠå¤©å®¤"></a>èŠå¤©å®¤</h3><p>ç‚¹å‡» <strong>Chatroom</strong> é“¾æ¥å¯è¿›å…¥èŠå¤©å®¤ï¼Œå½“ç„¶è¿™ä¸ªæ˜¯ç”¨çš„ <code>websocket</code> åšçš„ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>çŠ¶æ€å›¾æ ‡ï¼šæ˜¾ç¤ºé“¾æ¥çŠ¶æ€</li><li>æ´»åŠ¨ç”¨æˆ·ï¼šå·¦ä¾§é»‘è‰²åŒºåŸŸä¼šåŠ¨æ€æ˜¾ç¤ºæ´»åŠ¨ç”¨æˆ·</li><li>æ¶ˆæ¯ï¼šä¼šæ˜¾ç¤ºå‘é€æ¶ˆæ¯ï¼Œè¿›å…¥ã€ç¦»å¼€æˆ¿é—´é€šçŸ¥æ¶ˆæ¯ï¼ˆæ”¯æŒåŒ¿åå‘é€æ¶ˆæ¯ï¼Œä½†ä¸ä¼šä¿å­˜æ¶ˆæ¯ï¼‰</li><li>æ¶ˆæ¯è¾“å…¥ï¼šæ¶ˆæ¯è¾“å…¥æ¡†å¯è¾“å…¥æ¶ˆæ¯ï¼Œ<kbd>Cmd</kbd> â€” <kbd>Enter</kbd> æ¢è¡Œï¼ˆWindowsä¼šæ˜¾ç¤ºæç¤ºCtrl+Enterï¼‰ï¼Œå›è½¦å‘é€æ¶ˆæ¯</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/chatroom1.gif" alt="no-shadow" title="Chart Room"></p><p>åŠ å…¥æˆ¿é—´å’Œç¦»å¼€æˆ¿é—´éƒ½æœ‰æ¶ˆæ¯é€šçŸ¥ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/adonisjs/chatroom.png" alt="no-shadow" title="Chart Room"></p><h2 id="Node-js-æ¡†æ¶"><a href="#Node-js-æ¡†æ¶" class="headerlink" title="Node.js æ¡†æ¶"></a>Node.js æ¡†æ¶</h2><p>è¿™ä¸ªåº”ç”¨çš„å¼€å‘æˆ‘é€‰æ‹©çš„æ˜¯ <code>Adonisjs</code> æ¡†æ¶ï¼Œä»–å’Œ <code>PHP</code> çš„ <code>Laravel</code> æœ‰äº›åƒï¼Œ<code>Adonisjs</code> æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œçš„ <code>Node.js</code> <strong>MVC</strong> æ¡†æ¶ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ¥çœ‹çœ‹ <code>Adonisjs</code> æ¡†æ¶æœ‰å“ªäº›ç‰¹æ€§ï¼š</p><h3 id="ç¯å¢ƒå®‰è£…ç®€å•"><a href="#ç¯å¢ƒå®‰è£…ç®€å•" class="headerlink" title="ç¯å¢ƒå®‰è£…ç®€å•"></a>ç¯å¢ƒå®‰è£…ç®€å•</h3><p>ä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œå®‰è£… <code>Adonisjs</code> è¿è¡Œç¯å¢ƒéƒ½æ˜¯éå¸¸ç®€å•ï¼Œå…ˆæ¥çœ‹çœ‹å¼€å‘ç¯å¢ƒçš„å®‰è£…ï¼Œç”Ÿäº§ç¯å¢ƒåé¢ä¼šæåˆ°ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„ç”µè„‘ä¸Šéœ€è¦å®‰è£…å¥½ <code>Node.js</code>å¤§äº <em>8.00</em> ç‰ˆæœ¬ï¼Œç®¡ç† <code>Node.js</code> å¯ä»¥ä½¿ç”¨ <code>nvm</code></p><p>å…¶æ¬¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>npm</code> å®‰è£… <code>Adonis CLI</code> å‘½ä»¤è¡Œå·¥å…·ï¼ˆç®¡ç† <code>npm</code> ä½¿ç”¨æºå¯ä»¥ä½¿ç”¨ <code>nrm</code>ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @adonisjs/cli</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥åœ¨å…¨å±€ä½¿ç”¨ <code>adonis</code> å‘½ä»¤</p><p>å†æ¬¡ï¼Œå¯ä»¥æ˜¯ <code>adonis new</code> å‘½ä»¤åˆ›å»ºé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis new adonis_pro</span><br></pre></td></tr></table></figure><p>åœ¨ <code>cd</code> è¿›å…¥é¡¹ç›®ï¼Œæ‰§è¡Œ <code>adonis serve --dev</code> è¿è¡Œé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> adonis_pro</span><br><span class="line">adonis serve --dev</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‚¨çš„å¼€å‘ç¯å¢ƒå°±æ­å»ºå®Œæˆã€‚</p><h3 id="RMVC"><a href="#RMVC" class="headerlink" title="RMVC"></a>RMVC</h3><p><code>RMVC</code> å°±æ˜¯è·¯ç”±ã€æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ã€‚</p><h4 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h4><p>åˆ›å»ºä¸€æ¡è·¯ç”±éå¸¸ç®€å•ï¼Œå¦‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route.get(<span class="string">'liked/:userId/:postId'</span>, <span class="string">'LikedController.liked'</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ¡è·¯ç”±å°±æ˜¯ç”¨æ¥å¤„ç†ä¸Šé¢æåˆ°çš„ç‚¹èµåŠŸèƒ½çš„</p><p>å½“ç„¶ï¼Œ<code>Adonisjs</code> æä¾›äº† <strong>èµ„æºè·¯ç”±</strong> ä»¥ä¾¿æ‚¨æ›´æ–¹ä¾¿çš„åˆ›å»ºè·¯ç”±ï¼Œä¾‹å¦‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route.resource(<span class="string">'posts'</span>, <span class="string">'PostController'</span>).middleware(</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">[ [ <span class="string">'create'</span>, <span class="string">'store'</span>, <span class="string">'edit'</span>, <span class="string">'update'</span>, <span class="string">'destroy'</span> ], [ <span class="string">'auth'</span> ] ],</span><br><span class="line">[ [ <span class="string">'update'</span>, <span class="string">'destroy'</span>, <span class="string">'edit'</span> ], [ <span class="string">'own:post'</span> ] ]</span><br><span class="line">])</span><br><span class="line">).validator(<span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [[<span class="string">'posts.update'</span>, <span class="string">'posts.store'</span>], [<span class="string">'StorePost'</span>]]</span><br><span class="line">]))</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè·¯ç”±æ˜¯æ¥å¤„ç†ä¸Šé¢åº”ç”¨æåˆ°çš„æ–‡ç« çš„ <em>å¢ã€åˆ ã€æ”¹ã€æŸ¥</em> ï¼Œè¿™ä¸ªå¯èƒ½æœ‰äº›å¤æ‚ï¼Œä½¿ç”¨äº† <strong>ä¸­é—´ä»¶</strong> æ¥å¤„ç†ç”¨æˆ·ç™»å½•çŠ¶æ€å’Œæ“ä½œæƒé™ï¼Œä½¿ç”¨äº† <strong>éªŒè¯å™¨</strong> æ¥å¤„ç†è¡¨å•éªŒè¯ï¼Œè¿™é‡Œä¸ä»‹ç»çš„å¤ªå¤æ‚ï¼Œå¦‚æƒ³äº†è§£è¿™äº›å…·ä½“åŠŸèƒ½ï¼Œå¯ä»¥éœ€è¦èŠ±ç‚¹æ—¶é—´äº†è§£å­¦ä¹ ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å»æ‰ <strong>ä¸­é—´ä»¶</strong> å’Œ <strong>éªŒè¯å™¨</strong> ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route.resource(<span class="string">'posts'</span>, <span class="string">'PostController'</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ¡èµ„æºè·¯ç”±ï¼Œå…¶å®å°±åŒ…å«äº†ä»¥ä¸‹è·¯ç”±ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Route.get(url, closure)</span><br><span class="line">Route.post(url, closure)</span><br><span class="line">Route.put(url, closure)</span><br><span class="line">Route.patch(url, closure)</span><br><span class="line">Route.delete(url, closure)</span><br></pre></td></tr></table></figure><p><code>Adonisjs</code> è¿˜æä¾›äº†è·¯ç”±ç»„å’Œå…¶ä»–ä¸€äº›åŠŸèƒ½ï¼Œè·¯ç”±ç»„å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route.group(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">Route.get(<span class="string">'profile'</span>, <span class="string">'ProfileController.edit'</span>).as(<span class="string">'profile.edit'</span>)</span><br><span class="line">Route.post(<span class="string">'profile'</span>, <span class="string">'ProfileController.update'</span>).as(<span class="string">'profile.update'</span>).validator(<span class="string">'UpdateProfile'</span>)</span><br><span class="line">Route.get(<span class="string">'password'</span>, <span class="string">'PasswordController.edit'</span>).as(<span class="string">'password.edit'</span>)</span><br><span class="line">Route.post(<span class="string">'password'</span>, <span class="string">'PasswordController.update'</span>).as(<span class="string">'password.update'</span>).validator(<span class="string">'UpdatePassword'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.prefix(<span class="string">'settings'</span>)</span><br><span class="line">.middleware([ <span class="string">'auth'</span> ])</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>.prefix</code> å’Œ <code>Route.group</code> æ¥åˆ›å»ºè·¯ç”±ç»„ï¼Œè¿™æ¡è·¯ç”±ç»„æ˜¯å¤„ç† ä¸ªäººä¿¡æ¯è®¾ç½® åŠŸèƒ½çš„ï¼Œè¿™æ ·è®¿é—®é¡µé¢æ˜¯å°±ç»Ÿä¸€è¦å¸¦ä¸Š <code>settings/**</code> ã€‚</p><h4 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h4><p><code>Adonisjs</code> æä¾›äº†å‘½ä»¤è¡Œæ¥åˆ›å»ºæ§åˆ¶å™¨ï¼Œå¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:controller User --<span class="built_in">type</span> http</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ª <code>User</code> æ§åˆ¶å™¨,è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = UserController</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>--resource</code> åˆ›å»ºèµ„æºç±»å‹çš„æ§åˆ¶å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:controller Post --resource</span><br></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> </span>&#123;</span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Show a list of all posts.</span></span><br><span class="line"><span class="comment">   * GET posts</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> index (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Render a form to be used for creating a new posts.</span></span><br><span class="line"><span class="comment">   * GET posts/create</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> create (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Create/save a new posts.</span></span><br><span class="line"><span class="comment">   * POST posts</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> store (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Display a single posts.</span></span><br><span class="line"><span class="comment">   * GET posts/:id</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> show (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Render a form to update an existing posts.</span></span><br><span class="line"><span class="comment">   * GET posts/:id/edit</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> edit (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Update posts details.</span></span><br><span class="line"><span class="comment">   * PUT or PATCH posts/:id</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> update (&#123; request, response, view&#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Delete a posts with id.</span></span><br><span class="line"><span class="comment">   * DELETE posts/:id</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> destroy (&#123; params, request, response &#125;) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = PostController</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢çš„èµ„æºè·¯ç”±æ˜¯å¯¹åº”çš„ï¼Œå¦‚ç”¨ <code>GET</code> è¯·æ±‚è®¿é—® <em>posts</em> å°±ä¼šè°ƒç”¨ <code>index</code> æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨æ¥æ˜¾ç¤ºï¼‰ ï¼Œå†å¦‚ï¼šç”¨ <code>DELETE</code> è¯·æ±‚è®¿é—® <em>posts/1</em> å°±ä¼šæ‰§è¡Œ <code>destroy</code> æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨æ¥åˆ é™¤ï¼‰ã€‚</p><h4 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h4><p><code>Adonisjs</code> æä¾›äº†ä¸¤ç§æ¨¡å¼æ¥å¤„ç†æ•°æ®ï¼Œ<code>Query builder</code> å’Œ <code>LUCID</code></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>adonis make:migration</code> æ¥åˆ›å»ºæ•°æ®è¡¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:migration users</span><br></pre></td></tr></table></figure><p>ä¼šè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Schema = use(<span class="string">'Schema'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsersSchema</span> <span class="keyword">extends</span> <span class="title">Schema</span> </span>&#123;</span><br><span class="line">  up () &#123;</span><br><span class="line">    <span class="keyword">this</span>.create(<span class="string">'users'</span>, (table) =&gt; &#123;</span><br><span class="line">      table.increments()</span><br><span class="line">      table.timestamps()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  down () &#123;</span><br><span class="line">    <span class="keyword">this</span>.drop(<span class="string">'users'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = UsersSchema</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æˆ‘ä»¬åªéœ€åœ¨å…¶ä¸­æ·»åŠ æƒ³è¦çš„å­—æ®µå°±è¡Œï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Schema = use(<span class="string">'Schema'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsersSchema</span> <span class="keyword">extends</span> <span class="title">Schema</span> </span>&#123;</span><br><span class="line">  up () &#123;</span><br><span class="line">    <span class="keyword">this</span>.create(<span class="string">'users'</span>, (table) =&gt; &#123;</span><br><span class="line">      table.increments()</span><br><span class="line">      table.string(<span class="string">'username'</span>, <span class="number">80</span>).notNullable().unique()</span><br><span class="line">      table.string(<span class="string">'email'</span>, <span class="number">254</span>).notNullable().unique()</span><br><span class="line">      table.string(<span class="string">'password'</span>, <span class="number">60</span>).notNullable()</span><br><span class="line">      table.timestamps()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  down () &#123;</span><br><span class="line">    <span class="keyword">this</span>.drop(<span class="string">'users'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = UsersSchema</span><br></pre></td></tr></table></figure><p>åœ¨æ‰§è¡Œ <code>adonis migration:run</code> å‘½ä»¤å°±å¯ä»¥åœ¨æ•°æ®åº“ç”Ÿæˆæ•°æ®è¡¨</p><p>å†æ¥çœ‹çœ‹ï¼Œå¦‚ä½•è·å–æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <code>Query builder</code> å’Œ <code>LUCID</code> ä¸¤ç§æ–¹å¼</p><p>å…ˆæ¥çœ‹çœ‹ <code>Query builder</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Database = use(<span class="string">'Database'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> index (request, response) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> Database</span><br><span class="line">      .table(<span class="string">'users'</span>)</span><br><span class="line">      .where(<span class="string">'username'</span>, <span class="string">'admin'</span>)</span><br><span class="line">      .first()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ <code>user</code> è¡¨ <code>name</code> æ˜¯ <code>admin</code> çš„ç”¨æˆ·</p><p><code>Adonisjs</code> æä¾›äº†éå¸¸å¤šçš„æ–¹æ³•å»æ“ä½œæ•°æ®ï¼Œä¸æ˜¯ç‰¹å¤æ‚çš„å…³ç³»éƒ½å¤Ÿç”¨ï¼Œå¦‚æœï¼Œå…³ç³»æ¯”è¾ƒå¤æ‚ï¼Œè¿˜å¯ä»¥ç”¨åŸç”Ÿçš„ <code>sql</code> æ“ä½œï¼Œå¦‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Database = use(<span class="string">'Database'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">NotificationController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">async</span> followNotice (&#123; auth, view &#125;) &#123;</span><br><span class="line">    <span class="keyword">const</span> notices = <span class="keyword">await</span> Database.raw(<span class="string">'select users.id as user_id,users.username,users.email,b.title,b.created_at,b.is_read,b.id as post_id from adonis.users , (select posts.id,posts.title, a.user_id,a.created_at,a.is_read from adonis.posts,(SELECT post_user.post_id, post_user.user_id, post_user.created_at, post_user.is_read FROM adonis.post_user where post_user.post_id in (SELECT posts.id FROM adonis.posts where user_id = ?)) as a where posts.id = a.post_id) as b where b.user_id = users.id and b.user_id &lt;&gt; ? order by b.created_at desc limit 50'</span>,[ auth.user.id, auth.user.id ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = NotificationController</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>Database.raw</code> æ¥è¿è¡ŒåŸç”Ÿçš„ <code>sql</code>ï¼Œä»¥ä¸Šè¿™æ¡ <code>sql</code> æ˜¯ç”¨æ¥æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ç»™è‡ªå·±æ‰€æœ‰æ–‡ç« ç‚¹èµçš„ç”¨æˆ·ä¿¡æ¯å’Œæ–‡ç« ä¿¡æ¯ç”¨äºæ¶ˆæ¯é€šçŸ¥ã€‚</p><p>å†æ¥çœ‹çœ‹ï¼Œ<code>LUCID</code> çš„æ¨¡å¼æ˜¯å¦‚ä½•æ“ä½œæ•°æ®çš„ï¼š</p><p>ä½¿ç”¨ <code>LUCID</code> æ¨¡å¼ï¼Œæˆ‘ä»¬å…ˆéœ€è¦ç”¨å‘½ä»¤è¡Œå·¥å…·åˆ›å»º <code>Models</code>ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:model User</span><br></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Model = use(<span class="string">'Model'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = User</span><br></pre></td></tr></table></figure><p>æ¨¡å‹å’Œæ¨¡å‹ä¹‹é—´éœ€è¦å®šä¹‰ä¸€äº›å…³ç³»ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Model = use(<span class="string">'Model'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  profile () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.hasOne(<span class="string">'App/Models/Profile'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = User</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯ ä¸€ä¸ªç”¨æˆ·å¯¹åº”ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯æ¡£æ¡ˆï¼Œ<strong>ä¸€å¯¹ä¸€</strong> çš„å…³ç³»</p><p>å®šä¹‰å¥½å…³ç³»ä¹‹åï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„è·å–æ•°æ®ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> User = use(<span class="string">'App/Models/User'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> User.find(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> userProfile = <span class="keyword">await</span> user.profile().fetch()</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯ï¼Œä»ç”¨æˆ·è¡¨å’Œç”¨æˆ·ä¸ªäººä¿¡æ¯è¡¨é‡Œè·å–ç”¨æˆ· <code>id</code> æ˜¯ <code>1</code> çš„ç”¨æˆ·ä¿¡æ¯åŠä¸ªäººä¿¡æ¯ï¼Œ</p><p>å…¶ä¸­ï¼Œå…³ç³»å¯ä»¥å®šä¹‰ä¸º <strong>3</strong> ç§ <strong>ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤š</strong> ï¼Œå¤šå¯¹å¤šéœ€è¦å®šä¹‰ä¸­é—´è¡¨</p><p>å†æ¥çœ‹çœ‹ï¼Œä¸Šé¢çš„åº”ç”¨ä¸­çš„å®é™…åº”ç”¨ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> update (&#123; params, request, response, session, auth &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; title, content, user_id, tags &#125; = request.all()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> post = <span class="keyword">await</span> Post.findOrFail(params.id)</span><br><span class="line">  post.merge(&#123; title, content&#125;)</span><br><span class="line">  <span class="keyword">await</span> post.save()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> post.tags().sync(tags)</span><br><span class="line"></span><br><span class="line">  session.flash(&#123;</span><br><span class="line">    type: <span class="string">'primary'</span>,</span><br><span class="line">    message: <span class="string">'Post updated successfully.'</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response.redirect(</span><br><span class="line">    Route.url(<span class="string">'PostController.show'</span>, &#123;</span><br><span class="line">      id: post.id</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šï¼Œæ˜¯æ›´æ–°æ–‡ç« çš„æ–¹æ³•ï¼Œ<strong>æ–‡ç« </strong> å’Œ <strong>æ ‡ç­¾</strong> æ˜¯ <strong>å¤šå¯¹å¤š</strong> çš„å…³ç³»ï¼Œä¸€ä¸ªæ ‡ç­¾å¯ä»¥å±äºå¤šç¯‡æ–‡ç« ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œ<code>await post.tags().sync(tags)</code> è¿™å¥ä»£ç å°±å¯ä»¥é€šè¿‡ <code>Models</code> é‡Œå®šä¹‰çš„å…³ç³»è‡ªåŠ¨æŠŠæ ‡ç­¾å’Œæ–‡ç« å…³è”èµ·æ¥ä¿å­˜åˆ° <code>posts</code> å’Œ <code>tags</code> è¡¨é‡Œä¸”æŠŠå…³è”å…³ç³»ä¿å­˜åˆ°ä¸­é—´è¡¨ <code>post_tag</code>ã€‚</p><p>å½“ç„¶ï¼Œ<code>Adonisjs</code> æä¾›äº†å¾ˆå¤šæ–¹ä¾¿çš„æ–¹æ³•ï¼Œæƒ³äº†è§£æ›´å¤šçš„è¯éœ€è¦æ‚¨èŠ±ç‚¹æ—¶é—´å»äº†è§£å­¦ä¹ ã€‚</p><h4 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h4><p><code>Adonisjs</code> æ¡†æ¶é‡Œè§†å›¾ä½¿ç”¨äº† <code>edge</code> æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·åˆ›å»ºè§†å›¾æ–‡ä»¶ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:view post</span><br></pre></td></tr></table></figure><p>æˆ‘çœ‹å¯ä»¥çœ‹ä¸‹ç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@loggedIn</span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span> You are logged in <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">@else</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span>&gt;</span>Click here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> to login <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">@endloggedIn</span><br></pre></td></tr></table></figure><p>è§†å›¾æ¨¡æ¿é‡Œå¯ä»¥ä½¿ç”¨æ ‡ç­¾æ¥åšé€»è¾‘åˆ¤æ–­ï¼Œè§†å›¾æ¨¡æ¿å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šç”¨çš„ï¼Œå…³äº <code>edge</code> è§†å›¾æ¨¡æ¿æ›´å¤šè¯­æ³• <a href="https://edge.adonisjs.com/docs/syntax-guide" target="_blank" rel="noopener">Edgeå®˜æ–¹æ–‡æ¡£</a></p><p>æœ€åï¼Œ<code>Adonisjs</code> æ¡†æ¶è¿˜æä¾›äº†å¾ˆå¤šå…¶å®ƒçš„å®ç”¨å·¥å…·ï¼Œå¦‚ï¼š<code>Middleware</code> ä¸­é—´ä»¶ã€<code>Validator</code> éªŒè¯å™¨ã€<code>Error Handling</code> è‡ªå®šä¹‰å¼‚å¸¸ã€<code>Events</code> äº‹ä»¶ã€<code>Mails</code> é‚®ä»¶ã€<code>Websocket</code> ç­‰æ¥å¤„ç†å„ç§é—®é¢˜ã€‚</p><h2 id="Node-jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"><a href="#Node-jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨" class="headerlink" title="Node.jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"></a>Node.jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨ <code>ssh</code> è¿æ¥åˆ°é˜¿é‡Œäº‘ï¼ˆæˆ–è€…å…¶ä»–æœåŠ¡å™¨ä¾›åº”å•†ï¼‰çš„ä¸»æœºä¸Šï¼Œå®‰è£…ä¸€äº›å¿…è¦çš„å·¥å…·ã€‚</p><h3 id="å·¥å…·å®‰è£…"><a href="#å·¥å…·å®‰è£…" class="headerlink" title="å·¥å…·å®‰è£…"></a>å·¥å…·å®‰è£…</h3><h4 id="å®‰è£…-epel-release-è½¯ä»¶åŒ…ä»“åº“"><a href="#å®‰è£…-epel-release-è½¯ä»¶åŒ…ä»“åº“" class="headerlink" title="å®‰è£… epel-release è½¯ä»¶åŒ…ä»“åº“"></a>å®‰è£… epel-release è½¯ä»¶åŒ…ä»“åº“</h4><p>æˆ‘ä»¬éœ€è¦å®‰è£… <code>epel-release</code> è½¯ä»¶åŒ…ä»“åº“ï¼Œ<code>epel-release</code> é‡Œé¢æœ‰å¾ˆå¤šæœ€æ–°çš„è½¯ä»¶åŒ…ï¼Œå¦‚ï¼Œä¹‹åå®‰è£…çš„ <code>git</code> å°±ä¼šç”¨åˆ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install epel-release - y</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…-Git-ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·"><a href="#å®‰è£…-Git-ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å®‰è£… Git ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·"></a>å®‰è£… Git ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install git -y</span><br></pre></td></tr></table></figure><h3 id="å‡†å¤‡-Node-js-è¿è¡Œç¯å¢ƒ"><a href="#å‡†å¤‡-Node-js-è¿è¡Œç¯å¢ƒ" class="headerlink" title="å‡†å¤‡ Node.js è¿è¡Œç¯å¢ƒ"></a>å‡†å¤‡ Node.js è¿è¡Œç¯å¢ƒ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… <code>Node.js</code> ä»¥ä¾¿æˆ‘ä»¬çš„ <code>Node.js</code> é¡¹ç›®èƒ½å¤Ÿè·‘èµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>nvm</code> å®‰è£…å’Œç®¡ç† <code>Node.js</code> ï¼Œä½¿ç”¨ <code>nrm</code> æ¥ç®¡ç†åˆ‡æ¢å®‰è£…æºã€‚</p><h4 id="å®‰è£…-nvm"><a href="#å®‰è£…-nvm" class="headerlink" title="å®‰è£… nvm"></a>å®‰è£… nvm</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½ä¹‹å,æˆ‘ä»¬éœ€è¦é…ç½®ä¸‹ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œä½¿ç”¨ <code>nvm</code> å‘½ä»¤ï¼Œç”¨ <code>vi ~/.bash_profile</code> ç¼–è¾‘ä¸‹é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br></pre></td></tr></table></figure><p>åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">"<span class="variable">$HOME</span>/.nvm"</span></span><br><span class="line">[ -s <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; \. <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span></span><br><span class="line">[ -s <span class="string">"<span class="variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; \. <span class="string">"<span class="variable">$NVM_DIR</span>/bash_completion"</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <code>source ~/.bash_profile</code> åˆ·æ–°ä¸‹é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>nvm</code> æ¥å®‰è£… <code>Node.js</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install node</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½åï¼Œå¯ä»¥ä½¿ç”¨ <code>nvm list</code> æ¥æŸ¥çœ‹æœ‰å“ªäº›ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm list</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-&gt;     v10.13.0</span><br><span class="line">        v11.2.0</span><br><span class="line">         system</span><br><span class="line">default -&gt; v10.13.0</span><br><span class="line">node -&gt; stable (-&gt; v11.2.0) (default)</span><br><span class="line">stable -&gt; 11.2 (-&gt; v11.2.0) (default)</span><br><span class="line">iojs -&gt; N/A (default)</span><br><span class="line">lts/* -&gt; lts/dubnium (-&gt; v10.13.0)</span><br><span class="line">lts/argon -&gt; v4.9.1 (-&gt; N/A)</span><br><span class="line">lts/boron -&gt; v6.14.4 (-&gt; N/A)</span><br><span class="line">lts/carbon -&gt; v8.13.0 (-&gt; N/A)</span><br><span class="line">lts/dubnium -&gt; v10.13.0</span><br></pre></td></tr></table></figure><p>æˆ‘ä½¿ç”¨çš„æ˜¯ <em>v10.13.0</em> çš„ç‰ˆæœ¬ï¼Œé»˜è®¤å®‰è£…çš„éƒ½æ˜¯æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œå¯èƒ½æ˜¯ <em>v11.2.0</em> æˆ– <em>v11.1.0</em>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ <code>nvm install v10.13.0</code> æ¥å®‰è£…æŒ‡å®šç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v10.13.0</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>nvm use  v10.13.0</code> æ¥ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use nvm v10.13.0</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Now using node v10.13.0 (npm v6.4.1)</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…-nrm-ç®¡ç†å®‰è£…æº"><a href="#å®‰è£…-nrm-ç®¡ç†å®‰è£…æº" class="headerlink" title="å®‰è£… nrm ç®¡ç†å®‰è£…æº"></a>å®‰è£… nrm ç®¡ç†å®‰è£…æº</h4><p>ä½¿ç”¨ npm å®‰è£…çš„ç¨‹åºåŒ…ï¼Œé»˜è®¤çš„æ¥æºæ˜¯ <a href="http://registry.npmjs.org" target="_blank" rel="noopener">http://registry.npmjs.org</a>ï¼Œå›½å†…çš„ä¸‹è½½é€Ÿåº¦ä¼šæœ‰äº›æ…¢ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¯ <code>nrm</code> æ¥åˆ‡æ¢åˆ° <code>taobao</code> çš„æº</p><p><strong>å®‰è£… nrm</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install nrm --global</span><br></pre></td></tr></table></figure><p><strong>åˆ‡æ¢åˆ° taobao æº</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm use taobao</span><br></pre></td></tr></table></figure><h3 id="å‡†å¤‡é¡¹ç›®"><a href="#å‡†å¤‡é¡¹ç›®" class="headerlink" title="å‡†å¤‡é¡¹ç›®"></a>å‡†å¤‡é¡¹ç›®</h3><p>ä»¥ä¸Šå·¥ä½œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨å°±å¯ä»¥æ­£å¸¸è¿è¡Œ <code>Node.js</code> é¡¹ç›®ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠæœ¬åœ°çš„é¡¹ç›®ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¸Šä¼ æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¦‚ï¼š</p><ul><li>å¯ä»¥ä½¿ç”¨ <code>git</code>ï¼Œå…ˆæŠŠé¡¹ç›®ä¼ åˆ° <strong>GitHub</strong>ï¼Œç„¶åç”¨ <code>git</code> ä¸‹è½½åˆ°æœåŠ¡å™¨</li><li>å¯ä»¥æ˜¯ <strong>FTP</strong> å·¥å…·</li><li>å¯ä»¥æ˜¯å‘½ä»¤ä¸Šä¼  <code>scp -r æœ¬åœ°ç›®å½•  root@æœåŠ¡å™¨IP:/var/www/</code></li></ul><p>å‘é¡¹ç›®æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æŒ‡å®šç›®å½•ä¸‹ï¼Œå¦‚ï¼š<code>www</code></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¯ <strong>PM2</strong> æ¥ç®¡ç† <strong>Node</strong> è¿›ç¨‹ï¼Œå…ˆéœ€è¦å®‰è£… <strong>PM2</strong></p><h4 id="å®‰è£…PM2"><a href="#å®‰è£…PM2" class="headerlink" title="å®‰è£…PM2"></a>å®‰è£…PM2</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2@latest --global</span><br></pre></td></tr></table></figure><p>è¿™äº›å·¥ä½œä½œä¸ºä¹‹åï¼Œå°±å¯ä»¥æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œå¯åŠ¨é¡¹ç›®ï¼Œåœ¨æœ¬åœ°è®¿é—®æœåŠ¡å™¨ <code>IP:PORT</code> æ¥æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—®</p><h4 id="æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ"><a href="#æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ" class="headerlink" title="æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ"></a>æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ</h4><p>åœ¨æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸‹åº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œ<code>adonisjs</code> æ¡†æ¶é‡Œæ˜¯ <code>.env</code> æ–‡ä»¶ï¼Œä¿®æ”¹ä¸‹ <code>HOST</code> çš„å€¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HOST=0.0.0.0</span><br><span class="line">PORT=3333</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><code>HOST</code> é»˜è®¤æ˜¯ <em>127.0.0.1</em>ï¼Œéœ€è¦æ”¹æˆ <em>0.0.0.0</em> è¿™æ ·å°±å¯ä»¥åœ¨è‡ªå·±ç”µè„‘ä¸Šç”¨æœåŠ¡å™¨ <code>IP:PORT</code> æ¥è®¿é—®åº”ç”¨</p><p>æ”¹å®Œåï¼Œè¿›å…¥åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œè¿è¡Œåº”ç”¨ï¼Œ<code>adonisjs</code> çš„å¯åŠ¨æ–‡ä»¶æ˜¯ <code>server.js</code>ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start server.js</span><br></pre></td></tr></table></figure><p>å¦‚å¯åŠ¨æˆåŠŸä¼šæç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[PM2] Applying action restartProcessId on app [server](ids: 0)</span><br><span class="line">[PM2] [server](0) âœ“</span><br><span class="line">[PM2] Process successfully started</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid  â”‚ status â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem      â”‚ user â”‚ watching â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ server   â”‚ 0  â”‚ 4.1.0   â”‚ fork â”‚ 7171 â”‚ online â”‚ 30      â”‚ 0s     â”‚ 0%  â”‚ 3.4 MB   â”‚ root â”‚ disabled â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"> Use `pm2 show &lt;id|name&gt;` to get more details about an app</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨è‡ªå·±ç”µè„‘ä¸Šç”¨æœåŠ¡å™¨ <code>IP:PORT</code> æ¥è®¿é—®åº”ç”¨ã€‚</p><h3 id="Nginx-ä»£ç†"><a href="#Nginx-ä»£ç†" class="headerlink" title="Nginx ä»£ç†"></a>Nginx ä»£ç†</h3><p>ä¸ºäº†è®©æœåŠ¡å™¨æ›´å¥½åœ°å¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä½¿ç”¨ <strong>Nginx åå‘ä»£ç†</strong> æŠŠè¯·æ±‚è½¬å‘ç»™ <code>Node.js</code> åº”ç”¨</p><h4 id="å®‰è£…-Nginx"><a href="#å®‰è£…-Nginx" class="headerlink" title="å®‰è£… Nginx"></a>å®‰è£… Nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install nginx -y</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„æœåŠ¡ä¹‹å‰å®‰è£…è¿‡å¯ä¸ç”¨å®‰è£…ï¼Œæˆ‘çš„é˜¿é‡Œäº‘æœåŠ¡å™¨è¿è¡Œäº† 4 ä¸ªç«™ç‚¹ä¹‹å‰å®‰è£…è¿‡ï¼Œä¹‹åæˆ‘åªéœ€æ·»åŠ é…ç½®å°±è¡Œã€‚</p><h4 id="å¯åŠ¨-Nginx"><a href="#å¯åŠ¨-Nginx" class="headerlink" title="å¯åŠ¨ Nginx"></a>å¯åŠ¨ Nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start nginx</span><br></pre></td></tr></table></figure><h4 id="é…ç½®-Nginx"><a href="#é…ç½®-Nginx" class="headerlink" title="é…ç½® Nginx"></a>é…ç½® Nginx</h4><p>ä¸€èˆ¬æƒ…å†µ <strong>Nginx</strong> å®‰è£…å¥½åä¼šæœ‰ <em>/etc/nginx/conf.d</em>  ç›®å½•ï¼Œè¿›å…¥è¿™ä¸ªç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸º <code>Node.js</code> è€Œå‡†å¤‡ï¼Œåå­—å¯éšæ„å‘½åï¼Œå¦‚ï¼š<code>adonis.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  location / &#123;</span><br><span class="line">      proxy_pass http://127.0.0.1:3333;</span><br><span class="line">      proxy_http_version 1.1;</span><br><span class="line">      proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">      proxy_set_header Connection <span class="string">'upgrade'</span>;</span><br><span class="line">      proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">      proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">      proxy_cache_bypass <span class="variable">$http_upgrade</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <strong>Nginx</strong> çš„ä¸»é…ç½®æ–‡ä»¶é‡ŒæŠŠåˆšæ‰æ–°åˆ›å»ºçš„é…ç½®æ–‡ä»¶ï¼ˆ<em>/etc/nginx/nginx.conf</em>ï¼‰ <code>include</code> è¿›å»å°±å¯ä»¥,å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include /etc/nginx/conf.d/*.conf;</span><br></pre></td></tr></table></figure><p>å› ä¸ºï¼Œæˆ‘çš„ä¸»æœºé‡Œè¿è¡Œäº†4ä¸ªç«™ç‚¹ï¼Œ<code>*</code> çš„æ„æ€å°±æ˜¯åŠ è½½è¿™ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰é…ç½®æ–‡ä»¶</p><p>ç„¶åï¼Œè®°å¾—æŠŠåˆšæ‰é¡¹ç›®é‡Œçš„ <em>.env</em> é…ç½®æ–‡ä»¶æ”¹æˆ <em>127.0.0.1</em> ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨ä½¿ç”¨äº†ä»£ç†ï¼Œç½‘ç»œè¯·æ±‚äº¤ç»™äº† <strong>Nginx</strong></p><p>å†è¿›å…¥åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pm2 stop server.js <span class="comment">#åœæ­¢é¡¹ç›®</span></span><br><span class="line">pm2 start server.js <span class="comment">#å¯åŠ¨é¡¹ç›®</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å†ç”¨æœåŠ¡å™¨ <strong>IP</strong> è®¿é—®å°±æ˜¯ç”¨çš„ <strong>Nginx</strong> å»å¤„ç†è¯·æ±‚</p><h4 id="åŸŸåå’ŒSSL"><a href="#åŸŸåå’ŒSSL" class="headerlink" title="åŸŸåå’ŒSSL"></a>åŸŸåå’ŒSSL</h4><p>å¦‚æœä½ æœ‰åŸŸåå¯ä»¥å»å¯¹åº”çš„ä¾›åº”å•†è§£æå¥½ï¼Œå¦‚æƒ³ä½¿ç”¨ <code>https</code> åè®®ï¼Œä¹Ÿå¯ä»¥å»å¯¹åº”çš„ä¾›åº”å•†ä¸‹è½½å¥½è¯ä¹¦ï¼ˆä¸‹è½½å¥½çš„è¯ä¹¦è¦æ”¾åˆ°æœåŠ¡å™¨æŸä¸ªç›®å½•é‡Œï¼‰ã€‚</p><p>å†ä¿®æ”¹ä¸‹åˆšæ‰åˆ›å»ºçš„é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒèƒ½å¤Ÿæ”¯æŒ <code>https</code> å’Œ åŸŸå è®¿é—®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">      listen 443 ssl http2; <span class="comment">#SSL</span></span><br><span class="line">  server_name a.lishaoy.net; <span class="comment">#åŸŸå</span></span><br><span class="line">  ssl on;</span><br><span class="line"></span><br><span class="line">  ssl_certificate /etc/letsencrypt/live/a.lishaoy.net/server.pem; <span class="comment">#è¯ä¹¦ç›®å½•</span></span><br><span class="line">  ssl_certificate_key /etc/letsencrypt/live/a.lishaoy.net/server.key; <span class="comment">#è¯ä¹¦ç›®å½•</span></span><br><span class="line">  ssl_protocols TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line">  ssl_session_cache shared:SSL:10m;</span><br><span class="line">  ssl_session_timeout 10m;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$ssl_protocol</span> = <span class="string">""</span>) &#123;</span><br><span class="line">    rewrite ^(.*) https://<span class="variable">$host</span><span class="variable">$1</span> permanent;</span><br><span class="line">  &#125;</span><br><span class="line">  error_page 497  https://<span class="variable">$host</span><span class="variable">$request_uri</span>;</span><br><span class="line"></span><br><span class="line">  error_page 404 /404.html;</span><br><span class="line">  error_page 502 /502.html;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">      proxy_pass http://localhost:3333;</span><br><span class="line">      proxy_http_version 1.1;</span><br><span class="line">      proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">      proxy_set_header Connection <span class="string">'upgrade'</span>;</span><br><span class="line">      proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">      proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">      proxy_cache_bypass <span class="variable">$http_upgrade</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†é‡å¯ <code>Ningx</code> æœåŠ¡å’Œé¡¹ç›®çš„æœåŠ¡ï¼Œå°±å¤§åŠŸå‘Šæˆäº†ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/adonisjs.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutterï¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å»ºæ¼‚äº®çš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ âœ¿ åˆä½“éªŒï¼ˆå®æˆ˜ï¼‰</title>
      <link>https://h.lishaoy.net/fristFlutter.html</link>
      <guid>https://h.lishaoy.net/fristFlutter.html</guid>
      <pubDate>Sat, 10 Nov 2018 17:04:15 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/fristFlutter/flutterCover7.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æˆ‘ä»¬ä¸Šç¯‡æ–‡ç« å·²ç»æŠŠ &lt;strong&gt;Flutter&lt;/strong&gt; çš„å¼€å‘è¿è¡Œç¯å¢ƒæ­å»ºå¥½äº† &lt;a href=&quot;https://h.lishaoy.net/flutterInstall.html&quot;&gt;Flutterï¼šç¯å¢ƒæ­å»º&lt;/a&gt; ï¼Œæœ¬ç¯‡æ–‡ç« å°†å®Œæˆæ‚¨çš„ç¬¬ä¸€ä¸ª &lt;strong&gt;Flutter&lt;/strong&gt; å°åº”ç”¨ï¼Œä¸ç”¨ä½†æ˜¯ä¸ä¼šï¼Œè·Ÿç€æ–‡ç« åšå°±è¡Œï¼Œå¼€å§‹ä¸å¿…å¤ªçº ç»“è¿™äº›ä»£ç ç»†èŠ‚ï¼Œæ˜ç™½å®ƒæ˜¯å¹²ä»€ä¹ˆçš„å°±è¡Œï¼Œåªæ˜¯ä¸€ä¸ªä½¿ç”¨ä½“éªŒï¼Œä½“éªŒ &lt;strong&gt;Flutter&lt;/strong&gt; æ¡†æ¶ç»™ä½ å¸¦æ¥çš„å¼€å‘æ„Ÿå—ï¼Œåé¢ä¼šæœ‰å…·ä½“çš„ç»„ä»¶ï¼ˆwidgetï¼‰çš„æ–‡ç« ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/fristFlutter/flutterCover7.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æˆ‘ä»¬ä¸Šç¯‡æ–‡ç« å·²ç»æŠŠ <strong>Flutter</strong> çš„å¼€å‘è¿è¡Œç¯å¢ƒæ­å»ºå¥½äº† <a href="https://h.lishaoy.net/flutterInstall.html">Flutterï¼šç¯å¢ƒæ­å»º</a> ï¼Œæœ¬ç¯‡æ–‡ç« å°†å®Œæˆæ‚¨çš„ç¬¬ä¸€ä¸ª <strong>Flutter</strong> å°åº”ç”¨ï¼Œä¸ç”¨ä½†æ˜¯ä¸ä¼šï¼Œè·Ÿç€æ–‡ç« åšå°±è¡Œï¼Œå¼€å§‹ä¸å¿…å¤ªçº ç»“è¿™äº›ä»£ç ç»†èŠ‚ï¼Œæ˜ç™½å®ƒæ˜¯å¹²ä»€ä¹ˆçš„å°±è¡Œï¼Œåªæ˜¯ä¸€ä¸ªä½¿ç”¨ä½“éªŒï¼Œä½“éªŒ <strong>Flutter</strong> æ¡†æ¶ç»™ä½ å¸¦æ¥çš„å¼€å‘æ„Ÿå—ï¼Œåé¢ä¼šæœ‰å…·ä½“çš„ç»„ä»¶ï¼ˆwidgetï¼‰çš„æ–‡ç« ã€‚</p><hr><a id="more"></a><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>åœ¨ä¸Šç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ª Flutter é¡¹ç›® <span class="label success">new_flutter</span>ï¼Œå¦‚æœæ‚¨è¿˜æ²¡æœ‰åˆ›å»ºï¼Œå¯ä»¥åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/desktop <span class="comment">#è¿›å…¥æ¡Œé¢</span></span><br><span class="line">flutter create new_flutter <span class="comment">#åˆ›å»º Flutter é¡¹ç›®</span></span><br><span class="line"><span class="built_in">cd</span> new_flutter <span class="comment">#è¿›å…¥é¡¹ç›®</span></span><br><span class="line">code ./ <span class="comment">#ç”¨ VS Code æ‰“å¼€</span></span><br></pre></td></tr></table></figure><p>ç”¨ VS Code æ‰“å¼€é¡¹ç›®åï¼ŒæŒ‰ <strong>F5</strong> é€‰æ‹©æ¨¡æ‹Ÿå™¨è¿è¡Œé¡¹ç›®çœ‹çœ‹æ•ˆæœï¼Œè¿™äº›æ“ä½œåœ¨ä¸Šç¯‡æ–‡ç« éƒ½å·²ç»åšè¿‡äº†ï¼Œæ‚¨åº”è¯¥æœ‰äº›å°è±¡ï¼Œå¦‚æˆåŠŸçš„è¯ï¼Œä¼šçœ‹åˆ°å¦‚å›¾æ•ˆæœï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/demo.png" alt="no-shadow" title="Flutter run"></p><p>ä¸Šå›¾ç•Œé¢æ˜¯ <code>flutter create</code> å‘½ä»¤åˆ›å»ºé¡¹ç›®æ—¶ï¼Œç»™æˆ‘ä»¬çš„æ¡ˆä¾‹ï¼ˆè®¡æ•°å™¨ï¼‰ï¼Œè¿™äº›ä»£ç åœ¨ <em><span class="label default"> lib->main.dart</span></em> æ–‡ä»¶é‡Œï¼Œå¦‚ä½ å…³æ³¨çš„è¯å¯ä»¥çœ‹çœ‹è¿™äº›ä»£ç éƒ½åšäº†äº›ä»€ä¹ˆï¼Œä¸è¿‡ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦è¿™äº›ä»£ç ï¼Œ<kbd>âŒ˜</kbd> - <kbd>A</kbd> å…¨é€‰åˆ é™¤ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å†™ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#åˆ›å»ºé¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(</span><br><span class="line">    Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        <span class="string">'Hello'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">        style: TextStyle(fontSize: <span class="number">36.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    )</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™å…¥ä»¥ä¸Šä»£ç ï¼ŒæŒ‰ <kbd>âŒ˜</kbd> - <kbd>â‡§</kbd> - <kbd>P</kbd> æ‰“å¼€ VS Code çš„å‘½ä»¤é¢æ¿ï¼Œæœç´¢ <code>hot restart</code> æ‰§è¡Œå‘½ä»¤ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/flutter_hello.png" alt="no-shadow" title="hello"></div><p><code>main()</code> æ˜¯ Flutter çš„å…¥å£å‡½æ•°ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šæŠŠä»£ç å†™åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹ä»£ç ï¼ˆè‡ªå®šä¹‰ widgetï¼‰ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#åˆ›å»ºé¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(App());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        <span class="string">'Hello'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">        style: TextStyle(fontSize: <span class="number">36.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œæˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€ä¸ª <code>StatelessWidget</code> ç±»å‹çš„ widget å« <span class="label primary">App</span>ã€‚</p><h2 id="æ–°å¢-Material-AppBar"><a href="#æ–°å¢-Material-AppBar" class="headerlink" title="æ–°å¢ Material AppBar"></a>æ–°å¢ Material AppBar</h2><p>æˆ‘ä»¬å†æ¥ä¿®æ”¹ä¸‹ä»£ç ï¼Œè®©æˆ‘ä»¬çš„åº”ç”¨å»ä½¿ç”¨ <span class="label success">Material Design</span> çš„ AppBar</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#æ–°å¢-Material-AppBar">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(App());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">            style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: Hello(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        <span class="string">'Hello'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">        style: TextStyle(fontSize: <span class="number">36.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/Appbar.png" alt="no-shadow" title="hello"></div><div class="note success"><p><i class="fa fa-fw fa-bell faa-horizontal animated faa-slow" style="color: #009688;"></i><strong>Tipï¼š</strong></p><ol><li>è‡ªå®šä¹‰äº†ä¸€ä¸ª Hello çš„ <span class="label info">StatelessWidget</span> ç±»å‹çš„ widget</li><li>æ–°å¢äº† MaterialApp ï¼Œè¿™é‡Œé¢å°±æœ‰æˆ‘ä»¬éœ€è¦ç”¨çš„ AppBar ï¼ˆMaterialApp é‡Œé¢æœ‰å¾ˆå¤š <span class="label info">Material Design</span> é£æ ¼çš„ç»„ä»¶ï¼Œåé¢çš„æ–‡ç« æåˆ°ï¼‰</li><li>Scaffold å¯ä»¥ç†è§£ä¸º MaterialApp å¸ƒå±€çš„æ¶å­ï¼Œ<span class="label info">Material Design</span> é£æ ¼çš„ç»„ä»¶éƒ½ä¼šæ”¾åˆ°è¿™é‡Œé¢</li><li>AppBar å°±æ˜¯é¡¶éƒ¨è“è‰²è¿™éƒ¨åˆ†ï¼ŒåŠ äº†ä¸€ä¸ª title è½¬ä¸ºå¤§å†™å’Œå¢åŠ è¯é—´è·</li><li>body æ˜¯ä¸»æ˜¾ç¤ºåŒºï¼Œä¸‹é¢ç™½è‰²éƒ¨åˆ†ï¼Œæ”¾çš„æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ Hello å°éƒ¨ä»¶</li></ol></div>  <h2 id="æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰"><a href="#æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰" class="headerlink" title="æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰"></a>æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰</h2><p>åœ¨æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€äº›æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ lib ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½• model å’Œæ–‡ä»¶ <span class="label default">post.dart</span>ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/fristFlutter/model.png" alt="post.dart" width="26%" title="post.dart" align="center"></p><p>ç„¶åï¼ŒæŠŠåœ¨ <span class="label success">GitHub</span> å‡†å¤‡å¥½çš„ <a href="https://github.com/persilee/flutter_pro/blob/master/lib/model/post.dart" target="_blank" rel="noopener">post.dart</a> æ•°æ®æ”¾åˆ°é‡Œé¢ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å†æ¥æ”¹è¿›ä¸‹ä»£ç ï¼Œè®©å®ƒæ›´å…·æœ‰ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬æŠŠ <code>home</code> å±æ€§ä¸‹çš„ Scaffold æ”¾åˆ°å•ç‹¬çš„ widget ï¼Œå–åä¸º <span class="label default">HomePage</span></p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(App());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      home: HomePage(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">            style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: Hello(),</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥åˆ›å»º <span class="label primary">è§†å›¾åˆ—è¡¨</span> </p><p>é¦–å…ˆï¼Œåœ¨å¤´éƒ¨å¼•å…¥åˆšæ‰åˆ›å»ºçš„æ•°æ® <code>post.dart</code> æ–‡ä»¶</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./model/post.dart'</span>;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå†æŠŠ <code>body</code> ä¸‹çš„ Hello() æ¢æˆ <code>ListView</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">            style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: ListView.builder(</span><br><span class="line">          itemCount: posts.length,</span><br><span class="line">          itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; Text(posts[index].title),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/listView.png" alt="no-shadow" title="ListView"></div><h2 id="å®Œå–„åˆ—è¡¨é¡¹ç›®"><a href="#å®Œå–„åˆ—è¡¨é¡¹ç›®" class="headerlink" title="å®Œå–„åˆ—è¡¨é¡¹ç›®"></a>å®Œå–„åˆ—è¡¨é¡¹ç›®</h2><p>ç°åœ¨ï¼Œæ•°æ®å·²ç»å‘ˆç°åœ¨åº”ç”¨ç•Œé¢ä¸Šäº†ï¼Œæ¥ä¸‹æ¥è¦åšçš„æ˜¯è®©æ•°æ®å±•ç¤ºæ›´å‹å¥½ä¸€ç‚¹ã€‚</p><p>æˆ‘ä»¬å†æ¥æ”¹é€ ä¸€ä¸‹ <code>itemBuilder</code> ä¸‹çš„æ–¹æ³•ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#å®Œå–„åˆ—è¡¨é¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      backgroundColor: Colors.grey[<span class="number">100</span>],</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(</span><br><span class="line">          <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">          style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemCount: posts.length,</span><br><span class="line">        itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; Container(</span><br><span class="line">              margin: EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">              color: Colors.white,</span><br><span class="line">              child: Column(</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  Image.network(</span><br><span class="line">                    posts[index].imageUrl,</span><br><span class="line">                    fit: BoxFit.cover,</span><br><span class="line">                  ),</span><br><span class="line">                  SizedBox(</span><br><span class="line">                    height: <span class="number">16.0</span>,</span><br><span class="line">                  ),</span><br><span class="line">                  Text(</span><br><span class="line">                    posts[index].title,</span><br><span class="line">                    style: Theme.of(context).textTheme.title,</span><br><span class="line">                  ),</span><br><span class="line">                  Text(</span><br><span class="line">                    posts[index].author,</span><br><span class="line">                    style: Theme.of(context).textTheme.subhead,</span><br><span class="line">                  ),</span><br><span class="line">                  SizedBox(</span><br><span class="line">                    height: <span class="number">16.0</span>,</span><br><span class="line">                  ),</span><br><span class="line">                ],</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/listView1.png" alt="no-shadow" title="ListView"></div><div class="note success"><p><i class="fa fa-fw fa-bell faa-horizontal animated faa-slow" style="color: #009688;"></i><strong>Tipï¼š</strong></p><ol><li><span class="label info">itemBuilder</span> å±æ€§æ˜¯ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¼  2 ä¸ªå‚æ•°ï¼Œcontextï¼ˆå†…å®¹ï¼‰ã€indexï¼ˆç´¢å¼•ï¼‰</li><li>æˆ‘ä»¬ç”¨äº† <span class="label info">Container</span> çš„ widget æ¥è£…è½½æˆ‘ä»¬çš„é¡¹ç›®ï¼Œå› ä¸º <span class="label info">Container</span> æœ‰å¾ˆå¤šå±æ€§ï¼Œä¾‹å¦‚ marginã€paddingã€colorã€widthã€heightç­‰ï¼Œåé¢æˆ‘ä»¬ä¼šæ…¢æ…¢çš„ç†Ÿæ‚‰å®ƒ</li><li>æˆ‘ä»¬ç”¨äº†ä¸€ä¸ª <span class="label info">Column</span> çš„ widget æ¥å¸ƒå±€ï¼Œå› ä¸ºæˆ‘ä»¬çš„å›¾ç‰‡ã€æ ‡é¢˜ã€å°æ ‡é¢˜è¦çºµå‘æ’åˆ—ï¼ˆRowã€Columnç­‰ä¸€äº›å¸ƒå±€çš„ widget æˆ‘ä»¬ä¼šç»å¸¸ç”¨åˆ°ï¼‰</li><li>ç”¨äº† <span class="label info">Image.network</span> æ¥åŠ è½½ä¸€ä¸ªæ¥è‡ªç½‘ç»œçš„å›¾ç‰‡ï¼ˆImage.assetå¯ä»¥åŠ è½½æœ¬åœ°å›¾åƒï¼‰</li><li><span class="label info">Theme.of(context).textTheme.title</span> æ˜¯ç”¨ <span class="label info">Material Design</span> ä¸»é¢˜é‡Œçš„æ ‡é¢˜æ ·å¼</li></ol></div>  <p>æœ€åï¼Œä¸ºäº†å¯é˜…è¯»æ€§å’Œç»´æŠ¤æ€§è€ƒé‡ï¼Œæˆ‘ä»¬å†å¯ä»¥è°ƒæ•´ä¸€ä¸‹ä»£ç  <span class="label success">ListView.builder</span> æ–¹æ³•å•ç‹¬æç‚¼å‡ºæ¥ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#å®Œå–„åˆ—è¡¨é¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  Widget _listItemBuilder(BuildContext context, <span class="built_in">int</span> index) =&gt; Container(</span><br><span class="line">        margin: EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">        color: Colors.white,</span><br><span class="line">        child: Column(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Image.network(</span><br><span class="line">              posts[index].imageUrl,</span><br><span class="line">              fit: BoxFit.cover,</span><br><span class="line">            ),</span><br><span class="line">            SizedBox(</span><br><span class="line">              height: <span class="number">16.0</span>,</span><br><span class="line">            ),</span><br><span class="line">            Text(</span><br><span class="line">              posts[index].title,</span><br><span class="line">              style: Theme.of(context).textTheme.title,</span><br><span class="line">            ),</span><br><span class="line">            Text(</span><br><span class="line">              posts[index].author,</span><br><span class="line">              style: Theme.of(context).textTheme.subhead,</span><br><span class="line">            ),</span><br><span class="line">            SizedBox(</span><br><span class="line">              height: <span class="number">16.0</span>,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      backgroundColor: Colors.grey[<span class="number">100</span>],</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(</span><br><span class="line">          <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">          style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemCount: posts.length,</span><br><span class="line">        itemBuilder: _listItemBuilder,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œç¬¬ä¸€ä¸ªæ¼‚äº®çš„ç•Œé¢å·²ç»å®Œæˆï¼Œåé¢çš„æ–‡ç« æˆ‘ä»¬ä¸€èµ·æ¥å®Œæˆå…¶ä»–éƒ¨åˆ†ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/fristFlutter.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutterï¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å»ºæ¼‚äº®çš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ âœ¿ ç¯å¢ƒæ­å»º</title>
      <link>https://h.lishaoy.net/flutterInstall.html</link>
      <guid>https://h.lishaoy.net/flutterInstall.html</guid>
      <pubDate>Thu, 08 Nov 2018 02:22:29 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/flutterInstall/flutterCover8.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;ä¸Šç¯‡æ–‡ç« å¸¦å¤§å®¶è®¤è¯†äº† &lt;code&gt;Flutter&lt;/code&gt; ï¼Œæƒ³å¿…å¤§å®¶å·²è¿«ä¸åŠå¾…çš„æƒ³ç»ƒç»ƒæ‰‹ï¼Œæ‰€ä»¥è¦è¡ŒåŠ¨èµ·æ¥ï¼Œç°åœ¨è¿™ç¯‡æ–‡ç« å°±å¸¦æ‚¨æ­å»ºä¸€ä¸ª &lt;code&gt;Flutter&lt;/code&gt; è¿è¡ŒåŠå¼€å‘ç¯å¢ƒã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/flutterInstall/flutterCover8.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>ä¸Šç¯‡æ–‡ç« å¸¦å¤§å®¶è®¤è¯†äº† <code>Flutter</code> ï¼Œæƒ³å¿…å¤§å®¶å·²è¿«ä¸åŠå¾…çš„æƒ³ç»ƒç»ƒæ‰‹ï¼Œæ‰€ä»¥è¦è¡ŒåŠ¨èµ·æ¥ï¼Œç°åœ¨è¿™ç¯‡æ–‡ç« å°±å¸¦æ‚¨æ­å»ºä¸€ä¸ª <code>Flutter</code> è¿è¡ŒåŠå¼€å‘ç¯å¢ƒã€‚</p><hr><a id="more"></a><h2 id="å®‰è£…-Flutter-SDK"><a href="#å®‰è£…-Flutter-SDK" class="headerlink" title="å®‰è£… Flutter SDK"></a>å®‰è£… Flutter SDK</h2><p>æƒ³è¦åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡Œ <strong>Flutter</strong> ï¼Œéœ€è¦å®‰è£… <strong>Flutter SDK</strong> æ‰å¯ä»¥è¿è¡Œï¼Œ <strong>SDK</strong> é‡Œé¢æœ‰ä¸€äº›ç”¨äºåˆ›å»ºã€æ„å»ºã€æµ‹è¯•å’Œç¼–è¯‘åº”ç”¨ç¨‹åºçš„å‘½ä»¤è¡Œå·¥å…·ç­‰ï¼Œè¿™äº›åœ¨å¼€å‘çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ 2 ç§æ–¹æ³•è·å– <strong>SDK</strong></p><ul><li>å¯ä»¥åˆ° <a href="https://flutter.io/docs/development/tools/sdk/archive#macos" target="_blank" rel="noopener">ä¸‹è½½ Flutter SDK </a> åˆ°æœ¬åœ°ç”µè„‘</li><li>å¯ä»¥ç”¨ <code>git clone</code> å‘½ä»¤ä¸‹è½½åˆ°æœ¬åœ°ç”µè„‘</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/flutter/flutter.git</span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼ŒæŠŠä¸‹è½½ä¸‹æ¥çš„ <strong>Flutter SDK</strong> è§£å‹ï¼Œæ”¾åˆ°ç³»ç»Ÿçš„æŸä¸ªç›®å½•ï¼Œæ¯”å¦‚æˆ‘æ˜¯æ”¾åˆ°ï¼š <code>/Applications/flutter</code> ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutterSDK.png" alt="no-shadow" title="Flutter SDK"></p><h2 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h2><p>é…ç½®ç¯å¢ƒå˜é‡çš„ç›®çš„æ˜¯ä¸ºäº†è®© <strong>Flutter SDK</strong> å‘½ä»¤è¡Œå·¥å…·åœ¨å…¨å±€èŒƒå›´éƒ½èµ·ä½œç”¨ï¼Œä»¥ä¾¿å¼€å‘ä½¿ç”¨ã€‚</p><p>é¦–å…ˆï¼Œæ‚¨å¯ä»¥ç”¨ç¼–è¾‘å™¨æ‰“å¼€ä¸»ç›®å½•ä¸‹çš„ <code>.bash_profile</code>ï¼Œæˆ–è€…ç”¨ <code>vi</code> å‘½ä»¤ç¼–è¾‘ï¼Œæˆ‘ä¹ æƒ¯ç”¨ <code>vi</code> å‘½ä»¤ï¼Œå¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="variable">$HOME</span>/.bash_profile</span><br></pre></td></tr></table></figure><p>æ–°å¢ä»¥ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/Applications/flutter/bin</span><br><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure><div class="note warning"><p><i class="fa fa-fw fa-bell faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> <br>ç¬¬ä¸€è¡Œ <span class="label danger">export PATH=$PATH:/Applications/flutter/bin</span> ä¸­çš„ <span class="label danger">/Applications/flutter/bin</span> å°±æ˜¯åˆšæ‰ä¸‹è½½çš„ <strong>Flutter SDK</strong> è§£å‹åæ”¾åœ¨æœ¬åœ°ç”µè„‘çš„ç›®å½•ï¼Œæ‚¨è¦æ ¹æ®è‡ªå·±æ“ä½œæ›´æ”¹ä¸ºè‡ªå·±ç”µè„‘å¯¹åº”çš„ç›®å½•ã€‚<br>ç¬¬äºŒã€ä¸‰è¡Œä¸ºè§£å†³å›½å†…ä¸‹è½½æˆ–æ›´æ–°èµ„æºæ…¢çš„å›½å†…é•œåƒï¼Œé…ç½®è¿™ä¸ªä¸‹è½½æˆ–æ›´æ–°èµ„æºä¼šå¿«ä¸€äº›ã€‚</p></div>  <p>å†æ‰§è¡Œ <code>source $HOME/.bash_profile</code> å‘½ä»¤åˆ·æ–°å½“å‰å‘½ä»¤è¡Œçª—å£ï¼Œæˆ–è€…å…³æ‰å½“å‰å‘½ä»¤è¡Œçª—å£é‡æ–°æ‰“å¼€ï¼Œæ•ˆæœä¸€æ ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> <span class="variable">$HOME</span>/.bash_profile</span><br></pre></td></tr></table></figure><p>å†æ‰§è¡Œ <code>flutter --help</code>ï¼Œæ¥æµ‹è¯•ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterSDK3.png" alt="no-shadow" title="flutter help"></p><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <span class="label danger">zsh</span>ï¼Œéœ€è¦åœ¨ ~/.zshrc æ–‡ä»¶ä¸­æ·»åŠ ï¼š<span class="label danger">source ~/.bash_profile</span> ï¼Œå¦åˆ™ <span class="label danger">flutter</span> å‘½ä»¤å°†æ— æ³•è¿è¡Œã€‚</p></div> <h2 id="é…ç½®-iOS-å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®-iOS-å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½® iOS å¼€å‘ç¯å¢ƒ"></a>é…ç½® iOS å¼€å‘ç¯å¢ƒ</h2><p>æƒ³ç”¨ <strong>Flutter</strong> ä¸º iOS å¹³å°å¼€å‘åº”ç”¨ï¼Œéœ€è¦å®‰è£… Xcodeï¼Œæˆ‘ä»¬å¯ä»¥å»è‹¹æœåº”ç”¨å•†åº—ä¸‹è½½ã€‚</p><p>å®‰è£…å¥½ Xcode åï¼Œä½ éœ€è¦æ‰“å¼€ä¸€æ¬¡ Xcode åŒæ„è®¸å¯åè®®ï¼ˆä¼šæç¤ºï¼‰ï¼Œæˆ–è€…æ‰§è¡Œ <code>sudo xcodebuild -license</code> åŒæ„è®¸å¯åè®®ã€‚</p><p>ç„¶åæ‰§è¡Œ <code>open -a Simulator</code> å‘½ä»¤ï¼Œå°±å¯ä»¥æ‰“å¼€ä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œæ¥è¿è¡Œå’Œæµ‹è¯• <strong>Flutter</strong> ç¨‹åºï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/Simulator2.png" alt="no-shadow" title="Simulator"></p><h2 id="é…ç½®-Android-å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®-Android-å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½® Android å¼€å‘ç¯å¢ƒ"></a>é…ç½® Android å¼€å‘ç¯å¢ƒ</h2><p>æƒ³ç”¨ <strong>Flutter</strong> ä¸º Android å¹³å°å¼€å‘åº”ç”¨ï¼Œéœ€è¦ä¸‹è½½å®‰è£… <a href="https://developer.android.com/studio/" target="_blank" rel="noopener">Android Studio</a>ã€‚</p><p>å®‰è£…å¥½ Android Studio åï¼Œå¯åŠ¨å®ƒï¼Œé¦–æ¬¡å¯åŠ¨ä¼šå®‰è£…æœ€æ–°çš„ <strong>Android SDK</strong> ï¼Œä½†æ˜¯ä½ å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio.png" alt="Android Studio" width="50%" title="Android Studio" align="center"></p><p>å¦‚æœé‡åˆ°è¿™ä¸ªé—®é¢˜åº”è¯¥å°±æ˜¯ç½‘ç»œé—®é¢˜ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œç‚¹ <strong>Setup Proxy</strong> æ¥è®¾ç½®ä»£ç†ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio1.png" alt="Android Studio" width="50%" title="Android Studio" align="center"></p><p>å¦‚ä¸€åˆ‡æ­£å¸¸ï¼Œå°±ä¼šæç¤ºä½ éœ€è¦ä¸‹è½½ä¸€äº›ä¸œè¥¿ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio2.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>ç‚¹å‡» Finish æŒ‰é’®åå°±ä¼šä¸‹è½½å®‰è£…ä»¥ä¸Šåˆ—è¡¨çš„ä¸œè¥¿,ä¸‹è½½å®‰è£…å®Œ SDK åï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio3.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>éœ€è¦æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆšæ‰å·²ç»é…ç½®å¥½çš„ <strong>Flutter SDK</strong> çš„å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ª Flutter é¡¹ç›®ï¼Œå¦‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/desktop</span><br><span class="line">flutter create new_flutter</span><br></pre></td></tr></table></figure><p>å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œåœ¨æ¡Œé¢å°±ä¼šç”Ÿæˆä¸€ä¸ª Flutter é¡¹ç›®ï¼Œå†ç”¨ Android Studio æ‰“å¼€ï¼Œé¡¹ç›®æ‰“å¼€åä¼šæç¤ºå®‰è£… Flutter æ’ä»¶å’Œä¾èµ– Dart è¯­è¨€æ’ä»¶ ï¼Œå®‰è£…å®Œä¹‹åæˆ‘ä»¬å¯ä»¥å»åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿå™¨ã€‚</p><p>æ‰“å¼€ <strong>Tools&gt;AVD Manager</strong> ï¼Œç‚¹å‡» <code>Create Virtual Device...</code> æ¥åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œé€‰æ‹©ä¸€ä¸ªè®¾å¤‡ï¼Œç‚¹å‡» Nextï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio4.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>ä¸ºæ¨¡æ‹Ÿå™¨é€‰æ‹©ä¸€ä¸ªç³»ç»Ÿé•œåƒï¼ˆæˆ‘é€‰æ‹©çš„æ˜¯ç¬¬ä¸€ä¸ªï¼‰ï¼Œç‚¹å‡» Download ï¼Œä¸‹è½½å®Œæˆåï¼Œç‚¹å‡» Next åï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio5.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>æœ€åï¼Œåœ¨æ¨¡æ‹Ÿæ€§èƒ½è¿™é‡Œé€‰æ‹© <strong>Hardware - GLES 2.0</strong> å¯åŠ¨ç¡¬ä»¶åŠ é€Ÿï¼Œç‚¹å‡» Finish å®Œæˆ</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio6.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><h2 id="é…ç½®ç¼–è¾‘å™¨"><a href="#é…ç½®ç¼–è¾‘å™¨" class="headerlink" title="é…ç½®ç¼–è¾‘å™¨"></a>é…ç½®ç¼–è¾‘å™¨</h2><p>å‰é¢æˆ‘ä»¬å·²ç»é…ç½®å¥½äº† <strong>Flutter SDK</strong> ã€<strong>iOS æ¨¡æ‹Ÿå™¨</strong> ã€<strong>Android æ¨¡æ‹Ÿå™¨</strong> ï¼Œæœ€åæˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€ä¸‹ç¼–è¾‘å™¨ï¼Œå½“ç„¶æ‚¨å¯ä»¥é€‰æ‹© <code>Android Studio</code> æˆ–è€… <code>VS Code</code>ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯è½»é‡çº§çš„ <code>VS Code</code>ã€‚</p><div class="note default"><p>å¦‚å¯¹ VS Code ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå¯å‚è€ƒæˆ‘ä¹‹å‰å†™çš„ <a href="https://h.lishaoy.net/VSCodeCodingSkills.html">VS Code ç¼–è¾‘æŠ€å·§</a> </p></div>  <p>æ‰“å¼€ç»ˆç«¯è¿›å…¥æˆ‘ä»¬åˆšæ‰æ–°å»ºçš„ Flutter é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> new_flutter</span><br></pre></td></tr></table></figure><p>å†ç”¨ VS Code æ‰“å¼€é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code ./</span><br></pre></td></tr></table></figure><p>æ‰“å¼€é¡¹ç›®ä¹‹å <kbd>âŒ˜</kbd> - <kbd>â‡§</kbd> - <kbd>X</kbd> ,æ‰“å¼€æ‰©å±•ï¼Œå®‰è£… <strong>Flutter</strong> æ’ä»¶ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_install.gif" alt="Android Studio" width="88%" title="Flutter install" align="center"></p><p>å®Œæˆä¹‹åï¼Œæ‰“å¼€é¡¹ç›®ç›®å½• <code>lib-&gt;main.dart</code> æ–‡ä»¶ï¼Œ VS Code ä¼šè‡ªåŠ¨æç¤ºä½ å®‰è£… Dart è¯­è¨€æ‰©å±•åŒ…ã€‚</p><h2 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h2><p>ç°åœ¨ï¼Œæ‰€æœ‰çš„å‡†å¤‡å·¥ä½œéƒ½å®Œæˆäº†ï¼Œå°±å¯ä»¥å¼€å‘ã€æµ‹è¯•æˆ–è¿è¡Œé¡¹ç›®äº†ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬ç”¨ <code>Flutter create</code> å‘½ä»¤åˆ›å»ºçš„ Flutter é¡¹ç›®ï¼Œè‡ªå¸¦ä¸€ä¸ªè®¡æ•°å™¨çš„å°åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œçœ‹çœ‹æ•ˆæœ</p><p>é¦–å…ˆï¼Œæ‚¨éœ€è¦æ‰§è¡Œ <code>flutter doctor</code> æ¥æ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒæ˜¯å¦æ­£å¸¸</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run.png" alt="no-shadow" title="Flutter run"></p><p>å¦‚ä¸Šå›¾ç¬¬äºŒé¡¹æç¤º <code>Android license status unknown.</code> æ„æ€æ˜¯ Android åè®®æ²¡å®‰è£…å¥½ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ¥è§£å†³é—®é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter doctor --android-licenses</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šå›¾ç¬¬ä¸‰é¡¹æ˜¯ iOS çœŸæœºçš„æ£€æŸ¥é¡¹ï¼Œå¯ä»¥æŒ‰ç…§æç¤ºæ“ä½œ<br>å¦‚ä¸Šå›¾ç¬¬å››é¡¹æ˜¯ Java çš„ç¼–è¾‘å™¨æ£€æŸ¥ï¼Œå¯ä¸ç”¨ç†ä¼šï¼Œå¦‚ä½ æ²¡æœ‰å®‰è£… IDEA ä¹Ÿä¸ä¼šæœ‰è¿™ä¸ªæç¤º</p><p>å…¶å®åœ¨æˆ‘å¦ä¸€å°ç”µè„‘ä¸Šå…¨éƒ¨éƒ½é…ç½®å¥½äº† ğŸ˜ ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run1.png" alt="no-shadow" title="Flutter run"></p><p>æœ€åï¼Œåœ¨ VS Code ç¼–è¾‘å™¨é‡ŒæŒ‰ <strong>F5</strong> åï¼Œä¼šè®©ä½ é€‰æ‹©æ¨¡æ‹Ÿå™¨æ¥è¿è¡Œ Flutter ç¨‹åºï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run1.gif" alt="Flutter run" width="88%" title="Flutter run" align="center"></p><p>è¿™ä¸ªæ˜¯åˆ†åˆ«åœ¨ iOS å’Œ Android è¿è¡Œ Flutter çš„æ•ˆæœï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/demo.png" alt="no-shadow" title="Flutter run"></p><h2 id="è¿è¡Œ-Flutter-æ¡ˆä¾‹"><a href="#è¿è¡Œ-Flutter-æ¡ˆä¾‹" class="headerlink" title="è¿è¡Œ Flutter æ¡ˆä¾‹"></a>è¿è¡Œ Flutter æ¡ˆä¾‹</h2><p>ç°åœ¨æ‰€æœ‰çš„éƒ½å‡†å¤‡å¥½äº†ï¼Œæ‚¨å¯ä»¥å»æˆ‘çš„ GitHub ä¸Šä¸‹è½½ä¸Šç¯‡æ–‡ç« ä¸­çš„æ¡ˆä¾‹ä»£ç ï¼Œä¹Ÿå¯ä»¥ <code>git clone</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$HOME</span>/Desktop <span class="comment">#è¿›åˆ°æ¡Œé¢</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/persilee/flutter_pro.git <span class="comment">#ä¸‹è½½æ¡ˆä¾‹</span></span><br><span class="line"><span class="built_in">cd</span> flutter_pro <span class="comment">#è¿›å…¥æ¡ˆä¾‹ç›®å½•</span></span><br><span class="line">flutter packages get <span class="comment">#è·å–ä¾èµ–åŒ…</span></span><br><span class="line">code ./ <span class="comment">#ç”¨ VS Code æ‰“å¼€</span></span><br></pre></td></tr></table></figure><p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œåœ¨ VS Code æŒ‰ F5 é€‰æ‹©æ¨¡æ‹Ÿå™¨ï¼ŒæŸ¥çœ‹è¿è¡Œæ•ˆæœï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run5.png" alt="no-shadow" title="Flutter Demo"></p><p>å¥½çš„ï¼Œå¤§åŠŸå‘Šæˆï¼Œè¿™ç¯‡åˆ°å¤„ä¸ºæ­¢ï¼Œä¸‹ç¯‡å°†æ‰‹æ‹‰æ‰‹å¸¦å¤§å®¶å®Œæˆä¸€ä¸ªå®æ“å°æ¡ˆä¾‹ ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/flutterInstall.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutterï¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å»ºæ¼‚äº®çš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ âœ¿ åˆè¯†</title>
      <link>https://h.lishaoy.net/beautifulFlutter.html</link>
      <guid>https://h.lishaoy.net/beautifulFlutter.html</guid>
      <pubDate>Mon, 05 Nov 2018 02:41:09 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/beautifulFlutter/flutter_750x400.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æœ€è¿‘ï¼Œå­¦ä¹ äº†ä¸€äº› &lt;code&gt;Flutter&lt;/code&gt; ç›¸å…³çš„çŸ¥è¯†ï¼Œåšäº†å¦‚ä¸‹çš„å°ç§»åŠ¨åº”ç”¨ï¼Œå½“ç„¶æ˜¯ä¸€å¥—ä»£ç å³å¯åœ¨ &lt;code&gt;iOS&lt;/code&gt; å¹³å°è¿è¡Œ,ä¹Ÿå¯ä»¥åœ¨ &lt;code&gt;Android&lt;/code&gt; è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘å°†æ‰‹æ‹‰æ‰‹å¸¦æ‚¨å¿«é€Ÿæ„å»ºå‡ºæ¼‚äº®çš„ç§»åŠ¨åº”ç”¨ç•Œé¢ï¼ˆå¦‚ä¸‹ğŸ‘‡å°è§†é¢‘ï¼‰&lt;/p&gt;
&lt;video id=&quot;flutter&quot; class=&quot;video-js vjs-default-skin&quot; controls preload=&quot;auto&quot; poster=&quot;https://cdn.lishaoy.net/flutter_start/flutter5.1.png&quot; data-setup=&quot;{&#39;example_option&#39;:true}&quot;&gt;
    &lt;source src=&quot;https://cdn.lishaoy.net/flutter_start/flutter7.mp4&quot; type=&quot;video/mp4&quot;&gt;
&lt;/video&gt;

&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/beautifulFlutter/flutter_750x400.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æœ€è¿‘ï¼Œå­¦ä¹ äº†ä¸€äº› <code>Flutter</code> ç›¸å…³çš„çŸ¥è¯†ï¼Œåšäº†å¦‚ä¸‹çš„å°ç§»åŠ¨åº”ç”¨ï¼Œå½“ç„¶æ˜¯ä¸€å¥—ä»£ç å³å¯åœ¨ <code>iOS</code> å¹³å°è¿è¡Œ,ä¹Ÿå¯ä»¥åœ¨ <code>Android</code> è¿è¡Œã€‚</p><p>ä¸‹é¢æˆ‘å°†æ‰‹æ‹‰æ‰‹å¸¦æ‚¨å¿«é€Ÿæ„å»ºå‡ºæ¼‚äº®çš„ç§»åŠ¨åº”ç”¨ç•Œé¢ï¼ˆå¦‚ä¸‹ğŸ‘‡å°è§†é¢‘ï¼‰</p><video id="flutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/flutter_start/flutter5.1.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/flutter_start/flutter7.mp4" type="video/mp4"></video><hr><a id="more"></a><h2 id="åˆè¯†-Flutter"><a href="#åˆè¯†-Flutter" class="headerlink" title="åˆè¯† Flutter"></a>åˆè¯† Flutter</h2><p><a href="https://flutterchina.club" target="_blank" rel="noopener">Flutter</a> æ˜¯è°·æ­Œçš„ç§»åŠ¨UIæ¡†æ¶ï¼Œå¯ä»¥å¿«é€Ÿåœ¨iOSå’ŒAndroidä¸Šæ„å»ºé«˜è´¨é‡çš„åŸç”Ÿç”¨æˆ·ç•Œé¢ã€‚</p><p>Google æ¨å‡º Flutter ç§»åŠ¨åº”ç”¨æ¡†æ¶å·²ç»æœ‰ä¸‰å¹´ï¼Œç›´åˆ°ä»Šå¹´çš„ Google I/O å¼€å‘å¤§ä¼šæ‰æ­£å¼ä»‹ç» <code>Flutter</code> ä¸”å‘å¸ƒ Beta ç‰ˆæœ¬, <a href="https://www.youtube.com/watch?v=w2TcYP8qiRI" target="_blank" rel="noopener">Flutter Google I/O è§†é¢‘</a> è¿™ä¸ªæ˜¯ <code>Flutter</code> åœ¨æ²¹ç®¡ï¼ˆYouTubeï¼‰çš„ Google I/O å¼€å‘è€…å¤§ä¼šçš„è§†é¢‘ï¼Œè¯·è‡ªè¡Œè§‚çœ‹ã€‚</p><p>å†æ¥çœ‹çœ‹æ›´åŠ ç”ŸåŠ¨çš„è§†é¢‘ä»‹ç»ï¼ŒåŠ é€Ÿæ‚¨çš„åˆè¯† <code>Flutter</code></p><video id="IntroducingFlutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/beautifulFlutter/IntroducingFlutter1.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/beautifulFlutter/IntroducingFlutter.mp4" type="video/mp4"></video><hr><p>Google çš„å¹¿å‘Šåº”ç”¨ Adwordsï¼Œé˜¿é‡Œçš„é—²é±¼ App éƒ½æ˜¯åŸºäº <code>Flutter</code> æ¡†æ¶å¼€å‘çš„ã€‚</p><p>ä»¥ä¸‹æ˜¯é˜¿é‡Œå·´å·´ç”¨ Flutter æ‰“é€ äº†5000å¤šä¸‡ç”¨æˆ·é—²é±¼ App (Flutter Developer Story) çš„æ•…äº‹è§†é¢‘</p><video id="FlutterDeveloperStory" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/beautifulFlutter/FlutterDeveloperStory2.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/beautifulFlutter/FlutterDeveloperStory.mp4" type="video/mp4"></video><hr><p><code>Flutter</code> ä½œä¸ºè°·æ­Œæ¨å‡ºçš„è·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œä¸€ç»æ¨å‡ºä¾¿å¸å¼•äº†ä¸å°‘æ³¨æ„,åœ¨ GitHub ä¸Šçš„ Star æ•°å·²è¶…è¿‡ <strong>4W+</strong> ã€‚</p><p><a href="https://www.bilibili.com/video/av27857568/" target="_blank" rel="noopener">CMTCå…¨çƒå¤§å‰ç«¯æŠ€æœ¯å¤§ä¼š ã„§ Flutterè§†é¢‘</a> è¿™æ˜¯ Googleä¸­å›½åœ¨ <strong>bilibili</strong> ä¸Šå‘å¸ƒçš„è§†é¢‘ï¼Œè¯·è‡ªè¡Œè§‚çœ‹ã€‚</p><h2 id="Flutter-ç‰¹æ€§"><a href="#Flutter-ç‰¹æ€§" class="headerlink" title="Flutter ç‰¹æ€§"></a>Flutter ç‰¹æ€§</h2><p>é€šè¿‡ä»¥ä¸Šçš„è§†é¢‘ï¼Œå¯¹äº <code>Flutter</code> å·²æœ‰æ‰€è®¤è¯†ï¼Œä¸‹é¢å†æ¥çœ‹çœ‹ <code>Flutter</code> çš„ä»¥ä¸‹ç‰¹æ€§</p><h3 id="çƒ­é‡è½½"><a href="#çƒ­é‡è½½" class="headerlink" title="çƒ­é‡è½½"></a>çƒ­é‡è½½</h3><p>å½“ä½ ä¿®æ”¹äº†ä»£ç  <kbd>âŒ˜</kbd> - <kbd>S</kbd> ï¼Œå¯ç«‹åˆ»çœ‹åˆ°æ•ˆæœï¼Œè€Œä¸”å¯ä»¥ä¿æŒç•Œé¢çŠ¶æ€ä¸å˜ï¼ˆå¦‚æ–‡æœ¬æ¡†è¾“å…¥çš„ä¿¡æ¯ä¸ä¼šæ”¹å˜ï¼‰ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/beautifulFlutter/HotReload1.gif" alt="no-shadow" title="Hot reload"></p><h3 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h3><p><code>Flutter</code> è‡ªå¸¦ Google æ¨è¡Œçš„è®¾è®¡ç³»ç»Ÿï¼š<a href="https://www.material.io" target="_blank" rel="noopener">Material Design</a> ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„ <strong>Material Design</strong> é£æ ¼çš„ç»„ä»¶ï¼ˆæ¯”å¦‚ï¼šæŒ‰é’®ã€è¾“å…¥æ¡†ã€å¯¹è¯æ¡†ã€å¯¼èˆªæ ã€è¾¹æ ç­‰ï¼‰ï¼Œè€Œä¸”ä¹Ÿæä¾›äº†ä¸°å¯Œçš„ <strong>iOSï¼ˆCupertinoï¼‰</strong> é£æ ¼çš„ç»„ä»¶ï¼Œåˆ©ç”¨è¿™äº›é£æ ¼çš„ç»„ä»¶èƒ½å¤Ÿå¿«é€Ÿçš„æ„å»ºåº”ç”¨ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/beautifulFlutter/Material.jpg" alt="no-shadow" title="Material Design"></p><h3 id="widget"><a href="#widget" class="headerlink" title="widget"></a>widget</h3><p><strong>widget</strong> æ˜¯ <code>Flutter</code> åº”ç”¨ç¨‹åºåŸºæœ¬æ„å»ºå—, <code>Flutter</code> æ—¢ä¸ä½¿ç”¨ WebViewï¼Œä¹Ÿä¸ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„åŸç”Ÿæ§ä»¶ï¼Œç›¸å <code>Flutter</code> ä½¿ç”¨è‡ªå·±çš„é«˜æ€§èƒ½æ¸²æŸ“å¼•æ“æ¥ç»˜åˆ¶<strong>widget</strong> ï¼Œ <code>Flutter</code> çš„ä¸­å¿ƒæ€æƒ³æ˜¯ç”¨ <strong>widget</strong> æ„å»ºä½ çš„ UIï¼ˆ<strong>ä¸€åˆ‡çš†ä¸º widget</strong>ï¼‰ ï¼Œå¦‚å›¾æ˜¯å®˜ç½‘ç»™å‡ºçš„æ¡†æ¶å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/beautifulFlutter/widget.png" alt="no-shadow" title="widget"></p><p>åœ¨è¿™ä¸ªæ¶æ„é‡Œï¼Œä½ å¯ä»¥å®ç° <code>Flutter</code> æä¾›çš„æ‰€æœ‰ç°æˆçš„ <strong>widget</strong> ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±å®šåˆ¶çš„ <strong>widget</strong> ï¼Œæ¯ä¸ª <strong>widget</strong> éƒ½æ˜¯å…¬å¼€çš„ï¼Œä½ å¯ä»¥ä»é«˜å±‚æ¬¡ä¸”ç»Ÿä¸€çš„ <strong>widget</strong> ä¸­è·å¾—å¼€å‘æ•ˆç‡ä¼˜åŠ¿ï¼Œè¿™ä¸ªè®¾è®¡çš„ç›®æ ‡æ˜¯ä¸ºäº†ç”¨æ›´å°‘çš„ä»£ç åšæ›´å¤šçš„äº‹æƒ…ã€‚</p><h3 id="è¯­è¨€"><a href="#è¯­è¨€" class="headerlink" title="è¯­è¨€"></a>è¯­è¨€</h3><p><code>Flutter</code> ä½¿ç”¨ Cã€C ++ã€Dart å’Œ Skiaï¼ˆ2Dæ¸²æŸ“å¼•æ“ï¼‰æŠ€æœ¯æ„å»ºï¼Œå¦‚ä¸Šå›¾ï¼Œåº•å±‚ï¼ˆengineï¼‰æ˜¯ç”¨ C ++ ï¼Œæ¡†æ¶æ˜¯ç”¨ Dart ï¼Œå½“ç„¶æˆ‘ä»¬å¼€å‘ä½¿ç”¨çš„ä¹Ÿæ˜¯ Dartã€‚</p><p>Dart æ˜¯ Google å‘å¸ƒçš„ä¸€ç§é«˜æ•ˆã€ç®€æ´ã€æ‹¥æœ‰å®Œæ•´ç±»å‹ç³»ç»Ÿçš„ <code>ç»“æ„åŒ–çš„Webç¼–ç¨‹</code> è¯­è¨€ï¼Œ <code>Flutter</code> å®˜æ–¹ç»™å‡ºä¸ºä»€ä¹ˆé€‰æ‹© Dart ä½œä¸ºå¼€å‘è¯­è¨€çš„åŸå› ï¼Œå¦‚ä¸‹</p><ul><li>å¼€å‘äººå‘˜çš„æ•ˆç‡</li><li>é¢å‘å¯¹è±¡</li><li>å¯é¢„æµ‹ï¼Œé«˜æ€§èƒ½</li><li>å¿«é€Ÿå†…å­˜åˆ†é…</li></ul><p>å¯¹äºå¼€å‘è€…ï¼ˆè¯­è¨€ä½¿ç”¨è€…ï¼‰æ¥è¯´ï¼Œä¸å¿…å¤ªæ‹…å¿ƒï¼ŒDart å’Œ Java ã€ JavaScript æ¯”è¾ƒç±»ä¼¼ï¼Œæœ‰ä¸€äº›ç¨‹åºè¯­è¨€åŸºç¡€ï¼Œä¾¿å¯æ‹¿æ¥å³ç”¨ï¼ˆä¸æ¸…æ¥šçš„çœ‹çœ‹è¯­æ³•ã€å…³é”®å­—ã€ç±»å‹å³å¯ï¼‰ã€‚</p><p>ç°åœ¨æƒ³å¿…æ‚¨å¯¹ <code>Flutter</code> å·²ç»æœ‰äº†ä¸€å®šçš„è®¤è¯†ï¼Œåœ¨ä¹‹åçš„ç¯‡å¹…äº†ä¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å¦‚æ–‡å¤´å°è§†é¢‘çš„å°åº”ç”¨ã€‚</p><p><img class="hidden" src="https://cdn.lishaoy.net/beautifulFlutter/flutter_750x400.png" alt="VS Code" width="100%" title="VS Code" align="center"></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/beautifulFlutter.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>VS Codeï¼šè®©ä½ å·¥ä½œæ•ˆç‡ç¿»å€çš„23ä¸ªæ’ä»¶å’Œ23ä¸ªç¼–è¾‘æŠ€å·§</title>
      <link>https://h.lishaoy.net/VSCodeCodingSkills.html</link>
      <guid>https://h.lishaoy.net/VSCodeCodingSkills.html</guid>
      <pubDate>Sat, 13 Oct 2018 07:39:44 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code.jpg&quot; class=&quot;full-image&quot; alt=&quot;VS Code&quot; title=&quot;VS Code&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æ€»ç»“äº†ä¸€äº›å¹³æ—¶å¸¸ç”¨ä¸”å¥½ç”¨çš„ &lt;strong&gt;VS Code&lt;/strong&gt; çš„æ’ä»¶å’Œç¼–è¾‘æŠ€å·§åˆ†äº«å‡ºæ¥ã€‚&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code.jpg" class="full-image" alt="VS Code" title="VS Code"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æ€»ç»“äº†ä¸€äº›å¹³æ—¶å¸¸ç”¨ä¸”å¥½ç”¨çš„ <strong>VS Code</strong> çš„æ’ä»¶å’Œç¼–è¾‘æŠ€å·§åˆ†äº«å‡ºæ¥ã€‚</p><a id="more"></a><h2 id="å¤–è§‚"><a href="#å¤–è§‚" class="headerlink" title="å¤–è§‚"></a>å¤–è§‚</h2><h3 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h3><p>è¿™é‡Œæˆ‘åˆ†äº«ä¸¤æ¬¾ä¸»é¢˜ï¼š</p><ol><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=Equinusocio.vsc-material-theme" target="_blank" rel="noopener">Material Theme</a></strong></li></ol><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_theme1.jpg" alt="no-shadow" title="Material Theme"></p><ol start="2"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=dustinsanders.an-old-hope-theme-vscode" target="_blank" rel="noopener">An Old Hope Theme</a></strong></li></ol><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_theme2.jpg" alt="no-shadow" title="An Old Hope Theme"></p><h3 id="å›¾æ ‡"><a href="#å›¾æ ‡" class="headerlink" title="å›¾æ ‡"></a>å›¾æ ‡</h3><ol start="3"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme" target="_blank" rel="noopener">Material Icon Theme</a></strong>å½“ç„¶ï¼Œè¿™ä¸¤æ¬¾ä¸»é¢˜çš„æ–‡ä»¶ç®¡ç†å™¨ï¼ˆå·¦ä¾§ï¼‰çš„ icon å°å›¾æ ‡ä½¿ç”¨çš„æ˜¯ Material Icon Theme</li></ol><h3 id="å­—ä½“åŠå…¶ä»–"><a href="#å­—ä½“åŠå…¶ä»–" class="headerlink" title="å­—ä½“åŠå…¶ä»–"></a>å­—ä½“åŠå…¶ä»–</h3><p>å…¶ä»–å’Œå¤–è§‚ç›¸å…³çš„è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"editor.multiCursorModifier"</span>: <span class="string">"ctrlCmd"</span>,</span><br><span class="line">    <span class="attr">"editor.formatOnPaste"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workbench.activityBar.visible"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workbench.iconTheme"</span>: <span class="string">"eq-material-theme-icons-darker"</span>,</span><br><span class="line">    <span class="attr">"workbench.colorCustomizations"</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">"materialTheme.cache.workbench.settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"themeColours"</span>: <span class="string">"Darker"</span>,</span><br><span class="line">        <span class="attr">"accentPrevious"</span>: <span class="string">"Acid Lime"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"workbench.colorTheme"</span>: <span class="string">"Material Theme Darker"</span>,</span><br><span class="line">    <span class="attr">"material-icon-theme.angular.iconsEnabled"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"material-icon-theme.folders.icons"</span>: <span class="string">"specific"</span>,</span><br><span class="line">    <span class="attr">"editor.lineHeight"</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">"editor.fontLigatures"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"editor.fontFamily"</span>: <span class="string">"FiraCode-Medium"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹åˆ«æ³¨æ„çš„æ˜¯ <code>&quot;editor.lineHeight&quot;: 24,</code> å’Œ <code>&quot;editor.fontFamily&quot;: &quot;FiraCode-Medium&quot;</code> ã€‚</p><p><code>&quot;editor.lineHeight&quot;: 24,</code> ï¼š è®¾ç½®ä»£ç çš„è¡Œé—´è·ï¼Œè¿™é‡Œæ¯”é»˜è®¤çš„ç¨å¤§äº›ï¼Œå°±è¿™ä¸€ç‚¹å°å°çš„æ”¹å˜ï¼Œè®©ä»£ç çœ‹èµ·æ¥æ¸…çˆ½æ•´æ´ã€‚</p><p><code>&quot;editor.fontFamily&quot;: &quot;FiraCode-Medium&quot;</code> ï¼š è®¾ç½®å­—ä½“ï¼Œè¿™ç§å­—ä½“ä¼šè®©ä»£ç çœ‹èµ·æ¥æ›´å½¢è±¡ç”ŸåŠ¨ï¼Œå¦‚ä¸‹</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_code3.png" alt="FiraCode-Mediumå­—ä½“" width="100%" title="FiraCode-Mediumå­—ä½“" align="center"></p><p>çº¢è‰²ç«–çº¿å·¦è¾¹æ˜¯ä½¿ç”¨äº† <strong>FiraCode-Medium</strong> å­—ä½“çš„æ•ˆæœï¼Œçº¢è‰²ç«–çº¿å³è¾¹æ˜¯æ²¡æœ‰ä½¿ç”¨ <strong>FiraCode-Medium</strong> å­—ä½“çš„æ•ˆæœ</p><p>å…³äº <strong>FiraCode-Medium</strong> å­—ä½“æ›´å¤šæ•ˆæœå¯æŸ¥é˜… <a href="https://github.com/tonsky/FiraCode" target="_blank" rel="noopener">https://github.com/tonsky/FiraCode</a> åœ°å€ã€‚</p><h2 id="ä»£ç ç®¡ç†"><a href="#ä»£ç ç®¡ç†" class="headerlink" title="ä»£ç ç®¡ç†"></a>ä»£ç ç®¡ç†</h2><h3 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h3><ol start="4"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=HookyQR.beautify" target="_blank" rel="noopener">Beautify</a></strong> ï¼šæ ¼å¼åŒ–çš„æ—¶å€™ï¼Œç»™å‡ºæ ¼å¼åŒ–æ–‡æœ¬é€‰é¡¹ï¼Œå¦‚ä¸‹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_Beatify.gif" alt="Beautify" width="100%" title="Beautify" align="center"></p><ol start="5"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" target="_blank" rel="noopener">Prettier</a></strong> ï¼šä¸ªäººæ¯”è¾ƒå–œæ¬¢è¿™ä¸ªï¼Œçœ‹èµ·æ¥ä»£ç æ›´æ¸…æ™°ï¼Œå¦‚ä¸‹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_Prettier.gif" alt="Prettier" width="100%" title="Prettier" align="center"></p><div class="note info"><p>å½“ç„¶ï¼Œå¤§å®¶å¯ä»¥è‡ªå®šä¹‰å¿«æ·é”®ï¼Œä¹Ÿå¯ä»¥æŒ‰ <kbd>âŒ˜</kbd> - <kbd>â‡§</kbd> - <kbd>P</kbd>  æ¥æœç´¢ç›¸å…³å‘½ä»¤ </p></div>  <h3 id="ä»£ç æ£€æŸ¥"><a href="#ä»£ç æ£€æŸ¥" class="headerlink" title="ä»£ç æ£€æŸ¥"></a>ä»£ç æ£€æŸ¥</h3><ol start="6"><li><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener">ESLint</a> ï¼šæ£€æŸ¥ <code>js</code> è¯­æ³•è§„èŒƒï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„è§„èŒƒï¼Œå¦‚ <a href="https://www.npmjs.com/package/eslint-config-airbnb" target="_blank" rel="noopener">airbnb</a> ã€<a href="https://github.com/standard/eslint-config-standard" target="_blank" rel="noopener">standard</a> ã€<a href="https://github.com/google/eslint-config-google" target="_blank" rel="noopener">google</a>ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=eg2.tslint" target="_blank" rel="noopener">TSLint</a> ï¼šæ£€æŸ¥ <code>typescript</code> è¯­æ³•è§„èŒƒã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=shinnn.stylelint" target="_blank" rel="noopener">Stylelint</a> ï¼šæ£€æŸ¥ <code>CSS/SCSS/Less</code> è¯­æ³•è§„èŒƒã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint" target="_blank" rel="noopener">Markdownlint</a> ï¼šæ£€æŸ¥ <code>markdown</code> è¯­æ³•è§„èŒƒã€‚</li></ol><h3 id="è‡ªåŠ¨è¡¥å…¨"><a href="#è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨"></a>è‡ªåŠ¨è¡¥å…¨</h3><p>ä»¥ä¸‹æ’ä»¶ç‚¹å‡»é“¾æ¥å¯ä»¥æŸ¥çœ‹gifåŠ¨å›¾ï¼Œè¯¦ç»†äº†è§£å…·ä½“åŠŸèƒ½ã€‚</p><ol start="10"><li><a href="https://emmet.io" target="_blank" rel="noopener">Emmet</a> ï¼šå¤§å®¶åº”è¯¥å¾ˆç†Ÿæ‚‰è¿™ä¸ªæ’ä»¶äº†ï¼ˆå¾ˆå¥½ç”¨ï¼‰ï¼ŒVS Code å·²ç»å†…ç½®äº†ï¼Œå¾ˆåˆ°ä½ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag" target="_blank" rel="noopener">Auto Close Tag</a> ï¼šè‡ªåŠ¨é—­åˆ <code>html</code> ç­‰æ ‡ç­¾ ï¼ˆ&lt;/â€¦&gt;ï¼‰ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag" target="_blank" rel="noopener">Auto Rename Tag</a> ï¼šä¿®æ”¹ <code>html</code> æ ‡ç­¾æ—¶ï¼Œè‡ªåŠ¨ä¿®æ”¹é—­åˆæ ‡ç­¾ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense" target="_blank" rel="noopener">Path Intellisense</a> ï¼šè‡ªåŠ¨æç¤ºè¡¥å…¨è·¯å¾„ã€‚</li></ol><h3 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h3><ol start="14"><li><strong>snippets</strong> ï¼šæ­å»ºå¯ä»¥è‡ªå·±å®‰è£…å„ç§ä»£ç ç‰‡æ®µï¼ˆvueã€reactã€angularç­‰ï¼‰ï¼Œè¿™é‡Œå°±ä¸åˆ—ä¸¾ã€‚</li></ol><h2 id="åŠŸèƒ½æ‰©å±•"><a href="#åŠŸèƒ½æ‰©å±•" class="headerlink" title="åŠŸèƒ½æ‰©å±•"></a>åŠŸèƒ½æ‰©å±•</h2><p>ä»¥ä¸‹çš„åŠŸèƒ½æ‰©å±•æ’ä»¶å¤§éƒ¨åˆ†éƒ½æœ‰gifåŠ¨å›¾ï¼Œå¯ç‚¹å‡»é“¾æ¥äº†è§£è¯¦ç»†åŠŸèƒ½</p><ol start="15"><li><a href="https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer" target="_blank" rel="noopener">Bracket Pair Colorizer</a> ï¼šè®©ä»£ç çš„å„ç§æ‹¬å·å‘ˆç°ä¸åŒçš„é¢œè‰²ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner" target="_blank" rel="noopener">Code Runner</a> ï¼šå¯ä»¥åœ¨ç¼–è¾‘å™¨é‡Œç›´æ¥è¿è¡Œä»£ç ï¼ŒæŸ¥çœ‹ç»“æœã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=anseki.vscode-color" target="_blank" rel="noopener">Color Picker</a> ï¼šå¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨é‡Œæ‰“å¼€è‰²æ¿ï¼Œé€‰æ‹©å„ç§æ¨¡å¼çš„é¢œè‰²ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=joelday.docthis" target="_blank" rel="noopener">Document This</a> ï¼šå¯ä»¥ç»™å‡½æ•°ã€ç±»ç­‰è‡ªåŠ¨çš„åŠ ä¸Šè¯¦ç»†çš„æ³¨é‡Šã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory" target="_blank" rel="noopener">Git History</a> ï¼šæ–¹ä¾¿çš„æŸ¥çœ‹gitç‰ˆæœ¬ç®¡ç†çš„è¯¦ç»†ä¿¡æ¯ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer" target="_blank" rel="noopener">Live Server</a> ï¼šå¯ä»¥ä¸€é”®åœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync" target="_blank" rel="noopener">Settings Sync</a> ï¼šé‡ç‚¹ä»‹ç»ä¸‹è¿™ä¸ªæ’ä»¶ï¼Œå¦‚æœä½ æœ‰ä¸¤å°ç”µè„‘ï¼ˆæ¯”å¦‚ï¼Œå®¶é‡Œå’Œå…¬å¸ï¼‰éƒ½ä½¿ç”¨ VS Code ï¼Œå¯æ˜¯åœ¨å…¬å¸æˆ–å®¶é‡Œå¯¹ VS Code å®‰è£…äº†æ’ä»¶æˆ–è€…ä¿®æ”¹äº†é…ç½®ï¼Œå›åˆ°å®¶æˆ–å…¬å¸åˆè¦é‡æ–°å¼„ä¸€æ¬¡ï¼Œè¿™ä¸ªæ’ä»¶å°±èƒ½è§£å†³é—®é¢˜ï¼ŒåŒæ­¥å¤šå°ç”µè„‘è®¾ç½®ã€‚</li></ol><p>åªéœ€è¦æŠŠé…ç½®ä¸Šä¼ åˆ°GitHubï¼Œåœ¨å¦ä¸€ä¸ªåœ°æ–¹ä¸‹è½½é…ç½®å³å¯ï¼Œå¦‚ä¸‹</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_Sync.gif" alt="Settings Sync" width="100%" title="Settings Sync" align="center"></p><ol start="22"><li><a href="https://marketplace.visualstudio.com/items?itemName=rubbersheep.gi" target="_blank" rel="noopener">gi</a> ï¼šå¯ä»¥ç»™ <code>.gitignore</code> æ–‡ä»¶æ·»åŠ å„ç§è¯­è¨€å¿½ç•¥æ–‡ä»¶é…ç½®ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=pnp.polacode" target="_blank" rel="noopener">Polacode</a> ï¼šå¯ä»¥æŠŠä»£ç ç”Ÿæˆå›¾ç‰‡ï¼ˆæœ‰äº›åœ°æ–¹å‘ä»£ç ç»“æ„ä¼šä¹±ä¹Ÿæ²¡æœ‰ä»£ç é«˜äº®ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”Ÿæˆå›¾ç‰‡å†å‘ï¼‰ã€‚</li></ol><h2 id="ç¼–è¾‘æŠ€å·§"><a href="#ç¼–è¾‘æŠ€å·§" class="headerlink" title="ç¼–è¾‘æŠ€å·§"></a>ç¼–è¾‘æŠ€å·§</h2><h3 id="å…‰æ ‡"><a href="#å…‰æ ‡" class="headerlink" title="å…‰æ ‡"></a>å…‰æ ‡</h3><ol><li>æŠŠå…‰æ ‡ç§»åˆ°æ–‡ä»¶çš„é¦–éƒ¨æˆ–å°¾éƒ¨</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_1.gif" alt="âŒ˜ - â†‘ æˆ– âŒ˜ - â†“" width="100%" title="âŒ˜ - â†‘ æˆ– âŒ˜ - â†“" align="center"></p><ol start="2"><li>æŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¡Œçš„é¦–éƒ¨æˆ–è€…å°¾éƒ¨</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_2.gif" alt="âŒ˜ - â† æˆ– âŒ˜ - â†’" width="100%" title="âŒ˜ - â† æˆ– âŒ˜ - â†’" align="center"></p><ol start="3"><li>æŒ‰å•è¯ç§»åŠ¨</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_3.gif" alt="âŒ¥ - â† æˆ– âŒ¥ - â†’" width="100%" title="âŒ¥ - â† æˆ– âŒ¥ - â†’" align="center"></p><ol start="4"><li>æŒ‰å•è¯å¤§å°å†™åˆ†è§£ç§»åŠ¨å…‰æ ‡</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_4.gif" alt="âŒ¥ - âŒƒ - â† æˆ– âŒ¥ - âŒƒ - â†’" width="100%" title="âŒ¥ - âŒƒ - â† æˆ– âŒ¥ - âŒƒ - â†’" align="center"></p><h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><ol start="5"><li>é€‰æ‹©è¡Œä»¥ä¸Šæˆ–ä»¥ä¸‹å…¨éƒ¨å†…å®¹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_5.gif" alt="â‡§ - âŒ˜ - â†‘ æˆ– â‡§ - âŒ˜ - â†“" width="100%" title="â‡§ - âŒ˜ - â†‘ æˆ– â‡§ - âŒ˜ - â†“" align="center"></p><ol start="6"><li>é€‰æ‹©åˆ°è¡Œé¦–æˆ–è¡Œå°¾çš„å†…å®¹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_6.gif" alt="â‡§ - âŒ˜ - â† æˆ– â‡§ - âŒ˜ - â†’" width="100%" title="â‡§ - âŒ˜ - â† æˆ– â‡§ - âŒ˜ - â†’" align="center"></p><ol start="7"><li>æŒ‰å­—æ¯æˆ–å•è¯é€‰æ‹©</li></ol><ul><li><kbd>â‡§</kbd> - <kbd>â†</kbd> ã€ <kbd>â‡§</kbd> - <kbd>â†’</kbd> æŒ‰å­—æ¯é€‰æ‹©   </li><li><kbd>â‡§</kbd> - <kbd>âŒ¥</kbd> - <kbd>â†</kbd> ã€ <kbd>â‡§</kbd> - <kbd>âŒ¥</kbd> - <kbd>â†’</kbd> æŒ‰å•è¯é€‰æ‹©</li></ul><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_7.gif" alt="â‡§ - â† ã€ â‡§ - â†’ æˆ– â‡§ - âŒ¥ - â† ã€ â‡§ - âŒ¥ - â†’" width="100%" title="â‡§ - â† ã€ â‡§ - â†’ æˆ– â‡§ - âŒ¥ - â† ã€â‡§ - âŒ¥ - â†’" align="center"></p><ol start="8"><li>ä¼¸ç¼©é€‰æ‹©</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_8.gif" alt="â‡§ - âŒƒ - âŒ˜ - â† æˆ– â‡§ - âŒƒ - âŒ˜ - â†’" width="100%" title="â‡§ - âŒƒ - âŒ˜ - â† æˆ– â‡§ - âŒƒ - âŒ˜ - â†’" align="center"></p><ol start="9"><li>é€‰æ‹©åŒ¹é…å•è¯</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_9.gif" alt="âŒ˜ - D æˆ– âŒ˜ - U" width="100%" title="âŒ˜ - D æˆ– âŒ˜ - U" align="center"></p><h3 id="è¡Œ"><a href="#è¡Œ" class="headerlink" title="è¡Œ"></a>è¡Œ</h3><ol start="10"><li>å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_10.gif" alt="âŒ¥ - â†‘ æˆ– âŒ¥ - â†“" width="100%" title="âŒ¥ - â†‘ æˆ– âŒ¥ - â†“" align="center"></p><ol start="11"><li>å¤åˆ¶æˆ–åˆ é™¤è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_11.gif" alt="âŒ¥ - â‡§ - â†“ æˆ– âŒ˜ - â‡§ - K" width="100%" title="âŒ¥ - â‡§ - â†“ æˆ– âŒ˜ - â‡§ - K" align="center"></p><ol start="12"><li>å¤šè¡Œåˆå¹¶æˆä¸€è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_12.gif" alt="âŒ˜ - J" width="100%" title="âŒ˜ - J" align="center"></p><ol start="13"><li>ç¼©è¿›æˆ–ä¼¸ç¼©è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_13.gif" alt="âŒ˜ - [ æˆ– âŒ˜ - ]" width="100%" title="âŒ˜ - [ æˆ– âŒ˜ - ]" align="center"></p><ol start="14"><li>åœ¨å½“å‰è¡Œä¹‹ä¸Šæˆ–ä¸‹æ’å…¥è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_14.gif" alt="âŒ˜ - â†© æˆ– âŒ˜ - â‡§ - â†©" width="100%" title="âŒ˜ - â†© æˆ– âŒ˜ - â‡§ - â†©" align="center"></p><h3 id="å¤šè¡Œ"><a href="#å¤šè¡Œ" class="headerlink" title="å¤šè¡Œ"></a>å¤šè¡Œ</h3><ol start="15"><li>é¼ æ ‡ç‚¹å‡»ï¼Œå¤šè¡Œç¼–è¾‘</li></ol><p>æŒ‰ <kbd>âŒ˜</kbd> é€‰æ‹©ç¼–è¾‘ç‚¹ï¼ŒæŒ‰ <kbd>â‹</kbd> é€€å‡ºå¤šè¡Œç¼–è¾‘</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_15.gif" alt="âŒ˜" width="100%" title="âŒ˜" align="center"></p><ol start="16"><li>ä½¿ç”¨å¿«æ·é”®å¤šè¡Œç¼–è¾‘</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_16.gif" alt="âŒ˜ - âŒ¥ - â†“ æˆ– âŒ˜ - âŒ¥ - â†‘" width="100%" title="âŒ˜ - âŒ¥ - â†“ æˆ– âŒ˜ - âŒ¥ - â†‘" align="center"></p><ol start="17"><li>åœ¨æ‰€é€‰æ‹©çš„è¡Œçš„ç»“å°¾æ’å…¥ç¼–è¾‘ç‚¹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_17.gif" alt="â‡§ - âŒ¥ - I" width="100%" title="â‡§ - âŒ¥ - I" align="center"></p><ol start="18"><li>é€‰æ‹©æ ä½</li></ol><p>æŒ‰ <kbd>â‡§</kbd> - <kbd>âŒ˜</kbd> å†é€‰æ‹©æ ä½</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_18.gif" alt="â‡§ - âŒ˜" width="100%" title="â‡§ - âŒ˜" align="center"></p><h3 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h3><ol start="19"><li>æŸ¥çœ‹ç±»æˆ–æ–¹æ³•çš„å®šä¹‰</li></ol><ul><li>æŒ‰ <kbd>âŒ¥</kbd> ç‚¹å‡»ï¼Œå¯ä»¥åœ¨æ–°é¡µé¢æŸ¥çœ‹</li><li>æŒ‰ <kbd>â‡§</kbd> - <kbd>âŒ¥</kbd> - <kbd>âŒ˜</kbd> ç‚¹å‡»ï¼Œå¯ä»¥åœ¨æ–°ç»„æŸ¥çœ‹</li><li>æŒ‰ <kbd>â‡§</kbd> - <kbd>F12</kbd> ç‚¹å‡»ï¼Œå¯ä»¥åœ¨å½“å‰é¡µé¢æŸ¥çœ‹</li></ul><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_19.gif" alt="æŸ¥çœ‹å®šä¹‰" width="100%" title="æŸ¥çœ‹å®šä¹‰" align="center"></p><ol start="20"><li>æŠ˜å ä»£ç </li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_20.gif" alt="âŒ¥ - âŒ˜ - ] æˆ– âŒ¥ - âŒ˜ - [" width="100%" title="âŒ¥ - âŒ˜ - ] æˆ– âŒ¥ - âŒ˜ - [" align="center"></p><ol start="21"><li>å»æ‰é€‰æ‹©è¡Œçš„å°¾éƒ¨ç©ºæ ¼</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_21.gif" alt="âŒ˜ - K ã€ âŒ˜ - X" width="100%" title="âŒ˜ - K ã€ âŒ˜ - X" align="center"></p><ol start="22"><li>å®šä½åˆ°æŒ‡å®šè¡Œå·</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_22.gif" alt="âŒƒ - G" width="100%" title="âŒƒ - G" align="center"></p><ol start="23"><li>åœ¨æ–‡ä»¶é‡ŒæŸ¥æ‰¾ç±»æˆ–æ–¹æ³•</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_23.gif" alt="@" width="100%" title="@" align="center"></p><p>æœ€åï¼Œå¦‚æœè®°ä¸ä½è¿™äº›å¿«æ·é”®ï¼Œå¯ä»¥æŒ‰ <kbd>âŒ˜</kbd> - <kbd>K</kbd> ã€ <kbd>âŒ˜</kbd> - <kbd>S</kbd> æœç´¢å¯¹åº”å¿«æ·é”®ç»‘å®š</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_24.gif" alt="æœç´¢å¿«æ·é”®" width="100%" title="æœç´¢å¿«æ·é”®" align="center"></p><p><img class="hidden" src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code.jpg" alt="VS Code" width="100%" title="VS Code" align="center"></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/VSCodeCodingSkills.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç™¾åº¦ç»Ÿè®¡</title>
      <link>https://h.lishaoy.net/baidustatistics.html</link>
      <guid>https://h.lishaoy.net/baidustatistics.html</guid>
      <pubDate>Tue, 29 May 2018 19:48:15 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/baidustatistics/lishaoy.net.990x699.jpg&quot; class=&quot;full-image&quot; alt=&quot;lishaoy.net&quot; title=&quot;lishaoy.net&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å‰å¤©ï¼Œå¼„äº†ä¸ªç™¾åº¦ç»Ÿè®¡ï¼Œçœ‹çœ‹æ•°æ®è¿˜æŒºæœ‰æ„æ€ã€‚ã€‚ã€‚&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/baidustatistics/lishaoy.net.990x699.jpg" class="full-image" alt="lishaoy.net" title="lishaoy.net"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å‰å¤©ï¼Œå¼„äº†ä¸ªç™¾åº¦ç»Ÿè®¡ï¼Œçœ‹çœ‹æ•°æ®è¿˜æŒºæœ‰æ„æ€ã€‚ã€‚ã€‚</p><a id="more"></a><p><strong>ç«™ç‚¹</strong> æ¥å…¥ <strong>ç™¾åº¦ç»Ÿè®¡</strong> ï¼Œè¿˜æ˜¯æŒºç®€å•çš„ï¼š</p><ul><li>é¦–å…ˆï¼Œå» <a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="noopener">ç™¾åº¦ç»Ÿè®¡</a> æ³¨å†Œè´¦å·ï¼Œæ ¹æ®æç¤ºç»‘å®šè‡ªå·±ç«™ç‚¹åŸŸå</li><li>ä¹‹åï¼ŒæŠŠæä¾›çš„ <code>js</code> ä»£ç æ”¾åˆ°è‡ªå·±ç«™ç‚¹</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç™¾åº¦ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">var</span> _hmt = _hmt || [];</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">  hm.src = <span class="string">"https://hm.baidu.com/hm.js?5fd52c901f2213883f51a476eab3914b"</span>;</span><br><span class="line">  <span class="keyword">var</span> l = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>).length;</span><br><span class="line">  <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[l - <span class="number">1</span>];</span><br><span class="line">  s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>è¿™äº›è®¾ç½®å¥½ä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°ç»Ÿè®¡æ•°æ®äº†ï¼Œæ¥çœ‹çœ‹ ğŸ‘€ <em>2018-05-29</em> å½“å¤©çš„ç»Ÿè®¡æ•°æ®æƒ…å†µå¦‚ä½•</p><h4 id="ä»Šæ—¥æµé‡"><a href="#ä»Šæ—¥æµé‡" class="headerlink" title="ä»Šæ—¥æµé‡"></a>ä»Šæ—¥æµé‡</h4><p>çºµè½´åˆ†åˆ«æ˜¯ <em>ä»Šæ—¥ã€æ˜¨æ—¥ã€é¢„è®¡ä»Šæ—¥</em> ï¼Œæ¨ªè½´åˆ†åˆ«æ˜¯ <em>PVã€UVã€IPã€è·³å‡ºç‡ã€å¹³å‡è®¿é—®æ—¶é•¿</em> ç­‰ ï¼ˆé¢„è®¡ä»Šæ—¥çš„æ•°æ®ï¼Œä¸æ˜¯å¾ˆé è°±ï¼‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/1.png" alt="ä»Šæ—¥æµé‡" width="100%" title="ä»Šæ—¥æµé‡" align="center"></p><h4 id="æ¥æºç½‘ç«™"><a href="#æ¥æºç½‘ç«™" class="headerlink" title="æ¥æºç½‘ç«™"></a>æ¥æºç½‘ç«™</h4><p>ä¼šåˆ—å‡ºè®¿å®¢ä»å“ªå„¿æ¥åˆ°ä½ çš„<strong>ç«™ç‚¹</strong>ï¼Œä»¥åŠä¼šç»Ÿè®¡è®¿é—®æ—¶é•¿ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/2.png" alt="æ¥æºç½‘ç«™" width="100%" title="æ¥æºç½‘ç«™" align="center"></p><h4 id="å—æ¬¢è¿é¡µé¢"><a href="#å—æ¬¢è¿é¡µé¢" class="headerlink" title="å—æ¬¢è¿é¡µé¢"></a>å—æ¬¢è¿é¡µé¢</h4><p>ä¼šç»Ÿè®¡æ¯ä¸ªé¡µé¢çš„ <em>æµè§ˆé‡ã€é€€å‡ºæ¬¡æ•°ã€å¹³å‡åœç•™æ—¶é—´</em> ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/3.png" alt="å—æ¬¢è¿é¡µé¢" width="100%" title="å—æ¬¢è¿é¡µé¢" align="center"></p><h4 id="æ–°è€è®¿å®¢"><a href="#æ–°è€è®¿å®¢" class="headerlink" title="æ–°è€è®¿å®¢"></a>æ–°è€è®¿å®¢</h4><p>ä¼šç»Ÿè®¡æ–°è€è®¿å®¢ <em>æµè§ˆé‡ã€å¹³å‡è®¿é—®æ—¶é•¿ã€å¹³å‡è®¿é—®é¡µæ•°</em> ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/4.png" alt="æ–°è€è®¿å®¢" width="100%" title="æ–°è€è®¿å®¢" align="center"></p><h4 id="åœ°åŸŸåˆ†å¸ƒ"><a href="#åœ°åŸŸåˆ†å¸ƒ" class="headerlink" title="åœ°åŸŸåˆ†å¸ƒ"></a>åœ°åŸŸåˆ†å¸ƒ</h4><p>ä¼šç»Ÿè®¡è®¿å®¢æ¥è‡ªå“ªä¸ª <em>å›½å®¶ã€çœä»½ã€åŸå¸‚ã€ç½‘ç»œè¿è¥å•†</em> ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/5.png" alt="åœ°åŸŸåˆ†å¸ƒ" width="100%" title="åœ°åŸŸåˆ†å¸ƒ" align="center"></p><p>è¿™é‡Œæˆ‘åªå±•ç¤ºéƒ¨åˆ†ç»Ÿè®¡åŠŸèƒ½ï¼Œå¦‚æƒ³äº†è§£å…¶å®ƒæ›´å¤šåŠŸèƒ½ï¼Œå¯å» <a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="noopener">ç™¾åº¦ç»Ÿè®¡</a> ç½‘ç«™æŸ¥çœ‹ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/baidustatistics.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</title>
      <link>https://h.lishaoy.net/webOptimize.html</link>
      <guid>https://h.lishaoy.net/webOptimize.html</guid>
      <pubDate>Thu, 10 May 2018 04:55:59 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/webOptimize/Optimize.png&quot; class=&quot;full-image&quot; alt=&quot;web optimize&quot; title=&quot;web optimize&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å…³äº &lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; æ˜¯ä¸ªå¤§çš„é¢ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ¶‰åŠåˆ° &lt;strong&gt;å‰ç«¯&lt;/strong&gt; çš„å‡ ä¸ªç‚¹ï¼Œå¦‚ &lt;strong&gt;å‰ç«¯æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; çš„æµç¨‹ã€å¸¸è§æŠ€æœ¯æ‰‹æ®µã€å·¥å…·ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æåŠ &lt;strong&gt;å‰ç«¯æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; ï¼Œå¤§å®¶åº”è¯¥éƒ½ä¼šæƒ³åˆ° &lt;strong&gt;é›…è™å†›è§„&lt;/strong&gt;ï¼Œæœ¬æ–‡ä¼šç»“åˆ &lt;strong&gt;é›…è™å†›è§„&lt;/strong&gt; èå…¥è‡ªå·±çš„äº†è§£çŸ¥è¯†ï¼Œè¿›è¡Œçš„æ€»ç»“å’Œæ¢³ç† ğŸ˜œ&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/webOptimize/Optimize.png" class="full-image" alt="web optimize" title="web optimize"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å…³äº <strong>æ€§èƒ½ä¼˜åŒ–</strong> æ˜¯ä¸ªå¤§çš„é¢ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ¶‰åŠåˆ° <strong>å‰ç«¯</strong> çš„å‡ ä¸ªç‚¹ï¼Œå¦‚ <strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong> çš„æµç¨‹ã€å¸¸è§æŠ€æœ¯æ‰‹æ®µã€å·¥å…·ç­‰ã€‚</p><p>æåŠ <strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong> ï¼Œå¤§å®¶åº”è¯¥éƒ½ä¼šæƒ³åˆ° <strong>é›…è™å†›è§„</strong>ï¼Œæœ¬æ–‡ä¼šç»“åˆ <strong>é›…è™å†›è§„</strong> èå…¥è‡ªå·±çš„äº†è§£çŸ¥è¯†ï¼Œè¿›è¡Œçš„æ€»ç»“å’Œæ¢³ç† ğŸ˜œ</p><a id="more"></a><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ ğŸ‘€ <strong>é›…è™å†›è§„</strong> çš„ <strong>35</strong> æ¡ã€‚</p><div class="note info"><ol><li>å°½é‡å‡å°‘ HTTP è¯·æ±‚ä¸ªæ•°â€”â€”é¡»æƒè¡¡</li><li>ä½¿ç”¨ <strong>CDN</strong>ï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰</li><li>ä¸ºæ–‡ä»¶å¤´æŒ‡å®š Expires æˆ– Cache-Control ï¼Œä½¿å†…å®¹å…·æœ‰ç¼“å­˜æ€§ã€‚</li><li>é¿å…ç©ºçš„ src å’Œ href</li><li>ä½¿ç”¨ gzip å‹ç¼©å†…å®¹</li><li>æŠŠ CSS æ”¾åˆ°é¡¶éƒ¨</li><li>æŠŠ JS æ”¾åˆ°åº•éƒ¨</li><li>é¿å…ä½¿ç”¨ CSS è¡¨è¾¾å¼</li><li>å°† CSS å’Œ JS æ”¾åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­</li><li>å‡å°‘ DNS æŸ¥æ‰¾æ¬¡æ•°</li><li>ç²¾ç®€ CSS å’Œ JS</li><li>é¿å…è·³è½¬</li><li>å‰”é™¤é‡å¤çš„ JS å’Œ CSS</li><li>é…ç½® ETags</li><li>ä½¿ AJAX å¯ç¼“å­˜</li><li>å°½æ—©åˆ·æ–°è¾“å‡ºç¼“å†²</li><li>ä½¿ç”¨ GET æ¥å®Œæˆ AJAX è¯·æ±‚</li><li>å»¶è¿ŸåŠ è½½</li><li>é¢„åŠ è½½</li><li>å‡å°‘ DOM å…ƒç´ ä¸ªæ•°</li><li>æ ¹æ®åŸŸååˆ’åˆ†é¡µé¢å†…å®¹</li><li>å°½é‡å‡å°‘ iframe çš„ä¸ªæ•°</li><li>é¿å… 404</li><li>å‡å°‘ Cookie çš„å¤§å°</li><li>ä½¿ç”¨æ—  cookie çš„åŸŸ</li><li>å‡å°‘ DOM è®¿é—®</li><li>å¼€å‘æ™ºèƒ½äº‹ä»¶å¤„ç†ç¨‹åº</li><li>ç”¨ <link> ä»£æ›¿ @import</li><li>é¿å…ä½¿ç”¨æ»¤é•œ</li><li>ä¼˜åŒ–å›¾åƒ</li><li>ä¼˜åŒ– CSS Spirite</li><li>ä¸è¦åœ¨ HTML ä¸­ç¼©æ”¾å›¾åƒâ€”â€”é¡»æƒè¡¡</li><li>favicon.icoè¦å°è€Œä¸”å¯ç¼“å­˜</li><li>ä¿æŒå•ä¸ªå†…å®¹å°äº25K</li><li>æ‰“åŒ…ç»„ä»¶æˆå¤åˆæ–‡æœ¬</li></ol></div>  <p>å¦‚å¯¹ <strong>é›…è™å†›è§„</strong> çš„å…·ä½“ç»†åˆ™å†…å®¹ä¸æ˜¯å¾ˆäº†è§£ï¼Œå¯è‡ªè¡Œå»å„æœç´¢ ğŸ” å¼•æ“ ï¼Œæœç´¢ <strong>é›…è™å†›è§„</strong> äº†è§£è¯¦æƒ…ã€‚</p><h2 id="å‹ç¼©-åˆå¹¶"><a href="#å‹ç¼©-åˆå¹¶" class="headerlink" title="å‹ç¼© åˆå¹¶"></a>å‹ç¼© åˆå¹¶</h2><p>å¯¹äº <strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong> è‡ªç„¶è¦å…³æ³¨ <strong>é¦–å±</strong> æ‰“å¼€é€Ÿåº¦ï¼Œè€Œè¿™ä¸ªé€Ÿåº¦ï¼Œå¾ˆå¤§å› ç´ æ˜¯èŠ±è´¹åœ¨ç½‘ç»œè¯·æ±‚ä¸Šï¼Œé‚£ä¹ˆæ€ä¹ˆå‡å°‘ç½‘ç»œè¯·æ±‚çš„æ—¶é—´å‘¢ï¼Ÿ</p><ul><li>å‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•° </li><li>å‡å°æ–‡ä»¶ä½“ç§¯</li><li>ä½¿ç”¨ <code>CDN</code> åŠ é€Ÿ</li></ul><p>æ‰€ä»¥ <strong>å‹ç¼©ã€åˆå¹¶</strong> å°±æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå½“ç„¶å¯ä»¥ç”¨ <code>gulp</code> ã€ <code>webpack</code> ã€ <code>grunt</code> ç­‰æ„å»ºå·¥å…· <strong>å‹ç¼©ã€åˆå¹¶</strong></p><h3 id="JSã€CSS-å‹ç¼©-åˆå¹¶"><a href="#JSã€CSS-å‹ç¼©-åˆå¹¶" class="headerlink" title="JSã€CSS å‹ç¼© åˆå¹¶"></a><code>JSã€CSS</code> å‹ç¼© åˆå¹¶</h3><p>ä¾‹å¦‚ï¼š<code>gulp jsã€css</code> å‹ç¼©ã€åˆå¹¶ä»£ç å¦‚ä¸‹ ğŸ‘‡</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#JSã€CSS-å‹ç¼©-åˆå¹¶" target="_blank" rel="noopener">gulpfile.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‹ç¼©ã€åˆå¹¶js</span></span><br><span class="line">gulp.task(<span class="string">'scripts'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([</span><br><span class="line">        <span class="string">'./public/lib/fastclick/lib/fastclick.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/jquery_lazyload/jquery.lazyload.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/velocity/velocity.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/velocity/velocity.ui.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/fancybox/source/jquery.fancybox.pack.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/utils.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/motion.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/scrollspy.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/post-details.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/bootstrap.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/push.js'</span>,</span><br><span class="line">        <span class="string">'./public/live2dw/js/perTips.js'</span>,</span><br><span class="line">        <span class="string">'./public/live2dw/lib/L2Dwidget.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/love.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/busuanzi.pure.mini.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/activate-power-mode.js'</span></span><br><span class="line">    ]).pipe(concat(<span class="string">'all.js'</span>)).pipe(minify()).pipe(gulp.dest(<span class="string">'./public/dist/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼©ã€åˆå¹¶ CSS </span></span><br><span class="line">gulp.task(<span class="string">'css'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([</span><br><span class="line">        <span class="string">'./public/lib/font-awesome/css/font-awesome.min.css'</span>,</span><br><span class="line">        <span class="string">'./public/lib/fancybox/source/jquery.fancybox.css'</span>,</span><br><span class="line">        <span class="string">'./public/css/main.css'</span>,</span><br><span class="line">        <span class="string">'./public/css/lib.css'</span>,</span><br><span class="line">        <span class="string">'./public/live2dw/css/perTips.css'</span></span><br><span class="line">    ]).pipe(concat(<span class="string">'all.css'</span>)).pipe(minify()).pipe(gulp.dest(<span class="string">'./public/dist/'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå†æŠŠ <strong>å‹ç¼©ã€åˆå¹¶</strong> çš„ <code>JSã€CSS</code> æ”¾å…¥ <code>CDN</code> , ğŸ‘€ çœ‹çœ‹æ•ˆæœå¦‚ä½•</p><p>å¦‚å›¾ï¼š<em> <strong>å‹ç¼©ã€åˆå¹¶</strong> ä¸”æ”¾å…¥ <code>CND</code> ä¹‹åçš„æ•ˆæœ </em></p><p><img src="https://cdn.lishaoy.net/webOptimize/concatJs.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦(js)" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦(js)" align="center"></p><p><img src="https://cdn.lishaoy.net/webOptimize/concatCss.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦(css)" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦(css)" align="center"></p><p>ä»¥ä¸Šæ˜¯ <a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a> æ¸…é™¤ç¼“å­˜åçš„ <strong>é¦–é¡µ</strong> è¯·æ±‚é€Ÿåº¦ã€‚</p><p>å¯è§ï¼Œè¯·æ±‚æ—¶é—´æ˜¯ <strong>4.59 s</strong> ï¼Œæ€»è¯·æ±‚ä¸ªæ•° <strong>51</strong> ï¼Œ è€Œ <code>js</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>8</strong> ï¼Œ<code>css</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>3</strong> <em>ï¼ˆå…¶å®å°± all.css ä¸€ä¸ªï¼Œå…¶å®ƒ 2 ä¸ªæ˜¯ Googleæµè§ˆå™¨åŠ è½½çš„ï¼‰</em>ï¼Œ è€Œæ²¡ä½¿ç”¨ <strong>å‹ç¼©ã€åˆå¹¶</strong> æ—¶å€™ï¼Œè¯·æ±‚æ—¶é—´æ˜¯ <strong>10</strong> å¤šç§’ï¼Œæ€»è¯·æ±‚ä¸ªæ•°æœ‰ <strong>70</strong> å¤šä¸ªï¼Œ<code>js</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>20</strong> å¤šä¸ª ï¼Œå¯¹æ¯”è¯·æ±‚æ—¶é—´ <strong>æ€§èƒ½</strong> æå‡ <strong>1å€</strong> å¤š</p><p>å¦‚å›¾ï¼š<em>æœ‰ç¼“å­˜ä¸‹çš„é¦–é¡µæ•ˆæœ</em></p><p><img src="https://cdn.lishaoy.net/webOptimize/concatJs2.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆç¼“å­˜ï¼‰" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆç¼“å­˜ï¼‰" align="center"></p><p>åŸºæœ¬éƒ½æ˜¯ç§’å¼€ ğŸ˜</p><div class="note warning"><p><em>Tipsï¼šåœ¨ <strong>å‹ç¼©ã€åˆå¹¶</strong> åï¼Œå•ä¸ªæ–‡ä»¶æ§åˆ¶åœ¨ 25 ~ 30 KBå·¦å³ï¼ŒåŒä¸€ä¸ªåŸŸä¸‹ï¼Œæœ€å¥½ä¸è¦å¤šäº5ä¸ªèµ„æº</em></p></div> <h3 id="å›¾ç‰‡å‹ç¼©ã€åˆå¹¶"><a href="#å›¾ç‰‡å‹ç¼©ã€åˆå¹¶" class="headerlink" title="å›¾ç‰‡å‹ç¼©ã€åˆå¹¶"></a>å›¾ç‰‡å‹ç¼©ã€åˆå¹¶</h3><p>ä¾‹å¦‚ï¼š<code>gulp</code> å›¾ç‰‡å‹ç¼©ä»£ç å¦‚ä¸‹ ğŸ‘‡</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#å›¾ç‰‡å‹ç¼©ã€åˆå¹¶" target="_blank" rel="noopener">gulpfile.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‹ç¼©image</span></span><br><span class="line">gulp.task(<span class="string">'imagemin'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'./public/**/*.&#123;png,jpg,gif,ico,jpeg&#125;'</span>)</span><br><span class="line">        .pipe(imagemin())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡çš„åˆå¹¶å¯ä»¥é‡‡ç”¨ <code>CSS Spirite</code>ï¼Œæ–¹æ³•å°±æ˜¯æŠŠä¸€äº›å°å›¾ç”¨ <code>PS</code> åˆæˆä¸€å¼ å›¾ï¼Œç”¨ <code>css</code> å®šä½æ˜¾ç¤ºæ¯å¼ å›¾ç‰‡çš„ä½ç½®</p><figure class="highlight css"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.top_right</span> <span class="selector-class">.phone</span> &#123;</span><br><span class="line">Â Â Â Â <span class="attribute">background</span>: <span class="built_in">url</span>(../images/top_right.png) no-repeat <span class="number">7px</span> -<span class="number">17px</span>;</span><br><span class="line">Â Â Â Â <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">38px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-class">.help</span> &#123;</span><br><span class="line">Â Â Â Â <span class="attribute">background</span>: <span class="built_in">url</span>(../images/top_right.png) no-repeat <span class="number">0</span> -<span class="number">47px</span>;</span><br><span class="line">Â Â Â Â <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">38px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼ŒæŠŠ <strong>å‹ç¼©</strong> çš„å›¾ç‰‡æ”¾å…¥ <code>CDN</code> , ğŸ‘€ çœ‹çœ‹ï¼Œæ•ˆæœå¦‚ä½•</p><p><img src="https://cdn.lishaoy.net/webOptimize/minImages.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimagesï¼‰" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimagesï¼‰" align="center"></p><p>å¯è§ï¼Œè¯·æ±‚æ—¶é—´æ˜¯ <strong>1.70 s</strong> ,æ€»è¯·æ±‚ä¸ªæ•° <strong>50</strong> ï¼Œ è€Œ <code>img</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>15</strong> <em>ï¼ˆè¿™é‡Œå› ä¸ºé¦–é¡µéƒ½æ˜¯å¤§å›¾ï¼Œå°±æ²¡æœ‰åˆå¹¶ï¼Œåªæ˜¯å‹ç¼©äº†ï¼‰</em> ï¼Œä½†æ˜¯ï¼Œæ•ˆæœå¾ˆå¥½ ğŸ˜€ ï¼Œä» <strong>4.59 s</strong> ç¼©çŸ­åˆ° <strong>1.70 s</strong>, æ€§èƒ½åˆæå‡ä¸€å€ã€‚</p><p>å†çœ‹çœ‹æœ‰ç¼“å­˜æƒ…å†µå¦‚ä½• ğŸ˜</p><p><img src="https://cdn.lishaoy.net/webOptimize/minImages1.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimages ç¼“å­˜ï¼‰" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimages ç¼“å­˜ï¼‰" align="center"></p><p>è¯·æ±‚æ—¶é—´æ˜¯ <strong>1.05 s</strong> ï¼Œæœ‰ç¼“å­˜å’Œæ— ç¼“å­˜åŸºæœ¬å·®ä¸å¤š</p><div class="note warning"><p><em>Tipsï¼šå¤§çš„å›¾ç‰‡åœ¨ä¸åŒç»ˆç«¯ï¼Œåº”è¯¥ä½¿ç”¨ä¸åŒåˆ†è¾¨ç‡ï¼Œè€Œä¸åº”è¯¥ä½¿ç”¨ç¼©æ”¾ï¼ˆç™¾åˆ†æ¯”ï¼‰</em></p></div> <p>æ•´ä¸ª <strong>å‹ç¼©ã€åˆå¹¶</strong> <em>ï¼ˆjsã€cssã€imgï¼‰</em> å†æ”¾å…¥ <code>CDN</code> ï¼Œè¯·æ±‚æ—¶é—´ä» <strong>10</strong> å¤šç§’ ï¼Œåˆ°æœ€åçš„ <strong>1.70 s</strong> ï¼Œæ€§èƒ½æå‡ <strong>5</strong> å€å¤šï¼Œå¯è§ï¼Œè¿™ä¸ªæ“ä½œå¿…è¦æ€§ã€‚</p><hr><h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p>ç¼“å­˜ä¼šæ ¹æ®è¯·æ±‚ä¿å­˜è¾“å‡ºå†…å®¹çš„å‰¯æœ¬ï¼Œä¾‹å¦‚ <strong>é¡µé¢ã€å›¾ç‰‡ã€æ–‡ä»¶</strong>ï¼Œå½“ä¸‹ä¸€ä¸ªè¯·æ±‚æ¥åˆ°çš„æ—¶å€™:å¦‚æœæ˜¯ç›¸åŒçš„<code>URL</code>ï¼Œç¼“å­˜ç›´æ¥ä½¿ ç”¨æœ¬åœ°çš„å‰¯æœ¬å“åº”è®¿é—®è¯·æ±‚ï¼Œè€Œä¸æ˜¯å‘æºæœåŠ¡å™¨å†æ¬¡å‘é€è¯·æ±‚ã€‚å› æ­¤ï¼Œå¯ä»¥ä»ä»¥ä¸‹ <strong>2</strong> ä¸ªæ–¹é¢æå‡æ€§èƒ½ã€‚</p><ul><li>å‡å°‘ç›¸åº”å»¶è¿Ÿï¼Œæå‡å“åº”æ—¶é—´</li><li>å‡å°‘ç½‘ç»œå¸¦å®½æ¶ˆè€—ï¼ŒèŠ‚çœæµé‡</li></ul><p>æˆ‘ä»¬ç”¨ä¸¤å¹…å›¾æ¥äº†è§£ä¸‹æµè§ˆå™¨çš„ <strong>ç¼“å­˜æœºåˆ¶</strong></p><p><strong>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚</strong></p><p><img src="https://cdn.lishaoy.net/webOptimize/webCache3.png" alt="no-shadow" title="ç¬¬ä¸€æ¬¡è¯·æ±‚"></p><p><strong>æµè§ˆå™¨å†æ¬¡è¯·æ±‚</strong></p><p><img src="https://cdn.lishaoy.net/webOptimize/webCache4.png" alt="no-shadow" title="å†æ¬¡è¯·æ±‚"></p><p>ä»ä»¥ä¸Šä¸¤å¹…å›¾ä¸­ï¼Œå¯ä»¥æ¸…æ¥šçš„äº†è§£æµè§ˆå™¨ <strong>ç¼“å­˜</strong> çš„è¿‡ç¨‹ã€‚é¦–æ¬¡è®¿é—®ä¸€ä¸ª <code>URL</code> ï¼Œæ²¡æœ‰ <strong>ç¼“å­˜</strong> ï¼Œä½†æ˜¯ï¼ŒæœåŠ¡å™¨ä¼šå“åº”ä¸€äº› <code>header</code> ä¿¡æ¯ï¼Œå¦‚ï¼š<code>expiresã€cache-controlã€last-modifiedã€etag</code> ç­‰ï¼Œæ¥è®°å½•ä¸‹æ¬¡è¯·æ±‚æ˜¯å¦ç¼“å­˜ã€å¦‚ä½•ç¼“å­˜ã€‚å†æ¬¡è®¿é—®è¿™ä¸ª <code>URL</code> æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®é¦–æ¬¡è®¿é—®è¿”å›çš„ <code>header</code> ä¿¡æ¯ï¼Œæ¥å†³ç­–æ˜¯å¦ç¼“å­˜ã€å¦‚ä½•ç¼“å­˜ã€‚æˆ‘ä»¬é‡ç‚¹æ¥åˆ†æä¸‹ç¬¬äºŒå¹…å›¾ï¼Œå…¶å®æ˜¯åˆ†ä¸¤æ¡çº¿è·¯ï¼Œå¦‚ä¸‹ ğŸ‘‡</p><ul><li><strong>ç¬¬ä¸€æ¡çº¿è·¯ï¼š</strong> å½“æµè§ˆå™¨å†æ¬¡è®¿é—®æŸä¸ª <code>URL</code> æ—¶ï¼Œä¼šå…ˆè·å–èµ„æºçš„ <code>header</code> ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ <em>ï¼ˆcache-controlå’Œexpiresï¼‰</em> ï¼Œå¦‚å‘½ä¸­ï¼Œç›´æ¥ä»ç¼“å­˜è·å–èµ„æºï¼ŒåŒ…æ‹¬å“åº”çš„ <code>header</code> ä¿¡æ¯ <em>ï¼ˆè¯·æ±‚ä¸ä¼šå’ŒæœåŠ¡å™¨é€šä¿¡ï¼‰</em> ï¼Œä¹Ÿå°±æ˜¯ <strong>å¼ºç¼“å­˜</strong> ï¼Œå¦‚å›¾</li></ul><p><img src="https://cdn.lishaoy.net/webOptimize/webCache2.png" alt="å¼ºç¼“å­˜" width="100%" title="å¼ºç¼“å­˜" align="center"></p><ul><li><strong>ç¬¬äºŒæ¡çº¿è·¯ï¼š</strong> å¦‚æ²¡æœ‰å‘½ä¸­ <strong>å¼ºç¼“å­˜</strong> ï¼Œæµè§ˆå™¨ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚ä¼šæºå¸¦ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„æœ‰å…³ç¼“å­˜çš„ <code>header</code> ä¿¡æ¯ <em>ï¼ˆLast-Modified/If-Modified-Sinceå’ŒEtag/If-None-Matchï¼‰</em> ï¼Œç”±æœåŠ¡å™¨æ ¹æ®è¯·æ±‚ä¸­çš„ç›¸å…³ <code>header</code> ä¿¡æ¯æ¥æ¯”å¯¹ç»“æœæ˜¯å¦åå•†ç¼“å­˜å‘½ä¸­ï¼›è‹¥å‘½ä¸­ï¼Œåˆ™æœåŠ¡å™¨è¿”å›æ–°çš„å“åº” <code>header</code> ä¿¡æ¯æ›´æ–°ç¼“å­˜ä¸­çš„å¯¹åº” <code>header</code> ä¿¡æ¯ï¼Œä½†æ˜¯å¹¶ä¸è¿”å›èµ„æºå†…å®¹ï¼Œå®ƒä¼šå‘ŠçŸ¥æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»ç¼“å­˜è·å–ï¼›å¦åˆ™è¿”å›æœ€æ–°çš„èµ„æºå†…å®¹ï¼Œä¹Ÿå°±æ˜¯ <strong>åå•†ç¼“å­˜</strong>ã€‚</li></ul><p>ç°åœ¨ï¼Œæˆ‘ä»¬äº†è§£åˆ°æµè§ˆå™¨ç¼“å­˜æœºåˆ¶åˆ†ä¸º <strong>å¼ºç¼“å­˜ã€åå•†ç¼“å­˜</strong>ï¼Œå†æ¥çœ‹çœ‹ä»–ä»¬çš„åŒºåˆ« ğŸ‘‡</p><table><thead><tr><th style="text-align:center">ç¼“å­˜ç­–ç•¥</th><th style="text-align:center">è·å–èµ„æºå½¢å¼</th><th style="text-align:center">çŠ¶æ€ç </th><th style="text-align:center">å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨</th></tr></thead><tbody><tr><td style="text-align:center">å¼ºç¼“å­˜</td><td style="text-align:center">ä»ç¼“å­˜å–</td><td style="text-align:center">200ï¼ˆfrom memory cacheï¼‰</td><td style="text-align:center">å¦ï¼Œç›´æ¥ä»ç¼“å­˜å–</td></tr><tr><td style="text-align:center">åå•†ç¼“å­˜</td><td style="text-align:center">ä»ç¼“å­˜å–</td><td style="text-align:center">304ï¼ˆnot modifiedï¼‰</td><td style="text-align:center">æ˜¯ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥å‘ŠçŸ¥ç¼“å­˜æ˜¯å¦å¯ç”¨</td></tr></tbody></table><h3 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h3><p>ä¸å¼ºç¼“å­˜ç›¸å…³çš„ <code>header</code> å­—æ®µæœ‰ä¸¤ä¸ªï¼š</p><h4 id="expires"><a href="#expires" class="headerlink" title="expires"></a>expires</h4><p><strong>expiresï¼š</strong> è¿™æ˜¯ <code>http1.0</code> æ—¶çš„è§„èŒƒï¼Œå®ƒçš„å€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´çš„ <strong>GMT</strong> æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œå¦‚ <code>Mon, 10 Jun 2015 21:31:12 GMT</code> ï¼Œå¦‚æœå‘é€è¯·æ±‚çš„æ—¶é—´åœ¨ <strong>expires</strong> ä¹‹å‰ï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å§‹ç»ˆæœ‰æ•ˆï¼Œå¦åˆ™å°±ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨æ¥è·å–èµ„æº</p><h4 id="cache-control"><a href="#cache-control" class="headerlink" title="cache-control"></a>cache-control</h4><p><strong>cache-control:</strong> <code>max-age=number</code> ï¼Œè¿™æ˜¯ <code>http1.1</code> æ—¶å‡ºç°çš„ <code>header</code> ä¿¡æ¯ï¼Œä¸»è¦æ˜¯åˆ©ç”¨è¯¥å­—æ®µçš„ <code>max-age</code> å€¼æ¥è¿›è¡Œåˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼›èµ„æºç¬¬ä¸€æ¬¡çš„è¯·æ±‚æ—¶é—´å’Œ <strong>Cache-Control</strong> è®¾å®šçš„æœ‰æ•ˆæœŸï¼Œè®¡ç®—å‡ºä¸€ä¸ªèµ„æºè¿‡æœŸæ—¶é—´ï¼Œå†æ‹¿è¿™ä¸ªè¿‡æœŸæ—¶é—´è·Ÿå½“å‰çš„è¯·æ±‚æ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœè¯·æ±‚æ—¶é—´åœ¨è¿‡æœŸæ—¶é—´ä¹‹å‰ï¼Œå°±èƒ½å‘½ä¸­ç¼“å­˜ï¼Œå¦åˆ™æœªå‘½ä¸­ï¼Œ <strong>cache-control</strong> é™¤äº†è¯¥å­—æ®µå¤–ï¼Œè¿˜æœ‰ä¸‹é¢å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„è®¾ç½®å€¼ï¼š</p><ul><li><strong>no-cacheï¼š</strong> ä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨ <code>ETag</code> ï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½ã€‚</li><li><strong>no-storeï¼š</strong> ç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æºã€‚</li><li><strong>publicï¼š</strong> å¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’Œ <code>CDN</code> ç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚</li><li><strong>privateï¼š</strong> åªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸ <code>CDN</code> ç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚</li></ul><div class="note warning"><p><em>Tipsï¼šå¦‚æœ cache-control ä¸ expires åŒæ—¶å­˜åœ¨çš„è¯ï¼Œcache-control çš„ä¼˜å…ˆçº§é«˜äº expires</em></p></div> <h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>åå•†ç¼“å­˜éƒ½æ˜¯ç”±æµè§ˆå™¨å’ŒæœåŠ¡å™¨åå•†ï¼Œæ¥ç¡®å®šæ˜¯å¦ç¼“å­˜ï¼Œåå•†ä¸»è¦é€šè¿‡ä¸‹é¢ä¸¤ç»„ <code>header</code> å­—æ®µï¼Œè¿™ä¸¤ç»„å­—æ®µéƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œå³ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å“åº”å¤´å¸¦ä¸ŠæŸä¸ªå­—æ®µ <em>ï¼ˆ <strong>Last-Modified</strong> æˆ–è€… <strong>Etag</strong> ï¼‰</em> ï¼Œåˆ™åç»­è¯·æ±‚ä¼šå¸¦ä¸Šå¯¹åº”çš„è¯·æ±‚å­—æ®µ <em>ï¼ˆ<strong>If-Modified-Since</strong> æˆ–è€… <strong>If-None-Match</strong> ï¼‰</em> ï¼Œè‹¥å“åº”å¤´æ²¡æœ‰ <strong>Last-Modified</strong> æˆ–è€… <strong>Etag</strong> å­—æ®µï¼Œåˆ™è¯·æ±‚å¤´ä¹Ÿä¸ä¼šæœ‰å¯¹åº”çš„å­—æ®µã€‚</p><h4 id="Last-Modified-If-Modified-Since"><a href="#Last-Modified-If-Modified-Since" class="headerlink" title="Last-Modified/If-Modified-Since"></a>Last-Modified/If-Modified-Since</h4><p>äºŒè€…çš„å€¼éƒ½æ˜¯ <code>GMT</code> æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œå…·ä½“è¿‡ç¨‹ï¼š</p><ul><li><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªèµ„æºï¼ŒæœåŠ¡å™¨åœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨ <code>respone</code> çš„ <code>header</code> åŠ ä¸Š <strong>Last-Modified</strong> å­—æ®µï¼Œè¿™ä¸ª <code>header</code> å­—æ®µè¡¨ç¤ºè¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´</p></li><li><p>æµè§ˆå™¨å†æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚è¿™ä¸ªèµ„æºæ—¶ï¼Œåœ¨ <code>request</code> çš„ <code>header</code> ä¸ŠåŠ ä¸Š <strong>If-Modified-Since</strong> å­—æ®µï¼Œè¿™ä¸ª <code>header</code> å­—æ®µçš„å€¼å°±æ˜¯ä¸Šä¸€æ¬¡è¯·æ±‚æ—¶è¿”å›çš„ <strong>Last-Modified</strong> çš„å€¼</p></li><li><p>æœåŠ¡å™¨å†æ¬¡æ”¶åˆ°èµ„æºè¯·æ±‚æ—¶ï¼Œæ ¹æ®æµè§ˆå™¨ä¼ è¿‡æ¥ <strong>If-Modified-Since</strong> å’Œèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–åˆ™è¿”å› <code>304 Not Modified</code> ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›èµ„æºå†…å®¹ï¼›å¦‚æœæœ‰å˜åŒ–ï¼Œå°±æ­£å¸¸è¿”å›èµ„æºå†…å®¹ã€‚å½“æœåŠ¡å™¨è¿”å› <code>304 Not Modified</code> çš„å“åº”æ—¶ï¼Œ<code>response header</code> ä¸­ä¸ä¼šå†æ·»åŠ  <strong>Last-Modifiedçš„header</strong> ï¼Œå› ä¸ºæ—¢ç„¶èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆ <strong>Last-Modified</strong> ä¹Ÿå°±ä¸ä¼šæ”¹å˜ï¼Œè¿™æ˜¯æœåŠ¡å™¨è¿”å› <code>304</code> æ—¶çš„ <code>response header</code></p></li><li><p>æµè§ˆå™¨æ”¶åˆ° <code>304</code> çš„å“åº”åï¼Œå°±ä¼šä»ç¼“å­˜ä¸­åŠ è½½èµ„æº</p></li><li><p>å¦‚æœåå•†ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œæµè§ˆå™¨ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ—¶ï¼Œ<strong>Last-Modified</strong> çš„ <code>Header</code> åœ¨é‡æ–°åŠ è½½çš„æ—¶å€™ä¼šè¢«æ›´æ–°ï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ï¼Œ<strong>If-Modified-Since</strong> ä¼šå¯ç”¨ä¸Šæ¬¡è¿”å›çš„<strong>Last-Modified</strong> å€¼</p></li></ul><h4 id="Etag-If-None-Match"><a href="#Etag-If-None-Match" class="headerlink" title="Etag/If-None-Match"></a>Etag/If-None-Match</h4><p>è¿™ä¸¤ä¸ªå€¼æ˜¯ç”±æœåŠ¡å™¨ç”Ÿæˆçš„æ¯ä¸ªèµ„æºçš„å”¯ä¸€æ ‡è¯†å­—ç¬¦ä¸²ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–å°±è¿™ä¸ªå€¼å°±ä¼šæ”¹å˜ï¼›å…¶åˆ¤æ–­è¿‡ç¨‹ä¸ <strong>Last-Modifiedã€If-Modified-Since</strong> ç±»ä¼¼ï¼Œä¸ <strong>Last-Modified</strong> ä¸ä¸€æ ·çš„æ˜¯ï¼Œå½“æœåŠ¡å™¨è¿”å› <code>304 Not Modified</code> çš„å“åº”æ—¶ï¼Œç”±äº <strong>ETag</strong> é‡æ–°ç”Ÿæˆè¿‡ï¼Œ<code>response header</code> ä¸­è¿˜ä¼šæŠŠè¿™ä¸ª <strong>ETag</strong> è¿”å›ï¼Œå³ä½¿è¿™ä¸ª <strong>ETag</strong> è·Ÿä¹‹å‰çš„æ²¡æœ‰å˜åŒ–ã€‚</p><div class="note warning"><p><em>Tipsï¼šLast-Modifiedä¸ETagæ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­æ¯”å¯¹Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å›304ã€‚</em></p></div> <h3 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h3><h4 id="ä»€ä¹ˆæ˜¯-Service-Worker"><a href="#ä»€ä¹ˆæ˜¯-Service-Worker" class="headerlink" title="ä»€ä¹ˆæ˜¯ Service Worker"></a>ä»€ä¹ˆæ˜¯ Service Worker</h4><blockquote><p><strong>Service Worker</strong> æœ¬è´¨ä¸Šå……å½“Webåº”ç”¨ç¨‹åºä¸æµè§ˆå™¨ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥åœ¨ç½‘ç»œå¯ç”¨æ—¶ä½œä¸ºæµè§ˆå™¨å’Œç½‘ç»œé—´çš„ä»£ç†ã€‚å®ƒä»¬æ—¨åœ¨ï¼ˆé™¤å…¶ä»–ä¹‹å¤–ï¼‰ä½¿å¾—èƒ½å¤Ÿåˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶åŸºäºç½‘ç»œæ˜¯å¦å¯ç”¨ä»¥åŠæ›´æ–°çš„èµ„æºæ˜¯å¦é©»ç•™åœ¨æœåŠ¡å™¨ä¸Šæ¥é‡‡å–é€‚å½“çš„åŠ¨ä½œã€‚ä»–ä»¬è¿˜å…è®¸è®¿é—®æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥APIã€‚</p><footer><strong>Service Worker API</strong><cite><a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html" target="_blank" rel="noopener">developer.mozilla.org</a></cite></footer></blockquote><p><br><strong>Service worker</strong> å¯ä»¥è§£å†³ç›®å‰ç¦»çº¿åº”ç”¨çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åšæ›´å¤šçš„äº‹ã€‚ <strong>Service Worker</strong> å¯ä»¥ä½¿ä½ çš„åº”ç”¨å…ˆè®¿é—®æœ¬åœ°ç¼“å­˜èµ„æºï¼Œæ‰€ä»¥åœ¨ç¦»çº¿çŠ¶æ€æ—¶ï¼Œåœ¨æ²¡æœ‰é€šè¿‡ç½‘ç»œæ¥æ”¶åˆ°æ›´å¤šçš„æ•°æ®å‰ï¼Œä»å¯ä»¥æä¾›åŸºæœ¬çš„åŠŸèƒ½ï¼ˆä¸€èˆ¬ç§°ä¹‹ä¸º Offline Firstï¼‰ã€‚è¿™æ˜¯åŸç”ŸAPP æœ¬æ¥å°±æ”¯æŒçš„åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯ç›¸æ¯”äº <code>web app</code> ï¼ŒåŸç”Ÿ <code>app</code> æ›´å—é’ççš„ä¸»è¦åŸå› </p><p>å†æ¥çœ‹çœ‹ ğŸ‘€ <strong>service worker</strong> èƒ½åšäº›ä»€ä¹ˆ</p><ul><li>åå°æ¶ˆæ¯ä¼ é€’</li><li>ç½‘ç»œä»£ç†ï¼Œè½¬å‘è¯·æ±‚ï¼Œä¼ªé€ å“åº”</li><li>ç¦»çº¿ç¼“å­˜</li><li>æ¶ˆæ¯æ¨é€</li><li>â€¦</li></ul><div class="note success"><p><strong><em>æœ¬æ–‡ä¸»è¦ä»¥ï¼ˆ<a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a>ï¼‰èµ„æºç¼“å­˜ä¸ºä¾‹,é˜è¿°ä¸‹ service workerå¦‚ä½•å·¥ä½œ</em></strong></p></div>  <h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p><strong>service worker</strong> åˆæ¬¡å®‰è£…çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚å›¾ ğŸŒ </p><p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker.png" alt="no-shadow" title="swç”Ÿå‘½å‘¨æœŸ"></p><p>ä»ä¸Š ğŸ‘† å›¾å¯çŸ¥ï¼Œ<strong>service worker</strong> å·¥ä½œçš„æµç¨‹ï¼š</p><ol><li><strong>å®‰è£…ï¼š</strong>  <code>service worker URL</code> é€šè¿‡ <code>serviceWorkerContainer.register()</code> æ¥è·å–å’Œæ³¨å†Œã€‚</li><li><strong>æ¿€æ´»ï¼š</strong> å½“ <code>service worker</code> å®‰è£…å®Œæˆåï¼Œä¼šæ¥æ”¶åˆ°ä¸€ä¸ªæ¿€æ´»äº‹ä»¶(activate event)ã€‚ <code>onactivate</code> ä¸»è¦ç”¨é€”æ˜¯æ¸…ç†å…ˆå‰ç‰ˆæœ¬çš„ <code>service worker</code> è„šæœ¬ä¸­ä½¿ç”¨çš„èµ„æºã€‚</li><li><strong>ç›‘å¬ï¼š</strong> ä¸¤ç§çŠ¶æ€<ul><li>ç»ˆæ­¢ä»¥èŠ‚çœå†…å­˜ï¼›</li><li>ç›‘å¬è·å– <code>fetch</code> å’Œæ¶ˆæ¯ <code>message</code> äº‹ä»¶ã€‚</li></ul></li><li><strong>é”€æ¯ï¼š</strong> æ˜¯å¦é”€æ¯ç”±æµè§ˆå™¨å†³å®šï¼Œå¦‚æœä¸€ä¸ª <code>service worker</code> é•¿æœŸä¸ä½¿ç”¨æˆ–è€…æœºå™¨å†…å­˜æœ‰é™ï¼Œåˆ™å¯èƒ½ä¼šé”€æ¯è¿™ä¸ª <code>worker</code> ã€‚</li></ol><div class="note warning"><p><em>Tipsï¼šæ¿€æ´»æˆåŠŸä¹‹åï¼Œåœ¨ Chrome æµè§ˆå™¨é‡Œï¼Œå¯ä»¥è®¿é—® chrome://inspect/#service-workerså’Œ chrome://serviceworker-internals/ å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰è¿è¡Œçš„service worker ï¼Œå¦‚å›¾ ğŸ‘‡ã€‚</em></p></div> <p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker1.png" alt="service worker" width="100%" title="service worker" align="center"></p><p><strong>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å†™ä¸ªç®€å•çš„ä¾‹å­ ğŸŒ° </strong></p><h4 id="æ³¨å†Œ-service-worker"><a href="#æ³¨å†Œ-service-worker" class="headerlink" title="æ³¨å†Œ service worker"></a>æ³¨å†Œ service worker</h4><p>è¦å®‰è£… <code>service worker</code> ï¼Œä½ éœ€è¦åœ¨ä½ çš„é¡µé¢ä¸Šæ³¨å†Œå®ƒã€‚è¿™ä¸ªæ­¥éª¤å‘Šè¯‰æµè§ˆå™¨ä½ çš„ <code>service worker</code> è„šæœ¬åœ¨å“ªé‡Œã€‚</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#æ³¨å†Œ-service-worker" target="_blank" rel="noopener">app.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'serviceWorker'</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  navigator.serviceWorker.register(<span class="string">'/sw.js'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">registration</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Registration was successful</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ServiceWorker registration successful with scope: '</span>,    registration.scope);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// registration failed :(</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ServiceWorker registration failed: '</span>, err);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æ£€æŸ¥ <code>service worker API</code> æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœå¯ç”¨ï¼Œ<code>service worker /sw.js</code> è¢«æ³¨å†Œã€‚å¦‚æœè¿™ä¸ª <code>service worker</code> å·²ç»è¢«æ³¨å†Œè¿‡ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¿½ç•¥ä¸Šé¢çš„ä»£ç ã€‚</p><h4 id="æ¿€æ´»-service-worker"><a href="#æ¿€æ´»-service-worker" class="headerlink" title="æ¿€æ´» service worker"></a>æ¿€æ´» service worker</h4><p>åœ¨ä½ çš„ <code>service worker</code> æ³¨å†Œä¹‹åï¼Œæµè§ˆå™¨ä¼šå°è¯•ä¸ºä½ çš„é¡µé¢æˆ–ç«™ç‚¹å®‰è£…å¹¶æ¿€æ´»å®ƒã€‚ <code>install</code> äº‹ä»¶ä¼šåœ¨å®‰è£…å®Œæˆä¹‹åè§¦å‘ã€‚<code>install</code> äº‹ä»¶ä¸€èˆ¬æ˜¯è¢«ç”¨æ¥å¡«å……ä½ çš„æµè§ˆå™¨çš„ç¦»çº¿ç¼“å­˜èƒ½åŠ›ã€‚ä½ éœ€è¦ä¸º <code>install</code> äº‹ä»¶å®šä¹‰ä¸€ä¸ª <code>callback</code> ï¼Œå¹¶å†³å®šå“ªäº›æ–‡ä»¶ä½ æƒ³è¦ç¼“å­˜.</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#æ¿€æ´»-service-worker" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The files we want to cache</span></span><br><span class="line"><span class="keyword">var</span> CACHE_NAME = <span class="string">'my-site-cache-v1'</span>;</span><br><span class="line"><span class="keyword">var</span> urlsToCache = [</span><br><span class="line">  <span class="string">'/'</span>,</span><br><span class="line">  <span class="string">'/css/main.css'</span>,</span><br><span class="line">  <span class="string">'/js/main.js'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">self.addEventListener(<span class="string">'install'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Perform install steps</span></span><br><span class="line">  event.waitUntil(</span><br><span class="line">    caches.open(CACHE_NAME)</span><br><span class="line">      .then(<span class="function"><span class="keyword">function</span>(<span class="params">cache</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Opened cache'</span>);</span><br><span class="line">        <span class="keyword">return</span> cache.addAll(urlsToCache);</span><br><span class="line">      &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬çš„ <code>install callback</code> ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>å¼€å¯ä¸€ä¸ªç¼“å­˜</li><li>ç¼“å­˜æˆ‘ä»¬çš„æ–‡ä»¶</li><li>å†³å®šæ˜¯å¦æ‰€æœ‰çš„èµ„æºæ˜¯å¦è¦è¢«ç¼“å­˜</li></ul><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>caches.open</code> æ‰“å¼€æˆ‘ä»¬æŒ‡å®šçš„ <code>cache</code> æ–‡ä»¶åï¼Œç„¶åæˆ‘ä»¬è°ƒç”¨ <code>cache.addAll</code> å¹¶ä¼ å…¥æˆ‘ä»¬çš„æ–‡ä»¶æ•°ç»„ã€‚è¿™æ˜¯é€šè¿‡ä¸€è¿ä¸² <code>promise</code> <em>ï¼ˆcaches.open å’Œ cache.addAllï¼‰</em> å®Œæˆçš„ã€‚<code>event.waitUntil</code> æ‹¿åˆ°ä¸€ä¸ª <code>promise</code> å¹¶ä½¿ç”¨å®ƒæ¥è·å¾—å®‰è£…è€—è´¹çš„æ—¶é—´ä»¥åŠæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><h4 id="ç›‘å¬-service-worker"><a href="#ç›‘å¬-service-worker" class="headerlink" title="ç›‘å¬ service worker"></a>ç›‘å¬ service worker</h4><p>ç°åœ¨æˆ‘ä»¬å·²ç»å°†ä½ çš„ç«™ç‚¹èµ„æºç¼“å­˜äº†ï¼Œä½ éœ€è¦å‘Šè¯‰ <code>service worker</code> è®©å®ƒç”¨è¿™äº›ç¼“å­˜å†…å®¹æ¥åšç‚¹ä»€ä¹ˆã€‚æœ‰äº† <code>fetch</code> äº‹ä»¶ï¼Œè¿™æ˜¯å¾ˆå®¹æ˜“åšåˆ°çš„ã€‚</p><p>æ¯æ¬¡ä»»ä½•è¢« <code>service worker</code> æ§åˆ¶çš„èµ„æºè¢«è¯·æ±‚åˆ°æ—¶ï¼Œéƒ½ä¼šè§¦å‘ <code>fetch</code> äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <code>service worker</code> æ·»åŠ ä¸€ä¸ª <code>fetch</code> çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œæ¥ç€è°ƒç”¨ <code>event</code> ä¸Šçš„ <code>respondWith()</code> æ–¹æ³•æ¥åŠ«æŒæˆ‘ä»¬çš„ <strong>HTTP</strong> å“åº”ï¼Œç„¶åä½ ç”¨å¯ä»¥ç”¨è‡ªå·±çš„æ–¹æ³•æ¥æ›´æ–°ä»–ä»¬ã€‚</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#ç›‘å¬-service-worker" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">'fetch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request);</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>caches.match(event.request)</code> å…è®¸æˆ‘ä»¬å¯¹ç½‘ç»œè¯·æ±‚çš„èµ„æºå’Œ <code>cache</code> é‡Œå¯è·å–çš„èµ„æºè¿›è¡ŒåŒ¹é…ï¼ŒæŸ¥çœ‹æ˜¯å¦ç¼“å­˜ä¸­æœ‰ç›¸åº”çš„èµ„æºã€‚è¿™ä¸ªåŒ¹é…é€šè¿‡ <code>url</code> å’Œ <code>vary header</code> è¿›è¡Œï¼Œå°±åƒæ­£å¸¸çš„ <strong>HTTP</strong> è¯·æ±‚ä¸€æ ·ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è¿”å› <code>request</code> å‘¢ï¼Œä¸‹é¢ ğŸ‘‡ å°±æ˜¯ä¸€ä¸ªä¾‹å­ ğŸŒ°</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#ç›‘å¬-service-worker" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">'fetch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request)</span><br><span class="line">      .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Cache hit - return response</span></span><br><span class="line">        <span class="keyword">if</span> (response) &#123;</span><br><span class="line">          <span class="keyword">return</span> response;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fetch(event.request);</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç é‡Œæˆ‘ä»¬å®šä¹‰äº† <code>fetch</code> äº‹ä»¶ï¼Œåœ¨ <code>event.respondWith</code> é‡Œï¼Œæˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªç”± <code>caches.match</code> äº§ç”Ÿçš„ <code>promise.caches.match</code> æŸ¥æ‰¾ <code>request</code> ä¸­è¢« <code>service worker</code> ç¼“å­˜å‘½ä¸­çš„ <code>response</code> ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå‘½ä¸­çš„ <code>response</code> ï¼Œæˆ‘ä»¬è¿”å›è¢«ç¼“å­˜çš„å€¼ï¼Œå¦åˆ™æˆ‘ä»¬è¿”å›ä¸€ä¸ªå®æ—¶ä»ç½‘ç»œè¯·æ±‚ <code>fetch</code> çš„ç»“æœã€‚</p><h4 id="sw-toolbox"><a href="#sw-toolbox" class="headerlink" title="sw-toolbox"></a>sw-toolbox</h4><div class="note success"><p><em>å½“ç„¶ï¼Œæˆ‘ä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚ï¼š<a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a> ä½¿ç”¨äº† <strong>sw-toolbox</strong>ã€‚</em></p></div><p><strong>sw-toolbox</strong> ä½¿ç”¨éå¸¸ç®€å•ï¼Œä¸‹é¢ ğŸ‘‡ å°±æ˜¯ <a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a> çš„ä¸€ä¸ªä¾‹å­ ğŸŒ°</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#sw-toolbox" target="_blank" rel="noopener">persilee.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"serviceWorker"</span> <span class="keyword">in</span> navigator ? navigator.serviceWorker.register(<span class="string">'/sw.js'</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  navigator.serviceWorker.controller ? <span class="built_in">console</span>.log(<span class="string">"Assets cached by the controlling service worker."</span>) : <span class="built_in">console</span>.log(<span class="string">"Please reload this page to allow the service worker to handle network operations."</span>)</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"ERROR: "</span> + e)</span><br><span class="line">&#125;) : <span class="built_in">console</span>.log(<span class="string">"Service workers are not supported in the current browser."</span>)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ <strong>æ³¨å†Œ</strong> ä¸€ä¸ª <code>service woker</code></p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#sw-toolbox" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cacheVersion = <span class="string">"20180527"</span>;</span><br><span class="line">    <span class="keyword">var</span> staticImageCacheName = <span class="string">"image"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> staticAssetsCacheName = <span class="string">"assets"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> contentCacheName = <span class="string">"content"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> vendorCacheName = <span class="string">"vendor"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> maxEntries = <span class="number">100</span>;</span><br><span class="line">    self.importScripts(<span class="string">"/lib/sw-toolbox/sw-toolbox.js"</span>);</span><br><span class="line">    self.toolbox.options.debug = <span class="literal">false</span>;</span><br><span class="line">    self.toolbox.options.networkTimeoutSeconds = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    self.toolbox.router.get(<span class="string">"/images/(.*)"</span>, self.toolbox.cacheFirst, &#123;</span><br><span class="line">        cache: &#123;</span><br><span class="line">            name: staticImageCacheName,</span><br><span class="line">            maxEntries: maxEntries</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    self.toolbox.router.get(<span class="string">'/js/(.*)'</span>, self.toolbox.cacheFirst, &#123;</span><br><span class="line">        cache: &#123;</span><br><span class="line">            name: staticAssetsCacheName,</span><br><span class="line">            maxEntries: maxEntries</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    self.toolbox.router.get(<span class="string">'/css/(.*)'</span>, self.toolbox.cacheFirst, &#123;</span><br><span class="line">        cache: &#123;</span><br><span class="line">            name: staticAssetsCacheName,</span><br><span class="line">            maxEntries: maxEntries</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    self.addEventListener(<span class="string">"install"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> event.waitUntil(self.skipWaiting())</span><br><span class="line">    &#125;);</span><br><span class="line">    self.addEventListener(<span class="string">"activate"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> event.waitUntil(self.clients.claim())</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>å°±è¿™æ ·æå®šäº† ğŸ‰ <em>(å…·ä½“çš„ç”¨æ³•å¯ä»¥å» <a href="https://googlechromelabs.github.io/sw-toolbox/api.html#main" target="_blank" rel="noopener">sw-toolbox</a> æŸ¥çœ‹)</em></p><p>æœ‰çš„åŒå­¦å°±é—®ï¼Œ<code>service worker</code> è¿™ä¹ˆå¥½ç”¨ï¼Œè¿™ä¸ªç¼“å­˜ç©ºé—´åˆ°åº•æ˜¯å¤šå¤§ï¼Ÿå…¶å®ï¼Œåœ¨  <strong>Chrome</strong> å¯ä»¥çœ‹åˆ°ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/webOptimize/storageQuota.png" alt="fstorage quota" width="100%" title="storage quota" align="center"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¤§æ¦‚æœ‰ <strong>30G</strong> ï¼Œæˆ‘çš„ç«™ç‚¹åªç”¨äº† <strong>183MB</strong> ï¼Œå®Œå…¨å¤Ÿç”¨äº† ğŸ“</p><p>æœ€åï¼Œæ¥ä¸¤å¼ å›¾ </p><p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker2.png" alt="from ServiceWorker" width="100%" title="from ServiceWorker" align="center"></p><p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker3.png" alt="Cache Storage" width="100%" title="Cache Storage" align="center"></p><p><img class="hidden" src="https://cdn.lishaoy.net/webOptimize/Optimize.png" alt="web optimize" width="100%" title="web optimize" align="center"></p><h2 id="æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚-ğŸ˜œ"><a href="#æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚-ğŸ˜œ" class="headerlink" title="æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚ ğŸ˜œ"></a>æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚ ğŸ˜œ</h2>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/webOptimize.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Promiseè¯ç”Ÿè®°</title>
      <link>https://h.lishaoy.net/createPromise.html</link>
      <guid>https://h.lishaoy.net/createPromise.html</guid>
      <pubDate>Tue, 17 Apr 2018 17:34:09 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/createPromise/promise.png&quot; class=&quot;full-image&quot; alt=&quot;Promise&quot; title=&quot;Promise&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å‰ç«¯è¿‘å¹´çš„å…´èµ·ï¼Œæœ‰å¤§éƒ¨åˆ†æ˜¯å› ä¸º &lt;code&gt;NodeJS&lt;/code&gt; çš„è¯ç”Ÿï¼Œè€Œ &lt;code&gt;NodeJS&lt;/code&gt; æ˜¯ä¸ªé€‚ç”¨äº &lt;strong&gt;å¼‚æ­¥IO&lt;/strong&gt; å¯†é›†å‹çš„è¯­è¨€ï¼Œä¸€äº›åŸºäº &lt;code&gt;NodeJS&lt;/code&gt; çš„æ¡†æ¶ï¼Œæ¯”å–» &lt;em&gt;KOA2ã€Adonis&lt;/em&gt; å°±æœ‰å¤§é‡çš„ &lt;code&gt;async&lt;/code&gt; å’Œ &lt;code&gt;await&lt;/code&gt; è¯­æ³•ï¼Œ&lt;code&gt;async&lt;/code&gt;çš„å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯ &lt;code&gt;Promise&lt;/code&gt; å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ &lt;code&gt;async&lt;/code&gt; å’Œ &lt;code&gt;await&lt;/code&gt; è¯­æ³•ï¼Œå†™å‡ºä¼˜é›…çš„å¼‚æ­¥ä»£ç ï¼Œæ¥æ›¿æ¢éš¾çœ‹ä¸”éš¾ç»´æŠ¤çš„å›è°ƒå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä¼šæ¸è¿›å¼çš„æ¥åˆ›å»ºä¸€ä¸ª &lt;code&gt;Promise&lt;/code&gt; çš„å®ç°ï¼Œå¦‚æœï¼Œä½ è¿˜ä¸äº†è§£ &lt;code&gt;Promise&lt;/code&gt; ï¼Œèµ¶å¿«ç§»æ­¥ &lt;a href=&quot;http://es6.ruanyifeng.com/#docs/promise&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Promise&lt;/a&gt; äº†è§£å­¦ä¹ ï¼Œå½“ç„¶è¿™ä¸ªå®ç°ä¼šç¬¦åˆ &lt;a href=&quot;https://promisesaplus.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Promise/A+&lt;/a&gt; è§„èŒƒï¼Œ&lt;code&gt;JavaScript&lt;/code&gt; ä¸­æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„ &lt;code&gt;Promise&lt;/code&gt; åº“ï¼Œ&lt;a href=&quot;http://bluebirdjs.com/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;bluebird&lt;/a&gt; å°±æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ &lt;code&gt;Promise&lt;/code&gt; ç±»åº“ï¼Œç›¸æ¯”å…¶å®ƒç¬¬ä¸‰æ–¹ç±»åº“æˆ–æ ‡å‡†å¯¹è±¡æ¥è¯´ï¼Œå…¶æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šåŠŸèƒ½æ›´é½å…¨è€Œä¸è‡ƒè‚¿ã€æµè§ˆå™¨å…¼å®¹æ€§æ›´å¥½,å¤§å®¶å¯ä»¥äº†è§£ä¸‹ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/createPromise/promise.png" class="full-image" alt="Promise" title="Promise"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å‰ç«¯è¿‘å¹´çš„å…´èµ·ï¼Œæœ‰å¤§éƒ¨åˆ†æ˜¯å› ä¸º <code>NodeJS</code> çš„è¯ç”Ÿï¼Œè€Œ <code>NodeJS</code> æ˜¯ä¸ªé€‚ç”¨äº <strong>å¼‚æ­¥IO</strong> å¯†é›†å‹çš„è¯­è¨€ï¼Œä¸€äº›åŸºäº <code>NodeJS</code> çš„æ¡†æ¶ï¼Œæ¯”å–» <em>KOA2ã€Adonis</em> å°±æœ‰å¤§é‡çš„ <code>async</code> å’Œ <code>await</code> è¯­æ³•ï¼Œ<code>async</code>çš„å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯ <code>Promise</code> å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>async</code> å’Œ <code>await</code> è¯­æ³•ï¼Œå†™å‡ºä¼˜é›…çš„å¼‚æ­¥ä»£ç ï¼Œæ¥æ›¿æ¢éš¾çœ‹ä¸”éš¾ç»´æŠ¤çš„å›è°ƒå‡½æ•°ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä¼šæ¸è¿›å¼çš„æ¥åˆ›å»ºä¸€ä¸ª <code>Promise</code> çš„å®ç°ï¼Œå¦‚æœï¼Œä½ è¿˜ä¸äº†è§£ <code>Promise</code> ï¼Œèµ¶å¿«ç§»æ­¥ <a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">Promise</a> äº†è§£å­¦ä¹ ï¼Œå½“ç„¶è¿™ä¸ªå®ç°ä¼šç¬¦åˆ <a href="https://promisesaplus.com" target="_blank" rel="noopener">Promise/A+</a> è§„èŒƒï¼Œ<code>JavaScript</code> ä¸­æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„ <code>Promise</code> åº“ï¼Œ<a href="http://bluebirdjs.com/docs/getting-started.html" target="_blank" rel="noopener">bluebird</a> å°±æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ <code>Promise</code> ç±»åº“ï¼Œç›¸æ¯”å…¶å®ƒç¬¬ä¸‰æ–¹ç±»åº“æˆ–æ ‡å‡†å¯¹è±¡æ¥è¯´ï¼Œå…¶æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šåŠŸèƒ½æ›´é½å…¨è€Œä¸è‡ƒè‚¿ã€æµè§ˆå™¨å…¼å®¹æ€§æ›´å¥½,å¤§å®¶å¯ä»¥äº†è§£ä¸‹ã€‚</p><hr><a id="more"></a><p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å¹²ã€‚ã€‚ã€‚ ğŸ˜ </p><h2 id="å®šä¹‰-Promise-ç±»å‹"><a href="#å®šä¹‰-Promise-ç±»å‹" class="headerlink" title="å®šä¹‰ Promise ç±»å‹"></a>å®šä¹‰ Promise ç±»å‹</h2><p>ä¸€ä¸ªç®€å• <code>Promise</code> è¯­æ³•ï¼Œå¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ... doSomething</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="comment">/* å¼‚æ­¥æ“ä½œæˆåŠŸ */</span>)&#123;</span><br><span class="line">    resolve(value);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å®ç°-resolve-å’Œ-then"><a href="#å®ç°-resolve-å’Œ-then" class="headerlink" title="å®ç° resolve å’Œ then"></a>å®ç° resolve å’Œ then</h3><p>é¦–å…ˆæˆ‘ä»¬ä»¥ä¸Š ğŸ‘† çš„è¯­æ³•ï¼Œè‡ªå·±å®šä¹‰ä¸€ä¸ª <code>Promise</code> å®ä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Promise</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//å®ç° then æ–¹æ³• , å…ˆä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå®ç°ä¼ ä¸€ä¸ªå‚æ•° -- resolve</span></span><br><span class="line">  <span class="keyword">this</span>.then = <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    callback = cb;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®ç° resolve , value:å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå€¼</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    callback(value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ‰§è¡Œ function å‚æ•°</span></span><br><span class="line">  fn(resolve);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªç®€å•çš„å®ä¾‹å†™å¥½äº†ï¼Œç„¶åï¼Œæ¥ç”¨ä¸€ä¸‹,çœ‹çœ‹ ğŸ‘€ ç»“æœå¦‚ä½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">  resolve(<span class="number">66</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><div class="note info"><p>æ‰§è¡Œç»“æœæ˜¯ï¼š<code>callback is not a function</code></p></div><h3 id="ä¿®æ”¹-callback-ä¸ºå¼‚æ­¥"><a href="#ä¿®æ”¹-callback-ä¸ºå¼‚æ­¥" class="headerlink" title="ä¿®æ”¹ callback ä¸ºå¼‚æ­¥"></a>ä¿®æ”¹ callback ä¸ºå¼‚æ­¥</h3><p><strong>è¿™é‡Œå°±é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼š </strong>  </p><p><strong> å‘ç° <code>resolve()</code> åœ¨ <code>then()</code> ä¹‹å‰è°ƒç”¨ï¼Œåœ¨ <code>resolve()</code> è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œ <code>callback</code> è¿˜æ˜¯ <code>null</code> ï¼Œæˆ‘ä»¬çš„ä»£ç æ˜¯åŒæ­¥çš„ï¼Œè€Œä¸æ˜¯å¼‚æ­¥çš„ã€‚<br> å¦‚æ˜¯ï¼Œæƒ³åŠæ³•è§£å†³æ‰è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ©ç”¨ <code>setTimeout</code> , æŠŠ <code>callback</code> åŠ å…¥å¼‚æ­¥é˜Ÿåˆ—</strong> </p><p>ä»£ç å¦‚ä¸‹ ğŸ‘‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Promise</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//å®ç° then æ–¹æ³• , å…ˆä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå®ç°ä¼ ä¸€ä¸ªå‚æ•° -- resolve</span></span><br><span class="line">  <span class="keyword">this</span>.then = <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    callback = cb;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®ç° resolve , value:å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå€¼</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨ setTimeout æŠŠ callback åŠ å…¥åˆ°å¼‚æ­¥é˜Ÿåˆ—ï¼Œè¿™æ ·å°±ä¼šï¼Œå…ˆæ‰§è¡Œ then() æ–¹æ³•</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      callback(value);</span><br><span class="line">    &#125;,<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ‰§è¡Œ function å‚æ•°</span></span><br><span class="line">  fn(resolve);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå†æ¥ç”¨ä¸€ä¸‹,çœ‹çœ‹ ğŸ‘€ ç»“æœå¦‚ä½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">  resolve(<span class="number">66</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><div class="note info"><p>æ‰§è¡Œç»“æœæ˜¯ï¼š<code>66</code></p></div><h2 id="æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚"><a href="#æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚" class="headerlink" title="æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚"></a>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</h2>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/createPromise.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>CSSModules</title>
      <link>https://h.lishaoy.net/CSSModules.html</link>
      <guid>https://h.lishaoy.net/CSSModules.html</guid>
      <pubDate>Sat, 07 Apr 2018 01:58:11 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/CSSModules/cssModules.png&quot; class=&quot;full-image&quot; alt=&quot;CSS Modules&quot; title=&quot;CSS Modules&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æ¥ä¸€èµ·äº†è§£ &lt;code&gt;css&lt;/code&gt; æ¨¡å—åŒ–çš„ç”¨æ³•å’ŒåŸç† ï¼Œ&lt;strong&gt;dome&lt;/strong&gt; åœ°å€ï¼š&lt;a href=&quot;https://github.com/persilee/webpack_test&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;css modules&lt;/a&gt; ğŸ˜®&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/CSSModules/cssModules.png" class="full-image" alt="CSS Modules" title="CSS Modules"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è¿™ç¯‡æ–‡ç« æ¥ä¸€èµ·äº†è§£ <code>css</code> æ¨¡å—åŒ–çš„ç”¨æ³•å’ŒåŸç† ï¼Œ<strong>dome</strong> åœ°å€ï¼š<a href="https://github.com/persilee/webpack_test" target="_blank" rel="noopener">css modules</a> ğŸ˜®</p><hr><a id="more"></a><h4 id="å±€éƒ¨ä½œç”¨åŸŸ"><a href="#å±€éƒ¨ä½œç”¨åŸŸ" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸ"></a>å±€éƒ¨ä½œç”¨åŸŸ</h4><p>ä¸€èˆ¬æˆ‘ä»¬å¼•å…¥é¡µé¢çš„ <code>CSS</code> çš„ä½œç”¨åŸŸéƒ½æ˜¯å…¨å±€çš„ï¼Œéƒ½æ˜¯å¯¹è¿™ä¸ªé¡µé¢èµ·ä½œç”¨ï¼Œäº§ç”Ÿå±€éƒ¨çš„ä½œç”¨åŸŸï¼Œå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ <code>class</code> çš„åç§°ï¼Œä¸ä¼šå’Œå…¶å®ƒé€‰æ‹©å™¨é‡åçš„ï¼Œ <strong><code>CSS Modules</code></strong> å°±æ˜¯è¿™ä¸ªåŸç†ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€æ®µä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./main.css'</span>;</span><br><span class="line"><span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">'./test.html'</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'body'</span>).append($(<span class="string">'&lt;div&gt;&lt;h1&gt;æˆ‘ä¼šå˜ç»¿&lt;/h1&gt;&lt;/div&gt;'</span>));</span><br><span class="line">$(<span class="string">'div h1'</span>).addClass(styles.testGreen);</span><br><span class="line">$(<span class="string">'body'</span>).append(test).find(<span class="string">'h2'</span>).addClass(styles.testBlue);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æˆ‘æŠŠ <code>main.css</code> è¾“å…¥åˆ° <code>style</code> å¯¹è±¡ï¼Œç„¶åä¸‹é¢ç”¨äº† <code>styles.testGreen</code> å¯¹è±¡çš„å±æ€§å½¢å¼è°ƒç”¨ï¼Œå°±ä¼šåº”ç”¨ <code>main.css</code> é‡Œçš„æ ·å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.testGreen</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ„å»ºå·¥å…·ï¼ˆ <code>webpack</code> ï¼‰ç¼–è¯‘æˆä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ä¸²</p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h1 class="_305zeUSoiGREv3GqPa9H8F"&gt;æˆ‘ä¼šå˜ç»¿&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p><code>main.css</code> ä¹Ÿä¼šåŒæ—¶ç¼–è¯‘</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">._305zeUSoiGREv3GqPa9H8F</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#aaf200</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªç±»åå°±æ˜¯ç‹¬ä¸€æ— äºŒçš„äº†ï¼Œåªå¯¹åº”ç”¨çš„ç»„ä»¶æœ‰æ•ˆã€‚<strong><code>CSS Modules</code></strong> æ”¯æŒä¸åŒçš„æ„å»ºå·¥å…·ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>webpack</code> ,ä¸‹æ–‡éƒ½æ˜¯ä»¥ <code>webpack</code> ä¸ºä¾‹ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ <strong><code>webpack.config.js</code></strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  context: __dirname + <span class="string">'/src'</span>,</span><br><span class="line">  devtool: <span class="string">'eval-source-map'</span>, <span class="comment">//é…ç½®ç”ŸæˆSource Mapsï¼Œé€‰æ‹©åˆé€‚çš„é€‰é¡¹</span></span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: [<span class="string">'./app.js'</span>, <span class="string">'./test.js'</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: __dirname + <span class="string">'/dist'</span>,</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    publicPath: <span class="string">'/assets'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.json$/</span>,<span class="attr">loader</span>: <span class="string">'json-loader'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.js$/</span>,<span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,<span class="attr">loader</span>: <span class="string">'babel-loader'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.css$/</span>,<span class="attr">loader</span>: ExtractTextPlugin.extract(&#123;</span><br><span class="line">          fallbackLoader: <span class="string">"style-loader"</span>,</span><br><span class="line">          loader: &#123;</span><br><span class="line">            loader: <span class="string">"css-loader"</span>,</span><br><span class="line">            query: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.html$/</span>,<span class="attr">loader</span>: <span class="string">'html-loader'</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> ExtractTextPlugin(<span class="string">'style.css'</span>)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œ<code>query:{modules:true}</code> ä»£è¡¨å¼€å¯ <strong><code>CSS Modules</code></strong> æ¨¡å—ï¼Œè¿™é‡Œè¿˜é…ç½®äº†æŠŠæ‰€ä»¥å¾— <code>css</code> åˆå¹¶ä¸€ä¸ªæ–‡ä»¶ï¼Œå…·ä½“çš„å¯ä»¥äº†è§£ <code>webpack</code> çš„ <code>extract-text-webpack-plugin</code>æ’ä»¶ã€‚</p><h4 id="å…¨å±€ä½œç”¨åŸŸ"><a href="#å…¨å±€ä½œç”¨åŸŸ" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸ"></a>å…¨å±€ä½œç”¨åŸŸ</h4><p><strong><code>CSS Modules</code></strong> å…è®¸ç”¨ <code>:global(.className)</code> çš„è¯­æ³•å£°æ˜ä¸€ä¸ªå…¨å±€çš„ä½œç”¨åŸŸã€‚åŠ äº† <code>:global</code> çš„ä¸ä¼šè¢«ç¼–è¯‘æˆå“ˆå¸Œå€¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:global(.title)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>test.js</code> ä½¿ç”¨æ™®é€šçš„å†™æ³•ï¼Œå°±ä¼šå¼•ç”¨å…¨å±€çš„ <code>.title</code> çš„æ ·å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./main.css'</span>;</span><br><span class="line"><span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">'./test.html'</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'body'</span>).append($(<span class="string">'&lt;div&gt;&lt;h1&gt;æˆ‘æ˜¯title&lt;/h1&gt;&lt;/div&gt;'</span>));</span><br><span class="line">$(<span class="string">'div h1'</span>).addClass(<span class="string">'title'</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœ <code>h1</code> çš„titleæ˜¾ç¤ºé»‘è‰²ã€‚</p><h4 id="Classçš„ç»„åˆ"><a href="#Classçš„ç»„åˆ" class="headerlink" title="Classçš„ç»„åˆ"></a>Classçš„ç»„åˆ</h4><p>åœ¨ <strong><code>CSS Modules</code></strong> é‡Œï¼Œä¸€ä¸ªé€‰æ‹©å™¨å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªé€‰æ‹©å™¨ã€‚</p><p>åœ¨ <code>mian.css</code> é‡Œï¼Œæˆ‘è®© <code>.testBlue</code> ç»§æ‰¿ <code>.testBg</code> ç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.testBg</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testBlue</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">composes</span>: testBg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ç”¨ä¿®æ”¹ <code>test.js</code> ,åº”ç”¨äº† <code>.testBlue</code> å°±ä¼šæœ‰ä¸€ä¸ªçº¢è‰²çš„èƒŒæ™¯ã€‚</p><p>ç¼–è¯‘ç»“æœï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.eh33VC37uFHXkCZ8LfKYd</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.xrmZso54fTBX29J9G65Ai</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0c77f8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸åº”çš„ <code>html</code> ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"xrmZso54fTBX29J9G65Ai eh33VC37uFHXkCZ8LfKYd _2gsuNWm9029FHPYJP62C-t"</span>&gt;</span></span><br><span class="line">    æˆ‘ä¼šå˜è“</span><br><span class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¾“å…¥å˜é‡"><a href="#è¾“å…¥å˜é‡" class="headerlink" title="è¾“å…¥å˜é‡"></a>è¾“å…¥å˜é‡</h4><p><strong><code>CSS Modules</code></strong> æ”¯æŒä½¿ç”¨å˜é‡ï¼Œä¸è¿‡è¦å®‰è£… <strong>PsotCSS</strong> å’Œ <strong>postcss-modules-values</strong>ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save postcss-loader postcss-modules-<span class="built_in">values</span></span><br></pre></td></tr></table></figure><p>æŠŠ <code>postcss-loader</code> åŠ å…¥ <code>webpack.config.js</code> .</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    loader: <span class="string">'style-loader!css-loader?modules!postcss-loader'</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘åœ¨ <code>colors.css</code> é‡Œå®šä¹‰äº†ä¸€äº›å˜é‡ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">value</span> blue: #<span class="number">0</span>c77f8;</span><br><span class="line">@<span class="keyword">value</span> red: #ff0000;</span><br><span class="line">@<span class="keyword">value</span> green: #aaf200;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>main.css</code> é‡Œå¯ä»¥è¿™æ ·å¼•ç”¨å˜é‡</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">value</span> colors: <span class="string">"./color.css"</span>;</span><br><span class="line">@<span class="keyword">value</span> blue, red, green from colors;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testBg</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testGreen</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testBlue</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">composes</span>: testBg;</span><br><span class="line">  <span class="attribute">composes</span>: div;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æŠŠ <code>colors.css</code> çš„å˜é‡æ‹¿è¿‡æ¥ç”¨äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/CSSModules.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¦‚ä½•ä½¿ç”¨ markdown è¯­æ³•å†™åšå®¢</title>
      <link>https://h.lishaoy.net/markdownGrammar.html</link>
      <guid>https://h.lishaoy.net/markdownGrammar.html</guid>
      <pubDate>Fri, 06 Apr 2018 23:25:19 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/markdownGrammar/markdown.png&quot; class=&quot;full-image&quot; alt=&quot;markdown&quot; title=&quot;markdown&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å¹³æ—¶æˆ‘å†™æ—¥è®°ã€æ–‡æ¡£å’Œåšå®¢éƒ½ä¼šç”¨åˆ° &lt;code&gt;markdown&lt;/code&gt; è¯­æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯ &lt;code&gt;é©¬å…‹é£è±¡&lt;/code&gt; å…ˆåœ¨æœ¬åœ°å†™å¥½ï¼Œè€Œä¸”å¯ä»¥å’Œ &lt;code&gt;å°è±¡ç¬”è®°&lt;/code&gt; åŒæ­¥ï¼Œå¦‚æœçŸ¥è¯†ç§¯ç´¯çš„å¤šäº†ï¼Œä¹Ÿä¼šæ€»ç»“ä¸‹ï¼Œåˆ†äº«åˆ°ç¤¾åŒºï¼Œç›´æ¥ &lt;kbd&gt;âŒ˜ -  C&lt;/kbd&gt;  ç„¶å &lt;kbd&gt;âŒ˜ -  V&lt;/kbd&gt;  å°±å¯ä»¥äº†ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚ ğŸ™‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/markdownGrammar/markdown.png" class="full-image" alt="markdown" title="markdown"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å¹³æ—¶æˆ‘å†™æ—¥è®°ã€æ–‡æ¡£å’Œåšå®¢éƒ½ä¼šç”¨åˆ° <code>markdown</code> è¯­æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯ <code>é©¬å…‹é£è±¡</code> å…ˆåœ¨æœ¬åœ°å†™å¥½ï¼Œè€Œä¸”å¯ä»¥å’Œ <code>å°è±¡ç¬”è®°</code> åŒæ­¥ï¼Œå¦‚æœçŸ¥è¯†ç§¯ç´¯çš„å¤šäº†ï¼Œä¹Ÿä¼šæ€»ç»“ä¸‹ï¼Œåˆ†äº«åˆ°ç¤¾åŒºï¼Œç›´æ¥ <kbd>âŒ˜ -  C</kbd>  ç„¶å <kbd>âŒ˜ -  V</kbd>  å°±å¯ä»¥äº†ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚ ğŸ™‚</p><hr><a id="more"></a><h3 id="ä»€ä¹ˆæ˜¯Markdownè¯­æ³•"><a href="#ä»€ä¹ˆæ˜¯Markdownè¯­æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯Markdownè¯­æ³•"></a>ä»€ä¹ˆæ˜¯Markdownè¯­æ³•</h3><p><code>Markdown</code> æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œç›®æ ‡æ˜¯å®ç°ã€Œæ˜“è¯»æ˜“å†™ã€ã€‚</p><blockquote><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæ ¼å¼ä¸°å¯Œçš„HTMLé¡µé¢ã€‚    â€”â€” <a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p></blockquote><hr><h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h3><p><strong>åœ¨ <code>Markdown</code> ä¸­ï¼Œä½ åªéœ€è¦åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Š <code>#</code> å³å¯ï¼ŒåŒç†ã€ä½ è¿˜å¯ä»¥å¢åŠ äºŒçº§æ ‡é¢˜ã€ä¸‰çº§æ ‡é¢˜ã€å››çº§æ ‡é¢˜ã€äº”çº§æ ‡é¢˜å’Œå…­çº§æ ‡é¢˜ï¼Œæ€»å…±å…­çº§ï¼Œåªéœ€è¦å¢åŠ  <code>#</code> å³å¯ï¼Œæ ‡é¢˜å­—å·ç›¸åº”é™ä½ã€‚ä¾‹å¦‚ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ ï¼š</p><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><hr><h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p><strong><code>Markdown</code> æ ‡è®°åŒºå—å¼•ç”¨æ˜¯ä½¿ç”¨ç±»ä¼¼ email ä¸­ç”¨çš„å¼•ç”¨æ–¹å¼ï¼Œåªéœ€è¦åœ¨æ•´ä¸ªæ®µè½çš„ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Š &gt; ã€‚</strong>ä¾‹å¦‚ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨ç¤ºä¾‹</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨ç¤ºä¾‹</p></blockquote><p><strong>åŒºå—å¼•ç”¨å¯ä»¥åµŒå¥—ï¼Œåªè¦æ ¹æ®å±‚æ¬¡åŠ ä¸Šä¸åŒæ•°é‡çš„ &gt; ï¼š</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; è¿™æ˜¯ç¬¬ä¸€çº§å¼•ç”¨ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; &gt; è¿™æ˜¯ç¬¬äºŒçº§å¼•ç”¨ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; ç°åœ¨å›åˆ°ç¬¬ä¸€çº§å¼•ç”¨ã€‚</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>è¿™æ˜¯ç¬¬ä¸€çº§å¼•ç”¨ã€‚</p><blockquote><p>è¿™æ˜¯ç¬¬äºŒçº§å¼•ç”¨ã€‚</p></blockquote><p>ç°åœ¨å›åˆ°ç¬¬ä¸€çº§å¼•ç”¨ã€‚</p></blockquote><hr><h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><p><strong>Markdown æ”¯æŒæœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨ã€‚</strong></p><ol><li>æ— åºåˆ—è¡¨ä½¿ç”¨æ˜Ÿå·ã€åŠ å·æˆ–æ˜¯å‡å·ä½œä¸ºåˆ—è¡¨æ ‡è®°ï¼š</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*   Red</span><br><span class="line">*   Green</span><br><span class="line">*   Blue</span><br></pre></td></tr></table></figure><p>ç­‰åŒäº<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+   Red</span><br><span class="line">+   Green</span><br><span class="line">+   Blue</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿç­‰åŒäº<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-   Red</span><br><span class="line">-   Green</span><br><span class="line">-   Blue</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li>Red</li><li>Green</li><li>Blue</li></ul><hr><ol start="2"><li>æœ‰åºåˆ—è¡¨åˆ™ä½¿ç”¨æ•°å­—æ¥ç€ä¸€ä¸ªè‹±æ–‡å¥ç‚¹ï¼š</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.  Bird</span><br><span class="line"><span class="number">2</span>.  McHale</span><br><span class="line"><span class="number">3</span>.  Parish</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ol><li>Bird</li><li>McHale</li><li>Parish</li></ol><p>å¦‚æœä½ çš„åˆ—è¡¨æ ‡è®°å†™æˆï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.  Bird</span><br><span class="line"><span class="number">1</span>.  McHale</span><br><span class="line"><span class="number">1</span>.  Parish</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœæ˜¯ï¼š</p><ol><li>Bird</li><li>McHale</li><li>Parish</li></ol><p>ç”šè‡³æ˜¯ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>. Bird</span><br><span class="line"><span class="number">1</span>. McHale</span><br><span class="line"><span class="number">8</span>. Parish</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœæ˜¯ï¼š</p><ol start="3"><li>Bird</li><li>McHale</li><li>Parish</li></ol><p>å¯ä»¥çœ‹åˆ°ï¼Œæ•°å­—è¿˜æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥ï¼Œä½ å¯ä»¥è®© <code>Markdown</code> æ–‡ä»¶çš„åˆ—è¡¨æ•°å­—å’Œè¾“å‡ºçš„ç»“æœç›¸åŒï¼Œæˆ–æ˜¯ä½ æ‡’ä¸€ç‚¹ï¼Œä½ å¯ä»¥å®Œå…¨ä¸ç”¨åœ¨æ„æ•°å­—çš„æ­£ç¡®æ€§ã€‚</p><p>å¦‚æœè¦åœ¨åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›å¼•ç”¨ï¼Œé‚£ &gt; å°±éœ€è¦ç¼©è¿›ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*   A <span class="keyword">list</span> item with <span class="keyword">a</span> blockquote:</span><br><span class="line"></span><br><span class="line">    &gt; This <span class="keyword">is</span> <span class="keyword">a</span> blockquote</span><br><span class="line">    &gt; inside <span class="keyword">a</span> <span class="keyword">list</span> item.</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li><p>A list item with a blockquote:</p><blockquote><p>This is a blockquoteinside a list item.</p></blockquote></li></ul><hr><h3 id="ä»£ç åŒºå—"><a href="#ä»£ç åŒºå—" class="headerlink" title="ä»£ç åŒºå—"></a>ä»£ç åŒºå—</h3><p>åªè¦æŠŠä½ çš„ä»£ç å—åŒ…è£¹åœ¨  <code>```</code>  ä¹‹é—´ï¼Œä½ å°±ä¸éœ€è¦é€šè¿‡æ— ä¼‘æ­¢çš„ç¼©è¿›æ¥æ ‡è®°ä»£ç å—äº†ã€‚ åœ¨å›´æ å¼ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯é€‰çš„è¯­è¨€æ ‡è¯†ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸ºå®ƒå¯ç”¨è¯­æ³•ç€è‰²äº†ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œè¿™æ ·å¯ä»¥ä¸ºä¸€æ®µ <code>Ruby</code> ä»£ç ç€è‰²ï¼š</p><p><code>```ruby <br>require â€˜redcarpetâ€™ <br>markdown = Redcarpet.new(â€œHello World!â€) <br>puts markdown.to_html <br>```</code></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'redcarpet'</span></span><br><span class="line">markdown = Redcarpet.new(<span class="string">"Hello World!"</span>)</span><br><span class="line">puts markdown.to_html</span><br></pre></td></tr></table></figure><hr><h3 id="å¼ºè°ƒ"><a href="#å¼ºè°ƒ" class="headerlink" title="å¼ºè°ƒ"></a>å¼ºè°ƒ</h3><p>åœ¨ <code>Markdown</code> ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ * å’Œ _ æ¥è¡¨ç¤ºæ–œä½“å’ŒåŠ ç²—ã€‚</p><p>æ–œä½“ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*Codingï¼Œè®©å¼€å‘æ›´ç®€å•*</span><br><span class="line">_Codingï¼Œè®©å¼€å‘æ›´ç®€å•_</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><em>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</em> <br><em>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</em></p><p>åŠ ç²—ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**Codingï¼Œè®©å¼€å‘æ›´ç®€å•**</span><br><span class="line">__Codingï¼Œè®©å¼€å‘æ›´ç®€å•__</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><strong>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</strong> <br><strong>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</strong></p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>å¦‚æœè¦æ ‡è®°ä¸€å°æ®µè¡Œå†…ä»£ç ï¼Œä½ å¯ä»¥ç”¨åå¼•å·æŠŠå®ƒåŒ…èµ·æ¥ <code>```</code> ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Use the `<span class="built_in">printf</span>()` <span class="function"><span class="keyword">function</span>.</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>Use the <code>printf()</code> function.</p><hr><h3 id="è‡ªåŠ¨é“¾æ¥"><a href="#è‡ªåŠ¨é“¾æ¥" class="headerlink" title="è‡ªåŠ¨é“¾æ¥"></a>è‡ªåŠ¨é“¾æ¥</h3><p><code>Markdown</code> æ”¯æŒä»¥æ¯”è¾ƒç®€çŸ­çš„è‡ªåŠ¨é“¾æ¥å½¢å¼æ¥å¤„ç†ç½‘å€å’Œç”µå­é‚®ä»¶ä¿¡ç®±ï¼Œåªè¦æ˜¯ç”¨å°–æ‹¬å·åŒ…èµ·æ¥ï¼Œ<code>Markdown</code> å°±ä¼šè‡ªåŠ¨æŠŠå®ƒè½¬æˆé“¾æ¥ã€‚ä¸€èˆ¬ç½‘å€çš„é“¾æ¥æ–‡å­—å°±å’Œé“¾æ¥åœ°å€ä¸€æ ·ï¼Œä¾‹å¦‚ï¼š<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;http://example.com/&gt;</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><a href="http://example.com/" target="_blank" rel="noopener">http://example.com/</a></p><h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p><code>Markdown</code> æ”¯æŒä¸¤ç§å½¢å¼çš„é“¾æ¥è¯­æ³•ï¼š <em>è¡Œå†…å¼</em> å’Œ <em>å‚è€ƒå¼</em> ä¸¤ç§å½¢å¼ã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç”¨ <em>å‚è€ƒå¼</em> ã€‚</p><p>ä¸ç®¡æ˜¯å“ªä¸€ç§ï¼Œé“¾æ¥æ–‡å­—éƒ½æ˜¯ç”¨ [æ–¹æ‹¬å·] æ¥æ ‡è®°ã€‚</p><ol><li><em>è¡Œå†…å¼</em> çš„é“¾æ¥ï¼Œåªè¦åœ¨æ–¹å—æ‹¬å·åé¢ç´§æ¥ç€åœ†æ‹¬å·å¹¶æ’å…¥ç½‘å€é“¾æ¥å³å¯ï¼Œå¦‚æœä½ è¿˜æƒ³è¦åŠ ä¸Šé“¾æ¥çš„ <code>title</code> æ–‡å­—ï¼Œåªè¦åœ¨ç½‘å€åé¢ï¼Œç”¨åŒå¼•å·æŠŠ <code>title</code> æ–‡å­—åŒ…èµ·æ¥å³å¯ï¼Œä¾‹å¦‚ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This is [an example](http://example.com/ &quot;Title&quot;) inline link.</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>This is <a href="http://example.com/" title="Title" target="_blank" rel="noopener">an example</a> inline link.</p><hr><h3 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h3><p><code>Markdown</code> ä½¿ç”¨ä¸€ç§å’Œé“¾æ¥å¾ˆç›¸ä¼¼çš„è¯­æ³•æ¥æ ‡è®°å›¾ç‰‡ï¼ŒåŒæ ·ä¹Ÿå…è®¸ä¸¤ç§æ ·å¼ï¼š <em>è¡Œå†…å¼</em> å’Œ <em>å‚è€ƒå¼</em> ã€‚</p><ol><li>è¡Œå†…å¼çš„å›¾ç‰‡è¯­æ³•çœ‹èµ·æ¥åƒæ˜¯ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![Alt text](/path/to/img.jpg)</span><br><span class="line"></span><br><span class="line">![Alt text](/path/to/img.jpg &quot;Optional title&quot;)</span><br></pre></td></tr></table></figure><p>è¯¦ç»†å™è¿°å¦‚ä¸‹ï¼š</p><ul><li>ä¸€ä¸ªæƒŠå¹å· <code>!</code></li><li>æ¥ç€ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„æ›¿ä»£æ–‡å­—</li><li>æ¥ç€ä¸€ä¸ªæ™®é€šæ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„ç½‘å€ï¼Œæœ€åè¿˜å¯ä»¥ç”¨å¼•å·åŒ…ä½å¹¶åŠ ä¸Š é€‰æ‹©æ€§çš„ <code>title</code> æ–‡å­—ã€‚</li></ul><hr><ol start="2"><li>å‚è€ƒå¼çš„å›¾ç‰‡è¯­æ³•åˆ™é•¿å¾—åƒè¿™æ ·ï¼š</li></ol><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="meta">[</span>Alt text<span class="meta">]</span><span class="meta">[</span>id<span class="meta">]</span></span><br></pre></td></tr></table></figure><p><code>id</code> æ˜¯å›¾ç‰‡å‚è€ƒçš„åç§°ï¼Œå›¾ç‰‡å‚è€ƒçš„å®šä¹‰æ–¹å¼åˆ™å’Œè¿ç»“å‚è€ƒä¸€æ ·ï¼š<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[</span>id<span class="meta">]</span>: url/to/image  "Optional title attribute"</span><br></pre></td></tr></table></figure></p><p><code>Markdown</code> è¿˜æ²¡æœ‰åŠæ³•æŒ‡å®šå›¾ç‰‡çš„å®½é«˜ï¼Œå¦‚æœä½ éœ€è¦çš„è¯ï¼Œä½ å¯ä»¥ä½¿ç”¨æ™®é€šçš„ <code>&lt;img&gt;</code>  æ ‡ç­¾ã€‚</p><hr><h3 id="LaTeX-å…¬å¼"><a href="#LaTeX-å…¬å¼" class="headerlink" title="LaTeX å…¬å¼"></a>LaTeX å…¬å¼</h3><p>å¯ä»¥åˆ›å»ºè¡Œå†…å…¬å¼ï¼Œä¾‹å¦‚ :<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>$\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$</p><p>æˆ–è€…å—çº§å…¬å¼ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$x = \dfrac&#123;-b \pm \sqrt&#123;b^2 - 4ac&#125;&#125;&#123;2a&#125; $$</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>$$ x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} $$</p><hr><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| Item      |    Value | Qty  |</span><br><span class="line">| :-------- | --------:| :--: |</span><br><span class="line">| Computer  | <span class="number">1600</span> USD |  <span class="number">5</span>   |</span><br><span class="line">| Phone     |   <span class="number">12</span> USD |  <span class="number">12</span>  |</span><br><span class="line">| Pipe      |    <span class="number">1</span> USD | <span class="number">234</span>  |</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:left">Item</th><th style="text-align:right">Value</th><th style="text-align:center">Qty</th></tr></thead><tbody><tr><td style="text-align:left">Computer</td><td style="text-align:right">1600 USD</td><td style="text-align:center">5</td></tr><tr><td style="text-align:left">Phone</td><td style="text-align:right">12 USD</td><td style="text-align:center">12</td></tr><tr><td style="text-align:left">Pipe</td><td style="text-align:right">1 USD</td><td style="text-align:center">234</td></tr></tbody></table><hr><h3 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h3><p><code>```flow <br>st=&gt;start: Start <br>e=&gt;end <br>op=&gt;operation: My Operation <br>cond=&gt;condition: Yes or No? <br><br>st-&gt;op-&gt;cond <br>cond(yes)-&gt;e <br>cond(no)-&gt;op <br>```</code></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><div id="flowchart-0" class="flow-chart"></div><p>ä»¥åŠæ—¶åºå›¾:</p><p><code>```sequence <br>Alice-&gt;Bob: Hello Bob, how are you? <br>Note right of Bob: Bob thinks <br>Bobâ€“&gt;Alice: I am good thanks! <br>```</code></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><div id="sequence-0"></div><h3 id="å¤é€‰æ¡†"><a href="#å¤é€‰æ¡†" class="headerlink" title="å¤é€‰æ¡†"></a>å¤é€‰æ¡†</h3><p>ä½¿ç”¨ <code>- [ ]</code> å’Œ <code>- [x]</code> è¯­æ³•å¯ä»¥åˆ›å»ºå¤é€‰æ¡†ï¼Œå®ç° todo-list ç­‰åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="meta">[</span>x<span class="meta">]</span> å·²å®Œæˆäº‹é¡¹</span><br><span class="line">- <span class="meta">[</span> <span class="meta">]</span> å¾…åŠäº‹é¡¹1</span><br><span class="line">- <span class="meta">[</span> <span class="meta">]</span> å¾…åŠäº‹é¡¹2</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li style="list-style: none"><input type="checkbox" checked> å·²å®Œæˆäº‹é¡¹</li><li style="list-style: none"><input type="checkbox"> å¾…åŠäº‹é¡¹1</li><li style="list-style: none"><input type="checkbox"> å¾…åŠäº‹é¡¹2</li></ul><hr><h3 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h3><p>åœ¨ <code>Markdown</code> ä¸­ï¼Œå¯ä»¥åˆ¶ä½œåˆ†å‰²çº¿ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">---</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><hr><h3 id="åæ–œæ "><a href="#åæ–œæ " class="headerlink" title="åæ–œæ "></a>åæ–œæ </h3><p><code>Markdown</code> å¯ä»¥åˆ©ç”¨åæ–œæ æ¥æ’å…¥ä¸€äº›åœ¨è¯­æ³•ä¸­æœ‰å…¶å®ƒæ„ä¹‰çš„ç¬¦å·ï¼Œä¾‹å¦‚ï¼šå¦‚æœä½ æƒ³è¦ç”¨æ˜Ÿå·åŠ åœ¨æ–‡å­—æ—è¾¹çš„æ–¹å¼æ¥åšå‡ºå¼ºè°ƒæ•ˆæœï¼ˆä½†ä¸ç”¨ <code>&lt;em&gt;</code> æ ‡ç­¾ï¼‰ï¼Œä½ å¯ä»¥åœ¨æ˜Ÿå·çš„å‰é¢åŠ ä¸Šåæ–œæ ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\*literal asterisks\*</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>*literal asterisks*</p><p><code>Markdown</code> æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   åæ–œçº¿</span><br><span class="line">`   åå¼•å·</span><br><span class="line">*   æ˜Ÿå·</span><br><span class="line">_   åº•çº¿</span><br><span class="line">&#123;&#125;  èŠ±æ‹¬å·</span><br><span class="line">[]  æ–¹æ‹¬å·</span><br><span class="line">()  æ‹¬å¼§</span><br><span class="line">#   äº•å­—å·</span><br><span class="line">+   åŠ å·</span><br><span class="line">-   å‡å·</span><br><span class="line">.   è‹±æ–‡å¥ç‚¹</span><br><span class="line">!   æƒŠå¹å·</span><br></pre></td></tr></table></figure><p><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Starte=>endop=>operation: My Operationcond=>condition: Yes or No?st->op->condcond(yes)->econd(no)->op</textarea><textarea id="flowchart-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">Alice->Bob: Hello Bob, how are you?Note right of Bob: Bob thinksBob-->Alice: I am good thanks!</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/markdownGrammar.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>è¢«é—å¿˜çš„CSS</title>
      <link>https://h.lishaoy.net/upsetCssSummary.html</link>
      <guid>https://h.lishaoy.net/upsetCssSummary.html</guid>
      <pubDate>Fri, 06 Apr 2018 22:45:52 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/upsetCssSummary/css.png&quot; class=&quot;full-image&quot; alt=&quot;css&quot; title=&quot;css&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å¹³æ—¶åœ¨å·¥ä½œä¸­é‡åˆ°ä¸€äº›æ¯”è¾ƒåé—¨çš„ &lt;code&gt;css&lt;/code&gt; ï¼Œç”¨è¿‡ä¸€ä¸¤æ¬¡ï¼Œä½†æ˜¯è€æ˜¯è®°ä¸ä½ï¼Œäºæ˜¯åˆéœ€è¦å» &lt;strong&gt;baiduã€ google&lt;/strong&gt; ï¼Œæ‰€ä»¥éƒ½ç§¯ç´¯èµ·æ¥ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼ˆæŒç»­æ›´æ–°â€¦ï¼‰ ğŸ˜€&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/upsetCssSummary/css.png" class="full-image" alt="css" title="css"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å¹³æ—¶åœ¨å·¥ä½œä¸­é‡åˆ°ä¸€äº›æ¯”è¾ƒåé—¨çš„ <code>css</code> ï¼Œç”¨è¿‡ä¸€ä¸¤æ¬¡ï¼Œä½†æ˜¯è€æ˜¯è®°ä¸ä½ï¼Œäºæ˜¯åˆéœ€è¦å» <strong>baiduã€ google</strong> ï¼Œæ‰€ä»¥éƒ½ç§¯ç´¯èµ·æ¥ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼ˆæŒç»­æ›´æ–°â€¦ï¼‰ ğŸ˜€</p><hr><a id="more"></a><h4 id="outline-å½“inputé€‰ä¸­çš„æ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªè¾¹æ¡†"><a href="#outline-å½“inputé€‰ä¸­çš„æ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªè¾¹æ¡†" class="headerlink" title="outline  å½“inputé€‰ä¸­çš„æ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªè¾¹æ¡†"></a><code>outline</code>  <strong>å½“inputé€‰ä¸­çš„æ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªè¾¹æ¡†</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸€èˆ¬è®¾ç½®æˆ none*/</span></span><br><span class="line"><span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span>, <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span>&#123;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="contenteditable-è§„å®šå…ƒç´ å†…å®¹æ˜¯å¦å¯ç¼–è¾‘"><a href="#contenteditable-è§„å®šå…ƒç´ å†…å®¹æ˜¯å¦å¯ç¼–è¾‘" class="headerlink" title="contenteditable è§„å®šå…ƒç´ å†…å®¹æ˜¯å¦å¯ç¼–è¾‘"></a><code>contenteditable</code> <strong>è§„å®šå…ƒç´ å†…å®¹æ˜¯å¦å¯ç¼–è¾‘</strong></h4><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example-one"</span> <span class="attr">contenteditable</span>=<span class="string">"true"</span>&gt;</span></span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#example-one</span> &#123; </span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[contenteditable="true"]</span> &#123; </span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>; <span class="attribute">outline</span>: <span class="number">2px</span> dashed <span class="number">#CCC</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[contenteditable="true"]</span><span class="selector-pseudo">:hover</span> &#123; </span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">2px</span> dashed <span class="number">#0090D2</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="webkit-playsinline-video-éƒ½å¯ä»¥åœ¨é¡µé¢ä¸­æ’­æ”¾ï¼Œè€Œä¸æ˜¯å…¨å±æ’­æ”¾"><a href="#webkit-playsinline-video-éƒ½å¯ä»¥åœ¨é¡µé¢ä¸­æ’­æ”¾ï¼Œè€Œä¸æ˜¯å…¨å±æ’­æ”¾" class="headerlink" title="webkit-playsinline video éƒ½å¯ä»¥åœ¨é¡µé¢ä¸­æ’­æ”¾ï¼Œè€Œä¸æ˜¯å…¨å±æ’­æ”¾"></a><code>webkit-playsinline</code> <strong>video éƒ½å¯ä»¥åœ¨é¡µé¢ä¸­æ’­æ”¾ï¼Œè€Œä¸æ˜¯å…¨å±æ’­æ”¾</strong></h4><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"myvideo"</span> <span class="attr">src</span>=<span class="string">"test.mp4"</span> <span class="attr">webkit-playsinline</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="clearfix-æ¸…é™¤æµ®åŠ¨"><a href="#clearfix-æ¸…é™¤æµ®åŠ¨" class="headerlink" title="clearfix æ¸…é™¤æµ®åŠ¨"></a><code>clearfix</code> <strong>æ¸…é™¤æµ®åŠ¨</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    <span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">     <span class="attribute">visibility</span>: hidden;</span><br><span class="line">     <span class="attribute">display</span>: block;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">     <span class="attribute">clear</span>: both;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="user-select-ç¦æ­¢é€‰ä¸­æ–‡æœ¬"><a href="#user-select-ç¦æ­¢é€‰ä¸­æ–‡æœ¬" class="headerlink" title="user-select ç¦æ­¢é€‰ä¸­æ–‡æœ¬"></a><code>user-select</code> <strong>ç¦æ­¢é€‰ä¸­æ–‡æœ¬</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none; <span class="comment">/* Chrome, Opera, Safari */</span></span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none; <span class="comment">/* Firefox 2+ */</span></span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none; <span class="comment">/* IE 10+ */</span></span><br><span class="line">    <span class="attribute">user-select</span>: none; <span class="comment">/* Standard syntax */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="webkit-scrollbar-è‡ªå®šä¹‰æµè§ˆå™¨æ»šåŠ¨æ¡"><a href="#webkit-scrollbar-è‡ªå®šä¹‰æµè§ˆå™¨æ»šåŠ¨æ¡" class="headerlink" title="webkit-scrollbar è‡ªå®šä¹‰æµè§ˆå™¨æ»šåŠ¨æ¡"></a><code>webkit-scrollbar</code> <strong>è‡ªå®šä¹‰æµè§ˆå™¨æ»šåŠ¨æ¡</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å®šä¹‰æ»šåŠ¨æ¡å®½é«˜åŠèƒŒæ™¯ï¼Œå®½é«˜åˆ†åˆ«å¯¹åº”æ¨ªç«–æ»šåŠ¨æ¡çš„å°ºå¯¸*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(245, 245, 245, 0.47);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å®šä¹‰æ»šåŠ¨æ¡çš„è½¨é“ï¼Œå†…é˜´å½±åŠåœ†è§’*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, .3);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å®šä¹‰æ»‘å—ï¼Œå†…é˜´å½±åŠåœ†è§’*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="comment">/*width: 10px;*/</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, .3);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(85, 85, 85, 0.25);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="webkit-appearance-å»é™¤é»˜è®¤æ ·å¼"><a href="#webkit-appearance-å»é™¤é»˜è®¤æ ·å¼" class="headerlink" title="webkit-appearance å»é™¤é»˜è®¤æ ·å¼"></a><code>webkit-appearance</code> <strong>å»é™¤é»˜è®¤æ ·å¼</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>, <span class="selector-tag">button</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">select</span> &#123;</span><br><span class="line">    *font-size: 100%;</span><br><span class="line">    <span class="selector-tag">-webkit-appearance</span><span class="selector-pseudo">:none</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨CSS-transforms-æˆ–è€…-animationsæ—¶å¯èƒ½ä¼šæœ‰é¡µé¢é—ªçƒçš„bug"><a href="#ä½¿ç”¨CSS-transforms-æˆ–è€…-animationsæ—¶å¯èƒ½ä¼šæœ‰é¡µé¢é—ªçƒçš„bug" class="headerlink" title="ä½¿ç”¨CSS transforms æˆ–è€… animationsæ—¶å¯èƒ½ä¼šæœ‰é¡µé¢é—ªçƒçš„bug"></a><strong>ä½¿ç”¨CSS transforms æˆ–è€… animationsæ—¶å¯èƒ½ä¼šæœ‰é¡µé¢é—ªçƒçš„bug</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">elements</span> &#123;</span><br><span class="line">     <span class="attribute">-webkit-backface-visibility</span>: hidden; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="transform-style-preserve-3d-è®©å…ƒç´ æ”¯æŒ3D"><a href="#transform-style-preserve-3d-è®©å…ƒç´ æ”¯æŒ3D" class="headerlink" title="transform-style: preserve-3d è®©å…ƒç´ æ”¯æŒ3D"></a><code>transform-style: preserve-3d</code> <strong>è®©å…ƒç´ æ”¯æŒ3D</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">elements</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateY</span>(60deg); <span class="comment">/* Chrome, Safari, Opera */</span></span><br><span class="line">    <span class="attribute">-webkit-transform-style</span>: preserve-<span class="number">3</span>d; <span class="comment">/* Chrome, Safari, Opera */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(60deg);</span><br><span class="line">    <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="perspective-è¿™ä¸ªå±æ€§å®šä¹‰å­å…ƒç´ ä¼šè·å¾—é€è§†æ•ˆæœï¼Œè€Œä¸æ˜¯å…ƒç´ æœ¬èº«"><a href="#perspective-è¿™ä¸ªå±æ€§å®šä¹‰å­å…ƒç´ ä¼šè·å¾—é€è§†æ•ˆæœï¼Œè€Œä¸æ˜¯å…ƒç´ æœ¬èº«" class="headerlink" title="perspective è¿™ä¸ªå±æ€§å®šä¹‰å­å…ƒç´ ä¼šè·å¾—é€è§†æ•ˆæœï¼Œè€Œä¸æ˜¯å…ƒç´ æœ¬èº«"></a><code>perspective</code> <strong>è¿™ä¸ªå±æ€§å®šä¹‰å­å…ƒç´ ä¼šè·å¾—é€è§†æ•ˆæœï¼Œè€Œä¸æ˜¯å…ƒç´ æœ¬èº«</strong></h4><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube pers250"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"face front"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"face back"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"face right"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"face left"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"face top"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"face bottom"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cube</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">backface-visibility</span>: visible;</span><br><span class="line">  <span class="attribute">perspective-origin</span>: <span class="number">150%</span> <span class="number">150%</span>;</span><br><span class="line">  <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">  <span class="attribute">-webkit-backface-visibility</span>: visible;</span><br><span class="line">  <span class="attribute">-webkit-perspective-origin</span>: <span class="number">150%</span> <span class="number">150%</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pers250</span> &#123;</span><br><span class="line">  <span class="attribute">perspective</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">-webkit-perspective</span>: <span class="number">250px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.face</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="csså®ç°ä¸æ¢è¡Œã€è‡ªåŠ¨æ¢è¡Œã€å¼ºåˆ¶æ¢è¡Œ"><a href="#csså®ç°ä¸æ¢è¡Œã€è‡ªåŠ¨æ¢è¡Œã€å¼ºåˆ¶æ¢è¡Œ" class="headerlink" title="csså®ç°ä¸æ¢è¡Œã€è‡ªåŠ¨æ¢è¡Œã€å¼ºåˆ¶æ¢è¡Œ"></a><strong>csså®ç°ä¸æ¢è¡Œã€è‡ªåŠ¨æ¢è¡Œã€å¼ºåˆ¶æ¢è¡Œ</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸æ¢è¡Œ*/</span></span><br><span class="line"><span class="selector-tag">white-space</span><span class="selector-pseudo">:nowrap</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*è‡ªåŠ¨æ¢è¡Œ*/</span></span><br><span class="line"><span class="selector-tag">word-wrap</span>: <span class="selector-tag">break-word</span>; </span><br><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">normal</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">/*å¼ºåˆ¶æ¢è¡Œ*/</span></span><br><span class="line"><span class="selector-tag">word-break</span><span class="selector-pseudo">:break-all</span>;</span><br></pre></td></tr></table></figure><h4 id="font-smoothing-è®¾ç½®å­—ä½“å¹³æ»‘ï¼Œä¼šè®©å­—ä½“çœ‹èµ·æ¥æ¯”è¾ƒèˆ’æœ"><a href="#font-smoothing-è®¾ç½®å­—ä½“å¹³æ»‘ï¼Œä¼šè®©å­—ä½“çœ‹èµ·æ¥æ¯”è¾ƒèˆ’æœ" class="headerlink" title="font-smoothing è®¾ç½®å­—ä½“å¹³æ»‘ï¼Œä¼šè®©å­—ä½“çœ‹èµ·æ¥æ¯”è¾ƒèˆ’æœ"></a><code>font-smoothing</code> <strong>è®¾ç½®å­—ä½“å¹³æ»‘ï¼Œä¼šè®©å­—ä½“çœ‹èµ·æ¥æ¯”è¾ƒèˆ’æœ</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>, <span class="selector-class">.h1</span>, <span class="selector-tag">h2</span>, <span class="selector-class">.h2</span>, <span class="selector-tag">h3</span>, <span class="selector-class">.h3</span>, <span class="selector-tag">h4</span>, <span class="selector-class">.h4</span>, <span class="selector-tag">h5</span>, <span class="selector-class">.h5</span>, <span class="selector-tag">h6</span>, <span class="selector-class">.h6</span>, <span class="selector-tag">p</span>, <span class="selector-class">.navbar</span>, <span class="selector-class">.brand</span>, <span class="selector-tag">a</span>, <span class="selector-class">.td-name</span>, <span class="selector-tag">td</span> &#123;</span><br><span class="line">    <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">    <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span>, <span class="string">"å¾®è½¯é›…é»‘"</span>, <span class="string">'Muli'</span>, <span class="string">"Helvetica"</span>, Arial, sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="selection-ä¿®æ”¹é€‰ä¸­æ–‡æœ¬é¢œè‰²"><a href="#selection-ä¿®æ”¹é€‰ä¸­æ–‡æœ¬é¢œè‰²" class="headerlink" title="::selection ä¿®æ”¹é€‰ä¸­æ–‡æœ¬é¢œè‰²"></a><code>::selection</code> <strong>ä¿®æ”¹é€‰ä¸­æ–‡æœ¬é¢œè‰²</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::selection</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: white;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0.8);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-selection</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: white;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0.8);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-moz-selection</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: white;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0.8);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è®©èƒŒæ™¯å›¾ç‰‡å¤§å°è‡ªé€‚åº”ä¸”å±…ä¸­"><a href="#è®©èƒŒæ™¯å›¾ç‰‡å¤§å°è‡ªé€‚åº”ä¸”å±…ä¸­" class="headerlink" title="è®©èƒŒæ™¯å›¾ç‰‡å¤§å°è‡ªé€‚åº”ä¸”å±…ä¸­"></a>è®©èƒŒæ™¯å›¾ç‰‡å¤§å°è‡ªé€‚åº”ä¸”å±…ä¸­</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-size</span>: <span class="selector-tag">contain</span>;</span><br><span class="line"><span class="selector-tag">background-repeat</span>: <span class="selector-tag">no-repeat</span>;</span><br><span class="line"><span class="selector-tag">background-position</span>: 50% 50%;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/upsetCssSummary.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>PHP ThinkPHP åˆè¯†</title>
      <link>https://h.lishaoy.net/phpThinkPHPBasis.html</link>
      <guid>https://h.lishaoy.net/phpThinkPHPBasis.html</guid>
      <pubDate>Fri, 06 Apr 2018 07:59:52 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/phpThinkPHPBasis/php.png&quot; class=&quot;full-image&quot; alt=&quot;php &amp;&amp; thinkPHP åŸºç¡€&quot; title=&quot;php &amp;&amp; thinkPHP åŸºç¡€&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦å¸¦å¤§å®¶è®¤è¯†ä¸€ä¸‹ &lt;code&gt;PHP&lt;/code&gt; ã€ &lt;code&gt;thinkPHP&lt;/code&gt; ï¼Œéƒ½æ˜¯ä¸€ä¸‹åŸºç¡€ï¼Œå…¶ä¸­åŒ…æ‹¬ &lt;strong&gt;PHPè¯­æ³•ï¼ˆå˜é‡ã€å­—ç¬¦ä¸²ã€æ•°ç»„ã€è¡¨å•ã€æ•°æ®åº“ï¼‰&lt;/strong&gt; ã€&lt;strong&gt;é¢å‘å¯¹è±¡ï¼ˆClassåˆ›å»ºã€å±æ€§ã€ç»§æ‰¿ã€è®¿é—®æ§åˆ¶ã€æŠ½è±¡ã€æ¥å£ç­‰ï¼‰&lt;/strong&gt; ã€ &lt;strong&gt;thinkPHPï¼ˆæ§åˆ¶å™¨ã€è§†å›¾ã€æ¨¡å‹ç­‰ï¼‰&lt;/strong&gt; ğŸ˜&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/phpThinkPHPBasis/php.png" class="full-image" alt="php && thinkPHP åŸºç¡€" title="php && thinkPHP åŸºç¡€"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è¿™ç¯‡æ–‡ç« ä¸»è¦å¸¦å¤§å®¶è®¤è¯†ä¸€ä¸‹ <code>PHP</code> ã€ <code>thinkPHP</code> ï¼Œéƒ½æ˜¯ä¸€ä¸‹åŸºç¡€ï¼Œå…¶ä¸­åŒ…æ‹¬ <strong>PHPè¯­æ³•ï¼ˆå˜é‡ã€å­—ç¬¦ä¸²ã€æ•°ç»„ã€è¡¨å•ã€æ•°æ®åº“ï¼‰</strong> ã€<strong>é¢å‘å¯¹è±¡ï¼ˆClassåˆ›å»ºã€å±æ€§ã€ç»§æ‰¿ã€è®¿é—®æ§åˆ¶ã€æŠ½è±¡ã€æ¥å£ç­‰ï¼‰</strong> ã€ <strong>thinkPHPï¼ˆæ§åˆ¶å™¨ã€è§†å›¾ã€æ¨¡å‹ç­‰ï¼‰</strong> ğŸ˜</p><hr><a id="more"></a><h2 id="PHPåŸºç¡€çŸ¥è¯†"><a href="#PHPåŸºç¡€çŸ¥è¯†" class="headerlink" title="PHPåŸºç¡€çŸ¥è¯†"></a>PHPåŸºç¡€çŸ¥è¯†</h2><p>ä»¥ä¸‹çŸ¥è¯†ç‚¹æ‰€æœ‰å†…å®¹éƒ½æ˜¯æ¥è‡ªå®˜æ–¹æä¾›çš„ <strong>PHP</strong> æ–‡æ¡£ã€Š<a href="http://php.net/manual/zh/index.php" target="_blank" rel="noopener">PHPæ‰‹å†Œ</a>ã€‹ï¼Œæ›´å¤šç»†èŠ‚åŠçŸ¥è¯†ç‚¹å¯ä»¥æŸ¥çœ‹ã€Š<a href="http://php.net/manual/zh/index.php" target="_blank" rel="noopener">PHPæ‰‹å†Œ</a>ã€‹ã€‚</p><p>å¦‚æœä½ å¹³æ—¶ç”¨ <strong>Windows</strong> ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨ <a href="http://wampserver.com" target="_blank" rel="noopener">WAMP</a> æ¥æ­å»ºä¸€ä¸ªæœ¬åœ°çš„å¼€å‘ç¯å¢ƒã€‚å¦‚æœä½ æ˜¯ <strong>OSX</strong> ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://www.mamp.info/en/" target="_blank" rel="noopener">MAMP</a> æ¥æ­å»ºä¸€ä¸ªå¼€å‘ç¯å¢ƒã€‚</p><h3 id="PHPè¯­æ³•"><a href="#PHPè¯­æ³•" class="headerlink" title="PHPè¯­æ³•"></a>PHPè¯­æ³•</h3><h4 id="è®¤è¯†PHP"><a href="#è®¤è¯†PHP" class="headerlink" title="è®¤è¯†PHP"></a>è®¤è¯†PHP</h4><p>PHP ä»£ç è¢«åŒ…å«åœ¨ç‰¹æ®Šçš„èµ·å§‹ç¬¦å’Œç»“æŸç¬¦ <code>&lt;?php</code> å’Œ <code>?&gt;</code> ä¸­ï¼Œä½¿å¾—å¯ä»¥è¿›å‡ºâ€œPHP æ¨¡å¼â€ã€‚å¦‚æœæ–‡ä»¶éƒ½æ˜¯ <strong>PHP</strong> ä»£ç ï¼Œå¯ä»¥çœç•¥ç»“æŸæ ‡è®°ï¼Œä½†æ˜¯å¿…é¡»ä»¥ <code>;</code> ç»“æŸã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;php&lt;/h1&gt;</span><br><span class="line">  &lt;?php</span><br><span class="line">    echo &quot;lishaoying&quot;;</span><br><span class="line">    $name = &apos;æå°‘é¢–&apos;;</span><br><span class="line">    echo &quot;hello: &quot; . $name ;</span><br><span class="line">  ?&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœä¼šè¾“å‡ºï¼š<code>lishaoyinghello: æå°‘é¢–</code>, <strong>PHP</strong> è§£æå™¨ä¼šè§£æå¼€å§‹<code>&lt;?php</code> å’Œç»“æŸæ ‡è®° <code>?&gt;</code> ä¹‹é—´çš„å†…å®¹ã€‚</p><hr><h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><p><strong>PHP</strong> ä¸­çš„å˜é‡ç”¨ä¸€ä¸ªç¾å…ƒç¬¦å·åé¢è·Ÿå˜é‡åæ¥è¡¨ç¤ºã€‚å˜é‡åæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$name = <span class="string">'lishaoy.net'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"hello $name \r\n"</span>;</span><br></pre></td></tr></table></figure></p><p>ç»“æœä¼šè¾“å‡ºï¼š<code>hello lishaoy.net</code>ã€‚</p><hr><h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><p>åœ¨ <strong>PHP</strong> é‡Œé¢å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·<code>&#39; &#39;</code>æˆ–è€…åŒå¼•å·<code>&quot; &quot;</code>ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$email = <span class="string">"persilee@foxmail.com&lt;br /&gt;"</span>;</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸‰ç§è¡¨è¾¾å­—ç¬¦ä¸²çš„æ–¹æ³•æ˜¯ç”¨ <strong>heredoc</strong> å¥æ³•ç»“æ„ï¼š<code>&lt;&lt;&lt;</code>ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$word = &lt;&lt;&lt; WORD</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæµ‹è¯• - $name ã€‚ . &lt;br /&gt;</span><br><span class="line">ä»Šå¤©ï¼Œå¤©æ°”ä¸é”™ï¼Œæˆ‘ä»¬å‡ºå»ç©å§ï¼ . &lt;br /&gt;</span><br><span class="line">WORD;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $word;</span><br></pre></td></tr></table></figure><p>ç»“æœä¼šè¾“å‡ºï¼š <code>è¿™æ˜¯ä¸€ä¸ªæµ‹è¯• - lishaoy.net ã€‚</code></p><hr><h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><p>å¯ä»¥ç”¨ <code>array()</code> è¯­è¨€ç»“æ„æ¥æ–°å»ºä¸€ä¸ªæ•°ç»„ã€‚å®ƒæ¥å—ä»»æ„æ•°é‡ç”¨é€—å·åˆ†éš”çš„ é”®ï¼ˆ<strong>key</strong>ï¼‰ <code>=&gt;</code> å€¼ï¼ˆ<strong>value</strong>ï¼‰å¯¹ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$tracks = <span class="keyword">array</span>(</span><br><span class="line">  <span class="number">0</span> =&gt; <span class="string">'é•¿åŸ'</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> var_dump(</span><br><span class="line">  $tracks[<span class="number">0</span>]</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>ç»“æœä¼šè¾“å‡ºï¼š <code>string(6) &quot;é•¿åŸ&quot;</code>ã€‚</p><hr><h4 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h4><p><code>$_GET</code>ï¼Œè¿˜æœ‰ <code>$_POST</code>ï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿é‡Œé¢ä¼šå­˜å‚¨ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æäº¤çš„è¡¨å•çš„å†…å®¹ï¼Œ<code>$_GET</code> é‡Œé¢å­˜å‚¨çš„æ˜¯ç”¨ <strong>GET</strong> æ–¹æ³•æäº¤çš„è¡¨å•å†…å®¹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">action</span>=<span class="string">"process.php"</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user_name"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">placeholder</span>=<span class="string">"ç”¨æˆ·å"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">placeholder</span>=<span class="string">"Email"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>æ äº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>process.php</strong>æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line">  var_dump(</span><br><span class="line">    $_GET[<span class="string">'user_name'</span>]</span><br><span class="line">  );</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/pre&gt;'</span>;</span><br></pre></td></tr></table></figure><p>ç‚¹æäº¤ä¹‹åä¼šæŠŠæ–‡æœ¬æ¡†çš„å†…å®¹ä¼ é€’åˆ°<strong>process.php</strong>æ–‡ä»¶å¤„ç†ï¼Œè¿™é‡Œä¼šè¾“å‡ºæ–‡æœ¬æ¡†çš„è¾“å…¥å†…å®¹ã€‚</p><hr><h4 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h4><p><strong>PDO</strong> ç±»ï¼Œä»£è¡¨ <strong>PHP</strong> å’Œæ•°æ®åº“æœåŠ¡ä¹‹é—´çš„ä¸€ä¸ªè¿æ¥ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$db_handle = <span class="keyword">new</span> PDO(<span class="string">'mysql:host=127.0.0.1;dbname=msg;port=8889;charset=utf8'</span>,<span class="string">'msg_test'</span>,<span class="string">'123'</span>);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªå’Œæ•°æ®åº“çš„è¿æ¥ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  $db_handle = <span class="keyword">new</span> PDO(<span class="string">'mysql:host=127.0.0.1;dbname=msg;port=8889;charset=utf8'</span>,<span class="string">'msg_test'</span>,<span class="string">'123'</span>);</span><br><span class="line"></span><br><span class="line">$statement = $db_handle-&gt;prepare(</span><br><span class="line">  <span class="string">'insert into posts(title, content) values (:title, :content)'</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$title = <span class="string">'Wall-e'</span>;</span><br><span class="line">$content = <span class="string">'wall-eå·²ç»åœ¨åœ°çƒä¸Šå­¤ç‹¬ç”Ÿæ´»äº†å‡ ç™¾å¹´ï¼Œä»–çˆ±ä¸Šäº†ã€‚ã€‚ã€‚'</span>;</span><br><span class="line"></span><br><span class="line">$statement-&gt;bindParam(<span class="string">':title'</span>, $title);</span><br><span class="line">$statement-&gt;bindParam(<span class="string">':content'</span>, $content);</span><br><span class="line"></span><br><span class="line">$statement-&gt;execute();</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">  <span class="keyword">echo</span> $e-&gt;getMessage();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å‘æ•°æ®åº“çš„<strong>posts</strong>è¡¨æ’å…¥ä¸€æ¡æ•°æ®ã€‚</p><hr><h3 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h3><h4 id="åˆ›å»ºClass"><a href="#åˆ›å»ºClass" class="headerlink" title="åˆ›å»ºClass"></a>åˆ›å»ºClass</h4><p>æ¯ä¸ªç±»çš„å®šä¹‰éƒ½ä»¥å…³é”®å­— <code>class</code> å¼€å¤´ï¼Œåé¢è·Ÿç€ç±»åï¼Œåé¢è·Ÿç€ä¸€å¯¹èŠ±æ‹¬å·ï¼Œé‡Œé¢åŒ…å«æœ‰ç±»çš„å±æ€§ä¸æ–¹æ³•çš„å®šä¹‰ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Track</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="å¢åŠ å±æ€§"><a href="#å¢åŠ å±æ€§" class="headerlink" title="å¢åŠ å±æ€§"></a>å¢åŠ å±æ€§</h4><p>ç±»çš„å˜é‡æˆå‘˜å«åšâ€œ<strong>å±æ€§</strong>â€ï¼Œæˆ–è€…å«â€œ<strong>å­—æ®µ</strong>â€ã€â€œ<strong>ç‰¹å¾</strong>â€ï¼Œåœ¨æœ¬æ–‡æ¡£ç»Ÿä¸€ç§°ä¸ºâ€œ<strong>å±æ€§</strong>â€ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Track</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $track_name;</span><br><span class="line">    <span class="keyword">public</span> $track_artist;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p><strong>ç»§æ‰¿</strong> å°†ä¼šå½±å“åˆ°ç±»ä¸ç±»ï¼Œå¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚</p><p>æ¯”å¦‚ï¼Œå½“æ‰©å±•ä¸€ä¸ªç±»ï¼Œå­ç±»å°±ä¼š<strong>ç»§æ‰¿</strong>çˆ¶ç±»æ‰€æœ‰å…¬æœ‰çš„å’Œå—ä¿æŠ¤çš„æ–¹æ³•ã€‚é™¤éå­ç±»è¦†ç›–äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¢«<strong>ç»§æ‰¿</strong>çš„æ–¹æ³•éƒ½ä¼šä¿ç•™å…¶åŸæœ‰åŠŸèƒ½ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> <span class="keyword">extends</span> <span class="title">Track</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h4><p>å¯¹å±æ€§æˆ–æ–¹æ³•çš„è®¿é—®æ§åˆ¶ï¼Œæ˜¯é€šè¿‡åœ¨å‰é¢æ·»åŠ å…³é”®å­— <code>public</code>ï¼ˆå…¬æœ‰ï¼‰ï¼Œ<code>protected</code>ï¼ˆå—ä¿æŠ¤ï¼‰æˆ– <code>private</code>ï¼ˆç§æœ‰ï¼‰æ¥å®ç°çš„ã€‚è¢«å®šä¹‰ä¸ºå…¬æœ‰çš„ç±»æˆå‘˜å¯ä»¥ <strong>åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®</strong>ã€‚è¢«å®šä¹‰ä¸ºå—ä¿æŠ¤çš„ç±»æˆå‘˜åˆ™å¯ä»¥ <strong>è¢«å…¶è‡ªèº«ä»¥åŠå…¶å­ç±»å’Œçˆ¶ç±»è®¿é—®</strong>ã€‚è¢«å®šä¹‰ä¸ºç§æœ‰çš„ç±»æˆå‘˜åˆ™ <strong>åªèƒ½è¢«å…¶å®šä¹‰æ‰€åœ¨çš„ç±»è®¿é—®</strong>ã€‚</p><hr><h4 id="é™æ€å±æ€§ä¸æ–¹æ³•"><a href="#é™æ€å±æ€§ä¸æ–¹æ³•" class="headerlink" title="é™æ€å±æ€§ä¸æ–¹æ³•"></a>é™æ€å±æ€§ä¸æ–¹æ³•</h4><p>å£°æ˜ç±»å±æ€§æˆ–æ–¹æ³•ä¸º<strong>é™æ€</strong>( <code>static</code> )ï¼Œå°±å¯ä»¥ä¸å®ä¾‹åŒ–ç±»è€Œç›´æ¥è®¿é—®ã€‚é™æ€å±æ€§ä¸èƒ½é€šè¿‡ä¸€ä¸ªç±»å·²å®ä¾‹åŒ–çš„å¯¹è±¡æ¥è®¿é—®ï¼ˆä½†é™æ€æ–¹æ³•å¯ä»¥ï¼‰ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Track</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $track_name = <span class="string">'Magic'</span>;</span><br><span class="line">    <span class="keyword">public</span> $track_artist;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">track_playing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'æ­£åœ¨æ’­æ”¾'</span> . <span class="keyword">self</span>::$track_name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>å…·æœ‰<strong>æ„é€ å‡½æ•°</strong>( <code>__construct</code> )çš„ç±»ä¼šåœ¨æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡æ—¶å…ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œæ‰€ä»¥éå¸¸é€‚åˆåœ¨ä½¿ç”¨å¯¹è±¡ä¹‹å‰åšä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Track</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $track_name;</span><br><span class="line">    <span class="keyword">public</span> $track_artist;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'åˆå§‹åŒ–æ•°æ®...'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">track_playing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'æ­£åœ¨æ’­æ”¾'</span> . <span class="keyword">$this</span>-&gt;$track_name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="æ„é€ å™¨ä¸è·å–å™¨"><a href="#æ„é€ å™¨ä¸è·å–å™¨" class="headerlink" title="æ„é€ å™¨ä¸è·å–å™¨"></a>æ„é€ å™¨ä¸è·å–å™¨</h4><p>åœ¨ç»™ä¸å¯è®¿é—®å±æ€§èµ‹å€¼æ—¶ï¼Œ<code>__set()</code> ä¼šè¢«è°ƒç”¨ã€‚è¯»å–ä¸å¯è®¿é—®å±æ€§çš„å€¼æ—¶ï¼Œ<code>__get()</code> ä¼šè¢«è°ƒç”¨ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Track</span></span></span><br><span class="line"><span class="class"></span>&#123;      </span><br><span class="line">    <span class="keyword">private</span> $track_name;</span><br><span class="line">    <span class="keyword">private</span> $track_artist;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__set</span><span class="params">($name, $value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (property_exists(<span class="keyword">$this</span>, $name)) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;$name = $value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span><span class="params">($name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;$name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">track_playing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'æ­£åœ¨æ’­æ”¾'</span> . <span class="keyword">$this</span>-&gt;$track_name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h4><p><strong>å®šä¹‰ä¸ºæŠ½è±¡çš„ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–</strong>( <code>abstract</code> )ã€‚ä»»ä½•ä¸€ä¸ªç±»ï¼Œå¦‚æœå®ƒé‡Œé¢è‡³å°‘æœ‰ä¸€ä¸ªæ–¹æ³•æ˜¯è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±å¿…é¡»è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ã€‚è¢«å®šä¹‰ä¸ºæŠ½è±¡çš„æ–¹æ³•åªæ˜¯å£°æ˜äº†å…¶è°ƒç”¨æ–¹å¼ï¼ˆå‚æ•°ï¼‰ï¼Œä¸èƒ½å®šä¹‰å…¶å…·ä½“çš„åŠŸèƒ½å®ç°ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Entity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $entity_type;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get_entity_type</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;entity_type;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">save</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Entity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $entity_type = <span class="string">'user'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">save</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;entity_type . <span class="string">'ï¼šä¿å­˜æˆåŠŸï¼'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h4><p>ä½¿ç”¨ <strong>æ¥å£</strong>ï¼ˆ <code>interface</code>ï¼‰ï¼Œå¯ä»¥æŒ‡å®šæŸä¸ªç±»å¿…é¡»å®ç°å“ªäº›æ–¹æ³•ï¼Œä½†ä¸éœ€è¦å®šä¹‰è¿™äº›æ–¹æ³•çš„å…·ä½“å†…å®¹ã€‚</p><p><strong>æ¥å£</strong> æ˜¯é€šè¿‡ <code>interface</code> å…³é”®å­—æ¥å®šä¹‰çš„ï¼Œå°±åƒå®šä¹‰ä¸€ä¸ªæ ‡å‡†çš„ç±»ä¸€æ ·ï¼Œä½†å…¶ä¸­å®šä¹‰æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ç©ºçš„ã€‚</p><p><strong>æ¥å£</strong> ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•éƒ½å¿…é¡»æ˜¯å…¬æœ‰ï¼Œè¿™æ˜¯æ¥å£çš„ç‰¹æ€§ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">DataInterface</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get_data</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">EntityInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get_entity_type</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Entity</span> <span class="keyword">implements</span> <span class="title">DataInterface</span>, <span class="title">EntityInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get_data</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'æ•°æ®...'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get_entity_type</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'ç±»å‹...'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h2 id="ThinkPHP"><a href="#ThinkPHP" class="headerlink" title="ThinkPHP"></a>ThinkPHP</h2><p>ä»¥ä¸‹å†…å®¹åŸºæœ¬éƒ½æ˜¯æ¥è‡ª<strong>ThinkPHP</strong><a href="http://document.thinkphp.cn/manual_3_2.html#preface" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œæ›´å¤šç»†èŠ‚åŠçŸ¥è¯†ç‚¹å¯æŸ¥çœ‹ <a href="http://document.thinkphp.cn/manual_3_2.html#preface" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><h4 id="ç¯å¢ƒè¦æ±‚"><a href="#ç¯å¢ƒè¦æ±‚" class="headerlink" title="ç¯å¢ƒè¦æ±‚"></a>ç¯å¢ƒè¦æ±‚</h4><p><strong>PHPç‰ˆæœ¬è¦æ±‚</strong></p><ul><li>PHP5.3ä»¥ä¸Šç‰ˆæœ¬</li></ul><p><strong>æ”¯æŒçš„æœåŠ¡å™¨å’Œæ•°æ®åº“ç¯å¢ƒ</strong></p><ul><li>æ”¯æŒWindows/UnixæœåŠ¡å™¨ç¯å¢ƒ</li><li>å¯è¿è¡ŒäºåŒ…æ‹¬Apacheã€IISå’Œnginxåœ¨å†…çš„å¤šç§WEBæœåŠ¡å™¨å’Œæ¨¡å¼</li><li>æ”¯æŒMysqlã€MsSQLã€PgSQLã€Sqliteã€Oracleã€Ibaseã€Mongoä»¥åŠPDOç­‰å¤šç§æ•°æ®åº“å’Œè¿æ¥</li></ul><p>å¦‚æœä½ å¹³æ—¶ç”¨ <strong>Windows</strong> ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨ <a href="http://wampserver.com" target="_blank" rel="noopener">WAMP</a> æ¥æ­å»ºä¸€ä¸ªæœ¬åœ°çš„å¼€å‘ç¯å¢ƒã€‚å¦‚æœä½ æ˜¯ <strong>OSX</strong> ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://www.mamp.info/en/" target="_blank" rel="noopener">MAMP</a> æ¥æ­å»ºä¸€ä¸ªå¼€å‘ç¯å¢ƒã€‚</p><hr><h4 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h4><p>åˆå§‹çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">www  WEBéƒ¨ç½²ç›®å½•ï¼ˆæˆ–è€…å­ç›®å½•ï¼‰</span><br><span class="line">â”œâ”€<span class="built_in">index</span>.php       å…¥å£æ–‡ä»¶</span><br><span class="line">â”œâ”€README.md       READMEæ–‡ä»¶</span><br><span class="line">â”œâ”€Application     åº”ç”¨ç›®å½•</span><br><span class="line">â”œâ”€Public          èµ„æºæ–‡ä»¶ç›®å½•</span><br><span class="line">â””â”€ThinkPHP        æ¡†æ¶ç›®å½•</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­æ¡†æ¶ç›®å½•<strong>ThinkPHP</strong>çš„ç»“æ„å¦‚ä¸‹ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€ThinkPHP æ¡†æ¶ç³»ç»Ÿç›®å½•ï¼ˆå¯ä»¥éƒ¨ç½²åœ¨éwebç›®å½•ä¸‹é¢ï¼‰</span><br><span class="line">â”‚  â”œâ”€Common       æ ¸å¿ƒå…¬å…±å‡½æ•°ç›®å½•</span><br><span class="line">â”‚  â”œâ”€Conf         æ ¸å¿ƒé…ç½®ç›®å½• </span><br><span class="line">â”‚  â”œâ”€Lang         æ ¸å¿ƒè¯­è¨€åŒ…ç›®å½•</span><br><span class="line">â”‚  â”œâ”€Library      æ¡†æ¶ç±»åº“ç›®å½•</span><br><span class="line">â”‚  â”‚  â”œâ”€Think     æ ¸å¿ƒThinkç±»åº“åŒ…ç›®å½•</span><br><span class="line">â”‚  â”‚  â”œâ”€Behavior  è¡Œä¸ºç±»åº“ç›®å½•</span><br><span class="line">â”‚  â”‚  â”œâ”€Org       Orgç±»åº“åŒ…ç›®å½•</span><br><span class="line">â”‚  â”‚  â”œâ”€Vendor    ç¬¬ä¸‰æ–¹ç±»åº“ç›®å½•</span><br><span class="line">â”‚  â”‚  â”œâ”€ ...      æ›´å¤šç±»åº“ç›®å½•</span><br><span class="line">â”‚  â”œâ”€Mode         æ¡†æ¶åº”ç”¨æ¨¡å¼ç›®å½•</span><br><span class="line">â”‚  â”œâ”€Tpl          ç³»ç»Ÿæ¨¡æ¿ç›®å½•</span><br><span class="line">â”‚  â”œâ”€LICENSE.txt  æ¡†æ¶æˆæƒåè®®æ–‡ä»¶</span><br><span class="line">â”‚  â”œâ”€logo.png     æ¡†æ¶LOGOæ–‡ä»¶</span><br><span class="line">â”‚  â”œâ”€README.txt   æ¡†æ¶READMEæ–‡ä»¶</span><br><span class="line">â”‚  â””â”€ThinkPHP.php    æ¡†æ¶å…¥å£æ–‡ä»¶</span><br></pre></td></tr></table></figure></p><hr><h4 id="å…¥å£æ–‡ä»¶"><a href="#å…¥å£æ–‡ä»¶" class="headerlink" title="å…¥å£æ–‡ä»¶"></a>å…¥å£æ–‡ä»¶</h4><p><strong>ThinkPHP</strong>é‡‡ç”¨å•ä¸€å…¥å£æ¨¡å¼è¿›è¡Œé¡¹ç›®éƒ¨ç½²å’Œè®¿é—®ï¼Œæ— è®ºå®Œæˆä»€ä¹ˆåŠŸèƒ½ï¼Œä¸€ä¸ªåº”ç”¨éƒ½æœ‰ä¸€ä¸ªç»Ÿä¸€ï¼ˆä½†ä¸ä¸€å®šæ˜¯å”¯ä¸€ï¼‰çš„å…¥å£ã€‚</p><p><strong>å…¥å£æ–‡ä»¶ä¸»è¦å®Œæˆï¼š</strong></p><ul><li>å®šä¹‰æ¡†æ¶è·¯å¾„ã€é¡¹ç›®è·¯å¾„ï¼ˆå¯é€‰ï¼‰</li><li>å®šä¹‰è°ƒè¯•æ¨¡å¼å’Œåº”ç”¨æ¨¡å¼ï¼ˆå¯é€‰ï¼‰</li><li>å®šä¹‰ç³»ç»Ÿç›¸å…³å¸¸é‡ï¼ˆå¯é€‰ï¼‰</li><li>è½½å…¥æ¡†æ¶å…¥å£æ–‡ä»¶ï¼ˆ<strong>å¿…é¡»</strong>ï¼‰</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼€å¯è°ƒè¯•æ¨¡å¼ å»ºè®®å¼€å‘é˜¶æ®µå¼€å¯ éƒ¨ç½²é˜¶æ®µæ³¨é‡Šæˆ–è€…è®¾ä¸ºfalse</span></span><br><span class="line">define(<span class="string">'APP_DEBUG'</span>,<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰åº”ç”¨ç›®å½•</span></span><br><span class="line">define( <span class="string">'APP_PATH'</span>, dirname(<span class="keyword">__FILE__</span>).<span class="string">'/Application/'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆåå°æ¨¡å—</span></span><br><span class="line">define(<span class="string">'BIND_MODULE'</span>,<span class="string">'Admin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ThinkPHPå…¥å£æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">require</span> dirname( <span class="keyword">__FILE__</span>).<span class="string">'/ThinkPHP/ThinkPHP.php'</span>;</span><br></pre></td></tr></table></figure><hr><h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4><p>å…¥å£æ–‡ä»¶æ˜¯åº”ç”¨çš„å•ä¸€å…¥å£ï¼Œå¯¹åº”ç”¨çš„æ‰€æœ‰è¯·æ±‚éƒ½å®šå‘åˆ°åº”ç”¨å…¥å£æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šä»URLå‚æ•°ä¸­è§£æå½“å‰è¯·æ±‚çš„æ¨¡å—ã€æ§åˆ¶å™¨å’Œæ“ä½œï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://serverName/<span class="built_in">index</span>.php/æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ</span><br></pre></td></tr></table></figure><hr><h3 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h3><h4 id="æ§åˆ¶å™¨å®šä¹‰"><a href="#æ§åˆ¶å™¨å®šä¹‰" class="headerlink" title="æ§åˆ¶å™¨å®šä¹‰"></a>æ§åˆ¶å™¨å®šä¹‰</h4><p>ä¸€èˆ¬æ¥è¯´ï¼ŒThinkPHPçš„æ§åˆ¶å™¨æ˜¯ä¸€ä¸ªç±»ï¼Œè€Œæ“ä½œåˆ™æ˜¯æ§åˆ¶å™¨ç±»çš„ä¸€ä¸ªå…¬å…±æ–¹æ³•ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„æ§åˆ¶å™¨ç±»çš„å®šä¹‰ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Admin</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Think</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginController</span> <span class="keyword">extends</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'hello,thinkphp!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨æµè§ˆå™¨é‡Œè®¿é—®ï¼š<code>http://msg:8899/index.php/Login/hello</code>ï¼Œä¼šæ˜¾ç¤ºï¼š<code>hello,thinkphp!</code>ã€‚</p><hr><h4 id="AJAXè¿”å›"><a href="#AJAXè¿”å›" class="headerlink" title="AJAXè¿”å›"></a>AJAXè¿”å›</h4><p><strong>ThinkPHP</strong> å¯ä»¥å¾ˆå¥½çš„æ”¯æŒAJAXè¯·æ±‚ï¼Œç³»ç»Ÿçš„\Think\Controllerç±»æä¾›äº†ajaxReturnæ–¹æ³•ç”¨äºAJAXè°ƒç”¨åè¿”å›æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Admin</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Think</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginController</span> <span class="keyword">extends</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      $data[<span class="string">'status'</span>]  = <span class="number">1</span>;</span><br><span class="line">      $data[<span class="string">'content'</span>] = <span class="string">'content'</span>;</span><br><span class="line">      <span class="keyword">$this</span>-&gt;ajaxReturn($data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h4 id="è·³è½¬å’Œé‡å®šå‘"><a href="#è·³è½¬å’Œé‡å®šå‘" class="headerlink" title="è·³è½¬å’Œé‡å®šå‘"></a>è·³è½¬å’Œé‡å®šå‘</h4><p><strong>é¡µé¢è·³è½¬</strong></p><p>åœ¨åº”ç”¨å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›å¸¦æœ‰æç¤ºä¿¡æ¯çš„è·³è½¬é¡µé¢ï¼Œä¾‹å¦‚æ“ä½œæˆåŠŸæˆ–è€…æ“ä½œé”™è¯¯é¡µé¢ï¼Œå¹¶ä¸”è‡ªåŠ¨è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªç›®æ ‡é¡µé¢ã€‚ç³»ç»Ÿçš„<code>\Think\Controller</code>ç±»å†…ç½®äº†ä¸¤ä¸ªè·³è½¬æ–¹æ³•<code>success</code>å’Œ<code>error</code>ï¼Œç”¨äºé¡µé¢è·³è½¬æç¤ºï¼Œè€Œä¸”å¯ä»¥æ”¯æŒajaxæäº¤ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">jump</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  $posts = D(<span class="string">'posts'</span>); <span class="comment">//å®ä¾‹åŒ–Userå¯¹è±¡</span></span><br><span class="line">  $data[<span class="string">'title'</span>] = <span class="string">'cat'</span>;</span><br><span class="line">  $data[<span class="string">'content'</span>] = <span class="string">'çŒ«ï¼Œå±äºçŒ«ç§‘åŠ¨ç‰©ï¼Œåˆ†å®¶çŒ«ã€é‡çŒ«ï¼Œæ˜¯å…¨ä¸–ç•Œå®¶åº­ä¸­è¾ƒä¸ºå¹¿æ³›çš„å® ç‰©ã€‚'</span>;</span><br><span class="line">  $result = $posts-&gt;add($data);</span><br><span class="line">  <span class="keyword">if</span>($result)&#123;</span><br><span class="line">      <span class="comment">//è®¾ç½®æˆåŠŸåè·³è½¬é¡µé¢çš„åœ°å€ï¼Œé»˜è®¤çš„è¿”å›é¡µé¢æ˜¯$_SERVER['HTTP_REFERER']</span></span><br><span class="line">      <span class="keyword">$this</span>-&gt;success(<span class="string">'æ–°å¢æˆåŠŸ'</span>,<span class="string">'Login/login'</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//é”™è¯¯é¡µé¢çš„é»˜è®¤è·³è½¬é¡µé¢æ˜¯è¿”å›å‰ä¸€é¡µï¼Œé€šå¸¸ä¸éœ€è¦è®¾ç½®</span></span><br><span class="line">      <span class="keyword">$this</span>-&gt;error(<span class="string">'æ–°å¢å¤±è´¥'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é‡å®šå‘</strong></p><p><code>Controller</code>ç±»çš„<code>redirect</code>æ–¹æ³•å¯ä»¥å®ç°é¡µé¢çš„é‡å®šå‘åŠŸèƒ½ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é‡å®šå‘åˆ°Newæ¨¡å—çš„Categoryæ“ä½œ</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;redirect(<span class="string">'New/category'</span>, <span class="keyword">array</span>(<span class="string">'cate_id'</span> =&gt; <span class="number">2</span>), <span class="number">5</span>, <span class="string">'é¡µé¢è·³è½¬ä¸­...'</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç”¨æ³•æ˜¯åœç•™5ç§’åè·³è½¬åˆ°<code>New</code>æ¨¡å—çš„<code>category</code>æ“ä½œï¼Œå¹¶ä¸”æ˜¾ç¤ºé¡µé¢è·³è½¬ä¸­å­—æ ·ï¼Œé‡å®šå‘åä¼šæ”¹å˜å½“å‰çš„<strong>URL</strong>åœ°å€ã€‚</p><hr><h4 id="è¾“å…¥å˜é‡"><a href="#è¾“å…¥å˜é‡" class="headerlink" title="è¾“å…¥å˜é‡"></a>è¾“å…¥å˜é‡</h4><p><strong>è·å–å˜é‡</strong></p><p><code>I</code>æ–¹æ³•æ˜¯<strong>ThinkPHP</strong>ç”¨äºæ›´åŠ æ–¹ä¾¿å’Œå®‰å…¨çš„è·å–ç³»ç»Ÿè¾“å…¥å˜é‡ï¼Œå¯ä»¥ç”¨äºä»»ä½•åœ°æ–¹ï¼Œç”¨æ³•æ ¼å¼å¦‚ä¸‹ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I(<span class="string">'å˜é‡ç±»å‹.å˜é‡å/ä¿®é¥°ç¬¦'</span>,[<span class="string">'é»˜è®¤å€¼'</span>],[<span class="string">'è¿‡æ»¤æ–¹æ³•'</span>],[<span class="string">'é¢å¤–æ•°æ®æº'</span>])</span><br></pre></td></tr></table></figure></p><p>å˜é‡ç±»å‹æ˜¯æŒ‡è¯·æ±‚æ–¹å¼æˆ–è€…è¾“å…¥ç±»å‹ï¼ŒåŒ…æ‹¬ï¼š</p><table><thead><tr><th style="text-align:left">å˜é‡ç±»å‹</th><th style="text-align:left">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:left">get</td><td style="text-align:left">è·å–GETå‚æ•°</td></tr><tr><td style="text-align:left">post</td><td style="text-align:left">è·å–POSTå‚æ•°</td></tr><tr><td style="text-align:left">param</td><td style="text-align:left">è‡ªåŠ¨åˆ¤æ–­è¯·æ±‚ç±»å‹è·å–GETã€POSTæˆ–è€…PUTå‚æ•°</td></tr><tr><td style="text-align:left">request</td><td style="text-align:left">è·å–REQUEST å‚æ•°</td></tr><tr><td style="text-align:left">put</td><td style="text-align:left">è·å–PUT å‚æ•°</td></tr><tr><td style="text-align:left">session</td><td style="text-align:left">è·å– $_SESSION å‚æ•°</td></tr><tr><td style="text-align:left">cookie</td><td style="text-align:left">è·å– $_COOKIE å‚æ•°</td></tr><tr><td style="text-align:left">server</td><td style="text-align:left">è·å– $_SERVER å‚æ•°</td></tr><tr><td style="text-align:left">globals</td><td style="text-align:left">è·å– $GLOBALSå‚æ•°</td></tr><tr><td style="text-align:left">path</td><td style="text-align:left">è·å– PATHINFOæ¨¡å¼çš„URLå‚æ•°ï¼ˆ3.2.2æ–°å¢ï¼‰</td></tr><tr><td style="text-align:left">data</td><td style="text-align:left">è·å– å…¶ä»–ç±»å‹çš„å‚æ•°ï¼Œéœ€è¦é…åˆé¢å¤–æ•°æ®æºå‚æ•°ï¼ˆ3.2.2æ–°å¢ï¼‰</td></tr></tbody></table><p>æˆ‘ä»¬ä»¥<code>GET</code>å˜é‡ç±»å‹ä¸ºä¾‹ï¼Œè¯´æ˜ä¸‹ <code>I</code> æ–¹æ³•çš„ä½¿ç”¨ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">variable</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $data[<span class="string">'title'</span>] = I(<span class="string">'get.title'</span>);</span><br><span class="line">    $data[<span class="string">'content'</span>] = I(<span class="string">'get.content'</span>);</span><br><span class="line">    dump($data);</span><br><span class="line">    <span class="keyword">$this</span>-&gt;display();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array(<span class="number">2</span>) &#123;</span><br><span class="line">  [<span class="string">"title"</span>] =&gt; <span class="built_in">string</span>(<span class="number">6</span>) <span class="string">"å•Šå•Š"</span></span><br><span class="line">  [<span class="string">"content"</span>] =&gt; <span class="built_in">string</span>(<span class="number">6</span>) <span class="string">"å•Šå•Š"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h3 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h3><h4 id="æ¨¡æ¿å®šä¹‰"><a href="#æ¨¡æ¿å®šä¹‰" class="headerlink" title="æ¨¡æ¿å®šä¹‰"></a>æ¨¡æ¿å®šä¹‰</h4><p>æ¯ä¸ªæ¨¡å—çš„æ¨¡æ¿æ–‡ä»¶æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ºäº†å¯¹æ¨¡æ¿æ–‡ä»¶æ›´åŠ æœ‰æ•ˆçš„ç®¡ç†ï¼Œ<strong>ThinkPHP</strong>å¯¹æ¨¡æ¿æ–‡ä»¶è¿›è¡Œç›®å½•åˆ’åˆ†ï¼Œé»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶å®šä¹‰è§„åˆ™æ˜¯ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§†å›¾ç›®å½•/[æ¨¡æ¿ä¸»é¢˜]/æ§åˆ¶å™¨å/æ“ä½œå+æ¨¡æ¿åç¼€</span><br></pre></td></tr></table></figure></p><p>é»˜è®¤çš„è§†å›¾ç›®å½•æ˜¯æ¨¡å—çš„ <strong>View</strong> ç›®å½•ï¼ˆæ¨¡å—å¯ä»¥æœ‰å¤šä¸ªè§†å›¾æ–‡ä»¶ç›®å½•ï¼Œè¿™å–å†³äºä½ çš„åº”ç”¨éœ€è¦ï¼‰ï¼Œæ¡†æ¶çš„é»˜è®¤è§†å›¾æ–‡ä»¶åç¼€æ˜¯<code>.html</code>ã€‚ æ–°ç‰ˆæ¨¡æ¿ä¸»é¢˜é»˜è®¤æ˜¯ç©ºï¼ˆè¡¨ç¤ºä¸å¯ç”¨æ¨¡æ¿ä¸»é¢˜åŠŸèƒ½ï¼‰ã€‚</p><p>åœ¨æ¯ä¸ªæ¨¡æ¿ä¸»é¢˜ä¸‹é¢ï¼Œæ˜¯ä»¥æ¨¡å—ä¸‹é¢çš„æ§åˆ¶å™¨åä¸ºç›®å½•ï¼Œç„¶åæ˜¯æ¯ä¸ªæ§åˆ¶å™¨çš„å…·ä½“æ“ä½œæ¨¡æ¿æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><p>ä¾‹å¦‚<strong>Login</strong>ä¸‹çš„<strong>variable</strong>ï¼Œå¯¹åº”çš„æ¨¡æ¿æ–‡ä»¶ï¼š<code>Admin/View/Login/variable.html</code></p><hr><h4 id="æ¨¡æ¿èµ‹å€¼"><a href="#æ¨¡æ¿èµ‹å€¼" class="headerlink" title="æ¨¡æ¿èµ‹å€¼"></a>æ¨¡æ¿èµ‹å€¼</h4><p>å¦‚æœè¦åœ¨æ¨¡æ¿ä¸­è¾“å‡ºå˜é‡ï¼Œå¿…é¡»åœ¨åœ¨æ§åˆ¶å™¨ä¸­æŠŠå˜é‡ä¼ é€’ç»™æ¨¡æ¿ï¼Œç³»ç»Ÿæä¾›äº†assignæ–¹æ³•å¯¹æ¨¡æ¿å˜é‡èµ‹å€¼ï¼Œæ— è®ºä½•ç§å˜é‡ç±»å‹éƒ½ç»Ÿä¸€ä½¿ç”¨assignèµ‹å€¼ã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">variable</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      $data[<span class="string">'title'</span>] = I(<span class="string">'get.title'</span>);</span><br><span class="line">      $data[<span class="string">'content'</span>] = I(<span class="string">'get.content'</span>);</span><br><span class="line">      <span class="keyword">$this</span>-&gt;assign($data);</span><br><span class="line">      <span class="keyword">$this</span>-&gt;display();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p><code>assign</code>æ–¹æ³•å¿…é¡»åœ¨<code>display</code>å’Œ<code>show</code>æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”ç³»ç»Ÿåªä¼šè¾“å‡ºè®¾å®šçš„å˜é‡ï¼Œå…¶å®ƒå˜é‡ä¸ä¼šè¾“å‡ºï¼ˆç³»ç»Ÿå˜é‡ä¾‹å¤–ï¼‰ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¿è¯äº†å˜é‡çš„å®‰å…¨æ€§ã€‚</p><p>èµ‹å€¼åï¼Œå°±å¯ä»¥åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­è¾“å‡ºå˜é‡äº†ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯å†…ç½®æ¨¡æ¿çš„è¯ï¼Œå°±å¯ä»¥è¿™æ ·è¾“å‡ºï¼š <code>{$title}</code>ã€‚</p><hr><h4 id="æ¸²æŸ“æ¨¡æ¿"><a href="#æ¸²æŸ“æ¨¡æ¿" class="headerlink" title="æ¸²æŸ“æ¨¡æ¿"></a>æ¸²æŸ“æ¨¡æ¿</h4><p>æ¸²æŸ“æ¨¡æ¿è¾“å‡ºæœ€å¸¸ç”¨çš„æ˜¯ä½¿ç”¨<code>display</code>æ–¹æ³•ï¼Œè°ƒç”¨æ ¼å¼ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">display</span>(<span class="string">'[æ¨¡æ¿æ–‡ä»¶]'</span>[,<span class="string">'å­—ç¬¦ç¼–ç '</span>][,<span class="string">'è¾“å‡ºç±»å‹'</span>])</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ²¡æœ‰æŒ‰ç…§æ¨¡æ¿å®šä¹‰è§„åˆ™æ¥å®šä¹‰æ¨¡æ¿æ–‡ä»¶ï¼ˆæˆ–è€…éœ€è¦è°ƒç”¨å…¶ä»–æ§åˆ¶å™¨ä¸‹é¢çš„æŸä¸ªæ¨¡æ¿ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‡å®šæ¨¡æ¿è¾“å‡º</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;display(<span class="string">'edit'</span>);</span><br></pre></td></tr></table></figure></p><p>è¡¨ç¤ºè°ƒç”¨å½“å‰æ¨¡å—ä¸‹é¢çš„<code>edit</code>æ¨¡æ¿<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">$this</span>-&gt;display(<span class="string">'Member:read'</span>);</span><br></pre></td></tr></table></figure></p><p>è¡¨ç¤ºè°ƒç”¨<code>Member</code>æ¨¡å—ä¸‹é¢çš„<code>read</code>æ¨¡æ¿ã€‚</p><hr><h3 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h3><h4 id="æ¨¡å‹å®šä¹‰"><a href="#æ¨¡å‹å®šä¹‰" class="headerlink" title="æ¨¡å‹å®šä¹‰"></a>æ¨¡å‹å®šä¹‰</h4><blockquote><p>æ¨¡å‹ç±»å¹¶éå¿…é¡»å®šä¹‰ï¼Œåªæœ‰å½“å­˜åœ¨ç‹¬ç«‹çš„ä¸šåŠ¡é€»è¾‘æˆ–è€…å±æ€§çš„æ—¶å€™æ‰éœ€è¦å®šä¹‰ã€‚</p></blockquote><p>æ¨¡å‹ç±»é€šå¸¸éœ€è¦ç»§æ‰¿ç³»ç»Ÿçš„\Think\Modelç±»æˆ–å…¶å­ç±»ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªHome\Model\UserModelç±»çš„å®šä¹‰ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Admin</span>\<span class="title">Model</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Think</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostsModel</span> <span class="keyword">extends</span> <span class="title">Model</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ¨¡å‹ç±»çš„ä½œç”¨å¤§å¤šæ•°æƒ…å†µæ˜¯æ“ä½œæ•°æ®è¡¨çš„ï¼Œå¦‚æœæŒ‰ç…§ç³»ç»Ÿçš„è§„èŒƒæ¥å‘½åæ¨¡å‹ç±»çš„è¯ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å¯ä»¥è‡ªåŠ¨å¯¹åº”æ•°æ®è¡¨ã€‚</p><h4 id="æ¨¡å‹å®ä¾‹åŒ–"><a href="#æ¨¡å‹å®ä¾‹åŒ–" class="headerlink" title="æ¨¡å‹å®ä¾‹åŒ–"></a>æ¨¡å‹å®ä¾‹åŒ–</h4><p>åœ¨ThinkPHPä¸­ï¼Œå¯ä»¥æ— éœ€è¿›è¡Œä»»ä½•æ¨¡å‹å®šä¹‰ã€‚</p><p>æ ¹æ®ä¸åŒçš„æ¨¡å‹å®šä¹‰ï¼Œæˆ‘ä»¬æœ‰å‡ ç§å®ä¾‹åŒ–æ¨¡å‹çš„æ–¹æ³•ï¼Œæ ¹æ®éœ€è¦é‡‡ç”¨ä¸åŒçš„æ–¹å¼ï¼š<strong>ç›´æ¥å®ä¾‹åŒ–</strong>å¯ä»¥å’Œå®ä¾‹åŒ–å…¶ä»–ç±»åº“ä¸€æ ·å®ä¾‹åŒ–æ¨¡å‹ç±»ï¼Œä¾‹å¦‚ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$User = <span class="keyword">new</span> \Home\Model\UserModel();</span><br><span class="line">$Info = <span class="keyword">new</span> \Admin\Model\InfoModel();</span><br><span class="line"><span class="comment">// å¸¦å‚æ•°å®ä¾‹åŒ–</span></span><br><span class="line">$New  = <span class="keyword">new</span> \Home\Model\NewModel(<span class="string">'blog'</span>,<span class="string">'think_'</span>,$connection);</span><br></pre></td></tr></table></figure></p><p><strong>Dæ–¹æ³•å®ä¾‹åŒ–</strong>ä¸Šé¢å®ä¾‹åŒ–çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ä¼ å…¥å®Œæ•´çš„ç±»åï¼Œç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå¿«æ·æ–¹æ³• <strong>D</strong> ç”¨äºæ•°æ®æ¨¡å‹çš„å®ä¾‹åŒ–æ“ä½œã€‚<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">jump</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      $posts = D(<span class="string">'posts'</span>); <span class="comment">//å®ä¾‹åŒ–postså¯¹è±¡</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p><strong>Mæ–¹æ³•å®ä¾‹åŒ–æ¨¡å‹</strong><strong>D</strong> æ–¹æ³•å®ä¾‹åŒ–æ¨¡å‹ç±»çš„æ—¶å€™é€šå¸¸æ˜¯å®ä¾‹åŒ–æŸä¸ªå…·ä½“çš„æ¨¡å‹ç±»ï¼Œå¦‚æœä½ ä»…ä»…æ˜¯å¯¹æ•°æ®è¡¨è¿›è¡ŒåŸºæœ¬çš„  <strong>CURD</strong> æ“ä½œçš„è¯ï¼Œä½¿ç”¨ <strong>M</strong> æ–¹æ³•å®ä¾‹åŒ–çš„è¯ï¼Œç”±äºä¸éœ€è¦åŠ è½½å…·ä½“çš„æ¨¡å‹ç±»ï¼Œæ‰€ä»¥æ€§èƒ½ä¼šæ›´é«˜ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨Mæ–¹æ³•å®ä¾‹åŒ–</span></span><br><span class="line">$User = M(<span class="string">'User'</span>);</span><br><span class="line"><span class="comment">// å’Œç”¨æ³• $User = new \Think\Model('User'); ç­‰æ•ˆ</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œå…¶ä»–çš„æ•°æ®æ“ä½œ</span></span><br><span class="line">$User-&gt;select();</span><br></pre></td></tr></table></figure><h4 id="CURDæ“ä½œ"><a href="#CURDæ“ä½œ" class="headerlink" title="CURDæ“ä½œ"></a>CURDæ“ä½œ</h4><p><strong>ThinkPHP</strong>æä¾›äº†çµæ´»å’Œæ–¹ä¾¿çš„æ•°æ®æ“ä½œæ–¹æ³•ï¼Œå¯¹æ•°æ®åº“æ“ä½œçš„å››ä¸ªåŸºæœ¬æ“ä½œï¼ˆCURDï¼‰ï¼šåˆ›å»ºã€æ›´æ–°ã€è¯»å–å’Œåˆ é™¤çš„å®ç°æ˜¯æœ€åŸºæœ¬çš„ï¼Œä¹Ÿæ˜¯å¿…é¡»æŒæ¡çš„ï¼Œåœ¨è¿™åŸºç¡€ä¹‹ä¸Šæ‰èƒ½ç†Ÿæ‚‰æ›´å¤šå®ç”¨çš„æ•°æ®æ“ä½œæ–¹æ³•ã€‚</p><p><strong>CURD</strong> æ“ä½œé€šå¸¸æ˜¯å¯ä»¥å’Œè¿è´¯æ“ä½œé…åˆå®Œæˆçš„ã€‚</p><p><strong>åˆ›å»ºæ•°æ®å¯¹è±¡</strong></p><p><strong>ThinkPHP</strong>å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿåœ°åˆ›å»ºæ•°æ®å¯¹è±¡ï¼Œæœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯è‡ªåŠ¨æ ¹æ®è¡¨å•æ•°æ®åˆ›å»ºæ•°æ®å¯¹è±¡ï¼Œè¿™ä¸ªä¼˜åŠ¿åœ¨ä¸€ä¸ªæ•°æ®è¡¨çš„å­—æ®µéå¸¸ä¹‹å¤šçš„æƒ…å†µä¸‹å°¤å…¶æ˜æ˜¾ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ä¾‹åŒ–Useræ¨¡å‹</span></span><br><span class="line">$User = M(<span class="string">'User'</span>);</span><br><span class="line"><span class="comment">// æ ¹æ®è¡¨å•æäº¤çš„POSTæ•°æ®åˆ›å»ºæ•°æ®å¯¹è±¡</span></span><br><span class="line">$User-&gt;create();</span><br></pre></td></tr></table></figure><p><strong>æ•°æ®å†™å…¥</strong></p><p><strong>ThinkPHP</strong>çš„æ•°æ®å†™å…¥æ“ä½œä½¿ç”¨<code>add</code>æ–¹æ³•ï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">jump</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  $posts = D(<span class="string">'posts'</span>); <span class="comment">//å®ä¾‹åŒ–Userå¯¹è±¡</span></span><br><span class="line">  $data[<span class="string">'title'</span>] = <span class="string">'cat'</span>;</span><br><span class="line">  $data[<span class="string">'content'</span>] = <span class="string">'çŒ«ï¼Œå±äºçŒ«ç§‘åŠ¨ç‰©ï¼Œåˆ†å®¶çŒ«ã€é‡çŒ«ï¼Œæ˜¯å…¨ä¸–ç•Œå®¶åº­ä¸­è¾ƒä¸ºå¹¿æ³›çš„å® ç‰©ã€‚'</span>;</span><br><span class="line">  $result = $posts-&gt;add($data);</span><br></pre></td></tr></table></figure></p><p><strong>è¯»å–æ•°æ®</strong></p><p>è¯»å–æ•°æ®æ˜¯æŒ‡è¯»å–æ•°æ®è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®ï¼ˆæˆ–è€…å…³è”æ•°æ®ï¼‰ï¼Œä¸»è¦é€šè¿‡<code>find</code>æ–¹æ³•å®Œæˆï¼Œä¾‹å¦‚ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getPosts</span><span class="params">()</span></span>&#123;</span><br><span class="line">      $posts = D(<span class="string">'posts'</span>); <span class="comment">//å®ä¾‹åŒ–postså¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">      $posts-&gt;where(<span class="string">'id=1'</span>)-&gt;find();</span><br><span class="line"></span><br><span class="line">      dump($posts);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p><code>find</code>æ–¹æ³•æŸ¥è¯¢æ•°æ®çš„æ—¶å€™å¯ä»¥é…åˆç›¸å…³çš„è¿è´¯æ“ä½œæ–¹æ³•ï¼Œå…¶ä¸­æœ€å…³é”®çš„åˆ™æ˜¯whereæ–¹æ³•ã€‚</p><p><strong>æ›´æ–°æ•°æ®</strong></p><p>æ›´æ–°æ•°æ®ä½¿ç”¨<code>save</code>æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">savePosts</span><span class="params">()</span></span>&#123;</span><br><span class="line">      $posts = D(<span class="string">'posts'</span>); <span class="comment">//å®ä¾‹åŒ–postså¯¹è±¡</span></span><br><span class="line">      $data[<span class="string">'title'</span>] = <span class="string">'dog'</span>;</span><br><span class="line">      $data[<span class="string">'content'</span>] = <span class="string">'ç‹—ï¼Œï¼ˆæ‹‰ä¸æ–‡:Canis lupus familiaris,è‹±æ–‡åç§°dogï¼‰ä¸­æ–‡äº¦ç§°â€œçŠ¬â€ï¼Œç‹—å±äºé£Ÿè‚‰ç›®ï¼Œåˆ†å¸ƒäºä¸–ç•Œå„åœ°ã€‚ç‹—ä¸é©¬ã€ç‰›ã€ç¾Šã€çŒªã€é¸¡å¹¶ç§°â€œå…­ç•œâ€ã€‚æœ‰ç§‘å­¦å®¶è®¤ä¸ºç‹—æ˜¯ç”±æ—©æœŸäººç±»ä»ç°ç‹¼...'</span>;</span><br><span class="line">      $posts-&gt;where(<span class="string">'id=1'</span>)-&gt;save($data);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p><strong>æ•°æ®åˆ é™¤</strong></p><p><strong>ThinkPHP</strong>åˆ é™¤æ•°æ®ä½¿ç”¨<code>delete</code>æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">deletePosts</span><span class="params">()</span></span>&#123;</span><br><span class="line">      $posts = D(<span class="string">'posts'</span>); <span class="comment">//å®ä¾‹åŒ–postså¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">      $posts-&gt;delete(<span class="number">4</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>è¡¨ç¤ºåˆ é™¤ä¸»é”®ä¸º<strong>4</strong>çš„æ•°æ®</p><h4 id="è¿è´¯æ“ä½œ"><a href="#è¿è´¯æ“ä½œ" class="headerlink" title="è¿è´¯æ“ä½œ"></a>è¿è´¯æ“ä½œ</h4><p><strong>ThinkPHP</strong>æ¨¡å‹åŸºç¡€ç±»æä¾›çš„è¿è´¯æ“ä½œæ–¹æ³•ï¼ˆä¹Ÿæœ‰äº›æ¡†æ¶ç§°ä¹‹ä¸ºé“¾å¼æ“ä½œï¼‰ï¼Œå¯ä»¥æœ‰æ•ˆçš„æé«˜æ•°æ®å­˜å–çš„ä»£ç æ¸…æ™°åº¦å’Œå¼€å‘æ•ˆç‡ï¼Œå¹¶ä¸”æ”¯æŒæ‰€æœ‰çš„<strong>CURD</strong>æ“ä½œã€‚</p><p>ä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œ å‡å¦‚æˆ‘ä»¬ç°åœ¨è¦æŸ¥è¯¢ä¸€ä¸ª<strong>User</strong>è¡¨çš„æ»¡è¶³çŠ¶æ€ä¸º<strong>1</strong>çš„å‰<strong>10</strong>æ¡è®°å½•ï¼Œå¹¶å¸Œæœ›æŒ‰ç…§ç”¨æˆ·çš„åˆ›å»ºæ—¶é—´æ’åº ï¼Œä»£ç å¦‚ä¸‹ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$User-&gt;where(<span class="string">'status=1'</span>)-&gt;order(<span class="string">'create_time'</span>)-&gt;limit(<span class="number">10</span>)-&gt;select();</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œçš„<code>where</code>ã€<code>order</code>å’Œ<code>limit</code>æ–¹æ³•å°±è¢«ç§°ä¹‹ä¸ºè¿è´¯æ“ä½œæ–¹æ³•ï¼Œé™¤äº†<code>select</code>æ–¹æ³•å¿…é¡»æ”¾åˆ°æœ€åä¸€ä¸ªå¤–ï¼ˆå› ä¸ºselectæ–¹æ³•å¹¶ä¸æ˜¯è¿è´¯æ“ä½œæ–¹æ³•ï¼‰ï¼Œè¿è´¯æ“ä½œçš„æ–¹æ³•è°ƒç”¨é¡ºåºæ²¡æœ‰å…ˆåã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/phpThinkPHPBasis.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>æµ…è°ˆJavaScriptä½œç”¨åŸŸ</title>
      <link>https://h.lishaoy.net/javascriptScope.html</link>
      <guid>https://h.lishaoy.net/javascriptScope.html</guid>
      <pubDate>Sat, 31 Mar 2018 17:03:45 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/javascriptScope/javascriptScope01.png &quot; class=&quot;full-image&quot; alt=&quot;javascript Scope&quot; title=&quot;javascript Scope&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨é¢è¯•æ—¶ï¼Œæ€»ä¼šç¢°åˆ°ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„å…³äº &lt;strong&gt;ä½œç”¨åŸŸ&lt;/strong&gt; çš„é¢è¯•é¢˜ï¼Œå…¶å®å¼„æ¸…æ¥šåŸç†ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œå¤§éƒ¨åˆ†çš„é¢è¯•é¢˜éƒ½å¯ä»¥å¾— â€˜å§â€™ã€‚ &lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬æ¥è°ˆè°ˆ &lt;code&gt;JavaScript&lt;/code&gt; çš„ &lt;strong&gt;ä½œç”¨åŸŸ(javascript scope)&lt;/strong&gt; ï¼Œè¿™æ˜¯è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šä» &lt;strong&gt;ä½œç”¨åŸŸ&lt;/strong&gt; å¼€å§‹ï¼Œä¼šå»¶ä¼¸åˆ° &lt;strong&gt;é¢„è§£æè§„åˆ™ï¼ˆé¢„ç¼–è¯‘ï¼‰ ã€ å˜é‡æå‡ ã€å‡½æ•°æå‡ ã€è¡¨è¾¾å¼ ã€è¯­å¥ ã€IIFE ã€ åŒ¿åå‡½æ•°è¡¨è¾¾å¼ ã€ å…·åå‡½æ•°è¡¨è¾¾å¼&lt;/strong&gt; ç­‰ï¼Œå½»åº•ææ˜ç™½ä½œç”¨åŸŸè¿™äº›äº‹ ğŸ¤“&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/javascriptScope/javascriptScope01.png " class="full-image" alt="javascript Scope" title="javascript Scope"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æˆ‘ä»¬åœ¨é¢è¯•æ—¶ï¼Œæ€»ä¼šç¢°åˆ°ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„å…³äº <strong>ä½œç”¨åŸŸ</strong> çš„é¢è¯•é¢˜ï¼Œå…¶å®å¼„æ¸…æ¥šåŸç†ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œå¤§éƒ¨åˆ†çš„é¢è¯•é¢˜éƒ½å¯ä»¥å¾— â€˜å§â€™ã€‚ </p><p>æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬æ¥è°ˆè°ˆ <code>JavaScript</code> çš„ <strong>ä½œç”¨åŸŸ(javascript scope)</strong> ï¼Œè¿™æ˜¯è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šä» <strong>ä½œç”¨åŸŸ</strong> å¼€å§‹ï¼Œä¼šå»¶ä¼¸åˆ° <strong>é¢„è§£æè§„åˆ™ï¼ˆé¢„ç¼–è¯‘ï¼‰ ã€ å˜é‡æå‡ ã€å‡½æ•°æå‡ ã€è¡¨è¾¾å¼ ã€è¯­å¥ ã€IIFE ã€ åŒ¿åå‡½æ•°è¡¨è¾¾å¼ ã€ å…·åå‡½æ•°è¡¨è¾¾å¼</strong> ç­‰ï¼Œå½»åº•ææ˜ç™½ä½œç”¨åŸŸè¿™äº›äº‹ ğŸ¤“</p><hr><a id="more"></a><h3 id="å˜é‡æå‡å’Œå‡½æ•°æå‡"><a href="#å˜é‡æå‡å’Œå‡½æ•°æå‡" class="headerlink" title="å˜é‡æå‡å’Œå‡½æ•°æå‡"></a>å˜é‡æå‡å’Œå‡½æ•°æå‡</h3><p>åœ¨å¼€å§‹é˜è¿°ä¹‹å‰ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼Œçœ‹çœ‹ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">alert(a);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123; alter(<span class="number">2</span>); &#125;</span><br><span class="line">alert(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">alert(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">alert(a);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123; alter(<span class="number">4</span>); &#125;</span><br><span class="line">alert(a);</span><br><span class="line">a();</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…ˆæ­æ™“ç­”æ¡ˆï¼š<div class="note success"><ul><li>ç¬¬ä¸€ä¸ª <code>alert(a)</code>  å¼¹å‡º <code>function a(){ alter(4); }</code> å‡½æ•°ä½“</li><li>ç¬¬äºŒä¸ª <code>alter(a)</code>  å¼¹å‡º <code>function a(){ alter(4); }</code> å‡½æ•°ä½“</li><li>ç¬¬ä¸‰ä¸ª <code>alter(a)</code>  å¼¹å‡º <strong>1</strong></li><li>ç¬¬å››ä¸ª <code>alter(a)</code>  å¼¹å‡º <strong>3</strong></li><li>ç¬¬äº”ä¸ª <code>alter(a)</code>  å¼¹å‡º <strong>3</strong></li><li>æœ€åä¸€è¡ŒæŠ¥é”™ <code>a is not a function</code></li></ul></div>  </p><p>ä¸‹é¢æ¥åˆ†æä¸€ä¸‹è¿™æ®µä»£ç ï¼šå…¶å®åœ¨ <code>javascript</code> å¼€å§‹æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ª <strong>é¢„è§£æï¼ˆé¢„ç¼–è¯‘ï¼‰</strong> çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šäº§ç”Ÿ <strong>å˜é‡æå‡</strong> å’Œ <strong>å‡½æ•°æå‡</strong> ï¼Œå…¶å®æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ–¹ä¾¿ç†è§£ï¼š</p><ol><li><strong>é¢„è§£æ</strong>è¿™ä¸ªè¿‡ç¨‹ï¼Œä¼šæŠŠ å…³é”®å­— <code>var</code> ã€ <code>function</code> ã€ <strong>å‚æ•°</strong> æå–å‡ºæ¥</li></ol><p>ä¸Šé¢è¿™æ®µä»£ç  <strong>é¢„è§£æ</strong> çš„è¿‡ç¨‹æ˜¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬1è¡Œï¼Œæ²¡æœ‰å…³é”®å­— ï¼Œ ä¸è§£æ</span></span><br><span class="line"><span class="comment">// ç¬¬2è¡Œï¼Œé‡åˆ° function å…³é”®å­—ï¼Œè§£æåˆ°å…¨å±€çš„å¤´éƒ¨</span></span><br><span class="line">a = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123; alter(<span class="number">2</span>); &#125;</span><br><span class="line"><span class="comment">// ç¬¬3è¡Œï¼Œæ²¡æœ‰å…³é”®å­— ï¼Œ ä¸è§£æ</span></span><br><span class="line"><span class="comment">// ç¬¬4è¡Œï¼Œé‡åˆ°å…³é”®å­— var ï¼Œ è§£æåˆ°å…¨å±€çš„å¤´éƒ¨</span></span><br><span class="line">a = <span class="literal">undefined</span></span><br><span class="line"><span class="comment">// ç¬¬5è¡Œï¼Œæ²¡æœ‰å…³é”®å­— ï¼Œ ä¸è§£æ</span></span><br><span class="line"><span class="comment">// ç¬¬6è¡Œï¼Œé‡åˆ°å…³é”®å­— var ï¼Œ è§£æåˆ°å…¨å±€çš„å¤´éƒ¨</span></span><br><span class="line">a = <span class="literal">undefined</span></span><br><span class="line"><span class="comment">// ç¬¬8è¡Œï¼Œé‡åˆ° function å…³é”®å­—ï¼Œè§£æåˆ°å…¨å±€çš„å¤´éƒ¨</span></span><br><span class="line">a = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123; alter(<span class="number">4</span>); &#125;</span><br><span class="line"><span class="comment">// ç¬¬9è¡Œï¼Œæ²¡æœ‰å…³é”®å­— ï¼Œ ä¸è§£æ</span></span><br><span class="line"><span class="comment">// ç¬¬10è¡Œï¼Œa() å‡½æ•°è°ƒç”¨</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¿™é‡Œæœ‰4ä¸ªåŒåå˜é‡ a ï¼Œä¾å¾ªè§„åˆ™æ˜¯ï¼š<code>function</code> ä¼˜å…ˆä¸ <code>var</code>, åŒåçš„åé¢è¦†ç›–å‰é¢çš„å› æ­¤ï¼Œ<code>a = function a(){ alter(2); }</code> æ›¿æ¢æ‰ä¸‹é¢çš„2ä¸ª <del><code>a = undefined</code></del> ï¼Œ<code>a = function a(){ alter(4); }</code> åˆæ›¿æ¢æ‰ <del><code>a = function a(){ alter(2); }</code></del> ,æœ€ç»ˆåªå‰©ä¸‹ <code>a = function a(){ alter(4); }</code></p><p><strong>é¢„è§£æï¼ˆé¢„ç¼–è¯‘ï¼‰</strong> åçš„ä»£ç æ ·å­æ˜¯è¿™æ ·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123; alter(<span class="number">4</span>); &#125;</span><br><span class="line">alert(a);</span><br><span class="line">alert(a);</span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">alert(a);</span><br><span class="line">a = <span class="number">3</span>;</span><br><span class="line">alert(a);</span><br><span class="line">alert(a);</span><br><span class="line">a();</span><br></pre></td></tr></table></figure><ol start="2"><li>æ‰§è¡Œä»£ç ï¼Œå°±æ˜¯æ‰§è¡Œçš„è¿™æ®µä»£ç ï¼Œä¾æ¬¡ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œæœ€åçš„ <code>a()</code> å‡½æ•°è°ƒç”¨ï¼Œè¿™æ—¶çš„ <code>a</code> å·²è¢« <strong>è¡¨è¾¾å¼</strong> èµ‹å€¼æˆ <strong>3</strong> ï¼Œè€ŒæŠ¥é”™ <code>a is not a function</code></li></ol><hr><h3 id="å…¨å±€ä½œç”¨åŸŸå’Œå±€éƒ¨ä½œç”¨åŸŸ"><a href="#å…¨å±€ä½œç”¨åŸŸå’Œå±€éƒ¨ä½œç”¨åŸŸ" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸå’Œå±€éƒ¨ä½œç”¨åŸŸ"></a>å…¨å±€ä½œç”¨åŸŸå’Œå±€éƒ¨ä½œç”¨åŸŸ</h3><p>å†çœ‹è¿™æ®µä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">fn1();</span><br><span class="line">alert(a);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…ˆæ­æ™“ç­”æ¡ˆï¼š<div class="note success"><ul><li>ç¬¬ä¸€ä¸ª <code>alert(a)</code> å¼¹å‡º <code>undefined</code></li><li>ç¬¬äºŒä¸ª <code>alert(a)</code> å¼¹å‡º <strong>1</strong></li></ul></div></p><p><code>JavaScript</code> çš„ä½œç”¨åŸŸåªç”¨ä¸¤ç§ï¼Œä¸€ä¸ªæ˜¯å…¨å±€çš„ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°çš„ï¼Œä¹Ÿç§°ä¸º <strong>å…¨å±€ä½œç”¨åŸŸ</strong> å’Œ <strong>å±€éƒ¨ä½œç”¨åŸŸ</strong> ï¼›<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong> å¯ä»¥è®¿é—® <strong>å…¨å±€ä½œç”¨åŸŸ</strong> ã€‚ä½†æ˜¯ <strong>å…¨å±€ä½œç”¨åŸŸ</strong> ä¸èƒ½è®¿é—® <strong>å±€éƒ¨ä½œç”¨åŸŸ</strong> </p><p>åŒæ ·ç”¨ <strong>é¢„è§£æï¼ˆé¢„ç¼–è¯‘ï¼‰</strong> çš„æ–¹æ³•æ¥åˆ†æè¿™æ®µä»£ç </p><ol><li><strong>é¢„è§£æï¼ˆé¢„ç¼–è¯‘ï¼‰</strong> å…¨å±€ä½œç”¨åŸŸ</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬1è¡Œï¼Œé‡åˆ° var å…³é”®å­—ï¼Œè§£æåˆ°å…¨å±€çš„å¤´éƒ¨</span></span><br><span class="line">a = <span class="literal">undefined</span></span><br><span class="line"><span class="comment">// ç¬¬2è¡Œï¼Œé‡åˆ° function å…³é”®å­—ï¼Œè§£æåˆ°å…¨å±€çš„å¤´éƒ¨</span></span><br><span class="line">fn1 = <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬3è¡Œï¼Œæ²¡æœ‰é‡åˆ°å…³é”®å­—ï¼Œä¸è§£æ</span></span><br><span class="line"><span class="comment">// ç¬¬4è¡Œï¼Œæ²¡æœ‰é‡åˆ°å…³é”®å­—ï¼Œä¸è§£æ</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å¼€å§‹æ‰§è¡Œä»£ç </li></ol><p>ç¬¬1è¡Œï¼Œé‡åˆ°è¡¨è¾¾å¼ <code>a = 1</code>, <strong>a</strong> è¢«èµ‹å€¼æˆ <strong>1</strong> <br>ç¬¬6è¡Œï¼Œé‡åˆ°å‡½æ•°è°ƒç”¨ <code>fn1()</code> ,å¼€å§‹ <strong>é¢„è§£æï¼ˆé¢„ç¼–è¯‘ï¼‰</strong> å±€éƒ¨</p><ol start="3"><li><strong>é¢„è§£æï¼ˆé¢„ç¼–è¯‘ï¼‰</strong> å±€éƒ¨ä½œç”¨åŸŸ</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬3è¡Œï¼Œæ²¡æœ‰é‡åˆ°å…³é”®å­—ï¼Œä¸è§£æ</span></span><br><span class="line"><span class="comment">// ç¬¬4è¡Œï¼Œé‡åˆ° var å…³é”®å­—ï¼Œè§£æåˆ°å±€éƒ¨</span></span><br><span class="line">a = <span class="literal">undefined</span></span><br></pre></td></tr></table></figure><ol start="4"><li>å¼€å§‹æ‰§è¡Œ <strong>å±€éƒ¨</strong> ä»£ç </li></ol><p>ç¬¬3è¡Œï¼Œå¼¹å‡º <code>undefined</code> ç¬¬4è¡Œï¼Œé‡åˆ°è¡¨è¾¾å¼ï¼ŒæŠŠå±€éƒ¨ <strong>a</strong> æ”¹æˆ <strong>2</strong></p><ol start="5"><li>å±€éƒ¨æ‰§è¡Œå®Œæˆï¼Œç»§ç»­æ‰§è¡Œå…¨å±€</li></ol><p>ç¬¬7è¡Œï¼Œå¼¹å‡º <strong>1</strong> ï¼Œå› ä¸ºå…¨å±€å’Œå±€éƒ¨æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ä½œç”¨åŸŸ</p><hr><h3 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h3><p>å¦‚æœï¼ŒæŠŠä¸Šé¢ğŸ‘†ä»£ç ï¼Œç¨ä½œä¿®æ”¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(a);</span><br><span class="line">    a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">fn1();</span><br><span class="line">alert(a);</span><br></pre></td></tr></table></figure><p>å»æ‰äº† <code>function</code> é‡Œçš„ <code>var</code> ï¼Œç»“æœå°±ä¼šä¸ä¸€æ ·è¿™æ¬¡ï¼Œè¾“å‡ºçš„æ˜¯ï¼š</p><ul><li>ç¬¬ä¸€ä¸ª <code>alert</code> å¼¹å‡º <strong>1</strong></li><li>ç¬¬äºŒä¸ª <code>alert</code> å¼¹å‡º <strong>2</strong>å› ä¸ºåœ¨è§£æå±€éƒ¨æ˜¯æ²¡æœ‰å‘ç° <code>var a</code> ï¼Œå¦‚æ˜¯åœ¨æ‰§è¡Œæ—¶ï¼Œå°±ä¼šå»å…¨å±€æŸ¥æ‰¾ï¼Œæ‰¾åˆ°äº†å…¨å±€çš„ <code>a = 1</code> ï¼Œæ‰€ä»¥ ç¬¬ä¸€ä¸ª <code>alert</code> å¼¹å‡º <strong>1</strong> ï¼Œè€Œä¸æ˜¯ <code>undefined</code> ,è¿™ä¸ªå°±æ˜¯ <strong>ä½œç”¨åŸŸè¿</strong></li></ul><hr><h3 id="è¡¨è¾¾å¼ã€è¯­å¥-å’Œ-IIFE"><a href="#è¡¨è¾¾å¼ã€è¯­å¥-å’Œ-IIFE" class="headerlink" title="è¡¨è¾¾å¼ã€è¯­å¥ å’Œ IIFE"></a>è¡¨è¾¾å¼ã€è¯­å¥ å’Œ IIFE</h3><p>åœ¨çœ‹ä¸‹ä»¥ä¸‹ ğŸ‘‡ çš„ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">  &#125;</span><br><span class="line">)();</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    b = <span class="number">30</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆæ­æ™“ç­”æ¡ˆï¼š<div class="note success"><ul><li>ç¬¬1ä¸ª <code>console.log(b)</code> è¾“å‡ºçš„æ˜¯ <strong>10</strong></li><li>ç¬¬2ä¸ª <code>console.log(b)</code> è¾“å‡ºå‡½æ•°ä½“ <code>b() {console.log(b); b = 20; console.log(b);}</code></li><li>ç¬¬3ä¸ª <code>console.log(b)</code> è¾“å‡ºå‡½æ•°ä½“ <code>b() {console.log(b); b = 20; console.log(b);}</code></li><li>ç¬¬4ä¸ª <code>console.log(b)</code> è¾“å‡ºçš„æ˜¯ <strong>10</strong></li><li>ç¬¬5ä¸ª æ²¡æœ‰ä»»ä½•è¾“å‡º</li></ul></div></p><p>åœ¨åˆ†æè¿™æ®µä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŒæ¡ä¸€ç‚¹çŸ¥è¯†ï¼Œä»€ä¹ˆæ˜¯ <strong>è¯­å¥</strong> ï¼Œä»€ä¹ˆæ˜¯ <strong>è¡¨è¾¾å¼</strong> ä»¥åŠ <strong>IIFE</strong></p><h4 id="è¡¨è¾¾å¼ã€è¯­å¥"><a href="#è¡¨è¾¾å¼ã€è¯­å¥" class="headerlink" title="è¡¨è¾¾å¼ã€è¯­å¥"></a>è¡¨è¾¾å¼ã€è¯­å¥</h4><p><code>JavaScript</code> ç¨‹åºçš„æ‰§è¡Œå•ä½ä¸ºè¡Œ <code>ï¼ˆlineï¼‰</code> ï¼Œä¹Ÿå°±æ˜¯ä¸€è¡Œä¸€è¡Œåœ°æ‰§è¡Œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªè¯­å¥ã€‚</p><p>è¯­å¥ <code>ï¼ˆstatementï¼‰</code> æ˜¯ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œè¿›è¡Œçš„æ“ä½œï¼Œæ¯”å¦‚ä¸‹é¢å°±æ˜¯ä¸€è¡Œèµ‹å€¼è¯­å¥ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> + <span class="number">3</span>;</span><br></pre></td></tr></table></figure><p><code>1 + 3</code> å«åšè¡¨è¾¾å¼ <code>ï¼ˆexpressionï¼‰</code> ï¼ŒæŒ‡ä¸€ä¸ªä¸ºäº†å¾—åˆ°è¿”å›å€¼çš„è®¡ç®—å¼ã€‚è¯­å¥å’Œè¡¨è¾¾å¼çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…ä¸»è¦ä¸ºäº†è¿›è¡ŒæŸç§æ“ä½œï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦è¿”å›å€¼ï¼›åè€…åˆ™æ˜¯ä¸ºäº†å¾—åˆ°è¿”å›å€¼ï¼Œä¸€å®šä¼šè¿”å›ä¸€ä¸ªå€¼ã€‚å‡¡æ˜¯ JavaScript è¯­è¨€ä¸­é¢„æœŸä¸ºå€¼çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ã€‚æ¯”å¦‚ï¼Œèµ‹å€¼è¯­å¥çš„ç­‰å·å³è¾¹ï¼Œé¢„æœŸæ˜¯ä¸€ä¸ªå€¼ï¼Œå› æ­¤å¯ä»¥æ”¾ç½®å„ç§è¡¨è¾¾å¼ã€‚</p><h4 id="ç«‹å³æ‰§è¡Œå‡½æ•°-â€“-IIFE-ï¼ˆImmediately-Invoked-Function-Expressionï¼‰"><a href="#ç«‹å³æ‰§è¡Œå‡½æ•°-â€“-IIFE-ï¼ˆImmediately-Invoked-Function-Expressionï¼‰" class="headerlink" title="ç«‹å³æ‰§è¡Œå‡½æ•° â€“ IIFE ï¼ˆImmediately-Invoked Function Expressionï¼‰"></a>ç«‹å³æ‰§è¡Œå‡½æ•° â€“ IIFE <em>ï¼ˆImmediately-Invoked Function Expressionï¼‰</em></h4><p>åœ¨ <code>Javascript</code> ä¸­ï¼Œåœ†æ‹¬å· <code>()</code> æ˜¯ä¸€ç§è¿ç®—ç¬¦ï¼Œè·Ÿåœ¨ <strong>å‡½æ•°å</strong> ä¹‹åï¼Œè¡¨ç¤ºè°ƒç”¨è¯¥å‡½æ•°ã€‚ä¾‹å¦‚ï¼š <code>a()</code></p><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®šä¹‰å‡½æ•°ä¹‹åï¼Œç«‹å³è°ƒç”¨è¯¥å‡½æ•°ã€‚è¿™æ—¶ï¼Œä½ ä¸èƒ½åœ¨å‡½æ•°çš„å®šä¹‰ä¹‹ååŠ ä¸Šåœ†æ‹¬å·ï¼Œè¿™ä¼šäº§ç”Ÿè¯­æ³•é”™è¯¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">/* code */</span> &#125;();</span><br><span class="line"><span class="comment">// SyntaxError: Unexpected token (</span></span><br></pre></td></tr></table></figure><p>äº§ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ï¼Œ<code>function</code> è¿™ä¸ªå…³é”®å­—å³å¯ä»¥å½“ä½œè¯­å¥ï¼Œä¹Ÿå¯ä»¥å½“ä½œè¡¨è¾¾å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­å¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é¿å…è§£æä¸Šçš„æ­§ä¹‰ï¼Œ<code>JavaScript</code> å¼•æ“è§„å®šï¼Œå¦‚æœ <code>function</code> å…³é”®å­—å‡ºç°åœ¨è¡Œé¦–ï¼Œä¸€å¾‹è§£é‡Šæˆè¯­å¥ã€‚å› æ­¤ï¼Œ<code>JavaScript</code> å¼•æ“çœ‹åˆ°è¡Œé¦–æ˜¯ <code>function</code> å…³é”®å­—ä¹‹åï¼Œè®¤ä¸ºè¿™ä¸€æ®µéƒ½æ˜¯å‡½æ•°çš„å®šä¹‰ï¼Œä¸åº”è¯¥ä»¥åœ†æ‹¬å·ç»“å°¾ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚</p><p>è§£å†³æ–¹æ³•å°±æ˜¯ä¸è¦è®© <code>function</code> å‡ºç°åœ¨è¡Œé¦–ï¼Œè®©å¼•æ“å°†å…¶ç†è§£æˆä¸€ä¸ªè¡¨è¾¾å¼ã€‚æœ€ç®€å•çš„å¤„ç†ï¼Œå°±æ˜¯å°†å…¶æ”¾åœ¨ä¸€ä¸ªåœ†æ‹¬å·é‡Œé¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">/* code */</span> &#125;());</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">/* code */</span> &#125;)();</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤ç§å†™æ³•éƒ½æ˜¯ä»¥åœ†æ‹¬å·å¼€å¤´ï¼Œå¼•æ“å°±ä¼šè®¤ä¸ºåé¢è·Ÿçš„æ˜¯ä¸€ä¸ªè¡¨ç¤ºå¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å®šä¹‰è¯­å¥ï¼Œæ‰€ä»¥å°±é¿å…äº†é”™è¯¯ã€‚è¿™å°±å«åšâ€œç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼â€ <em>ï¼ˆImmediately-Invoked Function Expressionï¼‰</em> ï¼Œç®€ç§° <strong>IIFE</strong>ã€‚</p><p>äº†è§£è¿™äº›çŸ¥è¯†ä¹‹åï¼Œå†æ¥åˆ†æä¸Šé¢ ğŸ‘† æåˆ°çš„è¿™æ®µä»£ç </p><p>å…ˆæ‹†å¼€æ¥åˆ†æä¸‹ä»£ç ï¼ŒæŠŠè¿™æ®µå•ç‹¬æ‹¿å‡ºæ¥ï¼Œçœ‹çœ‹ ğŸ‘€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">  &#125;</span><br><span class="line">)();</span><br></pre></td></tr></table></figure><p>å…¶å®è¿™æ®µæ˜¯å¯ä»¥å•ç‹¬è¿è¡Œçš„ï¼Œç»“æœæ˜¯</p><div class="note success"><ul><li>ç¬¬1ä¸ª <code>console.log(b)</code> è¾“å‡ºå‡½æ•°ä½“ <code>b() {console.log(b); b = 20; console.log(b);}</code></li><li>ç¬¬2ä¸ª <code>console.log(b)</code> è¾“å‡ºå‡½æ•°ä½“ <code>b() {console.log(b); b = 20; console.log(b);}</code></li></ul></div><p>å†æ¥åˆ†æä¸‹åŸå› ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸ªå°±æ˜¯ä¸€ä¸ª <strong>IIFE</strong> , ç”±ä¸€ä¸ª <strong>å‡½æ•°è¡¨è¾¾å¼</strong> å’Œ åœ†æ‹¬å· <code>()</code> è¿ç®—ç¬¦ç»„æˆï¼Œä¸Šé¢ ğŸ‘† è¿™æ®µä»£ç å’Œä¸‹é¢ ğŸ‘‡ æ˜¯ç­‰ä»·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure><p>å†æ¥åˆ†æï¼Œå°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†</p><ul><li><strong>é¦–å…ˆå¼€å§‹è§£æ</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="literal">undefined</span>; <span class="comment">//ç¬¬ä¸€è¡Œ é‡åˆ° var å…³é”®å­—ï¼Œå˜é‡æå‡</span></span><br></pre></td></tr></table></figure><p>è§£æå®Œä¹‹åçš„æ ·å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b;</span><br><span class="line">b = <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;;</span><br><span class="line">b();</span><br></pre></td></tr></table></figure><ul><li><strong>æ‰§è¡Œä»£ç </strong></li></ul><p>ç¬¬2è¡Œï¼Œé‡åˆ° <strong>è¡¨è¾¾å¼è¯­å¥</strong> å°† <code>b(){console.log(b); b = 20; console.log(b);}</code> èµ‹å€¼ç»™ <code>b</code><br>ç¬¬7è¡Œï¼Œè°ƒç”¨å‡½æ•°ï¼Œå¼€å§‹å±€éƒ¨è§£æ</p><p>å±€éƒ¨è§£ææ²¡æœ‰å‘ç°å…³é”®å­— <code>var</code> å’Œ <code>function</code> ï¼Œæ²¡æœ‰ä»»ä½•åŠ¨ä½œ</p><p>ç»§ç»­æ‰§è¡Œ <strong>å±€éƒ¨</strong> ä»£ç </p><p>ç¬¬3è¡Œï¼Œ <code>console.log(b)</code> è¾“å‡ºå¤–éƒ¨çš„ <code>b = b(){console.log(b); b = 20; console.log(b);}</code> <br>ç¬¬4è¡Œï¼Œ ç”±ç¬¬3è¡Œå¯çŸ¥ï¼Œæ­¤æ—¶ï¼Œ <code>b</code> æ˜¯ä¸ªå†…éƒ¨å‡½æ•°ä½“ï¼Œè€Œä¸æ˜¯å¤–éƒ¨å˜é‡ <code>b</code> ï¼Œè§£æå™¨åªä¼šæŠŠ <code>b = 20;</code> å½“æˆæ™®é€š <strong>è¡¨è¾¾å¼</strong> ï¼Œè€Œä¸æ˜¯ <strong>è¡¨è¾¾å¼è¯­å¥</strong> ï¼Œä¸ä¼šè¿›è¡Œèµ‹å€¼æ“ä½œ <br>ç¬¬5è¡Œï¼Œ <code>b</code> çš„å€¼æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œä¾ç„¶è¾“å‡ºå‡½æ•°ä½“ <code>b = b(){console.log(b); b = 20; console.log(b);}</code> <br></p><p>æœ€ç»ˆï¼Œå›åˆ°æœ€å¼€å§‹ä»£ç æœ¬èº«</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">  &#125;</span><br><span class="line">)();</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    b = <span class="number">30</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é¢„è§£æï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="literal">undefined</span>; <span class="comment">//å˜é‡æå‡</span></span><br><span class="line">b = <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123; <span class="comment">//å‡½æ•°æå‡</span></span><br><span class="line">    b = <span class="number">30</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éµå¾ªï¼Œå‡½æ•° <code>ä¸€ç­‰å…¬æ°‘</code> åŸåˆ™ï¼Œå‡½æ•°ä¼˜å…ˆçº§é«˜äºå˜é‡ï¼Œ <del><code>b = undefined;</code></del> è¢«å¹²æ‰</p><p>é¢„è§£æä¹‹åï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    b = <span class="number">30</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line">b = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹ä¸‹ç­”æ¡ˆï¼Œå°±å¾ˆæ¸…æ¥šäº†</p><div class="note success"><ul><li>ç¬¬1ä¸ª <code>console.log(b)</code> è¾“å‡ºçš„æ˜¯ <strong>10</strong></li><li>ç¬¬2ä¸ª <code>console.log(b)</code> è¾“å‡ºå‡½æ•°ä½“ <code>b() {console.log(b); b = 20; console.log(b);}</code></li><li>ç¬¬3ä¸ª <code>console.log(b)</code> è¾“å‡ºå‡½æ•°ä½“ <code>b() {console.log(b); b = 20; console.log(b);}</code></li><li>ç¬¬4ä¸ª <code>console.log(b)</code> è¾“å‡ºçš„æ˜¯ <strong>10</strong></li><li>ç¬¬5ä¸ª æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œç”±äºå‡½æ•°æå‡ï¼Œæœ€ç»ˆ è¢« <code>b = 10</code> è¦†ç›–</li></ul></div><p>è¿™é‡Œï¼Œå¯ä»¥æŠŠä¸Šé¢ ğŸ‘† ä»£ç ç¨ä½œæ”¹åŠ¨ï¼Œç»“æœä¼šä¸ä¸€æ ·ï¼Œå¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">20</span>;  <span class="comment">// ++++ åŠ äº† var</span></span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">  &#125;</span><br><span class="line">)();</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    b = <span class="number">30</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±ä¸æ­æ™“ç­”æ¡ˆäº†ï¼Œæ„Ÿå…´è¶£çš„ï¼Œå¯è‡ªè¡Œæ€è€ƒ ğŸ¤” ï¼Œçœ‹çœ‹ ğŸ‘€ æœ€ç»ˆç­”æ¡ˆå¦‚ä½•ã€‚ã€‚ã€‚</p><hr><h3 id="åŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€å…·åå‡½æ•°è¡¨è¾¾å¼"><a href="#åŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€å…·åå‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="åŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€å…·åå‡½æ•°è¡¨è¾¾å¼"></a>åŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€å…·åå‡½æ•°è¡¨è¾¾å¼</h3><p>åœ¨æ¥çœ‹çœ‹è¿™æ®µä»£ç ğŸ‘‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    foo();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    foo();</span><br><span class="line">    <span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    foo();</span><br><span class="line">    <span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a &gt; <span class="number">3</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(++a);</span><br><span class="line">        foo();</span><br><span class="line">    &#125;;</span><br><span class="line">    foo();</span><br><span class="line">    bar();</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><p>å…ˆæ­æ™“ç­”æ¡ˆï¼š<div class="note success"><ul><li>ç¬¬1ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>1</strong></li><li>ç¬¬2ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>1</strong></li><li>ç¬¬3ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>2</strong></li><li>ç¬¬4ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>2</strong></li><li>æœ€åçš„ <code>bar()</code> è¾“å‡ºçš„æ˜¯ <strong>4</strong></li></ul></div></p><p>ä»¥ä¸Šä»£ç åŒ…å«äº† <strong>å‡½æ•°å£°æ˜</strong> ã€ <strong>åŒ¿åå‡½æ•°è¡¨è¾¾å¼</strong> ã€ <strong>å…·åå‡½æ•°è¡¨è¾¾å¼</strong> ï¼Œ<strong>åŒ¿åå‡½æ•°è¡¨è¾¾å¼</strong> ã€ <strong>å…·åå‡½æ•°è¡¨è¾¾å¼</strong> æ˜¯æŠŠå‡½æ•°ä½“èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå› æ­¤æ‹¥æœ‰å’Œå˜é‡ç›¸åŒçš„ç‰¹æ€§ <strong>å˜é‡æå‡</strong> ï¼Œè€Œ <strong>å…·åå‡½æ•°è¡¨è¾¾å¼</strong> çš„å‡½æ•°ååªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚</p><p>äº†è§£äº†è¿™äº›ï¼Œå†æ¥åˆ†ææ®µä»£ç </p><ul><li><strong>å…¨å±€é¢„è§£æ</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="literal">undefined</span></span><br><span class="line">fn = <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>æ‰§è¡Œä»£ç </strong>ç¬¬1è¡Œï¼Œé‡åˆ°è¡¨è¾¾å¼,æŠŠ <strong>a</strong> çš„å€¼æ”¹å˜æˆ3 <br>æœ€åè¡Œï¼Œé‡åˆ°å‡½æ•°è°ƒç”¨ï¼Œé‡æ–° <strong>é¢„è§£æ</strong> å±€éƒ¨</p></li><li><p><strong>å±€éƒ¨é¢„è§£æ</strong></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬4è¡Œï¼Œé‡åˆ° function å…³é”®å­—ï¼Œè§£æåˆ°å±€éƒ¨çš„å¤´éƒ¨</span></span><br><span class="line">foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬8è¡Œï¼Œé‡åˆ° var å…³é”®å­—ï¼Œè§£æåˆ°å±€éƒ¨çš„å¤´éƒ¨</span></span><br><span class="line">foo = <span class="literal">undefined</span></span><br><span class="line"><span class="comment">// ç¬¬12è¡Œï¼Œé‡åˆ° var å…³é”®å­—ï¼Œè§£æåˆ°å±€éƒ¨çš„å¤´éƒ¨</span></span><br><span class="line">bar = <span class="literal">undefined</span></span><br></pre></td></tr></table></figure><p>ç”±äºæœ‰ä¸¤ä¸ªåŒåå˜é‡ <code>foo</code> ï¼Œéµå¾ª <code>function</code> ä¼˜å…ˆ <code>var</code> å› æ­¤ï¼Œ <del><code>foo = undefined</code></del> è¢«å¹²æ‰</p><p><strong>å±€éƒ¨é¢„è§£æ</strong> å®Œä¹‹åçš„ä»£ç åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­ğŸ‘‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> bar;</span><br><span class="line">    foo();</span><br><span class="line">    foo();</span><br><span class="line">    foo = <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    foo();</span><br><span class="line">    bar = <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a &gt; <span class="number">3</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(++a);</span><br><span class="line">        foo();</span><br><span class="line">    &#125;;</span><br><span class="line">    foo();</span><br><span class="line">    bar();</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><ul><li><strong>æ‰§è¡Œå±€éƒ¨ä»£ç </strong> <br>ç¬¬1ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>1</strong> <br>ç¬¬2ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>1</strong> <br>ç¬¬3ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>2</strong> <br>ç¬¬4ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ <strong>2</strong> ï¼Œæ³¨æ„è¿™ä¸ª <code>foo()</code> è¾“å‡ºçš„æ˜¯ä¸Šé¢ <code>foo = function foo() {console.log(2);}</code> çš„å†…å®¹ï¼Œå› ä¸º <strong>å…·åå‡½æ•°è¡¨è¾¾å¼</strong> çš„å‡½æ•°ååªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œåœ¨å¤–éƒ¨æ— æ³•è®¿é—®ã€‚<br>æœ€åçš„ <code>bar()</code> è¾“å‡ºçš„æ˜¯ <strong>4</strong> ï¼Œè¿™é‡Œæ‰æ˜¯è¾“å‡º <code>function foo() {if(a &gt; 3) return;console.log(++a);foo();}</code> é‡Œçš„å†…å®¹ï¼Œè€Œä¸”ï¼Œè¿™ä¸ªå‡½æ•°ä½“å†…ä¹Ÿæœ‰è‡ªèº«çš„è°ƒç”¨ï¼Œç»“æœ <code>a</code> å˜é‡ <strong>+1</strong> ï¼Œè¯´æ˜å¯ä»¥è°ƒç”¨ï¼Œå…¶å®ï¼Œå¯ä»¥ç”¨ <code>bar.name</code> è¾“å‡ºçš„å°±æ˜¯ <code>foo</code></li></ul><p><strong>æ‰€ä»¥ï¼Œæ³¨æ„ï¼š</strong></p><div class="note danger"><ul><li><code>bar = function foo()</code> , ä¸è¦ç”¨è¿™ç§å†™æ³• ï¼Œä¼˜é›…çš„å†™æ³•æ˜¯ <strong>å˜é‡å</strong> å’Œ <strong>å‡½æ•°å</strong> ä¿æŒä¸€è‡´ <code>foo = function foo()</code></li><li>ä¸æ¨èä½¿ç”¨ <strong>åŒ¿åå‡½æ•°è¡¨è¾¾å¼</strong> ï¼Œæœ‰ä»¥ä¸‹ ğŸ‘‡ å‡ ä¸ªç¼ºç‚¹<ul><li>åœ¨è¿½è¸ªæ ˆä¸­æ²¡å‡½æ•°åï¼Œè°ƒè¯•å›°éš¾</li><li>å¦‚æœéœ€è¦å¼•ç”¨è‡ªèº«ï¼Œåªèƒ½ç”¨éæ ‡å‡†çš„ <code>arguments.callee</code>ï¼ˆES5ä¸¥æ ¼æ¨¡å¼ç¦ç”¨ï¼‰</li></ul></li></ul></div>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/javascriptScope.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¦‚ä½•ç”¨ CSS + HTML + JS åˆ›å»ºæ¡Œé¢åº”ç”¨</title>
      <link>https://h.lishaoy.net/nwjsElectronjs.html</link>
      <guid>https://h.lishaoy.net/nwjsElectronjs.html</guid>
      <pubDate>Tue, 27 Mar 2018 17:42:26 GMT</pubDate>
      <description>
      
        &lt;p&gt;æœ€è¿‘ç ”ç©¶äº†ä¸€ä¸‹åŸºäº &lt;code&gt;Chromium&lt;/code&gt; å®šåˆ¶æµè§ˆå™¨çš„æ–¹æ¡ˆï¼ŒæŸ¥é˜…äº†å¤§é‡èµ„æ–™ï¼Œå…·ä½“æ–¹æ¡ˆä¹Ÿæœ‰äº†å¤§æ¦‚çš„è“å›¾ ğŸ˜‰ &lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>æœ€è¿‘ç ”ç©¶äº†ä¸€ä¸‹åŸºäº <code>Chromium</code> å®šåˆ¶æµè§ˆå™¨çš„æ–¹æ¡ˆï¼ŒæŸ¥é˜…äº†å¤§é‡èµ„æ–™ï¼Œå…·ä½“æ–¹æ¡ˆä¹Ÿæœ‰äº†å¤§æ¦‚çš„è“å›¾ ğŸ˜‰ </p><hr><a id="more"></a><p>åœ¨é˜è¿°æ–¹æ¡ˆä¹‹å‰ï¼Œå…ˆè¦äº†è§£å‡ ä¸ªåè¯ï¼š</p><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><h4 id="Chromium"><a href="#Chromium" class="headerlink" title="Chromium"></a>Chromium</h4><blockquote><p>Chromiumæ˜¯ä¸€ä¸ªç”±Googleä¸»å¯¼å¼€å‘çš„ç½‘é¡µæµè§ˆå™¨ï¼Œä»¥BSDè®¸å¯è¯ç­‰å¤šé‡è‡ªç”±ç‰ˆæƒå‘è¡Œå¹¶å¼€æ”¾æºä»£ç ã€‚Chromiumçš„å¼€å‘å¯èƒ½æ—©è‡ª2006å¹´å³å¼€å§‹ã€‚</p></blockquote><blockquote><p>Chromiumæ˜¯Googleä¸ºå‘å±•è‡ªå®¶çš„æµè§ˆå™¨Google Chromeè€Œæ‰“å¼€çš„é¡¹ç›®ï¼Œæ‰€ä»¥Chromiumç›¸å½“äºGoogle Chromeçš„å·¥ç¨‹ç‰ˆæˆ–å®éªŒç‰ˆï¼ˆå°½ç®¡Google Chromeæœ¬èº«ä¹Ÿæœ‰Î²ç‰ˆï¼‰ï¼Œæ–°åŠŸèƒ½ä¼šç‡å…ˆåœ¨Chromiumä¸Šå¼€æ”¾ï¼Œå¾…éªŒè¯åæ‰ä¼šåº”ç”¨åœ¨Google Chromeä¸Šï¼Œæ•…Google Chromeçš„åŠŸèƒ½ä¼šç›¸å¯¹è½åä½†è¾ƒç¨³å®šã€‚ â€”â€” <a href="https://zh.wikipedia.org/wiki/Chromium#cite_note-3" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p></blockquote><h4 id="CEF"><a href="#CEF" class="headerlink" title="CEF"></a>CEF</h4><blockquote><p>Chromium Embedded Framework (CEF)æ˜¯ä¸ªåŸºäºGoogle Chromiumé¡¹ç›®çš„å¼€æºWeb browseræ§ä»¶ï¼Œæ”¯æŒWindows, Linux, Macå¹³å°ã€‚é™¤äº†æä¾›C/C++æ¥å£å¤–ï¼Œä¹Ÿæœ‰å…¶ä»–è¯­è¨€çš„ç§»æ¤ç‰ˆã€‚</p></blockquote><blockquote><p>å› ä¸ºåŸºäºChromiumï¼Œæ‰€ä»¥CEFæ”¯æŒWebkit &amp; Chromeä¸­å®ç°çš„HTML5çš„ç‰¹æ€§ï¼Œå¹¶ä¸”åœ¨æ€§èƒ½ä¸Šé¢ï¼Œä¹Ÿæ¯”è¾ƒæ¥è¿‘Chromeã€‚CEFè¿˜æä¾›çš„å¦‚ä¸‹ç‰¹æ€§ï¼šè‡ªå®šä¹‰æ’ä»¶ã€è‡ªå®šä¹‰åè®®ã€è‡ªå®šä¹‰JavaScriptå¯¹è±¡å’Œæ‰©å±•ï¼›å¯æ§åˆ¶çš„resource loading, navigation, context menusç­‰ç­‰  â€”â€” <a href="https://baike.baidu.com/item/CEF/20837917?fr=aladdin" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘</a></p></blockquote><h4 id="NW"><a href="#NW" class="headerlink" title="NW"></a>NW</h4><blockquote><p>NW.js æ˜¯åŸºäº Chromium å’Œ Node.js è¿è¡Œçš„ï¼Œ ä»¥å‰ä¹Ÿå«nodeWebkitã€‚è¿™å°±ç»™äº†ä½ ä½¿ç”¨HTMLå’ŒJavaScriptæ¥åˆ¶ä½œæ¡Œé¢åº”ç”¨çš„å¯èƒ½ã€‚åœ¨åº”ç”¨é‡Œä½ å¯ä»¥ç›´æ¥è°ƒç”¨Node.jsçš„å„ç§apiä»¥åŠç°æœ‰çš„ç¬¬ä¸‰æ–¹åŒ…ã€‚å› ä¸ºChromiumå’Œ Node.js çš„è·¨å¹³å°ï¼Œé‚£ä¹ˆä½ çš„åº”ç”¨ä¹Ÿæ˜¯å¯ä»¥è·¨å¹³å°çš„ã€‚â€”â€” <a href="https://segmentfault.com/a/1190000003870613" target="_blank" rel="noopener">SegmentFault</a></p></blockquote><h4 id="Electron"><a href="#Electron" class="headerlink" title="Electron"></a>Electron</h4><blockquote><p>Electronï¼ˆæœ€åˆåä¸ºAtom Shellï¼‰æ˜¯GitHubå¼€å‘çš„ä¸€ä¸ªå¼€æºæ¡†æ¶ã€‚å®ƒå…è®¸ä½¿ç”¨Node.jsï¼ˆä½œä¸ºåç«¯ï¼‰å’ŒChromiumï¼ˆä½œä¸ºå‰ç«¯ï¼‰å®Œæˆæ¡Œé¢GUIåº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚Electronç°å·²è¢«å¤šä¸ªå¼€æºWebåº”ç”¨ç¨‹åºç”¨äºå‰ç«¯ä¸åç«¯çš„å¼€å‘ï¼Œè‘—åé¡¹ç›®åŒ…æ‹¬GitHubçš„Atomå’Œå¾®è½¯çš„Visual Studio Codeã€‚â€”â€” <a href="https://zh.wikipedia.org/wiki/Electron_%28%E8%BD%AF%E4%BB%B6%E6%A1%86%E6%9E%B6%29" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p></blockquote><p>æ‰€ä»¥ ï¼Œ<strong>CEF</strong>ã€<strong>nw</strong>ã€<strong>Electron</strong> éƒ½æ˜¯åŸºäº <code>Chromium</code> çš„å¼€æºæ¡†æ¶ï¼Œå¯ä»¥å®ç°æ‰€éœ€çš„å®šåˆ¶æµè§ˆå™¨éœ€æ±‚ï¼Œå‡†ç¡®çš„è®²åº”è¯¥æ˜¯ç”¨ <code>HTML5</code> ã€ <code>CSS3</code> ã€ <code>JavaScript</code> æ¥åˆ¶ä½œæ‹¥æœ‰æ¼‚äº®ç•Œé¢çš„<strong>æ¡Œé¢åº”ç”¨</strong>ã€‚</p><p>å°±æ˜¯ä¸€ä¸ªæœ¬åœ°å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä½¿ç”¨ä¸€ä¸ªå†…ç½®çš„æµè§ˆå™¨å†…æ ¸æ¸²æŸ“å‰ç«¯ç•Œé¢ï¼Œå¦ä¸€æ–¹é¢è¿˜å¯ä»¥è°ƒç”¨æœ¬åœ°ç³»ç»Ÿçº§APIï¼Œå®ç°æœ¬åœ°åº”ç”¨ç¨‹åºçš„å„ç§åŠŸèƒ½ã€‚</p><hr><h3 id="å¸‚åœºè°ƒç ”"><a href="#å¸‚åœºè°ƒç ”" class="headerlink" title="å¸‚åœºè°ƒç ”"></a>å¸‚åœºè°ƒç ”</h3><p>é€šè¿‡æŸ¥é˜…å¤§é‡èµ„æ–™å¾—çŸ¥ï¼Œä»¥å„ä¼ä¸šçš„çº¿ä¸Šäº§å“åŠä½¿ç”¨çš„æŠ€æœ¯ä¾›å‚è€ƒã€‚</p><h4 id="CEF-æ¡ˆä¾‹"><a href="#CEF-æ¡ˆä¾‹" class="headerlink" title="CEF æ¡ˆä¾‹"></a>CEF æ¡ˆä¾‹</h4><p>æ® <strong>CEF</strong> å®˜æ–¹ä»‹ç»ï¼Œä»¥ä¸‹ï¼ˆå¦‚å›¾ï¼‰æ¡Œé¢åº”ç”¨åœ¨ä½¿ç”¨ <code>CEF</code>ã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/CEF.png?raw=true" alt="CEF" width="85%" title="who is using CEF" align="center"></p><p>å›½å†…æ¡Œé¢åº”ç”¨æœ‰ï¼š<a href="http://note.youdao.com" target="_blank" rel="noopener">æœ‰é“äº‘ç¬”è®°</a> <i style="color:#aaa">ï¼ˆç½‘æ˜“ï¼‰</i>ã€<a href="https://www.dingtalk.com/?source=2202&amp;lwfrom=2017120202092064209309201" target="_blank" rel="noopener">é’‰é’‰</a><i style="color:#aaa">ï¼ˆé˜¿é‡Œå·´å·´ï¼‰</i>ã€<a href="https://im.qq.com/pcqq/" target="_blank" rel="noopener">QQ</a><i style="color:#aaa">ï¼ˆè…¾è®¯ï¼‰</i> ç­‰ï¼ŒæŸ¥çœ‹å®‰è£…åç›®å½•åŠæ–‡ä»¶ï¼Œå¯ä»¥çœ‹å‡º <strong>æœ‰é“äº‘ç¬”è®°</strong>ã€<strong>é’‰é’‰</strong> æ˜¯ä½¿ç”¨çš„æ˜¯<code>CEF</code>ï¼Œè€Œ <strong>é’‰é’‰</strong> ç•Œé¢æ˜¯ä½¿ç”¨ <code>AngularJs</code>ï¼Œæ®äº†è§£åç«¯åº”è¯¥ç”¨äº†<code>C++</code>å’Œ<code>Python</code>ã€‚</p><p><strong>QQ</strong> å¾ˆæ—©ä¹‹å‰å°±é€šè¿‡å†…åµŒ <strong>IE</strong> æ¥å®ç°ä¸€äº›åŠŸèƒ½å’Œç•Œé¢ã€‚ä»2013å¹´å¼€å§‹ï¼Œ<strong>QQ</strong> å¼•å…¥äº† <code>CEF</code>ï¼Œå¯¹ä¸€äº›ä¹‹å‰ç”¨ <strong>IE</strong> çš„åœ°æ–¹è¿›è¡Œäº†æ›¿æ¢ã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520329975606.png?raw=true" alt="no-shadow" title="é’‰é’‰Macç‰ˆç›®å½•"></p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520330256871.png?raw=true" alt="no-shadow" title="é’‰é’‰Macç‰ˆåº”ç”¨ç•Œé¢"></p><h4 id="NW-æ¡ˆä¾‹"><a href="#NW-æ¡ˆä¾‹" class="headerlink" title="NW æ¡ˆä¾‹"></a>NW æ¡ˆä¾‹</h4><p>è¿™ä¸ªæ˜¯ <strong><a href="https://nwjs.io" target="_blank" rel="noopener">NW</a></strong> å®˜æ–¹ç»™å‡ºçš„ä½¿ç”¨ <code>nw.js</code> çš„åº”ç”¨åˆ—è¡¨ï¼š<a href="https://github.com/nwjs/nw.js/wiki/List-of-apps-and-companies-using-nw.js" target="_blank" rel="noopener">https://github.com/nwjs/nw.js/wiki/List-of-apps-and-companies-using-nw.js</a> </p><p>è€Œå›½å†…çš„æœ‰ï¼Œæ¯”å¦‚å¾®ä¿¡å¼€å‘å·¥å…·ç­‰ï¼Œæ˜¯åŸºäº <code>nw.js</code> å¼€å‘çš„ã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520571438918.png?raw=true" alt="no-shadow" title="å¾®ä¿¡å¼€å‘å·¥å…·Macç‰ˆç›®å½•"></p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520571517344.png?raw=true" alt="no-shadow" title="å¾®ä¿¡å¼€å‘å·¥å…·Macç‰ˆ"></p><h4 id="Electron-æ¡ˆä¾‹"><a href="#Electron-æ¡ˆä¾‹" class="headerlink" title="Electron æ¡ˆä¾‹"></a>Electron æ¡ˆä¾‹</h4><p>è¿™ä¸ªæ˜¯ <strong><a href="https://electronjs.org" target="_blank" rel="noopener">Electron</a></strong> å®˜æ–¹ç»™å‡ºçš„æ˜¯ç”¨ <code>electron</code> çš„åº”ç”¨åˆ—è¡¨ï¼š<a href="https://electronjs.org/apps" target="_blank" rel="noopener">https://electronjs.org/apps</a></p><p>å¦‚å›¾ï¼Œ<strong>Electron</strong> å·²è¢«åƒ <strong>å¾®è½¯</strong>ã€ <strong>Facebook</strong>ã€ <strong>Slack</strong> å’Œ <strong>Docker</strong> è¿™æ ·çš„å…¬å¸ç”¨äºåˆ›å»ºåº”ç”¨ç¨‹åºã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520668439676.png?raw=true" alt="electron" width="85%" title="electron åº”ç”¨" align="center"></p><p>æˆ‘æ‰€ç”¨çš„ç¼–è¾‘å™¨ <strong>Visual Studio Code</strong> å°±æ˜¯åŸºäº <code>electron</code> å¼€å‘çš„</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520669844227.png?raw=true" alt="no-shadow" title="VS Code Macç‰ˆ"></p><hr><h3 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h3><p>ä¸‹é¢ä¼šåˆ†åˆ«ç”¨ <code>nw.js</code> å’Œ <code>electron</code> åšä¸€ä¸ªç®€å•çš„ <strong>Dome</strong>ã€‚</p><p>ç”±äº <strong>CEF</strong> æ–‡æ¡£èµ„æ–™å°‘ä¸”åŸç”Ÿæ˜¯ <code>C\C++</code> ï¼Œè™½ç„¶å®˜æ–¹ç»™å‡ºäº† <code>java</code> ç‰ˆçš„ <strong>JCEF</strong> ï¼Œå¼€å‘èµ·æ¥æ•ˆç‡è¾ƒä½ï¼Œæ•…æ­¤ä¸çŸ¥æ¼”ç¤ºã€‚</p><p>è¿™ä¸ªæ˜¯ <strong><a href="https://bitbucket.org/chromiumembedded/cef" target="_blank" rel="noopener">CEF</a></strong> å®˜ç½‘ï¼Œåœ¨ <em>External Projects</em> ç« èŠ‚åˆ—å‡ºæ”¯æŒè¯­è¨€ï¼š</p><blockquote><ul><li>Net (CEF3) - <a href="https://github.com/cefsharp/CefSharp" target="_blank" rel="noopener">https://github.com/cefsharp/CefSharp</a></li><li>Net (CEF1) - <a href="https://bitbucket.org/fddima/cefglue" target="_blank" rel="noopener">https://bitbucket.org/fddima/cefglue</a></li><li>Net/Mono (CEF3) - <a href="https://bitbucket.org/xilium/xilium.cefglue" target="_blank" rel="noopener">https://bitbucket.org/xilium/xilium.cefglue</a></li><li>Net (CEF3) - <a href="https://bitbucket.org/chromiumfx/chromiumfx" target="_blank" rel="noopener">https://bitbucket.org/chromiumfx/chromiumfx</a></li><li>Delphi (CEF1) - <a href="http://code.google.com/p/delphichromiumembedded/" target="_blank" rel="noopener">http://code.google.com/p/delphichromiumembedded/</a></li><li>Delphi (CEF3) - <a href="https://github.com/hgourvest/dcef3" target="_blank" rel="noopener">https://github.com/hgourvest/dcef3</a></li><li>Delphi (CEF3) - <a href="https://github.com/salvadordf/CEF4Delphi" target="_blank" rel="noopener">https://github.com/salvadordf/CEF4Delphi</a></li><li>Go - <a href="https://github.com/CzarekTomczak/cef2go" target="_blank" rel="noopener">https://github.com/CzarekTomczak/cef2go</a></li><li>Java - <a href="https://bitbucket.org/chromiumembedded/java-cef" target="_blank" rel="noopener">https://bitbucket.org/chromiumembedded/java-cef</a></li><li>Java - <a href="http://code.google.com/p/javacef/" target="_blank" rel="noopener">http://code.google.com/p/javacef/</a></li><li>Python - <a href="http://code.google.com/p/cefpython/" target="_blank" rel="noopener">http://code.google.com/p/cefpython/</a></li></ul></blockquote><h4 id="NW-gt-Hello-world"><a href="#NW-gt-Hello-world" class="headerlink" title="NW =&gt; Hello, world!"></a>NW =&gt; Hello, world!</h4><p>ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç¼–å†™ä¸€ä¸ª <strong>NW</strong> åº”ç”¨ã€‚</p><ul><li><strong>ç¬¬ä¸€æ­¥</strong> åˆ›å»º <code>package.json</code> é…ç½®æ–‡ä»¶</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"helloworld"</span>,</span><br><span class="line">    <span class="string">"main"</span>: <span class="string">"index.html"</span>,</span><br><span class="line">    <span class="string">"icon"</span>: <span class="string">"img/app.png"</span>,</span><br><span class="line">    <span class="string">"window"</span>: &#123;</span><br><span class="line">        <span class="string">"icon"</span>: <span class="string">"img/app.png"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main</code> é…ç½®åº”ç”¨æ‰“å¼€é¦–é¡µï¼Œ<code>name</code> é…ç½®åº”ç”¨çš„åç§°ã€‚</p><ul><li><strong>ç¬¬äºŒæ­¥</strong> åˆ›å»º <code>index.html</code> </li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Holle NW<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    html,</span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="undefined">        margin: 0;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">display</span>: <span class="selector-tag">flex</span>; <span class="comment">/* css3 å¼¹æ€§ç›’å­ */</span></span></span><br><span class="line"><span class="undefined">        justify-content: center;</span></span><br><span class="line"><span class="undefined">        align-items: center;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Holle NW!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ <strong>HTML</strong> æ–‡ä»¶ï¼ŒåŠ å…¥äº†ä¸€ç‚¹CSSï¼Œç›®çš„æ˜¯è®© <strong>Holle NW!</strong> æ°´å¹³å‚ç›´å±…ä¸­ã€‚</p><ul><li><strong>ç¬¬ä¸‰æ­¥</strong> æ‰“åŒ…åº”ç”¨</li></ul><p>è¿™é‡Œæˆ‘åªæµ‹è¯•äº† <strong>Mac</strong> å’Œ <strong>Windows</strong> çš„æ‰“åŒ…ï¼Œ<strong>Linux</strong> æ²¡æœ‰æµ‹è¯•ã€‚</p><p><strong>Macæ‰“åŒ…åº”ç”¨ï¼š</strong> åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŠŠæ‰€æœ‰æ–‡ä»¶å‹ç¼©æˆ <code>app.nw</code> æ–‡ä»¶ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -r app.nw *</span><br></pre></td></tr></table></figure><p>ç„¶åæŠŠ<code>app.nw</code> æ–‡ä»¶æ”¾åˆ° <code>nwjs.app/Contents/Resources/</code> ç›®å½•ä¸‹å³å¯ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520711078780.png?raw=true" alt="no-shadow" title="Macä¸‹è¿è¡Œæ•ˆæœ"></p><p><strong>Windowsæ‰“åŒ…åº”ç”¨ï¼š</strong>  å°†åº”ç”¨çš„æ‰€æœ‰ç›¸å…³æ–‡ä»¶æ‰“æˆä¸€ä¸ªåä¸º<code>package.nw</code> çš„å‹ç¼©åŒ…ï¼Œå°†<code>package.nw</code> ä¸<strong>NW</strong>å¯æ‰§è¡Œæ–‡ä»¶æ”¾åˆ°ç›¸åŒç›®å½•å³å¯ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520711343860.png?raw=true" alt="no-shadow" title="Windonsä¸‹è¿è¡Œæ•ˆæœ "></p><hr><h4 id="Electron-gt-Hello-world"><a href="#Electron-gt-Hello-world" class="headerlink" title="Electron =&gt; Hello, world!"></a>Electron =&gt; Hello, world!</h4><p><strong>Electron</strong> å¯ä»¥è®©ä½ ä½¿ç”¨çº¯ <code>JavaScript</code> è°ƒç”¨ä¸°å¯Œçš„åŸç”Ÿ(æ“ä½œç³»ç»Ÿ) <strong>APIs</strong> æ¥åˆ›é€ æ¡Œé¢åº”ç”¨ã€‚</p><p>åªéœ€3ä¸ªæ–‡ä»¶å°±å¯ä»¥æ„å»ºä¸€ä¸ªç®€å•çš„åº”ç”¨</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your-app/</span><br><span class="line">  â”œâ”€â”€ package.json</span><br><span class="line">  â”œâ”€â”€ main.js</span><br><span class="line">  â””â”€â”€ index.html</span><br></pre></td></tr></table></figure><ul><li><strong>ç¬¬ä¸€æ­¥</strong> åˆ›å»ºé…ç½®æ–‡ä»¶</li></ul><p>é¦–å…ˆéœ€è¦å®‰è£… <strong>Node</strong> ç¯å¢ƒï¼Œç”¨ <code>npm</code> æ¥åˆ›å»ºä¸€ä¸ªåº”ç”¨çš„é…ç½®æ–‡ä»¶ <code>package.json</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure><p>åœ¨ <code>package.json</code> é‡Œæ–°å¢å¯åŠ¨å‘½ä»¤ <code>start</code> </p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"your-app"</span>,</span><br><span class="line">    <span class="string">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">    <span class="string">"main"</span>: <span class="string">"main.js"</span>,</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">      <span class="string">"start"</span>: <span class="string">"electron ."</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li><strong>ç¬¬äºŒæ­¥</strong> åˆ›å»ºå…¥å£æ–‡ä»¶ <code>main.js</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;app, BrowserWindow&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWindow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    win = <span class="keyword">new</span> BrowserWindow(&#123;</span><br><span class="line">        width: <span class="number">1008</span>,</span><br><span class="line">        height: <span class="number">759</span></span><br><span class="line">    &#125;)</span><br><span class="line">      </span><br><span class="line">    win.loadURL(url.format(&#123;</span><br><span class="line">        pathname: path.join(__dirname, <span class="string">'index.html'</span>),</span><br><span class="line">        protocol: <span class="string">'file:'</span>,</span><br><span class="line">        slashes: <span class="literal">true</span></span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'ready'</span>, createWindow)</span><br></pre></td></tr></table></figure><p>ä»£ç å·²ç»å¾ˆæ¸…æ™°ç›´è§‚ï¼Œ<code>createWindow</code> åˆ›å»ºä¸€ä¸ªæ¡Œé¢çª—å£ï¼Œè€Œå¤§å°ç”± <code>width</code>ã€<code>height</code> æ§åˆ¶ï¼Œ<code>win.loadURL</code> ç”¨æ¥åŠ è½½é¡µé¢ã€‚</p><ul><li><strong>ç¬¬ä¸‰æ­¥</strong> åˆ›å»ºå±•ç¤ºæ–‡ä»¶ <code>index.html</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello Electron<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    html,</span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="undefined">        margin: 0;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="undefined">        display: flex;</span></span><br><span class="line"><span class="css">        <span class="comment">/* css3 å¼¹æ€§ç›’å­ */</span></span></span><br><span class="line"><span class="undefined">        justify-content: center;</span></span><br><span class="line"><span class="undefined">        align-items: center;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello Electron!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ <strong>HTML</strong> æ–‡ä»¶ï¼ŒåŠ å…¥äº†ä¸€ç‚¹CSSï¼Œç›®çš„æ˜¯è®© <strong>Holle NW!</strong> æ°´å¹³å‚ç›´å±…ä¸­ã€‚</p><ul><li><strong>ç¬¬å››æ­¥</strong> æ‰“åŒ…åº”ç”¨</li></ul><p><strong>æ‰“åŒ…åº”ç”¨ï¼š</strong> æ‰“åŒ…åº”ç”¨å¯ä»¥æ˜¯ç”¨ <code>electron-packager</code> å·¥å…·è¿›è¡Œæ‰“åŒ…ï¼Œéœ€è¦åœ¨ <code>package.json</code> é…ç½®ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "start": "electron .",</span><br><span class="line">    "packager": "electron-packager ./ HelloElectron --all --out ./OutApp --version 0.0.1 --overwrite --ignore=node_modules --icon=./app/img/app.ico"</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œè¿è¡Œåœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ <code>npm run packagerMac</code> å³å¯æ‰“åŒ…<code>linux</code>ã€<code>Mac</code>ã€<code>windows</code> ä¸‰å¤§å¹³å°åº”ç”¨åŒ…ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520791859473.png?raw=true" alt="æ‰“åŒ…åçš„åº”ç”¨" width="60%" title="æ‰“åŒ…åçš„åº”ç”¨" align="center"></p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520790145115.png?raw=true" alt="no-shadow" title="Macä¸‹è¿è¡Œæ•ˆæœ"></p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520792416456.png?raw=true" alt="no-shadow" title="Windowsä¸‹è¿è¡Œæ•ˆæœ"></p><hr><h3 id="GitHubå…³æ³¨åº¦å’Œæ´»è·ƒåº¦"><a href="#GitHubå…³æ³¨åº¦å’Œæ´»è·ƒåº¦" class="headerlink" title="GitHubå…³æ³¨åº¦å’Œæ´»è·ƒåº¦"></a>GitHubå…³æ³¨åº¦å’Œæ´»è·ƒåº¦</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ <strong>GitHub</strong> çš„ä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€çš„æ„æ€ï¼Œ</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520857435681.png?raw=true" alt="no-shadow"></p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520857536175.png?raw=true" alt="no-shadow"> ï¼šè¡¨ç¤ºä½ ä»¥åä¼šå…³æ³¨è¿™ä¸ªé¡¹ç›®çš„æ‰€æœ‰åŠ¨æ€ï¼Œè¿™ä¸ªé¡¹ç›®ä»¥ååªè¦å‘ç”Ÿå˜åŠ¨ï¼Œå¦‚è¢«åˆ«äººæäº¤äº† <code>pull request</code>ã€è¢«åˆ«äººå‘èµ·äº†<code>issue</code> ç­‰ç­‰æƒ…å†µï¼Œä½ éƒ½ä¼šåœ¨è‡ªå·±çš„ä¸ªäººé€šçŸ¥ä¸­å¿ƒï¼Œæ”¶åˆ°ä¸€æ¡é€šçŸ¥æ¶ˆæ¯ï¼Œå¦‚æœä½ è®¾ç½®äº†ä¸ªäººé‚®ç®±ï¼Œé‚£ä¹ˆä½ çš„é‚®ç®±ä¹Ÿå¯èƒ½æ”¶åˆ°ç›¸åº”çš„é‚®ä»¶ã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520857569746.png?raw=true" alt="no-shadow">ï¼šè¡¨ç¤ºä½ å–œæ¬¢è¿™ä¸ªé¡¹ç›®æˆ–è€…é€šä¿—ç‚¹ï¼Œå¯ä»¥æŠŠä»–ç†è§£æˆæœ‹å‹åœˆçš„ç‚¹èµï¼Œè¡¨ç¤ºå¯¹è¿™ä¸ªé¡¹ç›®çš„æ”¯æŒã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520857709924.png?raw=true" alt="no-shadow">ï¼šå½“é€‰æ‹© <code>fork</code>ï¼Œç›¸å½“äºä½ è‡ªå·±æœ‰äº†ä¸€ä»½åŸé¡¹ç›®çš„æ‹·è´ï¼Œå½“ç„¶è¿™ä¸ªæ‹·è´åªæ˜¯é’ˆå¯¹å½“æ—¶çš„é¡¹ç›®æ–‡ä»¶ï¼Œå¦‚æœåç»­åŸé¡¹ç›®æ–‡ä»¶å‘ç”Ÿæ”¹å˜ï¼Œä½ å¿…é¡»é€šè¿‡å…¶ä»–çš„æ–¹å¼å»åŒæ­¥ã€‚<i style="color:#aaa">ï¼ˆä¸€èˆ¬ç”¨äºä¿®æ”¹<strong>bug</strong>å’Œä¼˜åŒ–é¡¹ç›®æˆ–è€…åœ¨æ­¤é¡¹ç›®ä¸Šå¼€å‘æ–°åŠŸèƒ½ç­‰ï¼‰</i></p><h4 id="CEF-1"><a href="#CEF-1" class="headerlink" title="CEF"></a>CEF</h4><p><strong>CEF</strong> åœ¨ <strong>GitHub</strong> æ‰¾ä¸åˆ°é¡¹ç›®ï¼Œè¿™ä¸ª<a href="https://bitbucket.org/chromiumembedded/cef/overview" target="_blank" rel="noopener">å®˜ç½‘</a> æä¾›çš„æ•°æ®ï¼Œå¦‚å›¾<i style="color:#aaa">ï¼ˆç”±äºåœ¨<strong>GitHub</strong> æ²¡æœ‰é¡¹ç›®ï¼Œç›¸å…³æ•°æ®æ— æ³•å‡†ç¡®ç»Ÿè®¡ï¼‰</i>ã€‚</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520855809138.png?raw=true" alt="CEFå…³æ³¨åº¦" title="CEFå…³æ³¨åº¦"></p><h4 id="NW-1"><a href="#NW-1" class="headerlink" title="NW"></a>NW</h4><p><strong>NWå…³æ³¨åº¦ï¼š</strong> <img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520856387728.png?raw=true" alt="Alt text"></p><p><strong>NWæ´»è·ƒåº¦ï¼š</strong>å¦‚å›¾</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520858064076.png?raw=true" alt="2011å¹´~2018å¹´æäº¤é‡" title="2011å¹´~2018å¹´æäº¤é‡"></p><h4 id="Electron-1"><a href="#Electron-1" class="headerlink" title="Electron"></a>Electron</h4><p><strong>Electronå…³æ³¨åº¦ï¼š</strong> <img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520858325207.png?raw=true" alt="no-shadow"></p><p><strong>æ´»è·ƒåº¦ï¼š</strong> å¦‚å›¾</p><p><img src="https://github.com/persilee/nwjs_electronjs/blob/master/desktop_application/1520858451333.png?raw=true" alt="electron2013å¹´~2018å¹´æäº¤é‡" title="electron2013å¹´~2018å¹´æäº¤é‡"></p><hr><p>é€šè¿‡ä»¥ä¸Šçš„ <strong>å¸‚åœºè°ƒç ”</strong>ã€<strong>å®æˆ˜</strong>ã€<strong>GitHubå…³æ³¨åº¦å’Œæ´»è·ƒåº¦</strong> ç­‰ <strong>Electron</strong> éƒ½å æœ‰ä¼˜åŠ¿ï¼Œå¦‚ä¸‹</p><ul><li>å¸‚åœºæ¡ˆä¾‹è¾ƒå¤šï¼Œå„å¤§å‹ä¼ä¸šéƒ½åœ¨ä½¿ç”¨</li><li>å¼€å‘å®æˆ˜ä»£ç æ›´ç›´è§‚ï¼Œå®¹æ˜“ç†è§£å’Œç»´æŠ¤ï¼Œå„ç§æ–‡æ¡£å¥å…¨ã€ç½‘ç»œèµ„æ–™è¾ƒå¤šä¸”è´¨é‡è¾ƒé«˜ï¼Œå‘¨è¾¹è¾…åŠ©å·¥å…·é½å…¨ï¼Œå¼€å‘æ•ˆç‡å¯å¤§å¤§æé«˜</li><li><strong>GitHub</strong> å…³æ³¨åº¦å’Œæ´»è·ƒåº¦æŒç»­æ”€å‡</li></ul><p>æ‰€æœ‰ç»“åˆä»¥ä¸Šæƒ…å†µï¼Œä¹‹åä¼šç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆåšä¸€ä¸ªå®Œå–„çš„æ¡ˆä¾‹</p><ul><li><strong>è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶ï¼š</strong><code>electron</code>  <i style="color:#aaa">ï¼ˆChromium + Node.jsï¼‰</i></li><li><strong>UIåº“ï¼š</strong> <code>iView</code></li><li><strong>jsæ¡†æ¶ï¼š</strong> <code>Vue.js</code></li><li><strong>è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼š</strong>  <code>webpack</code></li><li><strong>HTML5ã€CSS3ã€ES6</strong></li></ul>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/nwjsElectronjs.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç”¨ Hexo Next GitHubPages æ­å»ºæ¼‚äº®çš„å…è´¹åšå®¢</title>
      <link>https://h.lishaoy.net/hexoGithubpagesNext.html</link>
      <guid>https://h.lishaoy.net/hexoGithubpagesNext.html</guid>
      <pubDate>Sat, 24 Mar 2018 12:32:26 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/hexoGithubpagesNext/git_hexo.jpeg&quot; class=&quot;full-image&quot; alt=&quot;GitHubPages + Hexo&quot; title=&quot;GitHubPages + Hexo&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;div class=&quot;text-center&quot;&gt;
    &lt;h3&gt;ä»Šå¤©æ­å»ºäº†è‡ªå·±çš„åšå®¢ ğŸ˜&lt;/h3&gt;
&lt;/div&gt;

&lt;p&gt;èŠ±è´¹äº† &lt;strong&gt;ä¸€å¤©åŠ&lt;/strong&gt; çš„æ—¶é—´ï¼Œç»ˆäºæŠŠæˆ‘çš„ &lt;strong&gt;ä¸ªäººåšå®¢&lt;/strong&gt; æ­å»ºå®Œæˆï¼Œä¸‹é¢æˆ‘å†™ä¸‹æ­å»ºåšå®¢çš„è¿‡ç¨‹ï¼Œå…¶å®æŒºç®€å•çš„ ğŸ™ƒ&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/hexoGithubpagesNext/git_hexo.jpeg" class="full-image" alt="GitHubPages + Hexo" title="GitHubPages + Hexo"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><div class="text-center">    <h3>ä»Šå¤©æ­å»ºäº†è‡ªå·±çš„åšå®¢ ğŸ˜</h3></div><p>èŠ±è´¹äº† <strong>ä¸€å¤©åŠ</strong> çš„æ—¶é—´ï¼Œç»ˆäºæŠŠæˆ‘çš„ <strong>ä¸ªäººåšå®¢</strong> æ­å»ºå®Œæˆï¼Œä¸‹é¢æˆ‘å†™ä¸‹æ­å»ºåšå®¢çš„è¿‡ç¨‹ï¼Œå…¶å®æŒºç®€å•çš„ ğŸ™ƒ</p><hr><a id="more"></a><h3 id="åšå®¢æ‰€ç”¨æŠ€æœ¯-ï¼ˆHexo-Next-GitHubPagesï¼‰"><a href="#åšå®¢æ‰€ç”¨æŠ€æœ¯-ï¼ˆHexo-Next-GitHubPagesï¼‰" class="headerlink" title="åšå®¢æ‰€ç”¨æŠ€æœ¯ ï¼ˆHexo + Next + GitHubPagesï¼‰"></a>åšå®¢æ‰€ç”¨æŠ€æœ¯ ï¼ˆHexo + Next + GitHubPagesï¼‰</h3><p>åœ¨æ–‡ç« çš„æœ«å°¾æˆ‘ä¼š <strong>è´´å‡º</strong> æˆ‘åŸºäº <strong>Hexo + Next + GitHubPages</strong> æ­å»ºåšå®¢ï¼Œæ‰€å‚è€ƒçš„æ–‡ç« é“¾æ¥ã€‚</p><p>å¦‚æœï¼Œä½ ä¹Ÿæƒ³ç”¨è¿™äº›æŠ€æœ¯æ­å»ºæ¼‚äº®çš„åšå®¢ï¼Œä½ å°±éœ€è¦äº†è§£ä¸‹ <code>Hexo</code> ã€ <code>Next</code> ã€ <code>GitHubPages</code> è¿™ä¸‰ä¸ªå•è¯ï¼Œä¸‹é¢ä¼šé€ä¸ªè§£é‡Šã€‚</p><h4 id="ä»€ä¹ˆæ˜¯-Hexo"><a href="#ä»€ä¹ˆæ˜¯-Hexo" class="headerlink" title="ä»€ä¹ˆæ˜¯ Hexo"></a>ä»€ä¹ˆæ˜¯ Hexo</h4><blockquote><p><strong>Hexo</strong> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚<strong>Hexo</strong> ä½¿ç”¨ <em>Markdown</em>ï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ â€“ <a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">Hexo</a></p></blockquote><h4 id="ä»€ä¹ˆæ˜¯-Next"><a href="#ä»€ä¹ˆæ˜¯-Next" class="headerlink" title="ä»€ä¹ˆæ˜¯ Next"></a>ä»€ä¹ˆæ˜¯ Next</h4><blockquote><p><strong>NexT</strong> æ˜¯ <strong>Hexo</strong>çš„ä¸€ä¸ªä¸»é¢˜ï¼ˆthemeï¼‰ï¼Œæ‹¥æœ‰ä¸°å¯Œè€Œç®€å•çš„é…ç½®ï¼Œç»“åˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œå¯ä»¥æ‰“é€ å±äºæ‚¨è‡ªå·±çš„åšå®¢ã€‚ â€“ <a href="http://theme-next.iissnan.com" target="_blank" rel="noopener">Next</a></p></blockquote><h4 id="ä»€ä¹ˆæ˜¯-GitHubPages"><a href="#ä»€ä¹ˆæ˜¯-GitHubPages" class="headerlink" title="ä»€ä¹ˆæ˜¯ GitHubPages"></a>ä»€ä¹ˆæ˜¯ GitHubPages</h4><blockquote><p>GitHub Pages is a static site hosting service designed to host your personal, organization, or project pages directly from a GitHub repository. â€“ <a href="https://help.github.com/articles/what-is-github-pages/" target="_blank" rel="noopener">GitHubPages</a></p></blockquote><p><strong>ç¿»è¯‘è¿‡æ¥å¤§æ¦‚æ˜¯ï¼š</strong> GitHubé¡µé¢æ˜¯ä¸€ä¸ªé™æ€çš„ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œæ—¨åœ¨ä»GitHubå­˜å‚¨åº“ä¸­ç›´æ¥æ‰˜ç®¡æ‚¨çš„ä¸ªäººã€ç»„ç»‡æˆ–é¡¹ç›®é¡µé¢ã€‚</p><p>æ‰€ä»¥ï¼Œ<code>Hexo</code> ã€ <code>Next</code> ã€ <code>GitHubPages</code> é…åˆèµ·æ¥å°±å¯ä»¥å…è´¹æ­å»ºæ¼‚äº®çš„ <strong>ä¸ªäººåšå®¢</strong> , æ˜¯ä¸æ˜¯å¾ˆçˆ½ ğŸ˜†</p><hr><h3 id="å¦‚ä½•åŸºäº-Hexo-æ­å»ºåšå®¢"><a href="#å¦‚ä½•åŸºäº-Hexo-æ­å»ºåšå®¢" class="headerlink" title="å¦‚ä½•åŸºäº Hexo æ­å»ºåšå®¢"></a>å¦‚ä½•åŸºäº Hexo æ­å»ºåšå®¢</h3><p>åŸºäº Hexo æ­å»ºåšå®¢ï¼Œåªéœ€ç®€å•çš„å‡ æ­¥ï¼Œå°±èƒ½å®Œæˆ <strong>ä¸ªäººåšå®¢</strong> çš„æ­å»ºã€‚</p><h4 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h4><h5 id="ä¸‹è½½å®‰è£…-nodejs"><a href="#ä¸‹è½½å®‰è£…-nodejs" class="headerlink" title="ä¸‹è½½å®‰è£… nodejs"></a>ä¸‹è½½å®‰è£… <code>nodejs</code></h5><p><code>node</code> ä¼šè‡ªå¸¦ <code>npm</code> åŒ…ç®¡ç†å·¥å…·ï¼Œ<em>å»ºè®®å®‰è£…</em> <code>yarn</code> æ¥ç®¡ç†ä¾èµ– ï¼ˆå› ä¸º <code>hexo</code> è²Œä¼¼æ˜¯ç”¨ <code>yarn</code> ç®¡ç† <strong>ä¾èµ–</strong> çš„ï¼Œå¦åˆ™å¯ä»¥å›å‡ºç° <strong>ä¾èµ–</strong> é—®é¢˜ï¼‰ã€‚</p><p><strong>Mac</strong> ç”¨æˆ·å¯ä»¥ç”¨ <code>brew</code> å®‰è£…ï¼Œ<strong>Windows</strong> å¯ä»¥ç”¨ <code>cmder</code> æˆ–å»å®˜ç½‘ä¸‹å®‰è£…åŒ…ç¨‹åºã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure><p>ç„¶åç”¨ <code>npm</code> å®‰è£… <code>yarn</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install yarn</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…-git"><a href="#å®‰è£…-git" class="headerlink" title="å®‰è£… git"></a>å®‰è£… <code>git</code></h5><p><strong>Mac</strong> ç”¨æˆ·å¯ç”¨åˆšå®‰è£…çš„ <code>yarn</code> åŒ…ç®¡ç†å·¥å…·å®‰è£… <code>git</code>ï¼Œ<strong>Windows</strong> å¯ä»¥ <code>cmder</code> æˆ–å»å®˜ç½‘ä¸‹å®‰è£…åŒ…ç¨‹åºã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn <span class="built_in">add</span> git -g</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…-hexo"><a href="#å®‰è£…-hexo" class="headerlink" title="å®‰è£… hexo"></a>å®‰è£… <code>hexo</code></h5><p>è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ <code>myblog</code> ï¼Œ</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> myblog</span><br></pre></td></tr></table></figure><p>ç„¶åç”¨ <code>yarn</code> å®‰è£… <code>hexo</code>ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn <span class="built_in">add</span> hexo -S</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œç¯å¢ƒéƒ½å‡†å¤‡å¥½äº†ï¼Œå°±å¯ä»¥å¼€å§‹æ­å»º <strong>hexo</strong> åšå®¢äº† ğŸ˜œ</p><hr><h4 id="æ­å»ºæœ¬åœ°åšå®¢"><a href="#æ­å»ºæœ¬åœ°åšå®¢" class="headerlink" title="æ­å»ºæœ¬åœ°åšå®¢"></a>æ­å»ºæœ¬åœ°åšå®¢</h4><h5 id="è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•"><a href="#è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•" class="headerlink" title="è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•"></a>è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•</h5><p>æ¯”å¦‚ï¼šæˆ‘çš„æ˜¯ <code>myblog</code>ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> myblog</span><br></pre></td></tr></table></figure><h5 id="é¡¹ç›®åˆå§‹åŒ–"><a href="#é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="é¡¹ç›®åˆå§‹åŒ–"></a>é¡¹ç›®åˆå§‹åŒ–</h5><p>é¡¹ç›®åˆå§‹åŒ–ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆåšå®¢æ¨¡æ¿ï¼Œä»¥åå†™åšå®¢åªéœ€ç”¨ <code>markdown</code> è¯­æ³•ç¼–å†™å¯¹åº”çš„ <code>.md</code> æ–‡ä»¶å³å¯ âœï¸ ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…æ‰€æœ‰çš„ä¾èµ–"><a href="#å®‰è£…æ‰€æœ‰çš„ä¾èµ–" class="headerlink" title="å®‰è£…æ‰€æœ‰çš„ä¾èµ–"></a>å®‰è£…æ‰€æœ‰çš„ä¾èµ–</h5><p>å»ºè®®ä½¿ç”¨ç”¨ <code>yarn</code> ï¼Œå¦åˆ™ä¼šå‡ºç°ä¾èµ–é—®é¢˜ï¼ˆ<em>åœ¨æœ¬æ–‡ä¹‹åæœ‰ç›¸å…³ä»‹ç»</em>ï¼‰ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install</span><br></pre></td></tr></table></figure><h5 id="æœ€åï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡"><a href="#æœ€åï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡" class="headerlink" title="æœ€åï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡"></a>æœ€åï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡</h5><p>åœ¨æµè§ˆå™¨è¾“å…¥ <code>localhost:4000</code> å³å¯é¢„è§ˆåšå®¢</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><p><strong>å¦‚å›¾:</strong> ğŸŒ <br><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/hexoinit.png" alt="hexo" width="100%" title="hexoæœ€åˆçš„æ ·å­ ğŸ˜‚" align="center"></p><hr><h3 id="å…³è”-GitHub"><a href="#å…³è”-GitHub" class="headerlink" title="å…³è” GitHub"></a>å…³è” GitHub</h3><p>é€šè¿‡ <strong>GitHub</strong> çš„ <code>pages</code> åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬çš„åšå®¢æ‰˜ç®¡åˆ° <strong>GitHub</strong> ï¼Œè€Œæ— éœ€å»è´­ä¹°äº‘æœåŠ¡å™¨ ğŸ˜‹ ,è½»æ¾æ„‰å¿«çš„æ„å»ºå…è´¹åšå®¢ã€‚</p><h4 id="åˆ›å»º-GitHub-è´¦æˆ·"><a href="#åˆ›å»º-GitHub-è´¦æˆ·" class="headerlink" title="åˆ›å»º GitHub è´¦æˆ·"></a>åˆ›å»º GitHub è´¦æˆ·</h4><p>æˆ‘ç›¸ä¿¡ ğŸ¤” å¤§å®¶åº”è¯¥éƒ½æœ‰ <strong>GitHub</strong> è´¦å·äº†ï¼Œå¦‚æœæ²¡æœ‰å¯å» <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> å®˜ç½‘æŒ‰ç…§æ­¥éª¤åˆ›å»ºè´¦æˆ·å³å¯ã€‚</p><h4 id="é…ç½®å…³è”-GitHub"><a href="#é…ç½®å…³è”-GitHub" class="headerlink" title="é…ç½®å…³è” GitHub"></a>é…ç½®å…³è” GitHub</h4><ul><li>æœ‰äº† <strong>GitHub</strong> è´¦å·ä¹‹åï¼Œç™»å½• <strong>GitHub</strong> ï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®åç§°æœ€å¥½å’Œä½ æœ¬åœ°çš„é¡¹ç›®ä¸€è‡´ï¼Œæ¯”å¦‚ï¼š <code>myblog</code></li></ul><div class="note danger"><p>é¡¹ç›®å»ºå¥½ä¹‹åï¼Œä¸€å®šè¦å¼€å¯ <strong>GitHub Pages</strong> åŠŸèƒ½ âš ï¸</p></div><ul><li>ç‚¹å‡»å¦‚å›¾ <code>Settings</code> å¼€å¯ï¼Œ<strong>GitHub Pages</strong> åŠŸèƒ½</li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/gitpages.png" alt="GitHubPages" width="100%" title="GitHubPages Settings" align="center"></p><ul><li>é€‰æ‹© <code>master branch</code> , ç„¶å <strong>Save</strong> </li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/gitpages2.png" alt="GitHubPages" width="100%" title="GitHubPages Source" align="center"></p><ul><li>å¤åˆ¶ä½ çš„é¡¹ç›®è¿æ¥ï¼Œå¦‚å›¾</li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/gitpages3.png" alt="GitHubPages" width="100%" title="GitHubPages URL" align="center"></p><ul><li>ç„¶ååœ¨ä½ æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ° <code>_config.yml</code> æ–‡ä»¶ï¼Œç²˜è´´åˆ°ä»¥ä¸‹ä½ç½®</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> <span class="attr">https://github.com/persilee/MyBlog.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h4 id="å®Œæˆå…³è”"><a href="#å®Œæˆå…³è”" class="headerlink" title="å®Œæˆå…³è”"></a>å®Œæˆå…³è”</h4><p>å®Œæˆä»¥ä¸Šæ­¥éª¤ä¹‹åï¼Œå°±å¯ä»¥æŠŠè‡ªå·±æœ¬åœ°é¡¹ç›®æ¨é€åˆ° <strong>GitHub</strong> æ‰˜ç®¡ï¼Œåªå‰©ä¸‹3æ­¥ ğŸ˜‹</p><ol><li>å®‰è£… <code>hexo-deployer-git</code> æ’ä»¶ï¼ˆå¯ä»¥é€šè¿‡ç®€å•çš„å‘½ä»¤,å®Œæˆæ–‡ä»¶ç”ŸæˆåŠæ¨é€åŠŸèƒ½ï¼‰</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn <span class="built_in">add</span> hexo-deployer-git -S</span><br></pre></td></tr></table></figure><ol start="2"><li>è¿è¡Œ <code>hexo g</code> ï¼ˆç”Ÿæˆæœ¬åœ°æ–‡ä»¶ï¼‰</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><ol start="3"><li>è¿è¡Œ <code>hexo d</code> ï¼ˆå°†æœ¬åœ°æ–‡ä»¶æ¨é€åˆ° <strong>GitHub</strong> ï¼Œå’Œ <code>git push</code> åŠŸèƒ½ç›¸åŒï¼‰</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œ<strong>GitHub</strong> åº”è¯¥å·²ç»™ä½ ç”Ÿæˆäº†è®¿é—®è¿æ¥ï¼Œè¿æ¥æ ¼å¼æ˜¯: <code>ä½ çš„è´¦å·åç§°</code> + <code>.github.io</code> + <code>\é¡¹ç›®åç§°</code>,ä¹Ÿå¯ä»¥å»åˆšæ‰ <code>GitHubPages</code> è®¾ç½®é¡µé¢æŸ¥çœ‹ä¾‹å¦‚æˆ‘çš„ï¼š<a href="https:\\persilee.github.io\MyBlog" target="_blank" rel="noopener">https:\persilee.github.io\MyBlog</a></p><p>è¿™æ—¶ï¼Œä½ å°±å¯ä»¥æŠŠè¿æ¥å‘ç»™å°ä¼™ä¼´ä»¬ï¼Œä»–ä»¬é€šè¿‡è¿æ¥éƒ½å¯ä»¥è®¿é—®ä½ çš„ <strong>åšå®¢</strong> ğŸ™ƒã€‚</p><div class="note danger"><p><strong>è¿™é‡Œéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼šåœ¨æ‰§è¡Œ <code>hexo g</code> å‘½ä»¤æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹ <code>error</code>,åº”è¯¥æ˜¯ <code>yarn</code> å’Œ <code>npm</code> å†²çªçš„ä¾èµ–çš„é—®é¢˜ï¼Œæ‰€ä»¥å‰é¢æ–‡ç« å»ºè®®ä½¿ç”¨ <code>yarn</code> ç®¡ç†åŒ…ä¾èµ–</strong></p></div><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ERROR Plugin load failed: hexo-renderer-marked</span><br><span class="line">Error: EISDIR: illegal operation <span class="keyword">on</span> <span class="keyword">a</span> directory, <span class="keyword">read</span></span><br><span class="line">ERROR Plugin load failed: hexo-server</span><br><span class="line">Error: EISDIR: illegal operation <span class="keyword">on</span> <span class="keyword">a</span> directory, <span class="keyword">read</span></span><br><span class="line">ERROR Plugin load failed: hexo-renderer-stylus</span><br><span class="line">Error: EISDIR: illegal operation <span class="keyword">on</span> <span class="keyword">a</span> directory, <span class="keyword">read</span></span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼Œå…ˆç”¨ <code>yarn</code> åˆ†åˆ«ç§»é™¤ï¼Œå†é‡æ–°å®‰è£…ï¼Œå¦‚ä¸‹</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">## å…ˆç§»é™¤</span><br><span class="line">yarn <span class="built_in">remove</span> hexo-renderer-marked</span><br><span class="line"></span><br><span class="line">yarn <span class="built_in">remove</span> hexo-renderer-stylus</span><br><span class="line"></span><br><span class="line">yarn <span class="built_in">remove</span> hexo-server</span><br><span class="line"></span><br><span class="line">## å†å®‰è£…</span><br><span class="line">yarn <span class="built_in">add</span> hexo-renderer-marked -S </span><br><span class="line"></span><br><span class="line">yarn <span class="built_in">add</span> hexo-renderer-stylus -S</span><br><span class="line"></span><br><span class="line">yarn <span class="built_in">add</span> hexo-server -S</span><br></pre></td></tr></table></figure><p>åœ¨æ‰§è¡Œ <code>hexo g</code> ,é¡ºåˆ©æ‰§è¡Œ ğŸ‘Œ</p><hr><h3 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h3><p>æˆ‘ä»¬å·²ç»å¯ä»¥é€šè¿‡ <strong>GitHub</strong> åˆ†å‘ç»™æˆ‘çš„åœ°å€è®¿é—® <strong>åšå®¢</strong> ï¼Œä½†æ˜¯ï¼Œè¿™å¯¹äºæˆ‘ä»¬è¿™äº›çˆ± <strong>æŠ˜è…¾</strong> çš„ <strong>ç¨‹åºçŒ¿ğŸ‘¨â€ğŸ’»â€</strong> æ¥è¯´ï¼Œè¿˜ä¸å¤Ÿï¼Œå¼„ä¸ªè‡ªå·±çš„ <strong>åŸŸå</strong> æ‰å¤Ÿæ‹‰é£ğŸ˜‚ã€‚</p><p>äºæ˜¯ã€‚ã€‚ã€‚</p><p>å¼€å§‹ç»‘å®šè‡ªå·±çš„ <strong>åŸŸå</strong> <a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a></p><p>ç„¶è€Œï¼Œæˆ‘ä»¬ç»‘å®š <strong>åŸŸå</strong> ä¹‹åï¼Œåªæ”¯æŒ <code>http</code> åè®®ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ <strong>Google</strong> æµè§ˆå™¨è®¿é—®æ—¶ï¼Œä¼šæœ‰ä¸å®‰å…¨æ ‡å‡†ï¼Œè€Œä¸”ï¼Œå¾ˆå®¹æ˜“è¢«æ’å…¥å¹¿å‘Šï¼Œäºæ˜¯ã€‚ã€‚ã€‚<strong>æŠ˜è…¾</strong> èµ°èµ·ğŸŒï¼šæä¸ª <code>https</code></p><p>è½¬å…¥æ­£é¢˜ï¼Œç»è¿‡ä¸€ç•ª <strong>æŠ˜è…¾</strong> ï¼Œé‡‡ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ <a href="https://app.netlify.com/sites/lishaoy/settings/domain#ssl-tls-certificate" target="_blank" rel="noopener">Netlify</a> æ¥æä¾›å…è´¹çš„SSL/TLSè¯ä¹¦ã€‚</p><p>å½“ç„¶ï¼Œè¿™é‡Œæˆ‘æä¾›2ç§æ–¹å¼ç»‘å®šåŸŸåï¼Œä¸€ç§æ˜¯ <code>HTTP</code> (ä¸å®‰å…¨çš„ç½‘ç»œåè®®)ã€ä¸€ç§æ˜¯ <code>HTTPS</code> ï¼ˆå®‰å…¨çš„ç½‘ç»œåè®®ï¼Œåœ¨ <strong>Google</strong> æµè§ˆå™¨ä¸Šå›æœ‰ä¸€æŠŠå°é”ï¼Œå¦‚å›¾ï¼‰</p><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/lock.png" alt="Netlity" width="100%" title="Google HTTPS çŠ¶æ€æ ‡è¯†" align="center"></p><h4 id="HTTP-ç»‘å®šåŸŸå"><a href="#HTTP-ç»‘å®šåŸŸå" class="headerlink" title="HTTP ç»‘å®šåŸŸå"></a><code>HTTP</code> ç»‘å®šåŸŸå</h4><h5 id="è®¾ç½®åŸŸåè§£æè§„åˆ™"><a href="#è®¾ç½®åŸŸåè§£æè§„åˆ™" class="headerlink" title="è®¾ç½®åŸŸåè§£æè§„åˆ™"></a>è®¾ç½®åŸŸåè§£æè§„åˆ™</h5><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å»è¿è¡Œå•†ï¼Œæ–°å¢åŸŸåè§£æè§„åˆ™ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/domain.png" alt="domain" width="100%" title="åŸŸåè§£æè§„åˆ™" align="center"></p><h5 id="æ–°å¢-CNAME-æ–‡ä»¶"><a href="#æ–°å¢-CNAME-æ–‡ä»¶" class="headerlink" title="æ–°å¢ CNAME æ–‡ä»¶"></a>æ–°å¢ <code>CNAME</code> æ–‡ä»¶</h5><p>é…ç½®å¥½åŸŸåè§£æè§„åˆ™ä¹‹åï¼Œè¿˜éœ€è¦åœ¨é¡¹ç›®çš„ <code>.\source\</code> è·¯å¾„ä¸‹æ–°å¢ <code>CNAME</code> æ–‡ä»¶ï¼Œè¾“å…¥å†…å®¹ <code>ä½ çš„åŸŸå</code> ,å¦‚ï¼š<a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a></p><h5 id="é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub"><a href="#é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub" class="headerlink" title="é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub"></a>é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub</h5><p>é‡æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œè¿è¡Œ <code>hexo g</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>æ¨é€ <strong>GitHub</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><hr><h4 id="HTTPS-ç»‘å®šåŸŸå"><a href="#HTTPS-ç»‘å®šåŸŸå" class="headerlink" title="HTTPS ç»‘å®šåŸŸå"></a><code>HTTPS</code> ç»‘å®šåŸŸå</h4><h5 id="æ³¨å†Œ-Netlify-è´¦å·"><a href="#æ³¨å†Œ-Netlify-è´¦å·" class="headerlink" title="æ³¨å†Œ Netlify è´¦å·"></a>æ³¨å†Œ <code>Netlify</code> è´¦å·</h5><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ³¨å†Œä¸€ä¸ª <a href="https://app.netlify.com/sites/lishaoy/settings/domain#ssl-tls-certificate" target="_blank" rel="noopener">Netlify</a> è´¦å·ï¼Œåœ°å€ï¼š<a href="https://app.netlify.com/sites/lishaoy/settings/domain#ssl-tls-certificate" target="_blank" rel="noopener">Netlify</a> ï¼Œå¯ä»¥é€‰æ‹©ç”¨ <strong>GitHub</strong> æ³¨å†Œã€‚</p><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify.png" alt="Netlity" width="100%" title="Netlity Login" align="center"></p><h5 id="æ–°å¢ç«™ç‚¹"><a href="#æ–°å¢ç«™ç‚¹" class="headerlink" title="æ–°å¢ç«™ç‚¹"></a>æ–°å¢ç«™ç‚¹</h5><ul><li>ç‚¹å‡»å¦‚å›¾æŒ‰é’® <code>New site from Git</code>,æ¥æ–°å¢ <strong>ç«™ç‚¹</strong></li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify1.png" alt="Netlity" width="100%" title="New site from Git" align="center"></p><ul><li>ç„¶åï¼Œç‚¹å‡»å¦‚å›¾æŒ‰é’® <code>GitHub</code> </li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify2.png" alt="Netlity" width="100%" title="GitHub" align="center"></p><ul><li>é€‰æ‹©ä½ çš„é¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘çš„ <code>MyBlog</code></li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify3.png" alt="Netlity" width="100%" title="Select Site" align="center"></p><ul><li>ç‚¹å‡» <code>Deploy site</code></li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify4.png" alt="Netlity" width="100%" title="Deploy site" align="center"></p><ul><li>çœ‹åˆ°å¦‚å›¾é¡µé¢ï¼Œè¡¨ç¤ºæˆåŠŸï¼Œå†ç‚¹å‡» <code>Site settings</code> </li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify5.png" alt="Netlity" width="100%" title="Getting started" align="center"></p><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify6.png" alt="Netlity" width="100%" title="Site details" align="center"></p><ul><li><p>å†ç‚¹å‡» <code>Change site name</code> ä¿®æ”¹çŸ­åç§°ï¼Œæ–¹ä¾¿è®°å¿†</p></li><li><p>åœ¨è‡ªå·±çš„åŸŸåç®¡ç†ä¸­è®¾ç½® <strong>DNS</strong> ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <strong>é˜¿é‡Œäº‘</strong> ï¼Œåœ¨ç®¡ç†ç•Œé¢æ·»åŠ å¦‚å›¾è§„åˆ™</p></li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify7.png" alt="Netlity" width="100%" title="è®¾ç½®åŸŸåè§„åˆ™" align="center"></p><ul><li>åœ¨ç‚¹å‡» <code>Domain management</code> ä¸‹çš„ <code>HTTPS</code> ï¼ŒæŒ‰ç…§æ­¥éª¤å®Œæˆæ“ä½œï¼Œç¨ç­‰ç‰‡åˆ»ï¼Œå³å¯çœ‹åˆ°æˆ‘ä»¬çš„ <strong>åŸŸå</strong> å·²ç»ä¸Šé” ğŸ” </li></ul><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/netlify8.png" alt="Netlity" width="100%" title="lishaoy.netä¸Šé”" align="center"></p><p>ğŸ˜ ğŸ˜œ ğŸ˜„ ğŸ˜† ğŸ˜‚ ğŸ¤£ â€¦</p><hr><h3 id="æ›´æ¢-next-ä¸»é¢˜"><a href="#æ›´æ¢-next-ä¸»é¢˜" class="headerlink" title="æ›´æ¢ next ä¸»é¢˜"></a>æ›´æ¢ <code>next</code> ä¸»é¢˜</h3><p><code>hexo</code> çš„ä¸»é¢˜å¾ˆå¤šï¼Œä½ å¯ä»¥é€‰æ‹©å…¶ä»–å–œæ¬¢ â¤ï¸ çš„ä¸»é¢˜ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>next</code> ä¸»é¢˜ã€‚</p><h4 id="å®‰è£…-next-ä¸»é¢˜"><a href="#å®‰è£…-next-ä¸»é¢˜" class="headerlink" title="å®‰è£… next ä¸»é¢˜"></a>å®‰è£… <code>next</code> ä¸»é¢˜</h4><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£… <code>next</code> ä¸»é¢˜</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span>.git themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure><h4 id="æ›´æ”¹é…ç½®æ–‡ä»¶"><a href="#æ›´æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="æ›´æ”¹é…ç½®æ–‡ä»¶"></a>æ›´æ”¹é…ç½®æ–‡ä»¶</h4><p>ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ <code>./_config.yml</code> æ–‡ä»¶ï¼Œå¦‚ä¸‹</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugin<span class="variable">s:</span> http<span class="variable">s:</span>//hexo.io/plugins/</span><br><span class="line">## Theme<span class="variable">s:</span> http<span class="variable">s:</span>//hexo.io/themes/</span><br><span class="line">theme: <span class="keyword">next</span></span><br></pre></td></tr></table></figure><h5 id="é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub-1"><a href="#é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub-1" class="headerlink" title="é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub"></a>é‡æ–°æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨é€åˆ°GitHub</h5><p>é‡æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œè¿è¡Œ <code>hexo g</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>æ¨é€ <strong>GitHub</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡ï¼Œè°ƒè¯•ç¡®å®šæ— é—®é¢˜ä¹‹åå† æ¨é€åˆ° <strong>GitHub</strong> </p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s --<span class="keyword">debug</span></span><br></pre></td></tr></table></figure><p>æœ¬åœ°æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥ <code>http://localhost:4000</code> é¢„è§ˆï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/hexoGithubpagesNext/nextpage.png" alt="next" width="100%" title="next ä¸»é¢˜æœ€åˆçš„æ ·å­ğŸ™ƒ" align="center"></p><p><strong>æœ¬æ–‡åˆ°æ­¤å‘Šä¸€æ®µè½ï¼Œå…³äº <code>next</code> ä¸»é¢˜ç¾åŒ–çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹é“¾æ¥æ–‡ç«  ğŸ¤—</strong></p><p>ä»¥ä¸‹æ˜¯æˆ‘æ­å»º <strong>åšå®¢</strong> å‚è€ƒçš„æ–‡ç« é“¾æ¥ ğŸ‘‡ </p><div class="note default"><ul><li><a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™</a></li><li><a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Hexoæ­å»ºåšå®¢æ•™ç¨‹</a></li><li><a href="https://www.jianshu.com/p/d95cff938277" target="_blank" rel="noopener">Hexoåšå®¢æ­å»ºå…¨æ”»ç•¥(äºŒ)ï¼šNexTä¸»é¢˜é…ç½®</a></li></ul></div>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/hexoGithubpagesNext.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
