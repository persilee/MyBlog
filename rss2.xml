<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>persilee&#39;s Blog</title>
    <link>https://h.lishaoy.net/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>æå°‘é¢–çš„åšå®¢</description>
    <pubDate>Fri, 07 Aug 2020 10:16:47 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Androidå“åº”å¼ç¼–ç¨‹ä¹‹RxJava</title>
      <link>https://h.lishaoy.net/rxjava.html</link>
      <guid>https://h.lishaoy.net/rxjava.html</guid>
      <pubDate>Fri, 07 Aug 2020 07:19:44 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/rxjava/rxjava_cover.png&quot; class=&quot;full-image&quot; alt=&quot;RxJava&quot; title=&quot;RxJava&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;section id=&quot;nice&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; style=&quot;font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.35; color: #333; font-family: Optima-Regular, PingFangTC-light; letter-spacing: 1.5px;&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;&quot;&gt;æœ¬ç¯‡æ–‡ç« å°†æ¦‚è¿° &lt;strong style=&quot;color: #399003; font-weight: bold;&quot;&gt;&lt;span&gt;ã€Œ&lt;/span&gt;Android&lt;span&gt;ã€&lt;/span&gt;&lt;/strong&gt; å“åº”å¼ç¼–ç¨‹ &lt;strong style=&quot;color: #399003; font-weight: bold;&quot;&gt;&lt;span&gt;ã€Œ&lt;/span&gt;RxJava&lt;span&gt;ã€&lt;/span&gt;&lt;/strong&gt;ï¼Œä¼šä»è®¾è®¡æ¨¡å¼ã€ä½¿ç”¨åˆ°åŸç†ç»“åˆæ¡ˆä¾‹ï¼Œç”±æµ…åˆ°æ·±ã€ç”±è¡¨åˆ°é‡Œã€å¾ªåºæ¸è¿›çš„æ¦‚è¿°ã€‚&lt;/p&gt;&lt;/section&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/rxjava/rxjava_cover.png" class="full-image" alt="RxJava" title="RxJava"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.35; color: #333; font-family: Optima-Regular, PingFangTC-light; letter-spacing: 1.5px;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æœ¬ç¯‡æ–‡ç« å°†æ¦‚è¿° <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>Android<span>ã€</span></strong> å“åº”å¼ç¼–ç¨‹ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong>ï¼Œä¼šä»è®¾è®¡æ¨¡å¼ã€ä½¿ç”¨åˆ°åŸç†ç»“åˆæ¡ˆä¾‹ï¼Œç”±æµ…åˆ°æ·±ã€ç”±è¡¨åˆ°é‡Œã€å¾ªåºæ¸è¿›çš„æ¦‚è¿°ã€‚</p></section><a id="more"></a><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.35; color: #333; font-family: Optima-Regular, PingFangTC-light; letter-spacing: 1.5px;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æœ¬ç¯‡æ–‡ç« çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨ <a href="https://github.com/persilee/android_practice" style="text-decoration: none; word-wrap: break-word; color: #399003; font-weight: normal; border-bottom: 1px solid #399003;" target="_blank" rel="noopener">Github</a> ä¸Šã€‚</p><h2 id="è§‚å¯Ÿè€…æ¨¡å¼(Observer pattern)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">è§‚å¯Ÿè€…æ¨¡å¼(Observer pattern)</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">åœ¨ä½¿ç”¨ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç†è§£è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºï¼Œ<strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> å°±ä½¿ç”¨äº†è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼ã€‚</p><h3 id="å®šä¹‰" data-tool="mdniceç¼–è¾‘å™¨" style="padding: 0px; color: black; font-size: 17px; font-weight: bold; text-align: center; position: relative; margin-top: 20px; margin-bottom: 20px;"><span class="prefix" style="display: none;"></span><span class="content" style="color: #2b2b2b; padding-bottom: 2px;"><span style="width: 30px; height: 30px; display: block; background-image: url(https://files.mdnice.com/grass-green.png); background-position: center; background-size: 30px; margin: auto; opacity: 1; background-repeat: no-repeat; margin-bottom: -8px;"></span>å®šä¹‰</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è§‚å¯Ÿè€…æ¨¡å¼(åˆè¢«ç§°ä¸ºå‘å¸ƒ-è®¢é˜… Publish/Subscribe æ¨¡å¼)ï¼Œå±äºè¡Œä¸ºå‹æ¨¡å¼çš„ä¸€ç§ï¼Œå®ƒå®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡ï¼Œè¢«è§‚å¯Ÿè€…å¯¹è±¡åœ¨çŠ¶æ€å˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°ã€‚</p><h3 id="ç»“æ„" data-tool="mdniceç¼–è¾‘å™¨" style="padding: 0px; color: black; font-size: 17px; font-weight: bold; text-align: center; position: relative; margin-top: 20px; margin-bottom: 20px;"><span class="prefix" style="display: none;"></span><span class="content" style="color: #2b2b2b; padding-bottom: 2px;"><span style="width: 30px; height: 30px; display: block; background-image: url(https://files.mdnice.com/grass-green.png); background-position: center; background-size: 30px; margin: auto; opacity: 1; background-repeat: no-repeat; margin-bottom: -8px;"></span>ç»“æ„</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/UML.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¸€èˆ¬æˆ‘ä»¬å†™ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼éƒ½éœ€è¦å®šä¹‰å¦‚ä¸‹è§’è‰²ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 16px; font-weight: normal; color: #595959;">Observable(è¢«è§‚å¯Ÿè€…)ï¼šä¸€èˆ¬ä¸ºæŠ½è±¡ç±»ï¼Œç”¨äºä¿å­˜è§‚å¯Ÿè€…å¯¹è±¡å’Œæ–°å¢ã€åˆ é™¤ã€é€šçŸ¥è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 16px; font-weight: normal; color: #595959;">ConcreteObservable(å…·ä½“çš„è¢«è§‚å¯Ÿè€…)ï¼šç»§æ‰¿ Observable ç±»ï¼Œå®ç° <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">notifyObservers()</code> æ–¹æ³•ï¼Œå½“è¢«è§‚å¯Ÿè€…å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 16px; font-weight: normal; color: #595959;">Observer(è§‚å¯Ÿè€…)ï¼šä¸€èˆ¬ä¸ºæ¥å£ï¼ŒåŒ…å« <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">update()</code> æ–¹æ³•ï¼Œå½“æ”¶åˆ°å…·ä½“çš„è¢«è§‚å¯Ÿè€…é€šçŸ¥æ—¶è¢«è°ƒç”¨ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 16px; font-weight: normal; color: #595959;">ConcreteObserver(å…·ä½“çš„è§‚å¯Ÿè€…)ï¼šå®ç° Observer æ¥å£ï¼Œé‡å†™ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">update()</code> æ–¹æ³•ï¼Œä»¥ä¾¿æ›´æ–°è‡ªèº«çŠ¶æ€ã€‚</section></li></ul><h3 id="æ¡ˆä¾‹" data-tool="mdniceç¼–è¾‘å™¨" style="padding: 0px; color: black; font-size: 17px; font-weight: bold; text-align: center; position: relative; margin-top: 20px; margin-bottom: 20px;"><span class="prefix" style="display: none;"></span><span class="content" style="color: #2b2b2b; padding-bottom: 2px;"><span style="width: 30px; height: 30px; display: block; background-image: url(https://files.mdnice.com/grass-green.png); background-position: center; background-size: 30px; margin: auto; opacity: 1; background-repeat: no-repeat; margin-bottom: -8px;"></span>æ¡ˆä¾‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªç®€å•çš„è§‚å¯Ÿè€…æ¨¡å¼çš„æ¡ˆä¾‹ï¼Œæ¡ˆä¾‹æƒ…æ™¯ï¼Œå¦‚ä¸‹ï¼š</p><blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid #1b900d; background: #fff;"><span style="color: #74b56d; font-size: 34px; line-height: 1; font-weight: 700;">â</span><p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px; margin: 0px; color: black; line-height: 26px;">å°æ˜çš„æ°´æœåº—é‡Œçš„ ğŸŠ éå¸¸ç”œï¼Œæ‰€ä»¥å¾ˆå¿«å°±å–å…‰äº†ï¼Œä½†æ˜¯ï¼Œæ¥äºŒè¿ä¸‰çš„æœ‰é¡¾å®¢è¿‡æ¥ä¹° ğŸŠï¼Œäºæ˜¯ï¼Œå°æ˜å‘Šè¯‰é¡¾å®¢ï¼šğŸŠå·²ç»å–å®Œäº†ï¼Œä½ ä»¬å¯ä»¥æ‰«ä¸‹è¿™ä¸ªå…¬ä¼—å·ï¼Œè®¢é˜…ä¹‹åï¼Œç­‰ ğŸŠæœ‰è´§äº†ä¼šè‡ªåŠ¨é€šçŸ¥ä½ ä»¬ï¼</p><span style="float: right; color: #74b56d;">â</span></blockquote><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿™ç§åœºæ™¯æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observer</code> æ¥å£(è§‚å¯Ÿè€…)ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">interface</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observer</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">update</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å†åˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Customer</code> å®¢æˆ·ç±»(å…·ä½“çš„è§‚å¯Ÿè€…)ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;å®ç°&nbsp;Observer&nbsp;æ¥å£</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Customer</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observer</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Customer</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é‡æ–°&nbsp;Observer&nbsp;çš„&nbsp;update()&nbsp;æ–¹æ³•</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">update</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ&nbsp;è´­ä¹°äº†&nbsp;ğŸŠâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¹‹ååˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable</code> æŠ½è±¡ç±»(è¢«è§‚å¯Ÿè€…)ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">abstract</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observable</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;List&lt;Observer&gt;&nbsp;observers&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ArrayList&lt;&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ–°å¢è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">add</span><span class="hljs-params" style="line-height: 26px;">(Observer&nbsp;observer)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observers.add(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç§»é™¤è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">remove</span><span class="hljs-params" style="line-height: 26px;">(Observer&nbsp;observer)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observers.remove(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é€šçŸ¥è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">abstract</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">notifyObservers</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æœ€ååˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">FruitStore</code> æ°´æœåº—ç±»(å…·ä½“çš„è¢«è§‚å¯Ÿè€…)ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»§æ‰¿&nbsp;Observable&nbsp;ç±»</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">FruitStore</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observable</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é‡å†™&nbsp;notifyObservers()&nbsp;é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">notifyObservers</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span>&nbsp;(Observer&nbsp;observer:&nbsp;observers)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer.update();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.notifyObservers();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Client</code> è¿›è¡Œæµ‹è¯•ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Client</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»ºä¸€ä¸ªæ°´æœåº—å®ä¾‹(è¢«è§‚å¯Ÿè€…)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FruitStore&nbsp;fruitStore&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;FruitStore();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fruitStore.add(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Customer(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>));&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ–°å¢è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fruitStore.add(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Customer(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œperâ€</span>));&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ–°å¢è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fruitStore.add(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Customer(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œzimuâ€</span>));&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ–°å¢è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fruitStore.run();&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;">lsy&nbsp;è´­ä¹°äº†&nbsp;ğŸŠ<br>per&nbsp;è´­ä¹°äº†&nbsp;ğŸŠ<br>zimu&nbsp;è´­ä¹°äº†&nbsp;ğŸŠ<br><br>Process&nbsp;finished&nbsp;with&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">exit</span>&nbsp;code&nbsp;0<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯è§ï¼Œä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥é™ä½è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¹‹é—´çš„è€¦åˆæ€§ï¼Œå¯ä»¥å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶ï¼›å½“ç„¶ï¼ŒJava JDK å·²ç»æä¾›äº† <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observer</code>ã€<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable</code>ï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒä»¬åŒæ ·å¯ä»¥å®ç°åŠŸèƒ½ã€‚</p><h2 id="RxJavaçš„ä½¿ç”¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">RxJavaçš„ä½¿ç”¨</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">é€šè¿‡ä¸Šæ–‡çš„å¯¹è§‚å¯Ÿè€…æ¨¡å¼çš„ç†è§£ä¹‹åï¼Œå†æ¥çœ‹çœ‹ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Œå®ƒåŒæ ·æœ‰å¦‚ä¸‹å‡ ä¸ªè§’è‰²ï¼Œå¦‚ä¸‹ï¼š</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>Observable<span>ã€</span></strong> :è¢«è§‚å¯Ÿè€…ï¼Œä¹Ÿå°±æ˜¯äº‹ä»¶çš„å‘ç”Ÿè€…<br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>Observer<span>ã€</span></strong> :è§‚å¯Ÿè€…ï¼Œä¹Ÿå°±æ˜¯äº‹ä»¶çš„æ¥å—è€…<br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>subscribe<span>ã€</span></strong> :ä¸¤è€…äº§ç”Ÿè®¢é˜…å…³ç³»</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å…·ä½“çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">UseRxJava</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»º&nbsp;Observable&nbsp;è¢«è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observable&nbsp;observable&nbsp;=&nbsp;Observable.create(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObservableOnSubscribe&lt;String&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribe</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;ObservableEmitter&lt;String&gt;&nbsp;emitter)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Throwable&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠ&nbsp;åˆ°è´§äº†ï¼â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œå¤§å®¶å¯ä»¥æ¥ä¹°&nbsp;ğŸŠ&nbsp;äº†ï¼â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onError(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Throwable(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠ&nbsp;åˆå–å®Œäº†ï¼â€</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œWOWï¼ğŸŠ&nbsp;å–å…‰äº†â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onComplete();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onComplete();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠ&nbsp;åŠ æ€¥è¿›è´§ä¸­â€¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»º&nbsp;Observer&nbsp;è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observer&lt;String&gt;&nbsp;observer&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Observer&lt;String&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onSubscribe</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Disposable&nbsp;d)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonSubscribe:â€</span>&nbsp;+&nbsp;d.isDisposed());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onNext</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;String&nbsp;s)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonNext:â€</span>&nbsp;+&nbsp;s);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onError</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Throwable&nbsp;e)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonError:â€</span>&nbsp;+&nbsp;e.getMessage());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onComplete</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonCompleteâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;å…³è”è®¢é˜…å…³ç³»</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observable.subscribe(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;">onSubscribe:<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">false</span><br>onNext:ğŸŠ&nbsp;åˆ°è´§äº†ï¼<br>onNext:å¤§å®¶å¯ä»¥æ¥ä¹°&nbsp;ğŸŠ&nbsp;äº†ï¼<br>onError:ğŸŠ&nbsp;åˆå–å®Œäº†ï¼<br><br>BUILD&nbsp;SUCCESSFUL&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span>&nbsp;328ms<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">é€šè¿‡ç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹å’Œè¿è¡Œç»“æœï¼Œå¯çŸ¥ï¼š</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onNext()<span>ã€</span></strong>: å¯ä»¥å¤šæ¬¡å‘é€äº‹ä»¶<br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onComplete()<span>ã€</span></strong>: å¯ä»¥å¤šæ¬¡è°ƒç”¨ä¸ä¼šæŠ¥é”™ï¼Œä½†åªæ‰§è¡Œä¸€æ¬¡<br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onError()<span>ã€</span></strong>: åªèƒ½å‘é€ä¸€æ¬¡ï¼Œå¤šæ¬¡è°ƒç”¨ä¼šæŠ¥é”™ï¼Œä¸å¯å’Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onComplete()</code> å…±å­˜<br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onComplete()<span>ã€</span></strong>: å’Œ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onError()<span>ã€</span></strong> éƒ½å­˜åœ¨æ—¶ï¼Œåªæ‰§è¡Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onError()</code><br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onComplete()<span>ã€</span></strong>: å’Œ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onError()<span>ã€</span></strong> ä¹‹åï¼Œè§‚å¯Ÿè€…æ— æ³•æ¥æ”¶åˆ°å‘é€äº‹ä»¶<br><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>onSubscribe()<span>ã€</span></strong>: æ˜¯åœ¨è®¢é˜…ä¹‹åï¼Œå‘é€äº‹ä»¶ä¹‹å‰æ‰§è¡Œ</p><h2 id="RxJavaç¼–ç¨‹æ€æƒ³" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">RxJavaç¼–ç¨‹æ€æƒ³</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> æ˜¯åœ¨ Java ä¸Šçš„å“åº”å¼æ‰©å±•ï¼Œé€šè¿‡ä½¿ç”¨å¯è§‚å¯Ÿåºåˆ—ï¼Œç”¨äºç»„æˆå¼‚æ­¥å’ŒåŸºäºäº‹ä»¶ç¼–ç¨‹çš„ç±»åº“ï¼Œä¹Ÿå°±æ˜¯ä»¥å“åº”å¼ç¼–ç¨‹æ€ç»´æ¥è¿›è¡Œç¼–ç¨‹çš„Javaç±»åº“ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å“åº”å¼ç¼–ç¨‹æ˜¯é¢å‘æ•°æ®æµçš„ç¼–ç¨‹æ€æƒ³ï¼Œåœ¨å“åº”å¼ç¼–ç¨‹æ€æƒ³ä¸‹ï¼Œä¸€åˆ‡çš†æ•°æ®æµã€‚å“åº”å¼ç¼–ç¨‹æ‰€ä¾§é‡çš„æ˜¯æ•°æ®æµçš„æµåŠ¨ã€‚</p><h3 id="å“åº”å¼ç¼–ç¨‹æ¡ˆä¾‹" data-tool="mdniceç¼–è¾‘å™¨" style="padding: 0px; color: black; font-size: 17px; font-weight: bold; text-align: center; position: relative; margin-top: 20px; margin-bottom: 20px;"><span class="prefix" style="display: none;"></span><span class="content" style="color: #2b2b2b; padding-bottom: 2px;"><span style="width: 30px; height: 30px; display: block; background-image: url(https://files.mdnice.com/grass-green.png); background-position: center; background-size: 30px; margin: auto; opacity: 1; background-repeat: no-repeat; margin-bottom: -8px;"></span>å“åº”å¼ç¼–ç¨‹æ¡ˆä¾‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬åœ¨ç†è§£å“åº”å¼ç¼–ç¨‹ä¹‹å‰ï¼Œå…ˆæ¥ä½¿ç”¨æˆ‘ä»¬ä¼ ç»Ÿçš„æ€æƒ³å®ç°ä¸€ä¸ªåŠ è½½ç½‘ç»œå›¾ç‰‡çš„æ¡ˆä¾‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">MainActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œMainActivityâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;ImageView&nbsp;imageView;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;String&nbsp;URL&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ<a href="https://cdn.lishaoy.net/serializable/serializable.png&quot;" target="_blank" rel="noopener">https://cdn.lishaoy.net/serializable/serializable.png&quot;</a></span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;Handler&nbsp;handler&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Handler(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Handler.Callback()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">boolean</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">handleMessage</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Message&nbsp;msg)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œhandleMessage:&nbsp;aaaâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bitmap&nbsp;=&nbsp;(Bitmap)&nbsp;msg.obj;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageView.setImageBitmap(bitmap);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(loading&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;loading.dismiss();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">false</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;ProgressDialog&nbsp;loading;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_main);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageView&nbsp;=&nbsp;findViewById(R.id.image_view);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">loadImage</span><span class="hljs-params" style="line-height: 26px;">(View&nbsp;view)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loading&nbsp;=&nbsp;ProgressDialog.show(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œâ€</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œloadingâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Thread(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Runnable()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;URL(URL);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;urlConnection&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;urlConnection.setConnectTimeout(<span class="hljs-number" style="color: #986801; line-height: 26px;">6000</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;responseCode&nbsp;=&nbsp;urlConnection.getResponseCode();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>(responseCode&nbsp;==&nbsp;HttpURLConnection.HTTP_OK)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;inputStream&nbsp;=&nbsp;urlConnection.getInputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bitmap&nbsp;=&nbsp;BitmapFactory.decodeStream(inputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;message&nbsp;=&nbsp;handler.obtainMessage();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.obj&nbsp;=&nbsp;bitmap;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler.sendMessage(message);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(MalformedURLException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).start();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¦‚ä¸Šï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">new Thread()</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Handler</code> æ¥å®ç°æˆ–è€…å…¶ä»–æ–¹æ³•ï¼Œæ¯ä¸ªäººçš„å®ç°æ–¹æ³•å¯èƒ½éƒ½ä¸åŒã€‚å¦‚æœï¼Œä½¿ç”¨ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> æ€æƒ³å®ç°å‘¢ï¼Œå¿…ç„¶å®ç°æ–¹å¼è¦æŒ‰ç…§å“åº”å¼ç¼–ç¨‹æ•°æ®æµçš„ç¼–ç¨‹æ€æƒ³ï¼Œå®ç°æ–¹å¼ä¹Ÿå°±ä¸€è‡´äº†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å†ç”¨ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> æ¥å®ç°å®ƒï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">MainActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œMainActivityâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;ImageView&nbsp;imageView;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;String&nbsp;URL&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ<a href="https://cdn.lishaoy.net/image/112131.jpg&quot;" target="_blank" rel="noopener">https://cdn.lishaoy.net/image/112131.jpg&quot;</a></span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;ProgressDialog&nbsp;loading;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Disposable&nbsp;disposable;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_main);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageView&nbsp;=&nbsp;findViewById(R.id.image_view);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">rxJavaLoadImage</span><span class="hljs-params" style="line-height: 26px;">(View&nbsp;view)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;Observable.just(URL)&nbsp;åˆ›å»ºè¢«è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observable.just(URL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;String,&nbsp;Bitmap&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Bitmap&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;s)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;URL(URL);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;urlConnection&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;urlConnection.setConnectTimeout(<span class="hljs-number" style="color: #986801; line-height: 26px;">6000</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;responseCode&nbsp;=&nbsp;urlConnection.getResponseCode();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(responseCode&nbsp;==&nbsp;HttpURLConnection.HTTP_OK)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;inputStream&nbsp;=&nbsp;urlConnection.getInputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bitmap&nbsp;=&nbsp;BitmapFactory.decodeStream(inputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;bitmap;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribeOn(Schedulers.io())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä¸Šé¢çš„ä»£ç åˆ†é…å·¥ä½œçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(AndroidSchedulers.mainThread())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä¸‹é¢çš„ä»£ç åˆ†åˆ«UIçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é“¾å¼è°ƒç”¨&nbsp;subscribe&nbsp;ç»‘å®šè§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Observer&lt;Bitmap&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;onSubscribe()&nbsp;æ–¹æ³•åœ¨å‘é€äº‹ä»¶ä¹‹å‰æ‰§è¡Œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onSubscribe</span><span class="hljs-params" style="line-height: 26px;">(Disposable&nbsp;d)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loading&nbsp;=&nbsp;ProgressDialog.show(MainActivity.<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œâ€</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œloadingâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;d;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;onNext()&nbsp;åœ¨å‘é€äº‹ä»¶ä¹‹åæ‰§è¡Œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onNext</span><span class="hljs-params" style="line-height: 26px;">(Bitmap&nbsp;bitmap)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageView.setImageBitmap(bitmap);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onError</span><span class="hljs-params" style="line-height: 26px;">(Throwable&nbsp;e)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.e(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonError:&nbsp;â€</span>&nbsp;+&nbsp;e.getMessage(),&nbsp;e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onComplete</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(loading&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;loading.dismiss();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onDestroy</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onDestroy();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable.dispose();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/load_image.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> ä»¥é“¾å¼è°ƒç”¨ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable.just(URL)</code> åˆ†å‘äº‹ä»¶ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">map()</code> æ¥åŠ å·¥æ•°æ®æµ(å¯ä»¥ä½¿ç”¨å¤šä¸ªmapå¤„ç†ä¸åŒçš„ä¸šåŠ¡)ã€<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeOn(Schedulers.io())</code> åˆ‡æ¢å·¥ä½œçº¿ç¨‹ã€<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observeOn(AndroidSchedulers.mainThread())</code> åˆ‡æ¢ä¸»çº¿ç¨‹ï¼Œæ•°æ®æµæµå‘ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribe</code> è¿›è¡Œå¤„ç†(ä¸‹æ¸¸çš„å¤„ç†æ ¹æ®ä¸Šæ¸¸çš„æ•°æ®æµå˜åŒ–è€Œå˜åŒ–)ã€‚</p><h2 id="RxJavaç»“åˆRetrofitä½¿ç”¨(æ¡ˆä¾‹)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">RxJavaç»“åˆRetrofitä½¿ç”¨(æ¡ˆä¾‹)</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">é€šè¿‡ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> ä½¿ç”¨ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£å®ƒçš„æµå¼çš„å“åº”å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡å’Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Retrofit</code> ç»“åˆä½¿ç”¨ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬ä½¿ç”¨ <a href="https://www.wanandroid.com/blog/show/2" style="text-decoration: none; word-wrap: break-word; color: #399003; font-weight: normal; border-bottom: 1px solid #399003;" target="_blank" rel="noopener">ç©Android å¼€æ”¾API</a> æ¥å®Œæˆæœ¬æ¬¡æ¡ˆä¾‹ã€‚é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Retrofit</code> å®šä¹‰ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Api</code> çš„æ¥å£ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">interface</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Api</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è·å–é¡¹ç›®åˆ†ç±»æ•°æ®</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@GET</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œproject/tree/jsonâ€</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;">Observable&lt;ProjectBean&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getProject</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è·å–é¡¹ç›®åˆ—è¡¨æ•°æ®(é¡¹ç›®åˆ—è¡¨æ•°æ®ä¾èµ–äºé¡¹ç›®åˆ†ç±»æ•°æ®çš„id)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@GET</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œproject/list/{pageIndex}/jsonâ€</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;">Observable&lt;ProjectItem&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getProjectItem</span><span class="hljs-params" style="line-height: 26px;">(@Path(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œpageIndexâ€</span>)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;pageIndex,&nbsp;@<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Query</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcidâ€</span>)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;cid)</span>;<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ProjectBean</code>ã€<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ProjectItem</code> JavaBean æˆ‘ä»¬æ ¹æ®æ¥å£è¿”å›çš„æ•°æ®åˆ©ç”¨å·¥å…· <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">GsonFormat</code> ç”Ÿæˆã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ç„¶åï¼Œæ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">HttpClient</code> ç”Ÿæˆ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Retrofit</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">HttpClient</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;api&nbsp;çš„&nbsp;base&nbsp;url</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;String&nbsp;BASE_URL&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ<a href="https://www.wanandroid.com/&quot;" target="_blank" rel="noopener">https://www.wanandroid.com/&quot;</a></span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setBaseUrl</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;baseUrl)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BASE_URL&nbsp;=&nbsp;baseUrl;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»º&nbsp;Retrofit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;Retrofit&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getRetrofit</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»º&nbsp;OkHttp&nbsp;å®¢æˆ·ç«¯</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OkHttpClient.Builder&nbsp;builder&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;OkHttpClient.Builder();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é…ç½®å‚æ•°</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OkHttpClient&nbsp;httpClient&nbsp;=&nbsp;builder.addNetworkInterceptor(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;StethoInterceptor())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.readTimeout(<span class="hljs-number" style="color: #986801; line-height: 26px;">6666</span>,&nbsp;TimeUnit.SECONDS)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.connectTimeout(<span class="hljs-number" style="color: #986801; line-height: 26px;">6666</span>,&nbsp;TimeUnit.SECONDS)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.writeTimeout(<span class="hljs-number" style="color: #986801; line-height: 26px;">6666</span>,&nbsp;TimeUnit.SECONDS)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.build();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Retrofit.Builder().baseUrl(BASE_URL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.client(httpClient)&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä½¿ç”¨&nbsp;OkHttp&nbsp;è®¿é—®ç½‘ç»œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.addConverterFactory(GsonConverterFactory.create(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Gson()))&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¾ç½®&nbsp;json&nbsp;è§£æå·¥å…·</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.addCallAdapterFactory(RxJava2CallAdapterFactory.create())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¾ç½®&nbsp;rxjava</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.build();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å†æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RetrofitActivity</code> æ¥æ¼”ç¤ºï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">RetrofitActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œRetrofitActivityâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Api&nbsp;api;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;TextView&nbsp;textView;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;itemData;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Disposable&nbsp;disposable;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_retrofit);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textView&nbsp;=&nbsp;findViewById(R.id.text_view);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;=&nbsp;HttpClient.getRetrofit().create(Api.class);&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç”Ÿæˆ&nbsp;api</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ†ç±»æ•°æ®</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SuppressLint</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCheckResultâ€</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getProject</span><span class="hljs-params" style="line-height: 26px;">(View&nbsp;view)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;api.getProject()&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ†ç±»æ•°æ®(è¿”å›çš„æ˜¯&nbsp;Observable&nbsp;è¢«è§‚å¯Ÿè€…)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribeOn(Schedulers.io())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸Šé¢çš„ä»£ç åˆ†é…å·¥ä½œçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(AndroidSchedulers.mainThread())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸‹é¢çš„ä»£ç åˆ†é…ä¸»çº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Consumer&lt;ProjectBean&gt;()&nbsp;{&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¢é˜…å¹¶åˆ›å»ºè§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">accept</span><span class="hljs-params" style="line-height: 26px;">(ProjectBean&nbsp;projectBean)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textView.setText(projectBean.toString());&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è¿›è¡Œ&nbsp;UI&nbsp;æ“ä½œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onDestroy</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onDestroy();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable.dispose();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/get_project.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯è§ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Retrofit</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJava</code> ç»“åˆä½¿ç”¨ï¼Œä»£ç é‡å‡å°‘çš„åŒæ—¶ï¼Œæ•´ä¸ªæµç¨‹æ€è·¯æ›´ä¸ºæ¸…æ™°ï¼Œä¸”å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºçš„åˆ‡æ¢çº¿ç¨‹ã€‚</p><h3 id="é˜²æŠ–" data-tool="mdniceç¼–è¾‘å™¨" style="padding: 0px; color: black; font-size: 17px; font-weight: bold; text-align: center; position: relative; margin-top: 20px; margin-bottom: 20px;"><span class="prefix" style="display: none;"></span><span class="content" style="color: #2b2b2b; padding-bottom: 2px;"><span style="width: 30px; height: 30px; display: block; background-image: url(https://files.mdnice.com/grass-green.png); background-position: center; background-size: 30px; margin: auto; opacity: 1; background-repeat: no-repeat; margin-bottom: -8px;"></span>é˜²æŠ–</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬å†ä½¿ç”¨é˜²æŠ–(é˜²æ­¢ç”¨æˆ·æ“ä½œå¸¦æ¥çš„é¢‘ç¹å‘èµ·è¯·æ±‚é—®é¢˜)çš„æ–¹å¼æ¥æŸ¥è¯¢é¡¹ç›®åˆ—è¡¨æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">RetrofitActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œRetrofitActivityâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Api&nbsp;api;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;TextView&nbsp;textView;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;itemData;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Disposable&nbsp;disposable;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_retrofit);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textView&nbsp;=&nbsp;findViewById(R.id.text_view);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;=&nbsp;HttpClient.getRetrofit().create(Api.class);&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç”Ÿæˆ&nbsp;api</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getProjectItemData();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ—è¡¨æ•°æ®ï¼Œé¡¹ç›®åˆ—è¡¨æ•°æ®éœ€è¦æ ¹æ®é¡¹ç›®åˆ†ç±»æ•°æ®çš„&nbsp;id&nbsp;è¿›è¡ŒæŸ¥è¯¢</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä¸”ä½¿ç”¨&nbsp;rxbinding&nbsp;å¢åŠ é˜²æŠ–åŠŸèƒ½</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getProjectItemData</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Button&nbsp;button&nbsp;=&nbsp;findViewById(R.id.get_item_button_fd);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;RxView.clicks(button)&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¾ç½®é˜²æŠ–çš„&nbsp;view</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.throttleFirst(<span class="hljs-number" style="color: #986801; line-height: 26px;">2600</span>,&nbsp;TimeUnit.MILLISECONDS)&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¾ç½®åœ¨&nbsp;2.6&nbsp;ç§’å†…åªå“åº”ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Consumer&lt;Object&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">accept</span><span class="hljs-params" style="line-height: 26px;">(Object&nbsp;o)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;api.getProject()&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ†ç±»æ•°æ®(è¿”å›çš„æ˜¯&nbsp;Observable&nbsp;è¢«è§‚å¯Ÿè€…)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribeOn(Schedulers.io())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸Šé¢çš„ä»£ç åˆ†é…å·¥ä½œçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(AndroidSchedulers.mainThread())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸‹é¢çš„ä»£ç åˆ†é…ä¸»çº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Consumer&lt;ProjectBean&gt;()&nbsp;{&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¢é˜…å¹¶åˆ›å»ºè§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">accept</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;ProjectBean&nbsp;projectBean)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span>&nbsp;(ProjectBean.DataBean&nbsp;bean:&nbsp;projectBean.getData())&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;api.getProjectItem(<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span>,&nbsp;bean.getId())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ ¹æ®é¡¹ç›®åˆ†ç±»æ•°æ®çš„&nbsp;id&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ—è¡¨æ•°æ®(è¿”å›çš„æ˜¯&nbsp;Observable&nbsp;è¢«è§‚å¯Ÿè€…)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribeOn(Schedulers.io())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸Šé¢çš„ä»£ç åˆ†é…å·¥ä½œçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(AndroidSchedulers.mainThread())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸‹é¢çš„ä»£ç åˆ†é…ä¸»çº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Consumer&lt;ProjectItem&gt;()&nbsp;{&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¢é˜…å¹¶åˆ›å»ºè§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">accept</span><span class="hljs-params" style="line-height: 26px;">(ProjectItem&nbsp;projectItem)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œaccept:&nbsp;â€</span>&nbsp;+&nbsp;projectItem);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textView.setText(projectItem.toString());&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è¿›è¡Œ&nbsp;UI&nbsp;æ“ä½œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onDestroy</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onDestroy();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable.dispose();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/get_item.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯è§ä»¥ä¸Šä»£ç è™½ç„¶å®ç°äº†é˜²æŠ–å’ŒåµŒå¥—æŸ¥è¯¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œä»£ç åµŒå¥—è¿‡å¤šï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</p><h3 id="è§£å†³ç½‘ç»œåµŒå¥—é—®é¢˜" data-tool="mdniceç¼–è¾‘å™¨" style="padding: 0px; color: black; font-size: 17px; font-weight: bold; text-align: center; position: relative; margin-top: 20px; margin-bottom: 20px;"><span class="prefix" style="display: none;"></span><span class="content" style="color: #2b2b2b; padding-bottom: 2px;"><span style="width: 30px; height: 30px; display: block; background-image: url(https://files.mdnice.com/grass-green.png); background-position: center; background-size: 30px; margin: auto; opacity: 1; background-repeat: no-repeat; margin-bottom: -8px;"></span>è§£å†³ç½‘ç»œåµŒå¥—é—®é¢˜</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¸Šé¢çš„ä»£ç è™½æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯åµŒå¥—å¤ªå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">flatMap</code> æ“ä½œç¬¦æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">RetrofitActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œRetrofitActivityâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Api&nbsp;api;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;TextView&nbsp;textView;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;itemData;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Disposable&nbsp;disposable;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_retrofit);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textView&nbsp;=&nbsp;findViewById(R.id.text_view);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;=&nbsp;HttpClient.getRetrofit().create(Api.class);&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç”Ÿæˆ&nbsp;api</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getProjectItemData();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getItemData();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ—è¡¨æ•°æ®ï¼Œä½¿ç”¨&nbsp;flatMap&nbsp;æ“ä½œç¬¦ï¼Œè§£å†³ç½‘ç»œåµŒå¥—é—®é¢˜</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getItemData</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Button&nbsp;button&nbsp;=&nbsp;findViewById(R.id.get_item_button);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;RxView.clicks(button)&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¾ç½®é˜²æŠ–çš„&nbsp;view</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.throttleFirst(<span class="hljs-number" style="color: #986801; line-height: 26px;">2600</span>,&nbsp;TimeUnit.MILLISECONDS)&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è®¾ç½®åœ¨&nbsp;2.6&nbsp;ç§’å†…åªå“åº”ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(Schedulers.io())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™ä¸‹é¢çš„ä»£ç åˆ†é…å·¥ä½œçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.flatMap(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;Object,&nbsp;ObservableSource&lt;ProjectBean&gt;&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;ObservableSource&lt;ProjectBean&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(Object&nbsp;o)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;api.getProject();&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŸ¥è¯¢é¡¹ç›®åˆ†ç±»æ•°æ®ï¼Œå¹¶ä¸”æŠŠæ•°æ®æµå‘ä¸‹æ¸¸</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.flatMap(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;ProjectBean,&nbsp;ObservableSource&lt;ProjectBean.DataBean&gt;&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;ObservableSource&lt;ProjectBean.DataBean&gt;&nbsp;apply(ProjectBean&nbsp;projectBean)&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;Observable.fromIterable(projectBean.getData());&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ ¹æ®ä¸Šæ¸¸æµè¿‡æ¥çš„æ•°æ®ï¼Œè¿­ä»£å‡ºæ¯ä¸ª&nbsp;ProjectItem&nbsp;é¡¹ç›®åˆ—è¡¨æ•°æ®ï¼Œå¹¶ä¸”æµå‘ä¸‹æ¸¸</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.flatMap(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;ProjectBean.DataBean,&nbsp;ObservableSource&lt;ProjectItem&gt;&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;ObservableSource&lt;ProjectItem&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(ProjectBean.DataBean&nbsp;dataBean)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;api.getProjectItem(<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span>,&nbsp;dataBean.getId());&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ ¹æ®ä¸Šæ¸¸æµè¿‡æ¥çš„æ•°æ®ï¼ŒæŸ¥è¯¢æ¯ä¸ªåˆ—è¡¨æ•°æ®ï¼Œå¹¶ä¸”æµå‘ä¸‹æ¸¸</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(AndroidSchedulers.mainThread())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Consumer&lt;ProjectItem&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">accept</span><span class="hljs-params" style="line-height: 26px;">(ProjectItem&nbsp;projectItem)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Exception&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemData&nbsp;+=&nbsp;projectItem.toString()&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ\n&nbsp;================================================&nbsp;\nâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textView.setText(itemData);&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ ¹æ®ä¸Šæ¸¸æµè¿‡æ¥çš„æ•°æ®ï¼Œè¿›è¡Œ&nbsp;UI&nbsp;æ“ä½œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onDestroy</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onDestroy();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable.dispose();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/get_item1.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯è§ï¼Œä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">flatMap</code> æ“ä½œç¬¦åï¼Œæ€è·¯æ›´ä¸ºæ¸…æ™°ï¼Œä»£ç å¹³é“ºä¸‹æ¥æ›´æ˜“ç†è§£ï¼Œä»¥ä¸€ç§æµå¼çš„æ–¹å¼ä¸æ–­çš„å‘ä¸‹æ¸¸æµå»æ•°æ®ï¼Œä¸‹æ¸¸æ ¹æ®ä¸Šæ¸¸çš„æ•°æ®å¯ä»¥å†³å®šæ˜¯å¦ç»§ç»­å‘ä¸‹æ¸¸æµæˆ–è€…åšUIæ›´æ–°æ“ä½œç­‰ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">flatMap</code> æ“ä½œç¬¦å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œä¸”çº¿ç¨‹çš„åˆ‡æ¢å¯ä»¥éšæ„åˆ‡æ¢ï¼Œè¿™ä¸ªå°±æ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJava</code> æ•°æ®æµå¼çš„å“åº”å¼ç¼–ç¨‹æ€æƒ³ã€‚</p><h2 id="Hooké’©å­å‡½æ•°" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">Hooké’©å­å‡½æ•°</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬å·²ç»äº†è§£äº† <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJava</code> çš„æ€æƒ³å’Œä½¿ç”¨ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„æºç ï¼Œæˆ‘ä»¬ä»åˆ›å»ºä¸€ä¸ªè¢«è§‚å¯Ÿè€…(Observable)å¼€å§‹ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable.create</code>ï¼Œç‚¹å‡» <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">create</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;&lt;T&gt;&nbsp;<span class="hljs-function" style="line-height: 26px;">Observable&lt;T&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">create</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;ObservableOnSubscribe&lt;T&gt;&nbsp;source)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(source,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œsource&nbsp;is&nbsp;nullâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;RxJavaPlugins.onAssembly(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObservableCreate&lt;&gt;(source));<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¾ˆç®€å•ï¼Œå°±è¿™ä¹ˆä¸€å¥ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJavaPlugins.onAssembly()</code> ä»£ç ï¼Œæˆ‘ä»¬ç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onAssembly</code> å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">/<strong><br>&nbsp;&nbsp;<em>&nbsp;Calls&nbsp;the&nbsp;associated&nbsp;hook&nbsp;function.<br>&nbsp;&nbsp;</em>&nbsp;<span class="hljs-doctag" style="color: #a626a4; line-height: 26px;">@param</span>&nbsp;&lt;T&gt;&nbsp;the&nbsp;value&nbsp;type<br>&nbsp;&nbsp;<em>&nbsp;<span class="hljs-doctag" style="color: #a626a4; line-height: 26px;">@param</span>&nbsp;source&nbsp;the&nbsp;hookâ€™s&nbsp;input&nbsp;value<br>&nbsp;&nbsp;</em>&nbsp;<span class="hljs-doctag" style="color: #a626a4; line-height: 26px;">@return</span>&nbsp;the&nbsp;value&nbsp;returned&nbsp;by&nbsp;the&nbsp;hook<br>&nbsp;&nbsp;*/</strong></span><br><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SuppressWarnings</span>({&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œrawtypesâ€</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œuncheckedâ€</span>&nbsp;})<br><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@NonNull</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;&lt;T&gt;&nbsp;<span class="hljs-function" style="line-height: 26px;">Observable&lt;T&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onAssembly</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Observable&lt;T&gt;&nbsp;source)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;Observable,&nbsp;?&nbsp;extends&nbsp;Observable&gt;&nbsp;f&nbsp;=&nbsp;onObservableAssembly;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(f&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;apply(f,&nbsp;source);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;source;<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯ä»¥çœ‹åˆ°æ³¨é‡Šï¼šCalls the associated hook function(è°ƒç”¨å…³è”çš„é’©å­å‡½æ•°)ï¼ŒæŠŠ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> èµ‹å€¼ç»™äº† <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">f</code> å‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡æŸ¥æ‰¾ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> å‘ç°ä»–å¹¶æ²¡æœ‰èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå§‹ç»ˆæ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">null</code>ï¼Œæ‰€ä»¥ï¼Œåœ¨æ²¡æœ‰ç»™ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> èµ‹å€¼çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‡½æ•°ä»€ä¹ˆä¹Ÿä¸ä¼šåšï¼›æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç»™ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> å‡½æ•°èµ‹å€¼å°±å¯ä»¥å…ˆ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">if</code> è¯­å¥æ‰§è¡Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> å‡½æ•°ï¼Œé‚£ä¹ˆæ€ä¹ˆèµ‹å€¼å‘¢ï¼Ÿæˆ‘ä»¬å¯¹ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> è¿›è¡Œæœç´¢å‘ç°ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SuppressWarnings</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œrawtypesâ€</span>)<br><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Nullable</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">volatile</span>&nbsp;Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;Observable,&nbsp;?&nbsp;extends&nbsp;Observable&gt;&nbsp;onObservableAssembly;<br><br>RxJavaPlugins.onObservableAssembly&nbsp;=&nbsp;onObservableAssembly;<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onObservableAssembly</code> æ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJavaPlugins</code> ç±»çš„ä¸€ä¸ªé™æ€å˜é‡ï¼Œäºæ˜¯æˆ‘ä»¬å°±çŸ¥é“å¦‚ä½•èµ‹å€¼äº†ï¼Œæˆ‘ä»¬ç”¨ä¹‹å‰ä¾‹å­æ¥æµ‹è¯•ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">UseRxJava</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç»™&nbsp;hook&nbsp;é’©å­å‡½æ•°èµ‹å€¼</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxJavaPlugins.setOnObservableAssembly(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;Observable,&nbsp;Observable&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Observable&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(Observable&nbsp;observable)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Throwable&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(observable&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ&nbsp;ä½ æƒ³ä¹°ğŸŠ&nbsp;ï¼Ÿâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;observable;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ–°å¢ä¸€ä¸ªæµ‹è¯•è¢«è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observable.just(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠâ€</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;String,&nbsp;Object&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Object&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;s)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Throwable&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsy&nbsp;ä¹°äº†&nbsp;â€</span>&nbsp;+&nbsp;s;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Consumer&lt;Object&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">accept</span><span class="hljs-params" style="line-height: 26px;">(Object&nbsp;o)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Throwable&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(o);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»º&nbsp;Observable&nbsp;è¢«è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observable&nbsp;observable&nbsp;=&nbsp;Observable.create(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObservableOnSubscribe&lt;String&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribe</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;ObservableEmitter&lt;String&gt;&nbsp;emitter)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Throwable&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠ&nbsp;åˆ°è´§äº†ï¼â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œå¤§å®¶å¯ä»¥æ¥ä¹°&nbsp;ğŸŠ&nbsp;äº†ï¼â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onError(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Throwable(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠ&nbsp;åˆå–å®Œäº†ï¼â€</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œWOWï¼ğŸŠ&nbsp;å–å…‰äº†â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onComplete();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onComplete();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emitter.onNext(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸŠ&nbsp;åŠ æ€¥è¿›è´§ä¸­â€¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»º&nbsp;Observer&nbsp;è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observer&lt;String&gt;&nbsp;observer&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Observer&lt;String&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onSubscribe</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Disposable&nbsp;d)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonSubscribe:â€</span>&nbsp;+&nbsp;d.isDisposed());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onNext</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;String&nbsp;s)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonNext:â€</span>&nbsp;+&nbsp;s);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onError</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Throwable&nbsp;e)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonError:â€</span>&nbsp;+&nbsp;e.getMessage());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onComplete</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonCompleteâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;å…³è”è®¢é˜…å…³ç³»</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observable.subscribe(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;">io.reactivex.rxjava3.internal.operators.observable.ObservableJust@694f9431&nbsp;ä½ æƒ³ä¹°ğŸŠ&nbsp;ï¼Ÿ<br>io.reactivex.rxjava3.internal.operators.observable.ObservableMap@f2a0b8e&nbsp;ä½ æƒ³ä¹°ğŸŠ&nbsp;ï¼Ÿ<br>lsy&nbsp;ä¹°äº†&nbsp;ğŸŠ<br>io.reactivex.rxjava3.internal.operators.observable.ObservableCreate@515f550a&nbsp;ä½ æƒ³ä¹°ğŸŠ&nbsp;ï¼Ÿ<br>onSubscribe:<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">false</span><br>onNext:ğŸŠ&nbsp;åˆ°è´§äº†ï¼<br>onNext:å¤§å®¶å¯ä»¥æ¥ä¹°&nbsp;ğŸŠ&nbsp;äº†ï¼<br>onError:ğŸŠ&nbsp;åˆå–å®Œäº†ï¼<br><br>BUILD&nbsp;SUCCESSFUL&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span>&nbsp;868ms<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">hook</code> é’©å­å‡½æ•°æ‰§è¡Œäº†3æ¬¡ï¼Œåˆ†åˆ«æ˜¯ï¼š<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableJust</code>ã€<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableMap</code>ã€<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableCreate</code>ï¼Œå¯çŸ¥ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">hook</code> é’©å­å‡½æ•°æ˜¯ä¸€ä¸ªå…¨å±€ç›‘å¬å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒåšå¾ˆå¤šäº‹æƒ…ã€‚</p><h2 id="RxJavaè§‚å¯Ÿè€…æ¨¡å¼å’Œæ ‡å‡†è§‚å¯Ÿè€…æ¨¡å¼" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">RxJavaè§‚å¯Ÿè€…æ¨¡å¼å’Œæ ‡å‡†è§‚å¯Ÿè€…æ¨¡å¼</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬æ¥ç»§ç»­è§£è¯»æºç ï¼Œé€šè¿‡æ ‡å‡†è§‚å¯Ÿè€…æ¨¡å¼å’Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJava</code> è§‚å¯Ÿè€…æ¨¡å¼çš„æ¯”è¾ƒå·²åŒºåˆ«æ¥æ›´åŠ æ·±åˆ»çš„ç†è§£ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJava</code>ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¸Šé¢æˆ‘ä»¬é€šè¿‡æºç äº†è§£åˆ° <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">hook</code> é’©å­å‡½æ•°ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable.create</code> åˆ›å»ºä¸€ä¸ªè¢«è§‚å¯Ÿè€…æ—¶å¦‚æœæˆ‘ä»¬ç»™é’©å­å‡½æ•°èµ‹å€¼ï¼Œå°±ä¼šå…ˆæ‰§è¡Œé’©å­å‡½æ•°ï¼›é‚£ä¹ˆï¼Œæˆ‘ä»¬çš„å‡†è§‚å¯Ÿè€…æ¨¡å¼å’Œ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> è§‚å¯Ÿè€…æ¨¡å¼æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æ ‡å‡†è§‚å¯Ÿè€…æ¨¡å¼æœ‰4ä¸ªè§’è‰²ï¼šObservable(è¢«è§‚å¯Ÿè€…)ã€ConcreteObservable(å…·ä½“çš„è¢«è§‚å¯Ÿè€…)ã€Observer(è§‚å¯Ÿè€…)ã€ConcreteObserver(å…·ä½“çš„è§‚å¯Ÿè€…)ï¼Œ<strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> è§‚å¯Ÿè€…æ¨¡å¼çš„è¿™4ä¸ªè§’è‰²åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p><section class="table-container" data-tool="mdniceç¼–è¾‘å™¨" style="overflow-x: auto;"><table style="display: table; text-align: left;"><thead><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><th style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-weight: bold; background-color: #f0f0f0; font-size: 16px; color: #595959; min-width: 85px;">æ ‡å‡†è§‚å¯Ÿè€…æ¨¡å¼</th><th style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-weight: bold; background-color: #f0f0f0; font-size: 16px; color: #595959; min-width: 85px;">RxJavaè§‚å¯Ÿè€…æ¨¡å¼</th></tr></thead><tbody style="border: 0;"><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">Observable (è¢«è§‚å¯Ÿè€…)</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">Observable æ¥å£</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">ConcreteObservable(å…·ä½“çš„è¢«è§‚å¯Ÿè€…)</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">Observable.create(ï¼‰åˆ›å»ºå‡ºæ¥çš„ï¼Œæœ€ç»ˆæ˜¯ä¸€ä¸ª ObservableCreate å¯¹è±¡</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">Observer(è§‚å¯Ÿè€…)</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">Observer æ¥å£</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">ConcreteObserver(å…·ä½“çš„è§‚å¯Ÿè€…)</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 16px; color: #595959; min-width: 85px;">new Observer<string>() { } åˆ›å»ºå‡ºæ¥çš„è§‚å¯Ÿè€…å¯¹è±¡</string></td></tr></tbody></table></section><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">åœ¨æ ‡å‡†çš„è§‚å¯Ÿè€…æ¨¡å¼ä¸­ Observable (è¢«è§‚å¯Ÿè€…) æ˜¯æŒæœ‰ Observer(è§‚å¯Ÿè€…) åˆ—è¡¨çš„ï¼Œé‚£ä¹ˆ <strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> è§‚å¯Ÿè€…æ¨¡å¼å‘¢ï¼Ÿ</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬æ¥ç»§ç»­çœ‹æºç ï¼Œä¸Šæ–‡æˆ‘ä»¬å·²ç»çœ‹è¿‡ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable.create</code>ï¼Œç‚¹å‡» <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">create</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;&lt;T&gt;&nbsp;<span class="hljs-function" style="line-height: 26px;">Observable&lt;T&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">create</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;ObservableOnSubscribe&lt;T&gt;&nbsp;source)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(source,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œsource&nbsp;is&nbsp;nullâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;RxJavaPlugins.onAssembly(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObservableCreate&lt;&gt;(source));<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">RxJavaPlugins.onAssembly()</code> æˆ‘ä»¬å·²ç»çœ‹è¿‡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">new ObservableCreate&lt;&gt;(source)</code>ï¼Œ è¿™ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source</code> å°±æ˜¯æˆ‘ä»¬ä¼ è¿›æ¥çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">new ObservableOnSubscribe(){ â€¦ }</code>ï¼Œæˆ‘ä»¬ç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableCreate</code> å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ObservableCreate</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observable</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;ObservableOnSubscribe&lt;T&gt;&nbsp;source;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">ObservableCreate</span><span class="hljs-params" style="line-height: 26px;">(ObservableOnSubscribe&lt;T&gt;&nbsp;source)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.source&nbsp;=&nbsp;source;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯çŸ¥ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">return RxJavaPlugins.onAssembly(new ObservableCreate&lt;&gt;(source));</code> è¿”å›çš„æ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableCreate(ObservableOnSubscribe&lt;T&gt; source) { this.source = source; }</code>ï¼Œè€Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source</code> æ˜¯æˆ‘ä»¬è‡ªå·±ä¼ è¿›å»çš„ï¼›</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬å†æ¥çœ‹çœ‹è®¢é˜… <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observable.subscribe(observer)</code> ä»£ç ï¼Œç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribe</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SchedulerSupport</span>(SchedulerSupport.NONE)<br><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribe</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(observer,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œobserver&nbsp;is&nbsp;nullâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer&nbsp;=&nbsp;RxJavaPlugins.onSubscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;observer);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(observer,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œThe&nbsp;RxJavaPlugins.onSubscribe&nbsp;hook&nbsp;returned&nbsp;a&nbsp;null&nbsp;Observer.&nbsp;Please&nbsp;change&nbsp;the&nbsp;handler&nbsp;provided&nbsp;to&nbsp;RxJavaPlugins.setOnObservableSubscribe&nbsp;for&nbsp;invalid&nbsp;null&nbsp;returns.&nbsp;Further&nbsp;reading:&nbsp;<a href="https://github.com/ReactiveX/RxJava/wiki/Plugins&quot;" target="_blank" rel="noopener">https://github.com/ReactiveX/RxJava/wiki/Plugins&quot;</a></span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscribeActual(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(NullPointerException&nbsp;e)&nbsp;{&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;NOPMD</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span>&nbsp;e;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(Throwable&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exceptions.throwIfFatal(e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;canâ€™t&nbsp;call&nbsp;onError&nbsp;because&nbsp;no&nbsp;way&nbsp;to&nbsp;know&nbsp;if&nbsp;a&nbsp;Disposable&nbsp;has&nbsp;been&nbsp;set&nbsp;or&nbsp;not</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;canâ€™t&nbsp;call&nbsp;onSubscribe&nbsp;because&nbsp;the&nbsp;call&nbsp;might&nbsp;have&nbsp;set&nbsp;a&nbsp;Subscription&nbsp;already</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxJavaPlugins.onError(e);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NullPointerException&nbsp;npe&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;NullPointerException(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œActually&nbsp;not,&nbsp;but&nbsp;canâ€™t&nbsp;throw&nbsp;other&nbsp;exceptions&nbsp;due&nbsp;to&nbsp;RSâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;npe.initCause(e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span>&nbsp;npe;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬çœ‹åˆ°é‡ç‚¹ä»£ç  <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeActual(observer);</code> ç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeActual</code> å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">abstract</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribeActual</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer)</span></span>;<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æ˜¯ä¸€ä¸ªæŠ½è±¡å‡½æ•°ï¼Œä¹Ÿå°±è¯´å®ƒçš„å®ç°æ˜¯åœ¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableCreate</code> ç±»é‡Œé¢çš„ï¼Œå› ä¸ºï¼Œæ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableCreate</code> è°ƒç”¨äº† <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribe</code> æ–¹æ³•ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å›åˆ° <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeActual</code> ç±»ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ObservableCreate</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observable</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;ObservableOnSubscribe&lt;T&gt;&nbsp;source;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">ObservableCreate</span><span class="hljs-params" style="line-height: 26px;">(ObservableOnSubscribe&lt;T&gt;&nbsp;source)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.source&nbsp;=&nbsp;source;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;subscribeActual&nbsp;æŠ½è±¡æ–¹æ³•çš„å®ç°</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribeActual</span><span class="hljs-params" style="line-height: 26px;">(Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åˆ›å»ºäº†ä¸€ä¸ª&nbsp;CreateEmitter&nbsp;å‘å°„å™¨ï¼Œä¸”ä¼ å…¥äº†ç›®æ ‡è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CreateEmitter&lt;T&gt;&nbsp;parent&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;CreateEmitter&lt;&gt;(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ‰§è¡Œäº†ç›®æ ‡è§‚å¯Ÿè€…çš„&nbsp;onSubscribe&nbsp;æ–¹æ³•</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer.onSubscribe(parent);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ‰§è¡Œç›®æ ‡è¢«è§‚å¯Ÿè€…(ObservableCreate)&nbsp;çš„&nbsp;subscribe&nbsp;æ–¹æ³•ä¸”ä¼ å…¥äº†&nbsp;å‘å°„å™¨&nbsp;CreateEmitter</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source.subscribe(parent);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(Throwable&nbsp;ex)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exceptions.throwIfFatal(ex);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent.onError(ex);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯çŸ¥ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeActual</code> æŠ½è±¡æ–¹æ³•çš„å®ç°ï¼šåˆ›å»ºäº†ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">CreateEmitter</code> å‘å°„å™¨ï¼Œä¸”ä¼ å…¥äº†ç›®æ ‡è§‚å¯Ÿè€…ï¼Œä¸”æ‰§è¡Œäº†ç›®æ ‡è§‚å¯Ÿè€…çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onSubscribe()</code> æ–¹æ³•ï¼›è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onSubscribe()</code> æ–¹æ³•ä¼šåœ¨è®¢é˜…ä¹‹åï¼Œå‘é€äº‹ä»¶ä¹‹å‰æ‰§è¡Œçš„åŸå› ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¹‹åï¼Œåˆæ‰§è¡Œç›®æ ‡è¢«è§‚å¯Ÿè€…(ObservableCreate) çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribe</code> æ–¹æ³•ä¸”ä¼ å…¥äº†å‘å°„å™¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">CreateEmitter</code>ï¼Œåœ¨çœ‹ä¸‹æˆ‘ä»¬çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">CreateEmitter</code> å‘å°„å™¨æºç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">CreateEmitter</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AtomicReference</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Disposable</span>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ObservableEmitter</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;,&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Disposable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span>&nbsp;serialVersionUID&nbsp;=&nbsp;-<span class="hljs-number" style="color: #986801; line-height: 26px;">3434801548987643227L</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æŒæœ‰ç›®æ ‡è§‚å¯Ÿè€…&nbsp;observer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CreateEmitter(Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.observer&nbsp;=&nbsp;observer;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ‰§è¡Œ&nbsp;onNext()&nbsp;ä¼šè°ƒç”¨&nbsp;observer.onNext(t)&nbsp;æ‰§è¡Œç›®æ ‡è§‚å¯Ÿè€…çš„&nbsp;onNext()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onNext</span><span class="hljs-params" style="line-height: 26px;">(T&nbsp;t)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(t&nbsp;==&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onError(ExceptionHelper.createNullPointerException(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonNext&nbsp;called&nbsp;with&nbsp;a&nbsp;null&nbsp;value.â€</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(!isDisposed())&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer.onNext(t);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onError</span><span class="hljs-params" style="line-height: 26px;">(Throwable&nbsp;t)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(!tryOnError(t))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxJavaPlugins.onError(t);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">CreateEmitter</code> å‘å°„å™¨æŒæœ‰ç›®æ ‡è§‚å¯Ÿè€… <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer</code> ç›®æ ‡è§‚å¯Ÿè€…ï¼Œæ‰§è¡Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onNext()</code> ä¼šè°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer.onNext(t)</code> æ‰§è¡Œç›®æ ‡è§‚å¯Ÿè€…çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onNext()</code>ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> çš„è§‚å¯Ÿè€…æ¨¡å¼æ•´ä¸ªæµç¨‹ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/observer_uml.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯è§ï¼Œ<strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> è§‚å¯Ÿè€…æ¨¡å¼å’Œæ ‡å‡†çš„è§‚å¯Ÿè€…æ¨¡å¼å®Œå…¨ä¸åŒï¼Œ<strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> è§‚å¯Ÿè€…æ¨¡å¼çš„è¢«è§‚å¯Ÿè€…å¹¶æ²¡æœ‰æŒæœ‰è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªä¸­é—´å±‚ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">CreateEmitter</code> å‘å°„å™¨æ¥å®Œæˆäº‹ä»¶çš„ä¼ é€’ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ä¸ªå‘å¸ƒè®¢é˜…è€…æ¨¡å¼ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/observable.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><h2 id="Mapæ“ä½œç¬¦åŸç†" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; display: block; border-bottom: 4px solid #4CAF50;"><span class="prefix" style="display: none;"></span><span class="content" style="display: flex; color: #4CAF50; font-size: 20px;">Mapæ“ä½œç¬¦åŸç†</span><span class="suffix" style="display: flex; box-sizing: border-box; width: 20px; height: 10px; border-top-left-radius: 20px; border-top-right-radius: 20px; background: RGBA(76, 175, 80, .5); color: rgb(255, 255, 255); font-size: 16px; letter-spacing: 0.544px; justify-content: flex-end; float: right; margin-top: -10px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¸Šæ–‡åŠ è½½å›¾ç‰‡çš„æ¡ˆä¾‹é‡Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">map</code> æ“ä½œç¬¦ï¼Œç”¨æ¥æŠŠ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">String</code> æ•°æ®åŠ å·¥æˆ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Bitmap</code> æ•°æ®ï¼Œä»è€Œæµå‘ä¸‹æ¸¸ï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä¸Šæ–‡çš„æ¡ˆä¾‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">rxJavaLoadImage</span><span class="hljs-params" style="line-height: 26px;">(View&nbsp;view)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;Observable.just(URL)&nbsp;åˆ›å»ºè¢«è§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observable.just(URL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä½¿ç”¨&nbsp;map&nbsp;æ“ä½œç¬¦åŠ å·¥æ•°æ®,ä»&nbsp;String&nbsp;è½¬æ¢ä¸º&nbsp;Bitmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Function&lt;String,&nbsp;Bitmap&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Bitmap&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;s)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;URL(URL);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;urlConnection&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;urlConnection.setConnectTimeout(<span class="hljs-number" style="color: #986801; line-height: 26px;">6000</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;responseCode&nbsp;=&nbsp;urlConnection.getResponseCode();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(responseCode&nbsp;==&nbsp;HttpURLConnection.HTTP_OK)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;inputStream&nbsp;=&nbsp;urlConnection.getInputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bitmap&nbsp;=&nbsp;BitmapFactory.decodeStream(inputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;bitmap;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;å°†&nbsp;Bitmap&nbsp;æ•°æ®æµå‘ä¸‹æ¸¸</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribeOn(Schedulers.io())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä¸Šé¢çš„ä»£ç åˆ†é…å·¥ä½œçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.observeOn(AndroidSchedulers.mainThread())&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä¸‹é¢çš„ä»£ç åˆ†åˆ«UIçº¿ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é“¾å¼è°ƒç”¨&nbsp;subscribe&nbsp;ç»‘å®šè§‚å¯Ÿè€…</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Observer&lt;Bitmap&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;onSubscribe()&nbsp;æ–¹æ³•åœ¨å‘é€äº‹ä»¶ä¹‹å‰æ‰§è¡Œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onSubscribe</span><span class="hljs-params" style="line-height: 26px;">(Disposable&nbsp;d)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loading&nbsp;=&nbsp;ProgressDialog.show(MainActivity.<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œâ€</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œloadingâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disposable&nbsp;=&nbsp;d;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;onNext()&nbsp;åœ¨å‘é€äº‹ä»¶ä¹‹åæ‰§è¡Œ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onNext</span><span class="hljs-params" style="line-height: 26px;">(Bitmap&nbsp;bitmap)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageView.setImageBitmap(bitmap);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onError</span><span class="hljs-params" style="line-height: 26px;">(Throwable&nbsp;e)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.e(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonError:&nbsp;â€</span>&nbsp;+&nbsp;e.getMessage(),&nbsp;e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onComplete</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(loading&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;loading.dismiss();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">æˆ‘ä»¬ç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">map</code> æŸ¥çœ‹æºç ï¼Œå¦‚ä¸‹</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@CheckReturnValue</span><br><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SchedulerSupport</span>(SchedulerSupport.NONE)<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;&lt;R&gt;&nbsp;<span class="hljs-function" style="line-height: 26px;">Observable&lt;R&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">map</span><span class="hljs-params" style="line-height: 26px;">(Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T,&nbsp;?&nbsp;extends&nbsp;R&gt;&nbsp;mapper)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;ObjectHelper.requireNonNull(mapper,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œmapper&nbsp;is&nbsp;nullâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;RxJavaPlugins.onAssembly(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObservableMap&lt;T,&nbsp;R&gt;(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;mapper));<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å¯çŸ¥ï¼Œæœ€ç»ˆè¿”å›çš„æ˜¯ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableMap</code>ï¼Œç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableMap</code> å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ObservableMap</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>,&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">U</span>&gt;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AbstractObservableWithUpstream</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>,&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">U</span>&gt;&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T,&nbsp;?&nbsp;extends&nbsp;U&gt;&nbsp;function;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">ObservableMap</span><span class="hljs-params" style="line-height: 26px;">(ObservableSource&lt;T&gt;&nbsp;source,&nbsp;Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T,&nbsp;?&nbsp;extends&nbsp;U&gt;&nbsp;function)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>(source);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.function&nbsp;=&nbsp;function;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;new&nbsp;MapObserver&lt;T,&nbsp;U&gt;(t,&nbsp;function)&nbsp;æŠŠæˆ‘ä»¬ä¼ è¿›æ¥çš„å‡½æ•°åŒ…ä¸Šäº†ä¸€æ¬¡&nbsp;MapObserver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribeActual</span><span class="hljs-params" style="line-height: 26px;">(Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;U&gt;&nbsp;t)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source.subscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;MapObserver&lt;T,&nbsp;U&gt;(t,&nbsp;function));<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">å…³é”®ä»£ç  <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source.subscribe(new MapObserver&lt;T, U&gt;(t, function))</code> æŠŠæˆ‘ä»¬ä¼ è¿›æ¥çš„å‡½æ•°åŒ…ä¸Šäº†ä¸€æ¬¡ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">MapObserver</code>ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source.subscribe()</code> è¿™ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source</code> å°±æ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable</code>ï¼Œå°±ç›¸å½“äº <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observable.subscribe()</code>ï¼Œè€Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">MapObserver</code> ç»§æ‰¿ä¸ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">BasicFuseableObserver</code>ï¼Œ<code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">BasicFuseableObserver</code> å®ç°äº† <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">Observer</code>ï¼Œæœ€ç»ˆ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source.subscribe()</code> ä¼šæ‰§è¡Œåˆ°ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;">&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SchedulerSupport</span>(SchedulerSupport.NONE)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribe</span><span class="hljs-params" style="line-height: 26px;">(@NonNull&nbsp;Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(observer,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œobserver&nbsp;is&nbsp;nullâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer&nbsp;=&nbsp;RxJavaPlugins.onSubscribe(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;observer);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(observer,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œThe&nbsp;RxJavaPlugins.onSubscribe&nbsp;hook&nbsp;returned&nbsp;a&nbsp;null&nbsp;Observer.&nbsp;Please&nbsp;change&nbsp;the&nbsp;handler&nbsp;provided&nbsp;to&nbsp;RxJavaPlugins.setOnObservableSubscribe&nbsp;for&nbsp;invalid&nbsp;null&nbsp;returns.&nbsp;Further&nbsp;reading:&nbsp;<a href="https://github.com/ReactiveX/RxJava/wiki/Plugins&quot;" target="_blank" rel="noopener">https://github.com/ReactiveX/RxJava/wiki/Plugins&quot;</a></span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ˜¯ä¸€ä¸ªé™æ€æŠ½è±¡æ–¹æ³•ï¼Œæœ€ç»ˆç”±å®ç°ç±»å®Œæˆ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscribeActual(observer);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(NullPointerException&nbsp;e)&nbsp;{&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;NOPMD</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span>&nbsp;e;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(Throwable&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exceptions.throwIfFatal(e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;canâ€™t&nbsp;call&nbsp;onError&nbsp;because&nbsp;no&nbsp;way&nbsp;to&nbsp;know&nbsp;if&nbsp;a&nbsp;Disposable&nbsp;has&nbsp;been&nbsp;set&nbsp;or&nbsp;not</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;canâ€™t&nbsp;call&nbsp;onSubscribe&nbsp;because&nbsp;the&nbsp;call&nbsp;might&nbsp;have&nbsp;set&nbsp;a&nbsp;Subscription&nbsp;already</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxJavaPlugins.onError(e);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NullPointerException&nbsp;npe&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;NullPointerException(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œActually&nbsp;not,&nbsp;but&nbsp;canâ€™t&nbsp;throw&nbsp;other&nbsp;exceptions&nbsp;due&nbsp;to&nbsp;RSâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;npe.initCause(e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span>&nbsp;npe;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeActual(observer)</code> æ˜¯ä¸€ä¸ªé™æ€æŠ½è±¡æ–¹æ³•ï¼Œæœ€ç»ˆç”±å®ç°ç±»å®Œæˆï¼Œä¹Ÿå°±æ˜¯ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">ObservableJust</code> çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">subscribeActual</code> æ–¹æ³•ï¼Œå¦‚ä¸‹</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ObservableJust</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Observable</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ScalarSupplier</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;T&nbsp;value;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">ObservableJust</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;T&nbsp;value)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.value&nbsp;=&nbsp;value;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;source.subscribe(new&nbsp;MapObserver&lt;T,&nbsp;U&gt;(t,&nbsp;function));&nbsp;åˆå¯¹&nbsp;observer&nbsp;åŒ…è£¹äº†ä¸€å±‚</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">subscribeActual</span><span class="hljs-params" style="line-height: 26px;">(Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T&gt;&nbsp;observer)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ScalarDisposable&lt;T&gt;&nbsp;sd&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ScalarDisposable&lt;&gt;(observer,&nbsp;value);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer.onSubscribe(sd);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sd.run();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;T&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">get</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;value;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer</code> æ˜¯æˆ‘ä»¬ä» <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">source.subscribe</code> é‡Œ ä¼ è¿›æ¥çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">MapObserver</code>ï¼Œè€Œæ­¤æ®µä»£ç åˆå¯¹ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer</code> åŒ…è£¹äº†ä¸€å±‚ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer.onSubscribe(sd)</code> å°±ä¼šæ‰§è¡Œæˆ‘ä»¬è‡ªå·± <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">new</code> å‡ºæ¥çš„ç›®æ ‡è§‚å¯Ÿè€…çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onSubscribe</code> é‡Œçš„é€»è¾‘ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">sd.run()</code> è¿›å»çœ‹çœ‹æºç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ScalarDisposable</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AtomicInteger</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">QueueDisposable</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt;,&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Runnable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(get()&nbsp;==&nbsp;START&nbsp;&amp;&amp;&nbsp;compareAndSet(START,&nbsp;ON_NEXT))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;observer&nbsp;å°±æ˜¯æˆ‘ä»¬ä¼ è¿›æ¥çš„&nbsp;MapObserver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer.onNext(value);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(get()&nbsp;==&nbsp;ON_NEXT)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazySet(ON_COMPLETE);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;observer.onComplete();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer.onNext(value)</code> çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">observer</code> å°±æ˜¯æˆ‘ä»¬ä¼ è¿›æ¥çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">MapObserver</code>ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">MapObserver.onNext()</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">MapObserver</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>,&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">U</span>&gt;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">BasicFuseableObserver</span>&lt;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>,&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">U</span>&gt;&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T,&nbsp;?&nbsp;extends&nbsp;U&gt;&nbsp;mapper;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MapObserver(Observer&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;U&gt;&nbsp;actual,&nbsp;Function&lt;?&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>&nbsp;T,&nbsp;?&nbsp;extends&nbsp;U&gt;&nbsp;mapper)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>(actual);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.mapper&nbsp;=&nbsp;mapper;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onNext</span><span class="hljs-params" style="line-height: 26px;">(T&nbsp;t)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(done)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(sourceMode&nbsp;!=&nbsp;NONE)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;downstream.onNext(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;v;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;Objects.requireNonNull(mapper.apply(t),&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œThe&nbsp;mapper&nbsp;function&nbsp;returned&nbsp;a&nbsp;null&nbsp;value.â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(Throwable&nbsp;ex)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail(ex);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;downstream.onNext(v);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">onNext()</code> é€šè¿‡ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">mapper.apply(t)</code> å¯¹æˆ‘ä»¬çš„æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¦‚ä¸‹</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; padding: 0px; border-radius: 6px; background: white;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">interface</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Function</span>&lt;@<span class="hljs-title" style="color: #c18401; line-height: 26px;">NonNull</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>,&nbsp;@<span class="hljs-title" style="color: #c18401; line-height: 26px;">NonNull</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">R</span>&gt;&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">/<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>&nbsp;Apply&nbsp;some&nbsp;calculation&nbsp;to&nbsp;the&nbsp;input&nbsp;value&nbsp;and&nbsp;return&nbsp;some&nbsp;other&nbsp;value.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>&nbsp;<span class="hljs-doctag" style="color: #a626a4; line-height: 26px;">@param</span>&nbsp;t&nbsp;the&nbsp;input&nbsp;value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>&nbsp;<span class="hljs-doctag" style="color: #a626a4; line-height: 26px;">@return</span>&nbsp;the&nbsp;output&nbsp;value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>&nbsp;<span class="hljs-doctag" style="color: #a626a4; line-height: 26px;">@throws</span>&nbsp;Throwable&nbsp;if&nbsp;the&nbsp;implementation&nbsp;wishes&nbsp;to&nbsp;throw&nbsp;any&nbsp;type&nbsp;of&nbsp;exception<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;">R&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">apply</span><span class="hljs-params" style="line-height: 26px;">(T&nbsp;t)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;Throwable</span>;<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;">ä¼ å…¥ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">T</code> è¿”å› <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">R</code>ï¼Œè€Œè¿™ä¸ª <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">apply</code> ä¼šæ‰§è¡Œæˆ‘ä»¬å®ç°çš„é‡å†™ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">apply</code> æ–¹æ³•çš„é‡Œé¢é€»è¾‘ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> çš„ <code style="font-size: 14px; word-wrap: break-word; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #0bb712; background: rgba(127, 226, 159, 0.48); display: inline-block; padding: 0 2px; border-radius: 2px; height: 21px; line-height: 22px; box-shadow: none;">map</code> æ“ä½œç¬¦ä½¿ç”¨äº†è£…é¥°å™¨æ¨¡å¼ï¼Œåœ¨ä¸å½±å“ä¸»æ•°æ®æµçš„æƒ…å†µä¸‹ï¼Œå¯¹éœ€è¦åŠ å·¥çš„æ•°æ®è¿›è¡ŒåŒ…è£…ï¼Œåœ¨è‡ªå·±çš„åŒ…è£…ç±»é‡Œå®Œæˆæ•°æ®çš„åŠ å·¥ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 16px; word-spacing: 2px;"><strong style="color: #399003; font-weight: bold;"><span>ã€Œ</span>RxJava<span>ã€</span></strong> é‡Œçš„æ“ä½œç¬¦éå¸¸å¤šï¼Œåªè¦ä½ ç†è§£å…¶ä¸­çš„å‡ ä¸ªçš„åŸç†ï¼Œå…¶å®ƒçš„æ“ä½œç¬¦åŸç†éƒ½å·®ä¸å¤šï¼Œä¸‹é¢åˆ—å‡ºäº†åŸºæœ¬æ‰€æœ‰çš„æ“ä½œç¬¦ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: block; flex-direction: column; justify-content: center; align-items: center;"><img src="https://cdn.lishaoy.net/rxjava/rxjava.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div></section>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/rxjava.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>è§£è¯»Androidä¸­çš„åºåˆ—åŒ–ä¸Jsonè§£æ</title>
      <link>https://h.lishaoy.net/serializable.html</link>
      <guid>https://h.lishaoy.net/serializable.html</guid>
      <pubDate>Mon, 03 Aug 2020 18:16:13 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/serializable/serializable.png&quot; class=&quot;full-image&quot; alt=&quot;Serializable&quot; title=&quot;Serializable&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;section id=&quot;nice&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; style=&quot;font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.75; color: #595959; font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center;&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;&quot;&gt;æˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç½‘ç»œæ•°æ®ä¼ è¾“æœ€ä¸»æµçš„çš„æ ¼å¼å°±æ˜¯ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;&quot;&gt;json&lt;/code&gt;ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨ &lt;strong style=&quot;color: #595959; font-weight: bold;&quot;&gt;&lt;span&gt;ã€Œ&lt;/span&gt;Gson&lt;span&gt;ã€&lt;/span&gt;&lt;/strong&gt; å¼€æºæ¡†æ¶æ¥å¤„ç†å®ƒï¼Œé‚£ä¹ˆå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿæœ¬ç¯‡æ–‡ç« å°†è§£è¯» &lt;strong style=&quot;color: #595959; font-weight: bold;&quot;&gt;&lt;span&gt;ã€Œ&lt;/span&gt;Android&lt;span&gt;ã€&lt;/span&gt;&lt;/strong&gt; ä¸­çš„åºåˆ—åŒ–ä¸ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;&quot;&gt;json&lt;/code&gt; è§£æï¼Œå¦‚ï¼šJava è¯­è¨€æä¾›çš„ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;&quot;&gt;Serializable&lt;/code&gt;ã€Android æä¾›çš„ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;&quot;&gt;Parceable&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;margin: 0; margin-top: 10px; margin-bottom: 10px; height: 1px; padding: 0; border: none; border-top: 2px solid #d9b8fa;background: none;&quot;&gt;&lt;/section&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/serializable/serializable.png" class="full-image" alt="Serializable" title="Serializable"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.75; color: #595959; font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç½‘ç»œæ•°æ®ä¼ è¾“æœ€ä¸»æµçš„çš„æ ¼å¼å°±æ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">json</code>ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨ <strong style="color: #595959; font-weight: bold;"><span>ã€Œ</span>Gson<span>ã€</span></strong> å¼€æºæ¡†æ¶æ¥å¤„ç†å®ƒï¼Œé‚£ä¹ˆå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿæœ¬ç¯‡æ–‡ç« å°†è§£è¯» <strong style="color: #595959; font-weight: bold;"><span>ã€Œ</span>Android<span>ã€</span></strong> ä¸­çš„åºåˆ—åŒ–ä¸ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">json</code> è§£æï¼Œå¦‚ï¼šJava è¯­è¨€æä¾›çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code>ã€Android æä¾›çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parceable</code>ã€‚</p><hr data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; height: 1px; padding: 0; border: none; border-top: 2px solid #d9b8fa;background: none;"></section><a id="more"></a><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.75; color: #595959; font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æœ¬ç¯‡æ–‡ç« çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨ <a href="https://github.com/persilee/android_practice" style="text-decoration: none; word-wrap: break-word; color: #664D9D; font-weight: normal; border-bottom: 1px solid #664D9D;" target="_blank" rel="noopener">Github</a> ä¸Šï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/serializable/serializable.xmind1.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><h2 data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;">åºåˆ—åŒ–çš„å®šä¹‰åŠç›¸å…³æ¦‚å¿µ</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åœ¨ç³»ç»Ÿçš„åº•å±‚ï¼Œæ•°æ®ä¼ è¾“å½¢å¼æ˜¯å­—èŠ‚åºåˆ—å½¢å¼ä¼ è¾“ï¼Œç³»ç»Ÿå¹¶ä¸è®¤è¯†å¯¹è±¡ï¼Œåªè®¤è¯†å­—èŠ‚åºåˆ—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è¿›è¡Œè¿›ç¨‹é—´çš„é€šè®¯ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†æ•°æ®åºåˆ—åŒ–ï¼Œå°±æ˜¯å°†å¯¹è±¡ä¼ åŒ–ä¸ºå­—èŠ‚åºåˆ—ï¼›ååºåˆ—åŒ–ï¼Œå½“åº•å±‚çš„å­—èŠ‚åºåˆ—ä¼ è¾“åˆ°ç›¸åº”çš„è¿›ç¨‹æ—¶ï¼Œå°±éœ€è¦ååºåˆ—åŒ–ï¼Œå°±æ˜¯å­—èŠ‚åºåˆ—è½¬åŒ–ä¸ºå¯¹è±¡ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åœ¨è¿›ç¨‹é—´é€šè®¯ã€æœ¬åœ°æ•°æ®å­˜å‚¨ã€ç½‘ç»œæ•°æ®ä¼ è¾“éƒ½ç¦»ä¸å¼€åºåˆ—åŒ–ï¼Œå¯¹äºä¸åŒçš„åœºæ™¯é€‰æ‹©åˆé€‚çš„åºåˆ—åŒ–æ–¹æ¡ˆå¯¹åº”ç”¨çš„æ€§èƒ½æœ‰ç€æå¤§çš„å½±å“ã€‚</p><h3 id="åºåˆ—åŒ–" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">åºåˆ—åŒ–</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢æˆäºŒè¿›åˆ¶çš„è¿‡ç¨‹ï¼Œå°±æ˜¯å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢æˆå¯ä»¥å­˜å‚¨æˆ–è€…ä¼ è¾“çš„æ•°æ®æ ¼å¼çš„è¿‡ç¨‹ã€‚</p><h3 id="ååºåˆ—åŒ–" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">ååºåˆ—åŒ–</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">äºŒè¿›åˆ¶ä¸²è½¬æ¢æˆæ•°æ®ç»“æ„æˆ–å¯¹è±¡çš„è¿‡ç¨‹ï¼Œå°±æ˜¯åºåˆ—åŒ–ç”Ÿæˆçš„äºŒè¿›åˆ¶ä¸²æ•°æ®è¢«è¿˜åŸæˆæ•°æ®ç»“æ„æˆ–å¯¹è±¡çš„è¿‡ç¨‹ã€‚</p><h3 id="åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç›®çš„" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç›®çš„</span><span class="suffix" style="display: none;"></span></h3><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">åºåˆ—åŒ–ï¼šä¸»è¦ç”¨äºç½‘ç»œä¼ è¾“ï¼Œæ•°æ®æŒä¹…åŒ–ï¼Œä¸€èˆ¬åºåˆ—åŒ–ä¹Ÿç§°ä¸ºç¼–ç (Encode)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">ååºåˆ—åŒ–ï¼šä¸»è¦ç”¨äºä»ç½‘ç»œï¼Œç£ç›˜ä¸Šè¯»å–å­—èŠ‚æ•°ç»„è¿˜åŸæˆåŸå§‹å¯¹è±¡ï¼Œä¸€èˆ¬ååºåˆ—åŒ–ä¹Ÿç§°ä¸ºè§£ç  (Decode)</section></li></ul><h2 id="Serializableæ¥å£" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;">Serializableæ¥å£</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> æ˜¯ Java æä¾›çš„åºåˆ—åŒ–æ¥å£ï¼Œå®ƒéå¸¸ç®€å•ï¼Œå¦‚ä¸‹</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">interface</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> åªæ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œç”¨æ¥è¢« <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">ObjectOutputStream</code> åºåˆ—åŒ–ï¼Œè¢« <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">ObjectInputStream</code> ååºåˆ—åŒ–ã€‚</p><h3 id="Serializableçš„ä½¿ç”¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Serializableçš„ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬å…ˆæ¥æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Student</code> ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Student</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span>&nbsp;serialVersionUID&nbsp;=&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">7911650650846382143L</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;Integer&nbsp;age;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;List&lt;Course&gt;&nbsp;courses;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è·å–è¯¾ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;List&lt;Course&gt;&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getCourses</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;courses;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ–°å¢è¯¾ç¨‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">addCourse</span><span class="hljs-params" style="line-height: 26px;">(Course&nbsp;course)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.courses.add(course);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ç”¨&nbsp;transient&nbsp;å…³é”®å­—æ ‡è®°çš„æˆå‘˜å˜é‡ä¸å‚ä¸åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">transient</span>&nbsp;Date&nbsp;createTime;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é™æ€æˆå‘˜å˜é‡å±äºç±»è€Œä¸å±äºå¯¹è±¡ï¼Œä¹Ÿä¸å‚ä¸åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;SimpleDateFormat&nbsp;dateFormat&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;SimpleDateFormat();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Student</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name,&nbsp;Integer&nbsp;age)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.age&nbsp;=&nbsp;age;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;courses&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ArrayList&lt;&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createTime&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Date();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getName</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setName</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Integer&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getAge</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;age;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setAge</span><span class="hljs-params" style="line-height: 26px;">(Integer&nbsp;age)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.age&nbsp;=&nbsp;age;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œStudent{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;age=â€</span>&nbsp;+&nbsp;age&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;courses=â€</span>&nbsp;+&nbsp;courses&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;createTime=â€</span>&nbsp;+&nbsp;createTime&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Student</code> ç±»ä¾èµ–äº <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Course</code> ç±»ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å†æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Course</code> ç±»ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Course</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span>&nbsp;serialVersionUID&nbsp;=&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">7980496416494451794L</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Course</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getName</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setName</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getScore</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setScore</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourse{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;score=â€</span>&nbsp;+&nbsp;score&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬å†æ–°å»ºä¸€ä¸ªåºåˆ—åŒ–çš„å·¥å…·ç±»ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">SerializableUtil</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;String&nbsp;path&nbsp;=&nbsp;System.getProperty(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œuser.dirâ€</span>)&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ/serializable/src/main/java/net/lishaoy/serializable/serializable/out/student.outâ€</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">synchronized</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">boolean</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">serializable</span><span class="hljs-params" style="line-height: 26px;">(Object&nbsp;o)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(o&nbsp;==&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">false</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectOutputStream&nbsp;outputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectOutputStream(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;FileOutputStream(path));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.writeObject(o);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œåºåˆ—åŒ–æˆåŠŸï¼â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(SecurityException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">finally</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(outputStream&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">false</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">synchronized</span>&nbsp;&lt;T&gt;&nbsp;<span class="hljs-function" style="line-height: 26px;">T&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">reverseSerializable</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectInputStream&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectInputStream(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;FileInputStream(path));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;object&nbsp;=&nbsp;inputStream.readObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œååºåˆ—åŒ–æˆåŠŸï¼\nâ€</span>&nbsp;&nbsp;+&nbsp;object);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;(T)&nbsp;object;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(Exception&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">finally</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(inputStream&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputStream.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">SerializableUtil</code> å·¥å…·ç±»ï¼Œæ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–æˆ‘ä»¬çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Student</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">UseSerializable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Student&nbsp;student&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Student(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>,&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.addCourse(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè‹±è¯­â€</span>,<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SerializableUtil.serializable(student);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SerializableUtil.reverseSerializable();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">åºåˆ—åŒ–æˆåŠŸï¼<br>ååºåˆ—åŒ–æˆåŠŸï¼<br>Student{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜lsyâ€™</span>,&nbsp;age=66,&nbsp;courses=[Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜è‹±è¯­â€™</span>,&nbsp;score=66.0}],&nbsp;createTime=null}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åœ¨ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> æ—¶ï¼Œå¯ä»¥å‘ç°ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">éœ€è¦ç°è±¡ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> çš„ç±»ï¼Œæ‰å¯ä»¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">transient</code> å…³é”®å­—æ ‡è®°çš„æˆå‘˜å˜é‡ä¸å‚ä¸åºåˆ—åŒ–</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">é™æ€æˆå‘˜å˜é‡ä¸å‚ä¸åºåˆ—åŒ–</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">ä¸€ä¸ªå®ç°åºåˆ—åŒ–çš„ç±»ï¼Œå®ƒçš„å­ç±»ä¹Ÿæ˜¯å¯åºåˆ—åŒ–çš„</section></li></ul><h3 id="serialVersionUIDä¸å…¼å®¹æ€§" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">serialVersionUIDä¸å…¼å®¹æ€§</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><strong style="color: #595959; font-weight: bold;"><span>ã€Œ</span>serialVersionUIDçš„ä½œç”¨ï¼š<span>ã€</span></strong> ç”¨æ¥è¡¨æ˜ç±»çš„ä¸åŒç‰ˆæœ¬é—´çš„å…¼å®¹æ€§ã€‚Java åºåˆ—åŒ–æœºåˆ¶ä¼šé€šè¿‡åˆ¤æ–­ç±»çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">serialVersionUID</code> æ¥éªŒè¯ç‰ˆæœ¬ä¸€è‡´æ€§ï¼›åœ¨ååºåˆ—åŒ–æ—¶ï¼ŒJVM ä¼šæŠŠä¼ æ¥çš„å­—èŠ‚æµä¸­çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">serialVersionUID</code> ä¸æœ¬åœ°ç›¸åº”å®ä½“ç±»çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">serialVersionUID</code> è¿›è¡Œæ¯”è¾ƒã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><strong style="color: #595959; font-weight: bold;"><span>ã€Œ</span>å…¼å®¹æ€§é—®é¢˜ï¼š<span>ã€</span></strong> ä¸ºäº†åœ¨ååºåˆ—åŒ–æ—¶ï¼Œç¡®ä¿ç±»ç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼Œæœ€å¥½åœ¨æ¯ä¸ªè¦åºåˆ—åŒ–çš„ç±»ä¸­åŠ å…¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">private static final long serialVersionUID = XXX</code> å±æ€§ã€‚å¦‚æœä¸æ˜¾å¼å®šä¹‰è¯¥å±æ€§ï¼Œè¿™ä¸ªå± æ€§å€¼å°†ç”±JVMæ ¹æ®ç±»çš„ç›¸å…³ä¿¡æ¯è®¡ç®—ï¼Œè€Œä¿®æ”¹åçš„ç±»çš„è®¡ç®— ç»“æœä¸ä¿®æ”¹å‰çš„ç±»çš„è®¡ç®—ç»“æœå¾€å¾€ä¸ åŒï¼Œä»è€Œé€ æˆå¯¹è±¡çš„ååºåˆ—åŒ–å› ä¸ºç±»ç‰ˆæœ¬ä¸å…¼å®¹è€Œå¤±è´¥ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">serialVersionUID</code> å¯ä»¥ç”¨ Android Studio è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/serializable/UID1.png" alt="no-shadow" title="UID" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">ä½¿ç”¨æ—¶æŒ‰ <kbd>option</kbd> + <kbd>enter</kbd>ï¼Œå¦‚å›¾ï¼š</p><div style="width: 66%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/serializable/UID.png" alt="no-shadow" title="UID" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><h3 id="Externalizableæ¥å£" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Externalizableæ¥å£</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">JDK æä¾›äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> æ¥å£å¤–è¿˜æä¾›äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Externalizable</code> æ¥å£ï¼Œå®ƒç»§æ‰¿äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code>ï¼Œä¼˜å…ˆçº§é«˜äº <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code>ï¼Œæºç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">interface</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Externalizable</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">writeExternal</span><span class="hljs-params" style="line-height: 26px;">(ObjectOutput&nbsp;var1)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">readExternal</span><span class="hljs-params" style="line-height: 26px;">(ObjectInput&nbsp;var1)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;ClassNotFoundException</span>;<br>}<br></code></pre><h3 id="Externalizableæ¥å£çš„ä½¿ç”¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Externalizableæ¥å£çš„ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬æ¥çœ‹ä¸‹ç®€å•çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Course</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Externalizable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span>&nbsp;serialVersionUID&nbsp;=&nbsp;-<span class="hljs-number" style="color: #986801; line-height: 26px;">342346458732794596L</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Course</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Course</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourse:&nbsp;â€</span>&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname&nbsp;â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ&nbsp;score&nbsp;â€</span>&nbsp;+&nbsp;score);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getName</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setName</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getScore</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setScore</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">writeExternal</span><span class="hljs-params" style="line-height: 26px;">(ObjectOutput&nbsp;objectOutput)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œwriteExternal&nbsp;â€¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;objectOutput.writeObject(name);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">readExternal</span><span class="hljs-params" style="line-height: 26px;">(ObjectInput&nbsp;objectInput)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;ClassNotFoundException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œreadExternal&nbsp;â€¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;(String)&nbsp;objectInput.readObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourse{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;score=â€</span>&nbsp;+&nbsp;score&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;ClassNotFoundException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Course&nbsp;course&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>,<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;byteArrayOutputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ByteArrayOutputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectOutputStream&nbsp;outputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectOutputStream(byteArrayOutputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.writeObject(course);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">byte</span>[]&nbsp;bytes&nbsp;=&nbsp;byteArrayOutputStream.toByteArray();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.close();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectInputStream&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectInputStream(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ByteArrayInputStream(bytes));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println((Course)inputStream.readObject());<br><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">Course:&nbsp;name&nbsp;æ•°å­¦&nbsp;score&nbsp;66.0<br>writeExternal&nbsp;â€¦<br>readExternal&nbsp;â€¦<br>Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜æ•°å­¦â€™</span>,&nbsp;score=0.0}<br><br>BUILD&nbsp;SUCCESSFUL&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span>&nbsp;576ms<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åºåˆ—åŒ–æ—¶ä¼šè°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">writeExternal</code> æ–¹æ³•ï¼Œååºåˆ—åŒ–æ—¶ä¼šè°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readExternal</code> æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥çµæ´»çš„æ§åˆ¶æƒ³åºåˆ—åŒ–çš„å­—æ®µã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Externalizable</code> æ¥å£ï¼Œåœ¨ååºåˆ—åŒ–æ—¶ï¼Œéœ€è¦å†™é»˜è®¤çš„ç©ºæ„é€ å‡½æ•°ï¼Œå¦åˆ™æŠ¥é”™ï¼š<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">InvalidClassException</code>ã€‚</p><h3 id="ä½¿ç”¨Serializableçš„æ³¨æ„ç‚¹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">ä½¿ç”¨Serializableçš„æ³¨æ„ç‚¹</span><span class="suffix" style="display: none;"></span></h3><h4 id="readObjectå’ŒwriteObject" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content">readObjectå’ŒwriteObject</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readObject</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">writeObject</code> å¹¶æ²¡æœ‰åœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> æ¥å£é‡Œå®šä¹‰ï¼Œä½†æ˜¯é€šè¿‡æŸ¥çœ‹æºç ï¼Œå¯çŸ¥ï¼Œå¦‚ï¼š<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">ObjectOutputStream</code> ç‚¹å‡»è¿›å…¥æºç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><br>â€¦<br><br><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">writeSerialData</span><span class="hljs-params" style="line-height: 26px;">(Object&nbsp;var1,&nbsp;ObjectStreamClass&nbsp;var2)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;ClassDataSlot[]&nbsp;var3&nbsp;=&nbsp;var2.getClassDataLayout();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span>(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;var4&nbsp;=&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>;&nbsp;var4&nbsp;&lt;&nbsp;var3.length;&nbsp;++var4)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectStreamClass&nbsp;var5&nbsp;=&nbsp;var3[var4].desc;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;hasWriteObjectMethod&nbsp;ä¼šåˆ¤æ–­æˆ‘ä»¬æ˜¯å¦é‡å†™äº†&nbsp;writeObject()&nbsp;æ–¹æ³•</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(var5.hasWriteObjectMethod())&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectOutputStream.PutFieldImpl&nbsp;var6&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curPut;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curPut&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SerialCallbackContext&nbsp;var7&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curContext;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(extendedDebugInfo)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.debugInfoStack.push(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcustom&nbsp;writeObject&nbsp;data&nbsp;(class&nbsp;\â€â€</span>&nbsp;+&nbsp;var5.getName()&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ\â€)â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curContext&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;SerialCallbackContext(var1,&nbsp;var5);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.bout.setBlockDataMode(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">true</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é€šè¿‡åå°„æ‰§è¡Œ&nbsp;writeObject()&nbsp;æ–¹æ³•</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var5.invokeWriteObject(var1,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.bout.setBlockDataMode(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">false</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.bout.writeByte(<span class="hljs-number" style="color: #986801; line-height: 26px;">120</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">finally</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curContext.setUsed();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curContext&nbsp;=&nbsp;var7;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(extendedDebugInfo)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.debugInfoStack.pop();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.curPut&nbsp;=&nbsp;var6;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">else</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.defaultWriteFields(var1,&nbsp;var5);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>â€¦<br><br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Externalizable</code> æ¥å£æä¾›çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">writeExternal</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readExternal</code> æ–¹æ³•ä¸€æ ·ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readObject</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">writeObject</code> æ¥çµæ´»çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ä¾‹å¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ReadWriteObjectCourse</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span>&nbsp;serialVersionUID&nbsp;=&nbsp;-<span class="hljs-number" style="color: #986801; line-height: 26px;">6828110073372979297L</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">ReadWriteObjectCourse</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">ReadWriteObjectCourse</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourse:&nbsp;â€</span>&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname&nbsp;â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ&nbsp;score&nbsp;â€</span>&nbsp;+&nbsp;score);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getName</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setName</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getScore</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">setScore</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é‡å†™&nbsp;writeObject()&nbsp;æ–¹æ³•ï¼Œåªåºåˆ—åŒ–&nbsp;name&nbsp;å­—æ®µ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">writeObject</span><span class="hljs-params" style="line-height: 26px;">(ObjectOutputStream&nbsp;outputStream)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œwriteObject&nbsp;â€¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.writeObject(name);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;é‡å†™&nbsp;readObject()&nbsp;æ–¹æ³•ï¼Œåªååºåˆ—åŒ–&nbsp;name&nbsp;å­—æ®µ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">readObject</span><span class="hljs-params" style="line-height: 26px;">(ObjectInputStream&nbsp;inputStream)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;ClassNotFoundException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œreadObject&nbsp;â€¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;(String)&nbsp;inputStream.readObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourse{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;score=â€</span>&nbsp;+&nbsp;score&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;ClassNotFoundException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadWriteObjectCourse&nbsp;course&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ReadWriteObjectCourse(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>,<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;byteArrayOutputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ByteArrayOutputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectOutputStream&nbsp;outputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectOutputStream(byteArrayOutputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.writeObject(course);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">byte</span>[]&nbsp;bytes&nbsp;=&nbsp;byteArrayOutputStream.toByteArray();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.close();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectInputStream&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectInputStream(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ByteArrayInputStream(bytes));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadWriteObjectCourse&nbsp;course1&nbsp;=&nbsp;(ReadWriteObjectCourse)&nbsp;inputStream.readObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(course1);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">Course:&nbsp;name&nbsp;æ•°å­¦&nbsp;score&nbsp;66.0<br>writeObject&nbsp;â€¦<br>readObject&nbsp;â€¦<br>Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜æ•°å­¦â€™</span>,&nbsp;score=0.0}<br><br>BUILD&nbsp;SUCCESSFUL&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span>&nbsp;722ms<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readObject</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">writeObject</code> æ–¹æ³•éƒ½è¢«æ‰§è¡Œï¼Œè‡ªå®šä¹‰åºåˆ—åŒ– <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">name</code> å­—æ®µã€‚<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> æ¥å£é™¤äº†è¿™2ä¸ªæ–¹æ³•å¯ä»¥é‡å†™å¤–ï¼Œè¿˜æœ‰2ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readResolve</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">writeReplace</code>ã€‚</p><h4 id="å¤šå¼•ç”¨å†™å…¥" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content">å¤šå¼•ç”¨å†™å…¥</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><strong style="color: #595959; font-weight: bold;"><span>ã€Œ</span>å¤šå¼•ç”¨å†™å…¥<span>ã€</span></strong> é—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä¸‹ä»£ç ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;ClassNotFoundException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Course&nbsp;course&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>,<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;byteArrayOutputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ByteArrayOutputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;ObjectOutputStream&nbsp;outputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectOutputStream(byteArrayOutputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;outputStream.writeObject(course);<br>&nbsp;&nbsp;&nbsp;&nbsp;course.setName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè‹±è¯­â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;outputStream.writeObject(course);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">byte</span>[]&nbsp;bytes&nbsp;=&nbsp;byteArrayOutputStream.toByteArray();<br>&nbsp;&nbsp;&nbsp;&nbsp;outputStream.close();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;ObjectInputStream&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ObjectInputStream(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ByteArrayInputStream(bytes));<br>&nbsp;&nbsp;&nbsp;&nbsp;Course&nbsp;course1&nbsp;=&nbsp;(Course)&nbsp;inputStream.readObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;Course&nbsp;course2&nbsp;=&nbsp;(Course)&nbsp;inputStream.readObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(course1);<br>&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(course2);<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">Course:&nbsp;name&nbsp;æ•°å­¦&nbsp;score&nbsp;66.0<br>writeExternal&nbsp;â€¦<br>readExternal&nbsp;â€¦<br>Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜æ•°å­¦â€™</span>,&nbsp;score=0.0}<br>Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜æ•°å­¦â€™</span>,&nbsp;score=0.0}<br><br>BUILD&nbsp;SUCCESSFUL&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span>&nbsp;557ms<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">course.setName(â€œè‹±è¯­â€);</code> æŠŠ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">name</code> ä¿®æ”¹åï¼Œé‡æ–° <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">outputStream.writeObject(course);</code> ä½†æ˜¯ç»“æœå¹¶æ²¡æœ‰æ”¹å˜ã€‚è¿™ä¸ªå°±æ˜¯å¤šå¼•ç”¨é—®é¢˜ï¼šå¯¹äºä¸€ä¸ªå®ä¾‹çš„å¤šä¸ªå¼•ç”¨ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œåªä¼šå†™å…¥ä¸€æ¬¡ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">outputStream.reset();</code> æ¥è§£å†³é—®é¢˜ã€‚</p><h4 id="å­ç±»å®ç° Serializableï¼Œè€Œçˆ¶ç±»æ²¡æœ‰å®ç° Serializable" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content">å­ç±»å®ç° Serializableï¼Œè€Œçˆ¶ç±»æ²¡æœ‰å®ç° Serializable</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><strong style="color: #595959; font-weight: bold;"><span>ã€Œ</span>å­ç±»å®ç° Serializableï¼Œè€Œçˆ¶ç±»æ²¡æœ‰å®ç° Serializable<span>ã€</span></strong> é—®é¢˜ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Person</code> ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Person</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Person</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œPerson{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è®© <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Student</code> ç±»ç»§æ‰¿å®ƒï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Student</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Person</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Student</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name,&nbsp;Integer&nbsp;age)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>(name);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.age&nbsp;=&nbsp;age;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;courses&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;ArrayList&lt;&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createTime&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Date();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œStudent:&nbsp;name:â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ&nbsp;age:â€</span>&nbsp;+&nbsp;age&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ&nbsp;createTime:â€</span>&nbsp;+&nbsp;createTime);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;â€¦<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">java.io.InvalidClassException:&nbsp;net.lishaoy.serializable.serializable.Student;&nbsp;no&nbsp;valid&nbsp;constructor<br>â€¦<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">æç¤ºæˆ‘ä»¬æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çˆ¶ç±» <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Person</code> åŠ å…¥æ— å‚çš„æ„é€ å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Person</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åŠ å…¥æ— å‚æ„é€ å‡½æ•°</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Person</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Person</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œPerson{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><h4 id="å•ä¾‹æ¨¡å¼çš„åºåˆ—åŒ–" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content">å•ä¾‹æ¨¡å¼çš„åºåˆ—åŒ–</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åºåˆ—åŒ–ä¼šå¯¼è‡´å•ä¾‹å¤±æ•ˆï¼Œå°±æ˜¯åºåˆ—åŒ–å‰åä¼šäº§ç”Ÿå¤šä¸ªå¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Single</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">SingleClass</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Serializable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span>&nbsp;serialVersionUID&nbsp;=&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">9153534024695280942L</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">boolean</span>&nbsp;flag&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">false</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;SingleClass&nbsp;singleClass;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;SingleClass&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">getInstance</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>(singleClass&nbsp;==&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">synchronized</span>&nbsp;(SingleClass.class)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(singleClass&nbsp;==&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;singleClass&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;SingleClass();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;singleClass;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">SingleClass</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>&nbsp;(!flag)&nbsp;flag&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">true</span>;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">else</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;RuntimeException(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œå•ä¾‹æ¨¡å¼è¢«ä¾µçŠ¯ï¼â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[]&nbsp;args)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SingleClass&nbsp;singleClass&nbsp;=&nbsp;SingleClass.getInstance();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SerializableUtil.serializable(singleClass);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SingleClass&nbsp;singleClass1&nbsp;=&nbsp;SerializableUtil.reverseSerializable();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œåºåˆ—åŒ–ä¹‹å‰ï¼šâ€</span>&nbsp;+&nbsp;singleClass.hashCode());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œåºåˆ—åŒ–ä¹‹åï¼šâ€</span>+&nbsp;singleClass1.hashCode());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">åºåˆ—åŒ–æˆåŠŸï¼<br>ååºåˆ—åŒ–æˆåŠŸï¼<br>net.lishaoy.serializable.serializable.Single<span class="hljs-variable" style="color: #986801; line-height: 26px;">$SingleClass</span>@41629346<br>åºåˆ—åŒ–ä¹‹å‰ï¼š1442407170<br>åºåˆ—åŒ–ä¹‹åï¼š1096979270<br><br>BUILD&nbsp;SUCCESSFUL&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span>&nbsp;621ms<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">å•ä¾‹æ¨¡å¼åºåˆ—åŒ–å‰åä¼šäº§ç”Ÿå¤šä¸ªå¯¹è±¡çš„é—®é¢˜ï¼Œå¯ä»¥é‡å†™ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">readResolve()</code> æ–¹æ³•è§£å†³ã€‚</p><h2 id="Parcelableæ¥å£" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;">Parcelableæ¥å£</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code> æ˜¯ Android SDK ä¸ºæˆ‘ä»¬æä¾›çš„åºåˆ—åŒ–æ¥å£ï¼Œå®ƒæ˜¯åŸºäºå†…å­˜çš„ï¼Œç”±äºå†…å­˜è¯»å†™é€Ÿåº¦é«˜äºç¡¬ç›˜ï¼Œå› æ­¤ Android ä¸­çš„è·¨è¿›ç¨‹å¯¹è±¡çš„ä¼ è¾“ä¸€èˆ¬ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code>ï¼›<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code> ç›¸å¯¹äº <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> çš„ä½¿ç”¨å¤æ‚ä¸€äº›ï¼Œä½†æ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code> çš„æ•ˆç‡æ¯” <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> ä¹Ÿé«˜å¾ˆå¤š</p><h3 id="Parcelableçš„ä½¿ç”¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Parcelableçš„ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">ç”±äº <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code> æ˜¯ Android SDK æä¾›çš„ï¼Œæ‰€ä»¥ï¼Œéœ€è¦åœ¨ Android å·¥ç¨‹ä¸‹ä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Course</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">Parcelable</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourseâ€</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;String&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œCourse{â€œ</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œname=â€™â€</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜\â€™â€™</span>&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ,&nbsp;score=â€</span>&nbsp;+&nbsp;score&nbsp;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜}â€™</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Course</span><span class="hljs-params" style="line-height: 26px;">(Parcel&nbsp;in)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;in.readString();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;in.readFloat();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–ï¼Œå°†&nbsp;Parcel&nbsp;å¯¹è±¡è½¬æ¢ä¸º&nbsp;Parcelable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;Creator&lt;Course&gt;&nbsp;CREATOR&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Creator&lt;Course&gt;()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//ååºåˆ—åŒ–çš„æ–¹æ³•ï¼Œå°†Parcelè¿˜åŸæˆJavaå¯¹è±¡</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Course&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">createFromParcel</span><span class="hljs-params" style="line-height: 26px;">(Parcel&nbsp;in)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course(in);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//æä¾›ç»™å¤–éƒ¨ç±»ååºåˆ—åŒ–è¿™ä¸ªæ•°ç»„ä½¿ç”¨ã€‚</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;Course[]&nbsp;newArray(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;size)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course[size];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">Course</span><span class="hljs-params" style="line-height: 26px;">(String&nbsp;name,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>&nbsp;score)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score&nbsp;=&nbsp;score;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">describeContents</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–ï¼Œå°†å¯¹è±¡è½¬æ¢æˆä¸€ä¸ª&nbsp;Parcel&nbsp;å¯¹è±¡</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">writeToParcel</span><span class="hljs-params" style="line-height: 26px;">(Parcel&nbsp;dest,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;flags)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dest.writeString(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dest.writeFloat(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.score);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">MainActivity</code> é‡Œé€šè¿‡ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Intent</code> æ¥ä¼ é€’æ•°æ®ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">MainActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_main);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Course.runParcel();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Button&nbsp;button&nbsp;=&nbsp;findViewById(R.id.button);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.setOnClickListener(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;View.OnClickListener()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onClick</span><span class="hljs-params" style="line-height: 26px;">(View&nbsp;v)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent&nbsp;intent&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Intent(MainActivity.<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>,&nbsp;ParcelActivity.class);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intent.putExtra(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcourseâ€</span>,&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>,&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">66f</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startActivity(intent);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">ParcelActivity</code> æ¥å—æ•°æ®å¹¶æ‰“å°ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">ParcelActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œParcelActivityâ€</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_parcel);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent&nbsp;intent&nbsp;=&nbsp;getIntent();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parcelable&nbsp;course&nbsp;=&nbsp;intent.getParcelableExtra(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcourseâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œonCreate:&nbsp;â€</span>&nbsp;+&nbsp;course.toString());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">I/ParcelActivity:&nbsp;onCreate:&nbsp;Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜æ•°å­¦â€™</span>,&nbsp;score=66.0}<br></code></pre><h2 id="Parcelableä¸Serializableçš„æ€§èƒ½æ¯”è¾ƒ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;">Parcelableä¸Serializableçš„æ€§èƒ½æ¯”è¾ƒ</span><span class="suffix"></span></h2><h3 id="Serializableæ€§èƒ½åˆ†æ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Serializableæ€§èƒ½åˆ†æ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code> æ˜¯ Java ä¸­çš„åºåˆ—åŒ–æ¥å£ï¼Œå…¶ä½¿ç”¨èµ·æ¥ç®€å•ä½†å¼€é”€è¾ƒå¤§(å› ä¸º Serializable åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä½¿ç”¨äº†åå°„æœºåˆ¶ï¼Œæ•…è€Œä¼šäº§ç”Ÿå¤§é‡çš„ä¸´æ—¶å˜é‡ï¼Œä»è€Œå¯¼è‡´é¢‘ç¹çš„GC)ï¼Œå¹¶ä¸”åœ¨è¯»å†™æ•°æ®è¿‡ç¨‹ä¸­ï¼Œå®ƒæ˜¯é€š è¿‡IOæµçš„å½¢å¼å°†æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜æˆ–è€…ä¼ è¾“åˆ°ç½‘ç»œä¸Šã€‚</p><h3 id="Parcelableæ€§èƒ½åˆ†æ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Parcelableæ€§èƒ½åˆ†æ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code> åˆ™æ˜¯ä»¥ IBinder ä½œä¸ºä¿¡æ¯è½½ä½“ï¼Œåœ¨å†…å­˜ä¸Šå¼€é”€æ¯”è¾ƒå°ï¼Œå› æ­¤åœ¨å†…å­˜ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ é€’æ—¶ï¼Œæ¨èä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code>ï¼Œè€Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Parcelable</code> å¯¹æ•°æ®è¿›è¡ŒæŒä¹…åŒ–æˆ–è€…ç½‘ç»œä¼ è¾“æ—¶æ“ä½œå¤æ‚ï¼Œä¸€èˆ¬è¿™ä¸ªæ—¶å€™æ¨èä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Serializable</code>ã€‚</p><h2 data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;">JSONè§£ææ–¹å¼</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">JSON(JavaScript Object Notation) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œé€šå¸¸ç”¨äºï¼šæ•°æ®æ ‡è®°ï¼Œå­˜å‚¨ï¼Œä¼ è¾“ã€‚</p><h3 id="Android Studioè‡ªå¸¦org.jsonè§£æ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Android Studioè‡ªå¸¦org.jsonè§£æ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">org.json è§£ææ˜¯åŸºäºæ–‡æ¡£é©±åŠ¨ï¼Œéœ€è¦æŠŠå…¨éƒ¨æ–‡ä»¶è¯»å…¥åˆ°å†…å­˜ä¸­ï¼Œç„¶åéå†æ‰€æœ‰æ•°æ®ï¼Œæ ¹æ®éœ€è¦æ£€ç´¢æƒ³è¦ çš„æ•°æ®ï¼Œå…·ä½“ä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">OrgJsonActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œOrgJsonActivityâ€</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_org_json);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createJson();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parseJson();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(JSONException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">createJson</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;JSONException,&nbsp;IOException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;File(getFilesDir(),&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œorgJson.jsonâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONObject&nbsp;student&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;JSONObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.put(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.put(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œageâ€</span>,&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONObject&nbsp;course&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;JSONObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;course.put(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;course.put(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œscoreâ€</span>,<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.put(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcourseâ€</span>,&nbsp;course);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONArray&nbsp;courses&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;JSONArray();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;courses.put(<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>,&nbsp;course);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.put(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcoursesâ€</span>,courses);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileOutputStream&nbsp;outputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;FileOutputStream(file);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.write(student.toString().getBytes());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputStream.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcreateJson:&nbsp;â€</span>&nbsp;+&nbsp;student.toString());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">parseJson</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>&nbsp;IOException,&nbsp;JSONException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;File(getFilesDir(),&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œorgJson.jsonâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInputStream&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;FileInputStream(file);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStreamReader&nbsp;streamReader&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;InputStreamReader(inputStream);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferedReader&nbsp;reader&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;BufferedReader(streamReader);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;line;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBuffer&nbsp;stringBuffer&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;StringBuffer();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">while</span>&nbsp;((line&nbsp;=&nbsp;reader.readLine())&nbsp;!=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stringBuffer.append(line);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputStream.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;streamReader.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader.close();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Student&nbsp;student&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Student();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONObject&nbsp;jsonObject&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;JSONObject(stringBuffer.toString());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;name&nbsp;=&nbsp;jsonObject.optString(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;age&nbsp;=&nbsp;jsonObject.optInt(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œageâ€</span>,&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.setName(name);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.setAge(age);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONArray&nbsp;courses&nbsp;=&nbsp;jsonObject.optJSONArray(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcoursesâ€</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span>&nbsp;(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;courses.length();&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONObject&nbsp;course&nbsp;=&nbsp;courses.getJSONObject(i);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Course&nbsp;course1&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;course1.setName(course.optString(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œâ€</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;course1.setScore((<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">float</span>)&nbsp;course.optDouble(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œscoreâ€</span>,&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.addCourse(course1);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œparseJson:&nbsp;â€</span>&nbsp;+&nbsp;student);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">I/OrgJsonActivity:&nbsp;createJson:&nbsp;{<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>:<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œageâ€</span>:<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcourseâ€</span>:{<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>:<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œscoreâ€</span>:<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>},<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcoursesâ€</span>:[{<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>:<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ•°å­¦â€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œscoreâ€</span>:<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>}]}<br>I/OrgJsonActivity:&nbsp;parseJson:&nbsp;Student{id=<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>,&nbsp;name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜lsyâ€™</span>,&nbsp;age=<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>,&nbsp;courses=[Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜æ•°å­¦â€™</span>,&nbsp;score=<span class="hljs-number" style="color: #986801; line-height: 26px;">66.0</span>}]}<br></code></pre><h3 id="Gsonè§£æ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Gsonè§£æ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">Gson è§£æä¹Ÿæ˜¯åŸºäºäº‹ä»¶é©±åŠ¨ï¼Œå®ƒæ ¹æ®æ‰€éœ€å–çš„æ•°æ® å»ºç«‹1ä¸ªå¯¹åº”äºJSONæ•°æ®çš„JavaBeanç±»ï¼Œå³å¯é€šè¿‡ç®€å•æ“ä½œè§£æå‡º æ‰€éœ€æ•°æ®ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">GsonActivity</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span>&nbsp;<span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span>&nbsp;String&nbsp;TAG&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œGsonActivityâ€</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle&nbsp;savedInstanceState)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_gson);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createGson();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #4078f2; line-height: 26px;">createGson</span><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Student&nbsp;student&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Student(<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>,&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;student.addCourse(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Course(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè‹±è¯­â€</span>,<span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;åºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gson&nbsp;gson&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span>&nbsp;Gson();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;json&nbsp;=&nbsp;gson.toJson(student);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcreateGson:&nbsp;json&nbsp;â€</span>&nbsp;+&nbsp;json);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ååºåˆ—åŒ–</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.i(TAG,&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcreateGson:&nbsp;json1â€</span>&nbsp;+&nbsp;gson.fromJson(json,&nbsp;Student.class));<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; background: #fafafa;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; box-shadow: none;">I/GsonActivity:&nbsp;createGson:&nbsp;json&nbsp;{<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œageâ€</span>:66,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcoursesâ€</span>:[{<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>:<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè‹±è¯­â€</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œscoreâ€</span>:66.0}],<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œidâ€</span>:1,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>:<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>}<br>I/GsonActivity:&nbsp;createGson:&nbsp;json1Student{id=1,&nbsp;name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜lsyâ€™</span>,&nbsp;age=66,&nbsp;courses=[Course{name=<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜è‹±è¯­â€™</span>,&nbsp;score=66.0}]}<br></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">Json è§£ææ–¹å¼è¿˜æœ‰ Jackson è§£æã€Fastjsonè§£æç­‰ï¼Œåœ¨æ­¤å°±ä¸å…·ä½“ä»‹ç»ã€‚</p><h2 id="GsonåŸç†è§£æ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; padding-left: 10px; border-left: 5px solid #DEC6FB; color: #595959;">GsonåŸç†è§£æ</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">Gson</code> å……å½“äº†ä¸€ä¸ªè§£æå™¨çš„è§’è‰²ï¼Œå¦‚å›¾</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/serializable/gson.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><h3 id="JsonElement" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">JsonElement</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¯¥ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä»£è¡¨ç€ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #595959; box-shadow: none;">json</code> ä¸²çš„æŸä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸ªå…ƒç´ å¯ä»¥æ˜¯ä¸€ä¸ª Json(JsonObject)ã€å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„(JsonArray)ã€å¯ä»¥æ˜¯ä¸€ä¸ªJavaçš„åŸºæœ¬ç±»å‹( JsonPrimitive)ã€å½“ç„¶ä¹Ÿå¯ä»¥ä¸ºnull( JsonNull)ï¼›JsonObjectã€JsonArrayã€JsonPrimitiveã€JsonNull éƒ½æ˜¯ JsonElement è¿™ä¸ªæŠ½è±¡ç±»çš„å­ç±»ã€‚JsonElement æä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•æ¥åˆ¤æ–­å½“å‰çš„JsonElementã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">JsonObject å¯¹è±¡å¯ä»¥çœ‹æˆ name/values çš„é›†åˆï¼Œè€Œè¿™å†™ values å°±æ˜¯ä¸€ä¸ªä¸ª JsonElementï¼Œä»–ä»¬çš„ç»“æ„å¯ä»¥ ç”¨å¦‚ä¸‹å›¾è¡¨ç¤º:</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/serializable/json3.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div><h3 id="Gsonçš„å·¥ä½œæµç¨‹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; color: black; font-size: 16px; font-weight: bold; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="border-bottom: 2px solid #DEC6FB; color: #595959;">Gsonçš„å·¥ä½œæµç¨‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #595959; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">Gsonçš„å·¥ä½œæµç¨‹ï¼Œå¦‚å›¾</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/serializable/gson2.png" alt="no-shadow" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain;"></figure></div></section>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/serializable.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Androidå¹¶å‘ç¼–ç¨‹ä½ äº†è§£å¤šå°‘</title>
      <link>https://h.lishaoy.net/thread-concurrent.html</link>
      <guid>https://h.lishaoy.net/thread-concurrent.html</guid>
      <pubDate>Fri, 31 Jul 2020 05:49:17 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/thread-concurrent/concurrent1.png&quot; class=&quot;full-image&quot; alt=&quot;concurrent&quot; title=&quot;concurrent&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;section id=&quot;nice&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; style=&quot;font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &#39;PingFang SC&#39;, Cambria, Cochin, Georgia, Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Segoe UI&#39;, Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;&quot;&gt;å¯¹äº &lt;strong style=&quot;font-weight: bold; color: black;&quot;&gt;Android&lt;/strong&gt; å¼€å‘äººå‘˜æ¥è¯´ï¼Œå¹¶å‘ç¼–ç¨‹çŸ¥è¯†çš„ä½¿ç”¨å¹¶ä¸æ˜¯é‚£ä¹ˆé¢‘ç¹(ç›¸å¯¹äº &lt;strong style=&quot;font-weight: bold; color: black;&quot;&gt;Java&lt;/strong&gt; å¼€å‘è€…è€Œè¨€)ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬æƒ³å†™ä¸€äº›æ¡†æ¶æˆ–è€…é˜…è¯»å¼€æºæ¡†æ¶æºç éƒ½éœ€è¦æŒæ¡å¹¶å‘ç¼–ç¨‹çš„ç›¸å…³çŸ¥è¯†ï¼Œè€Œä¸”ï¼Œå¹¶å‘ç¼–ç¨‹ç›¸å…³çŸ¥è¯†ä¹Ÿæ˜¯é¢è¯•é«˜é¢‘é—®é¢˜ä¹‹ä¸€ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿè¦å…¨é¢çš„æŒæ¡å¹¶å‘ç¼–ç¨‹çŸ¥è¯†ï¼Œæœ¬ç¯‡æ–‡ç« å°†ä»æµ…å…¥æ·±æ¦‚è¿°å¹¶å‘ç¼–ç¨‹çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;height: 1px; margin: 0; margin-top: 10px; margin-bottom: 10px; border: none; border-top: 1px solid black;background: white;&quot;&gt;&lt;/section&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/thread-concurrent/concurrent1.png" class="full-image" alt="concurrent" title="concurrent"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¯¹äº <strong style="font-weight: bold; color: black;">Android</strong> å¼€å‘äººå‘˜æ¥è¯´ï¼Œå¹¶å‘ç¼–ç¨‹çŸ¥è¯†çš„ä½¿ç”¨å¹¶ä¸æ˜¯é‚£ä¹ˆé¢‘ç¹(ç›¸å¯¹äº <strong style="font-weight: bold; color: black;">Java</strong> å¼€å‘è€…è€Œè¨€)ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬æƒ³å†™ä¸€äº›æ¡†æ¶æˆ–è€…é˜…è¯»å¼€æºæ¡†æ¶æºç éƒ½éœ€è¦æŒæ¡å¹¶å‘ç¼–ç¨‹çš„ç›¸å…³çŸ¥è¯†ï¼Œè€Œä¸”ï¼Œå¹¶å‘ç¼–ç¨‹ç›¸å…³çŸ¥è¯†ä¹Ÿæ˜¯é¢è¯•é«˜é¢‘é—®é¢˜ä¹‹ä¸€ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿè¦å…¨é¢çš„æŒæ¡å¹¶å‘ç¼–ç¨‹çŸ¥è¯†ï¼Œæœ¬ç¯‡æ–‡ç« å°†ä»æµ…å…¥æ·±æ¦‚è¿°å¹¶å‘ç¼–ç¨‹çŸ¥è¯†ã€‚</p><hr data-tool="mdniceç¼–è¾‘å™¨" style="height: 1px; margin: 0; margin-top: 10px; margin-bottom: 10px; border: none; border-top: 1px solid black;background: white;"></section><a id="more"></a><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æœ¬ç¯‡æ–‡ç« çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨ <a href="https://github.com/persilee/android_practice" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: rgb(239, 112, 96); border-bottom: 1px solid rgb(239, 112, 96);" target="_blank" rel="noopener">Github</a> ä¸Šï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/concurrent.xmind.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><h2 id="åŸºç¡€æ¦‚å¿µ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">åŸºç¡€æ¦‚å¿µ</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨ç†è§£å¹¶å‘ç¼–ç¨‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦ç†è§£ä¸€äº›ç›¸å…³çš„åŸºæœ¬æ¦‚å¿µï¼Œæˆ‘ä»¬å…ˆä»ä¸€äº›ç›¸å…³çš„åŸºæœ¬æ¦‚å¿µå¼€å§‹ã€‚</p><h3 id="CPUæ ¸å¿ƒæ•°å’Œçº¿ç¨‹æ•°çš„å…³ç³»" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">CPUæ ¸å¿ƒæ•°å’Œçº¿ç¨‹æ•°çš„å…³ç³»</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">å¤šæ ¸å¿ƒ:</strong> æ˜¯ç‰©ç†ä¸Šçš„ï¼Œå•æ ¸ã€åŒæ ¸ã€å¤šæ ¸ï¼ŒæŒ‡çš„å°±æ˜¯ç‰©ç†æ ¸å¿ƒçš„æ•°ç›®ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">å¤šçº¿ç¨‹:</strong> æ˜¯é€»è¾‘ä¸Šçš„ï¼Œç®€å•çš„è¯´å°±æ˜¯æ¨¡æ‹Ÿå‡ºçš„ CPU æ ¸å¿ƒæ•°ï¼›</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">æ ¸å¿ƒæ•°å’Œçº¿ç¨‹æ•°çš„å…³ç³»:</strong> ç›®å‰ä¸»æµ CUP æœ‰åŒæ ¸ã€ä¸‰æ ¸å’Œå››æ ¸ï¼Œå¢åŠ æ ¸å¿ƒæ•°ç›®å°±æ˜¯ä¸ºäº†å¢åŠ çº¿ç¨‹æ•°,å› ä¸ºæ“ä½œç³»ç»Ÿæ˜¯é€šè¿‡çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å®ƒä»¬æ˜¯1:1å¯¹åº”å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´å››æ ¸CPUä¸€èˆ¬æ‹¥æœ‰å››ä¸ªçº¿ç¨‹ã€‚ä½† Intel å¼•å…¥è¶…çº¿ç¨‹æŠ€æœ¯å,ä½¿æ ¸å¿ƒæ•°ä¸çº¿ç¨‹æ•°å½¢æˆ1:2çš„å…³ç³»ã€‚</p><h3 id="CPUæ—¶é—´ç‰‡è½®è½¬æœºåˆ¶" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">CPUæ—¶é—´ç‰‡è½®è½¬æœºåˆ¶</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬å¹³æ—¶åœ¨å¼€å‘çš„æ—¶å€™ï¼Œæ„Ÿè§‰å¹¶æ²¡æœ‰å—cpuæ ¸å¿ƒæ•°çš„é™åˆ¶ï¼Œæƒ³å¯åŠ¨çº¿ç¨‹å°±å¯åŠ¨çº¿ç¨‹ï¼Œå“ªæ€•æ˜¯åœ¨å•æ ¸CPUä¸Šï¼Œä¸ºä»€ä¹ˆï¼Ÿè¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿæä¾›äº†ä¸€ç§CPUæ—¶é—´ç‰‡è½®è½¬æœºåˆ¶ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦æ˜¯ä¸€ç§æœ€å¤è€ã€æœ€ç®€å•ã€æœ€å…¬å¹³ä¸”ä½¿ç”¨æœ€å¹¿çš„ç®—æ³•,åˆç§°RR(Round-Robinï¼ŒRR)è°ƒåº¦ã€‚æ ¹æ®å…ˆè¿›å…ˆå‡ºåŸåˆ™ï¼Œæ’æˆé˜Ÿåˆ—(å°±ç»ªé˜Ÿåˆ—)ï¼Œè°ƒåº¦æ—¶ï¼Œå°† CPU åˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œè®©å…¶æ‰§è¡Œä¸€ä¸ªæ—¶é—´æ®µ(ç§°ä¸ºï¼šæ—¶é—´ç‰‡)ï¼Œæ—¶é—´ç‰‡é€šå¸¸ä¸º 10-100ms æ•°é‡çº§ï¼Œå½“æ‰§è¡Œçš„æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œä¼šç”±è®¡æ—¶å™¨å‘å‡ºæ—¶é’Ÿä¸­æ–­è¯·æ±‚ï¼Œè°ƒåº¦ç¨‹åºä¾¿æ®æ­¤æ¥åœæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å®ƒæ’åˆ°é˜Ÿåˆ—æœ«å°¾ï¼Œç„¶åå†æŠŠ CPU é‡æ–°åˆ†é…ç»™å½“å‰é˜Ÿåˆ—çš„é˜Ÿé¦–è¿›ç¨‹ï¼ŒåŒç†å¦‚æ­¤å¾€å¤ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯è¿›ç¨‹å’Œçº¿ç¨‹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ä»€ä¹ˆæ˜¯è¿›ç¨‹å’Œçº¿ç¨‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">è¿›ç¨‹æ˜¯ç¨‹åºè¿è¡Œèµ„æºåˆ†é…çš„æœ€å°å•ä½</strong>ï¼Œå…¶ä¸­èµ„æºåŒ…æ‹¬ï¼šCPUã€å†…å­˜ç©ºé—´ã€ç£ç›˜ç­‰,åŒä¸€è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹ä¸­çš„å…¨éƒ¨ç³»ç»Ÿèµ„æºï¼Œè€Œè¿›ç¨‹å’Œè¿›ç¨‹ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚è¿›ç¨‹æ˜¯å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨,è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿›ç¨‹æ˜¯ç¨‹åºåœ¨è®¡ç®—æœºä¸Šçš„ä¸€æ¬¡æ‰§è¡Œæ´»åŠ¨ã€‚å½“ä½ è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œä½ å°±å¯åŠ¨äº†ä¸€ä¸ªè¿›ç¨‹ã€‚æ˜¾ç„¶ï¼Œç¨‹åºæ˜¯æ­»çš„ã€é™æ€çš„ï¼Œè¿›ç¨‹æ˜¯æ´»çš„ã€åŠ¨æ€çš„ã€‚è¿›ç¨‹å¯ä»¥åˆ†ä¸ºç³»ç»Ÿè¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ï¼Œå‡¡æ˜¯ç”¨äºå®Œæˆæ“ä½œç³»ç»Ÿçš„å„ç§åŠŸèƒ½çš„è¿›ç¨‹å°±æ˜¯ç³»ç»Ÿè¿›ç¨‹ï¼Œå®ƒä»¬å°±æ˜¯å¤„äºè¿è¡ŒçŠ¶æ€ä¸‹çš„æ“ä½œç³»ç»Ÿæœ¬èº«ï¼Œç”¨æˆ·è¿›ç¨‹å°±æ˜¯æ‰€æœ‰ç”±ä½ å¯åŠ¨çš„è¿›ç¨‹ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">çº¿ç¨‹æ˜¯ CPU è°ƒåº¦çš„æœ€å°å•ä½,å¿…é¡»ä¾èµ–äºè¿›ç¨‹è€Œå­˜åœ¨</strong>ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯ CPU è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œå®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„ã€èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹è‡ªå·±åŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æº(å¦‚ç¨‹åºè®¡æ•°å™¨ï¼Œä¸€ç»„å¯„å­˜å™¨å’Œæ ˆ),ä½†æ˜¯å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çš„çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚</p><h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">å¹¶è¡Œå’Œå¹¶å‘</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæœ‰æ¡é«˜é€Ÿå…¬è·¯Aä¸Šé¢å¹¶æ’æœ‰6æ¡è½¦é“ï¼Œå…¬è·¯ä¸­é—´æœ‰ä¸ªæ”¶è´¹ç«™ï¼Œé‚£ä¹ˆï¼Œåœ¨æŸä¸€æ—¶åˆ»ï¼ŒåŒæ—¶é€šè¿‡æ­¤æ”¶è´¹ç«™çš„ï¼Œå°±æ˜¯å¹¶è¡Œï¼›åœ¨å•ä½æ—¶é—´å†…é€šè¿‡æ­¤æ”¶æ”¶è´¹ç«™çš„ï¼Œå°±æ˜¯å¹¶å‘ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å½“è°ˆè®ºå¹¶å‘çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸ªå•ä½æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´å•ä½æ—¶é—´å†…å¹¶å‘é‡æ˜¯å¤šå°‘ï¼Œç¦»å¼€äº†å•ä½æ—¶é—´å…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">å¹¶è¡Œ:</strong> ï¼šæŒ‡åœ¨åŒä¸€æ—¶åˆ»ï¼Œæœ‰å¤šæ¡æŒ‡ä»¤åœ¨å¤šä¸ªå¤„ç†å™¨ä¸ŠåŒæ—¶æ‰§è¡Œã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><strong style="font-weight: bold; color: black;">å¹¶å‘:</strong> ï¼šæŒ‡åœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œï¼Œä½†å¤šä¸ªè¿›ç¨‹æŒ‡ä»¤è¢«å¿«é€Ÿçš„è½®æ¢æ‰§è¡Œï¼Œä½¿å¾—åœ¨å®è§‚ä¸Šå…·æœ‰å¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œçš„æ•ˆæœï¼Œä½†åœ¨å¾®è§‚ä¸Šå¹¶ä¸æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œåªæ˜¯æŠŠæ—¶é—´åˆ†æˆè‹¥å¹²æ®µï¼Œä½¿å¤šä¸ªè¿›ç¨‹å¿«é€Ÿäº¤æ›¿çš„æ‰§è¡Œã€‚</p><h2 id="çº¿ç¨‹(Thread)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">çº¿ç¨‹(Thread)</span><span class="suffix"></span></h2><h3 id="çº¿ç¨‹çš„å¯åŠ¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">çº¿ç¨‹çš„å¯åŠ¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¯åŠ¨çº¿ç¨‹çš„æ–¹å¼æœ‰ï¼Œå¦‚ä¸‹ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">className extends Threadï¼Œé‡æ–° <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">run()</code> æ–¹æ³•</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">className implements Runnableï¼Œç„¶åï¼Œç”± <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Thread</code> è¿è¡Œ</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">className implements Callableï¼Œç„¶åï¼Œç”± <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Thread</code> è¿è¡Œ</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">NewThread</span> </span>{  <span class="hljs-comment" style="color: #75715e; line-height: 26px;">    // ç»§æ‰¿ Threadï¼Œé‡å†™ run() æ–¹æ³•  </span>   <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UseThread</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">super</span>.run();<span><span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œextends Threadâ€</span>);<span>        }<span>    }    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">     // å®ç° Runnable æ¥å£    </span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UseRunnable</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">implements</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Runnable</span> </span>{<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œimplements Runnableâ€</span>);<span>        }<span>    }   <span class="hljs-comment" style="color: #75715e; line-height: 26px;">     // å®ç° Callable æ¥å£     </span>  <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UseCallable</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">implements</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Callable</span>&lt;<span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">String</span>&gt; </span>{<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> String <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">call</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> Exception </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œimplements Callableâ€</span>);<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">return</span> <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œreturn UseCallableâ€</span>;<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> ExecutionException, InterruptedException </span>{<span>        <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ä½¿ç”¨ Thread åˆ›å»ºçº¿ç¨‹</span><span>        UseThread useThread = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UseThread();<span>        useThread.start();<span>        <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ä½¿ç”¨ Runnable åˆ›å»ºçº¿ç¨‹</span><span>        UseRunnable useRunnable = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UseRunnable();<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread(useRunnable).start();<span>        <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ä½¿ç”¨ Callable åˆ›å»ºçº¿ç¨‹</span><span>        UseCallable useCallable = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UseCallable();<span>        FutureTask&lt;String&gt; task = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> FutureTask&lt;&gt;(useCallable);<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread(task).start();<span>        System.out.println(task.get()); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// é€šè¿‡ get è·å–è¿”å›ç»“æœ</span><span><span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">extends Thread<span>implements Runnable<span>implements Callable<span><span class="hljs-built_in" style="color: #a6e22e; line-height: 26px;">return</span> UseCallable<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 753ms<span></span></span></span></span></span></span></code></pre><blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; border-left: 3px solid rgba(0, 0, 0, 0.4); padding-top: 10px; padding-bottom: 10px; border-left-color: rgb(221, 221, 221); margin-top: 1.2em; margin-bottom: 1.2em; padding-right: 1em; padding-left: 1em; border-left-width: 4px; color: rgb(119, 119, 119); quotes: none; border-left-color: black; background: rgba(0, 0, 0, .16);"><p style="padding-top: 8px; padding-bottom: 8px; box-sizing: border-box; margin-bottom: 16px; text-align: start; white-space: normal; text-size-adjust: auto; margin: 0px; font-size: 15px; font-family: -apple-system-font, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif; color: rgb(119, 119, 119); line-height: 1.75em;">ç»§æ‰¿ Thread çš„æ–¹å¼å’Œå®ç° Runnable çš„æ–¹å¼ï¼Œæ‰§è¡Œå®Œæˆåæ— æ³•è¿”å›ç»“æœï¼Œå®ç° Callable çš„æ–¹å¼ï¼Œæ‰§è¡Œå®Œæˆåå¯ä»¥è¿”å›ç»“æœã€‚ (md partial supported)</p></blockquote><h3 id="run()å’Œstart()çš„åŒºåˆ«" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">run()å’Œstart()çš„åŒºåˆ«</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬é€šè¿‡ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">new Thread()</code> åªæ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">new</code> å‡ºä¸€ä¸ª Thread çš„ç¤ºä¾‹ï¼Œå¹¶æ²¡æœ‰å’Œæ“ä½œç³»ç»Ÿä¸­çš„çœŸæ­£çš„çº¿ç¨‹æŒ‚é’©ï¼Œåªæœ‰æ‰§è¡Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">start()</code> æ–¹æ³•åï¼Œæ‰çœŸæ­£çš„å¯åŠ¨çº¿ç¨‹ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿›å…¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">start()</code> æ–¹æ³•æŸ¥çœ‹æºç ï¼Œå¯å¾—çŸ¥æœ€ç»ˆæ˜¯è°ƒç”¨äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">private native void start0()</code>ï¼Œæ˜¯ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">native</code> æ–¹æ³•ï¼Œæ˜¯ç”± C æˆ– C++ æ¥æ“ä½œç³»ç»Ÿ(åˆ†é…CPUç­‰æ“ä½œ)ï¼Œä¹‹åæ‰è°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">run()</code> æ–¹æ³•ï¼Œä¸” <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">start()</code> æ–¹æ³•ä¸èƒ½é‡å¤è°ƒç”¨ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">run()</code> åªæ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜æ–¹æ³•ï¼Œå’Œæ™®é€šæ–¹æ³•å¹¶æ— åŒºåˆ«ï¼Œå¯é‡å¤æ‰§è¡Œ(å¦‚å•ç‹¬æ‰§è¡Œ run() æ–¹æ³•ï¼Œå¹¶ä¸ä¼šå¯åŠ¨çº¿ç¨‹)ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">StartRunMethod</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">StartAndRun</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œrun: This is â€œ</span> + Thread.currentThread().getName()); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è·å–å½“å‰çº¿ç¨‹å</span><span>        }<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">runMethod</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œrunMethod: This is â€œ</span> + Thread.currentThread().getName()); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è·å–å½“å‰çº¿ç¨‹å</span><span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span><span>        StartAndRun startAndRun = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> StartAndRun();<span>        startAndRun.setName(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œThreadRunâ€</span>); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è®¾ç½®çº¿ç¨‹çš„åå­—</span><span>        startAndRun.start(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// çœŸæ­£å¯åŠ¨åå­—ä¸º ThreadRun çš„çº¿ç¨‹</span><span>        startAndRun.run();  <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// åªæ˜¯ä¸€ä¸ªæ™®é€šæ–¹æ³•ï¼Œå’Œ runMethod() æ²¡æœ‰åŒºåˆ«</span><span>        startAndRun.runMethod(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è¾“å‡ºç»“æœå’Œ startAndRun.run() ç›¸åŒ</span><span><span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">run: This is main<span>runMethod: This is main<span>run: This is ThreadRun<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 381ms<span></span></span></span></span></span></code></pre><h3 id="çº¿ç¨‹çš„ä¸­æ­¢" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">çº¿ç¨‹çš„ä¸­æ­¢</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">çº¿ç¨‹çš„ç»ˆæ­¢ï¼Œè¦ä¹ˆæ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">run()</code> æ‰§è¡Œå®Œæˆï¼Œè¦ä¹ˆæ˜¯æŠ›å‡ºå¼‚å¸¸å¯¼è‡´çº¿ç¨‹ç»“æŸï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„ä¸­æ­¢çº¿ç¨‹ï¼Œçº¿ç¨‹ Thread çš„ API ç»™æˆ‘ä»¬æä¾›äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">stop()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">resume()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">suspend()</code> æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œä»–ä»¬éƒ½è¢«æ ‡è®°ä¸º <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">@deprecated</code>ï¼Œä¹Ÿå°±æ˜¯è¿‡æœŸçš„ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºè¿™äº›æ–¹æ³•ï¼Œåœ¨è°ƒç”¨åï¼Œçº¿ç¨‹ä¸ä¼šé‡Šæ”¾å·²ç»å æœ‰çš„èµ„æºï¼Œæ‰€ä»¥ï¼Œå®¹æ˜“å¯¼è‡´æ­»é”é—®é¢˜ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å®‰å…¨çš„ä¸­æ­¢çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">interrupt()</code> æ–¹æ³•ï¼Œæ­¤æ–¹æ³•æ˜¯ä¸€ç§åä½œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªæ˜¯å‘é€ä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œä¸ä»£è¡¨çº¿ç¨‹ä¼šç«‹å³åœæ­¢ï¼Œéœ€è¦çº¿ç¨‹é€šè¿‡ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">isInterrupted()</code> æ–¹æ³•è¿›è¡Œåˆ¤æ–­æ˜¯å¦ä¸­æ­¢çº¿ç¨‹ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">InterruptThread</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">MyThread</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            String threadName = Thread.currentThread().getName(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è·å–å½“å‰çº¿ç¨‹å</span><span>           <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">while</span> (!isInterrupted()) { <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// åˆ¤æ–­æ˜¯å¦éœ€è¦ä¸­æ­¢</span><span>               System.out.println(threadName + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ running â€¦â€</span>);<span>           }<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span><span>        MyThread myThread = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> MyThread();<span>        myThread.start();<span>        Thread.sleep(<span class="hljs-number" style="line-height: 26px;">6</span>);<span>        myThread.interrupt(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å‘å‡ºä¸­æ–­ä¿¡å·</span><span><span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 id="æŒ‰é¡ºåºæ‰§è¡Œçº¿ç¨‹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">æŒ‰é¡ºåºæ‰§è¡Œçº¿ç¨‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ªç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">JoinThread</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">JoinMethod</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span><span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> Thread thread;<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">JoinMethod</span><span class="hljs-params" style="line-height: 26px;">(Thread thread)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.thread = thread;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; <span class="hljs-number" style="line-height: 26px;">6</span>; i++) {<span>                System.out.println(thread.getName() + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ running â€¦ â€œ</span>);<span>            }<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span><span>        JoinMethod joinMethod = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> JoinMethod(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread());<span>        JoinMethod joinMethod1 = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> JoinMethod(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread());<span>        joinMethod.start();<span>        joinMethod1.start();<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 213ms<span>2 actionable tasks: 1 executed, 1 up-to-date<span>11:31:47 PM: Task execution finished <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€˜JoinThread.main()â€™</span>.<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å‘ç°ï¼ŒjoinMethod çº¿ç¨‹å’Œ joinMethod1 çº¿ç¨‹æ˜¯éšæœºäº¤æ›¿æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆå¦‚ä½•è®©å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">join()</code> æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span><span>    JoinMethod joinMethod = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> JoinMethod(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread());<span>    JoinMethod joinMethod1 = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> JoinMethod(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread());<span>    joinMethod.start();<span>    joinMethod.join(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ä½¿ç”¨ join() æ–¹æ³•ï¼Œç”± joinMethod æ‰§è¡Œå®Œæˆä¹‹åæ‰è®©å‡ºæ‰§è¡Œæƒ</span><span>    joinMethod1.start();<span><span>}<span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¾“å‡ºç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-0 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span>Thread-2 running â€¦ <span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 482ms<span>2 actionable tasks: 2 executed<span>11:36:17 PM: Task execution finished <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€˜JoinThread.main()â€™</span>.<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 ="çº¿ç¨‹çš„çŠ¶æ€"="" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">çº¿ç¨‹çš„çŠ¶æ€</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨ Java ä¸­çº¿ç¨‹çš„çŠ¶æ€åˆ†ä¸º 6 ä¸­ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">åˆå§‹(NEW)ï¼šæ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">start()</code> æ–¹æ³•ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">è¿è¡Œ(RUNNABLE)ï¼šJava çº¿ç¨‹ä¸­å°†å°±ç»ª(ready)å’Œè¿è¡Œä¸­(running)ä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä¸ºâ€œè¿è¡Œâ€ã€‚çº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œå…¶ä»–çº¿ç¨‹(æ¯”å¦‚mainçº¿ç¨‹)è°ƒç”¨äº†è¯¥å¯¹è±¡çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">start()</code> æ–¹æ³•ã€‚è¯¥çŠ¶æ€çš„çº¿ç¨‹ä½äºå¯è¿è¡Œçº¿ç¨‹æ± ä¸­ï¼Œç­‰å¾…è¢«çº¿ç¨‹è°ƒåº¦é€‰ä¸­ï¼Œè·å– CPU çš„ä½¿ç”¨æƒï¼Œæ­¤æ—¶å¤„äºå°±ç»ªçŠ¶æ€(ready)ã€‚å°±ç»ªçŠ¶æ€çš„çº¿ç¨‹åœ¨è·å¾— CPU æ—¶é—´ç‰‡åå˜ä¸ºè¿è¡Œä¸­çŠ¶æ€(running)ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">é˜»å¡(BLOCKED)ï¼šè¡¨ç¤ºçº¿ç¨‹é˜»å¡äºé”ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">ç­‰å¾…(WAITING)ï¼šè¿›å…¥è¯¥çŠ¶æ€çš„çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹åšå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰ã€‚1</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">è¶…æ—¶ç­‰å¾…(TIMED_WAITING)ï¼šè¯¥çŠ¶æ€ä¸åŒäºWAITINGï¼Œå®ƒå¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´åè‡ªè¡Œè¿”å›ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">ç»ˆæ­¢(TERMINATED)ï¼šè¡¨ç¤ºè¯¥çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">çŠ¶æ€ä¹‹é—´çš„å˜è¿ï¼Œå¦‚å›¾ï¼š</p><div style="width: 86%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/thread.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><h2 id="çº¿ç¨‹é—´çš„å…±äº«å’Œåä½œ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">çº¿ç¨‹é—´çš„å…±äº«å’Œåä½œ</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">Java æ”¯æŒå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªå¯¹è±¡æˆ–è€…è®¿é—®ä¸€ä¸ªå¯¹è±¡é‡Œçš„æˆå‘˜å˜é‡ï¼Œè¿™ä¸ªå°±æ˜¯çº¿ç¨‹é—´çš„å…±äº«ï¼Œå…±äº«çš„èµ„æºæœ‰ï¼Œå¦‚ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">å †ï¼šç”±äºå †æ˜¯åœ¨è¿›ç¨‹ç©ºé—´ä¸­å¼€è¾Ÿå‡ºæ¥çš„ï¼Œæ‰€ä»¥å®ƒæ˜¯ç†æ‰€å½“ç„¶åœ°è¢«å…±äº«çš„ï¼Œå› æ­¤newå‡ºæ¥çš„éƒ½æ˜¯å…±äº«çš„</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">å…¨å±€å˜é‡ï¼šå®ƒæ˜¯ä¸å…·ä½“æŸä¸€æ–¹æ³•æ— å…³çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸ç‰¹å®šçº¿ç¨‹æ— å…³ï¼›å› æ­¤ä¹Ÿæ˜¯å…±äº«çš„</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">é™æ€å˜é‡ï¼šæ˜¯å…±äº«çš„</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">æ–‡ä»¶ç­‰å…¬ç”¨èµ„æºï¼šæ˜¯å…±äº«çš„</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ç‹¬äº«çš„èµ„æºæœ‰ï¼šæ ˆå’Œå¯„å­˜å™¨</p><h3 id="çº¿ç¨‹çš„åŒæ­¥(Synchronization)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">çº¿ç¨‹çš„åŒæ­¥(Synchronization)</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä½†æ˜¯ï¼Œçº¿ç¨‹é—´çš„å…±äº«å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚(è®©ä¸¤ä¸ªçº¿ç¨‹æ“ä½œä¸€ä¸ª count å˜é‡è¿›è¡Œç´¯åŠ )ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">SharedThread</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> count = <span class="hljs-number" style="line-height: 26px;">0</span>;<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">getCount</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">return</span> count;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">setCount</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> count)</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.count = count;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">addCount</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{<span>        count++;<span>    }<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">CountThread</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span><span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> SharedThread sharedThread;<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">CountThread</span><span class="hljs-params" style="line-height: 26px;">(SharedThread sharedThread)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.sharedThread = sharedThread;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; <span class="hljs-number" style="line-height: 26px;">6666</span>; i++) {<span>                sharedThread.addCount();<span>            }<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span>        SharedThread sharedThread = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> SharedThread();<span>        CountThread countThread = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> CountThread(sharedThread);<span>        CountThread countThread1 = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> CountThread(sharedThread);<span>        countThread.start();<span>        countThread1.start();<span>        Thread.sleep(<span class="hljs-number" style="line-height: 26px;">66</span>);<span>        System.out.println(sharedThread.getCount());<span>        System.out.println(<span class="hljs-number" style="line-height: 26px;">6666</span> <em> <span class="hljs-number" style="line-height: 26px;">2</span>);<span>    }<span>}<span></span></span></span></em></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-number" style="line-height: 26px;">7045</span><span><span class="hljs-number" style="line-height: 26px;">13332</span><span><span>BUILD SUCCESSFUL in <span class="hljs-number" style="line-height: 26px;">247</span>ms<span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œäº†å‡ æ¬¡ï¼Œéƒ½æ˜¯å°äº 13332(6666  2)ï¼Œè¿™å°±æ˜¯çº¿ç¨‹é—´å…±äº«çš„åŒæ­¥é—®é¢˜ï¼Œè§£å†³æ­¤é—®é¢˜æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code>ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠä»¥ä¸Šä»£ç ç¨ä½œä¿®æ”¹ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">SharedThread</span> </span>{<span><span>    â€¦<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">addCount</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{<span>        count++;<span>    }<span><span>    â€¦<span>}<span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">13332<span>13332<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 324ms<span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">SharedThread</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> count = <span class="hljs-number" style="line-height: 26px;">0</span>;<span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> Object object = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Object(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ä½¿ç”¨ Object ä½œä¸ºé”</span><span><span>    â€¦<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">addCount</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> (object) {<span>            count++;<span>        }<span>    }<span><span>    â€¦<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿™ä¸¤ç§æ–¹å¼å¹¶æ²¡æœ‰ä»»ä½•çš„å·®åˆ«ï¼Œéƒ½æ˜¯å¯¹è±¡é”ã€‚</p><h3 id="ç±»é”å’Œå¯¹è±¡é”" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ç±»é”å’Œå¯¹è±¡é”</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªç±» <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ClassObjectLock</code> æ¥æ¼”ç¤ºç±»é”å’Œå¯¹è±¡é”ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">ClassObjectLock</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">ClassLock</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œClass Lock is running â€¦â€</span>);<span>            lockClass();<span>        }<span>    }<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">ObjectLock</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> ClassObjectLock classObjectLock;<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">ObjectLock</span><span class="hljs-params" style="line-height: 26px;">(ClassObjectLock classObjectLock)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.classObjectLock = classObjectLock;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œObject Lock is running â€¦â€</span>);<span>            classObjectLock.lockObject();<span>        }<span>    }<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">ObjectLock1</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> ClassObjectLock classObjectLock;<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">ObjectLock1</span><span class="hljs-params" style="line-height: 26px;">(ClassObjectLock classObjectLock)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.classObjectLock = classObjectLock;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œObject Lock1 is running â€¦â€</span>);<span>            classObjectLock.lockObject1();<span>        }<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¯¹è±¡é”</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">lockObject</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        SleepTool.second(<span class="hljs-number" style="line-height: 26px;">2</span>);<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œObject Lock useâ€</span>);<span>        SleepTool.second(<span class="hljs-number" style="line-height: 26px;">2</span>);<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œObject Lock endâ€</span>);<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¯¹è±¡é”</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">lockObject1</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        SleepTool.second(<span class="hljs-number" style="line-height: 26px;">2</span>);<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œObject Lock1 useâ€</span>);<span>        SleepTool.second(<span class="hljs-number" style="line-height: 26px;">2</span>);<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œObject Lock1 endâ€</span>);<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ç±»é”ï¼Œå®é™…æ˜¯é”ç±»çš„classå¯¹è±¡</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">lockClass</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        SleepTool.second(<span class="hljs-number" style="line-height: 26px;">2</span>);<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œClass Lock useâ€</span>);<span>        SleepTool.second(<span class="hljs-number" style="line-height: 26px;">2</span>);<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œClass Lock endâ€</span>);<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        ClassObjectLock classObjectLock = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ClassObjectLock();<span>        ObjectLock objectLock = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ObjectLock(classObjectLock);<span><span>        ClassObjectLock classObjectLock1 = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ClassObjectLock();<span>        ObjectLock1 objectLock1 = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ObjectLock1(classObjectLock1);<span>        objectLock.start();<span>        objectLock1.start();<span><span>        ClassLock classLock = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ClassLock();<span>        classLock.start();<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Object Lock is running â€¦<span>Object Lock1 is running â€¦<span>Class Lock is running â€¦<span>Object Lock use<span>Object Lock1 use<span>Class Lock use<span>Class Lock end<span>Object Lock end<span>Object Lock1 end<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 4s<span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ç”±è¿è¡Œç»“æœå¯çŸ¥ï¼Œå¯¹è±¡é”å’Œå¯¹è±¡é”ä¹‹å‰æ˜¯äº’ä¸å½±å“çš„ï¼Œå¯¹è±¡é”å’Œç±»é”ä¹‹å‰ä¹Ÿæ˜¯äº’ä¸å½±å“çš„ã€‚</p><h3 id="ç­‰å¾…å’Œé€šçŸ¥(waitã€notify)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ç­‰å¾…å’Œé€šçŸ¥(waitã€notify)</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ç­‰å¾…å’Œé€šçŸ¥å°±æ˜¯å±äºçº¿ç¨‹é—´çš„åä½œï¼Œä¸€èˆ¬æœ‰ç­‰å¾…æ–¹è·å–é”ä¹‹åè¿›è¡Œæ¡ä»¶æ£€æŸ¥ï¼Œæ¡ä»¶æ»¡è¶³ï¼Œåˆ™æ‰§è¡Œé€»è¾‘ä»£ç ï¼Œå¦åˆ™ä¸æ‰§è¡Œï¼›è€Œé€šçŸ¥æ–¹è·å–é”ä¹‹åè¿›è¡Œä¿®æ”¹æ¡ä»¶ï¼Œä¹‹åé€šçŸ¥ç­‰å¾…æ–¹ï¼Œå®ä¾‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">WaitNotify</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">final</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> String CITY = <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œbeijingâ€</span>;<span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> km;<span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> String site;<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">WaitNotify</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> km, String site)</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.km = km;<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.site = site;<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// æ”¹å˜å…¬é‡Œæ•°ï¼Œå¹¶é€šçŸ¥</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">changeKm</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.km = <span class="hljs-number" style="line-height: 26px;">66</span>;<span>        notifyAll();<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// æ”¹å˜å…¬ç«™ç‚¹ï¼Œå¹¶é€šçŸ¥</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">changeSite</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.site = <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œguangzhouâ€</span>;<span>        notifyAll();<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¦‚æœå…¬é‡Œæ•°å°äº 66ï¼Œå°±ç­‰å¾…</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">waitKm</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">while</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.km &lt; <span class="hljs-number" style="line-height: 26px;">66</span>) {<span>            wait();<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œcheck km thread: â€œ</span> + Thread.currentThread().getName());<span>        }<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œkm is â€œ</span> + <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.km);<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¦‚æœç«™ç‚¹æ˜¯beijingï¼Œå°±ç­‰å¾…</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">waitSite</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">while</span> (CITY.equals(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.site)) {<span>            wait();<span>            System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œcheck site thread: â€œ</span> + Thread.currentThread().getName());<span>        }<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œsite is â€œ</span> + <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.site);<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å†æ–°å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Client</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> WaitNotify waitNotify = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> WaitNotify(<span class="hljs-number" style="line-height: 26px;">0</span>, WaitNotify.CITY);<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">CheckKm</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">try</span> {<span>                waitNotify.waitKm();<span>            } <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">catch</span> (InterruptedException e) {<span>                e.printStackTrace();<span>            }<span>        }<span>    }<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">CheckSite</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Thread</span> </span>{<span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">try</span> {<span>                waitNotify.waitSite();<span>            } <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">catch</span> (InterruptedException e) {<span>                e.printStackTrace();<span>            }<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">throws</span> InterruptedException </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; <span class="hljs-number" style="line-height: 26px;">2</span>; i++) {<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> CheckKm().start();<span>        }<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; <span class="hljs-number" style="line-height: 26px;">2</span>; i++) {<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> CheckSite().start();<span>        }<span><span>        Thread.sleep(<span class="hljs-number" style="line-height: 26px;">1000</span>);<span>        waitNotify.changeKm();<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">check site thread: Thread-3<span>check site thread: Thread-2<span>check km thread: Thread-1<span>km is 66<span>check km thread: Thread-0<span>km is 66<span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¯çŸ¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">notifyAll()</code> æ–¹æ³•ä¼šå”¤é†’æ‰€æœ‰çš„çº¿ç¨‹ï¼Œè€Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">notify()</code> åªä¼šå”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸”è¿™ä¸ªçº¿ç¨‹ä¸ä¸€å®šæ˜¯æˆ‘ä»¬æƒ³å”¤é†’çš„çº¿ç¨‹ï¼Œæ‰€æœ‰ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶æœ€å¥½ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">notifyAll()</code> æ–¹æ³•ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¦‚ä¸Šä»£ç  <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">changeKm()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">waitKm()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">changeSite()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">waitSite()</code> æ–¹æ³•éƒ½æ˜¯å¯¹è±¡é”ï¼Œä¸”é”çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹æ‰§è¡Œæ–¹æ³•ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´ä¸æ˜¯æœ‰å†²çªå—ï¼Ÿä»–ä»¬ä¹‹é—´ä¸ä¼šæœ‰å†²çªï¼Œå› ä¸ºï¼Œè°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">wait()</code> æ–¹æ³•ä¹‹åï¼Œä¼šé‡Šæ”¾é”ï¼Œå…¶ä»–æ–¹æ³•å°±å¯ä»¥è·å–é”ã€‚</p><h2 id="æ˜¾ç¤ºé”(Lock)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">æ˜¾ç¤ºé”(Lock)</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> ä¹Ÿè¢«ç§°ä½œå†…ç½®é”ï¼Œå› ä¸º <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> çš„ä½¿ç”¨æœ‰äº›å±€é™æ€§ï¼Œå¦‚ï¼šæ— æ³•ä¸­æ–­ã€æ— æ³•å®ç°å°è¯•è·å–é”ç­‰ï¼Œæ‰€ä»¥ï¼ŒJava ç»™æˆ‘ä»¬æä¾›äº† <strong style="font-weight: bold; color: black;">Lock</strong> ä¹Ÿç§°ä¸ºæ˜¾ç¤ºé”ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Lock</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è·å–æˆ–é‡Šæ”¾é”ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Lock</code> æ‹¥æœ‰ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> æ‰€æ²¡æœ‰çš„åŠŸèƒ½ï¼Œå¯ä»¥è¢«ä¸­æ–­ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">lockInterruptibly()</code>ï¼Œå¯ä»¥å°è¯•è·å–é” <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">tryLock()</code>ç­‰ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Lock</code> æ—¢ç„¶æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¿…ç„¶æœ‰å®ç°ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Lock</code> çš„ä½¿ç”¨æœ‰6ä¸ªï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/lock.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¸¸ç”¨çš„æœ‰ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ReadLock</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">WriteLock</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ReentrantLock</code> è¯»å†™é”å’Œå¯é‡å…¥é”ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä¸€èˆ¬æˆ‘ä»¬ä¼šè¿™æ ·ä½¿ç”¨å®ƒï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">LockDemo</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> count = <span class="hljs-number" style="line-height: 26px;">0</span>;<span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> Lock lock = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ReentrantLock();<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">add</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        lock.lock();<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">try</span> {<span>            count ++;<span>        } <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">finally</span> {<span>            lock.unlock(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// åœ¨ finally é‡Œé‡Šæ”¾é”ï¼Œç¡®ä¿ä¸€å®šå¯ä»¥æ‰§è¡Œ</span><span>        }<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 id="å¯é‡å…¥é”(ReentrantLock)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">å¯é‡å…¥é”(ReentrantLock)</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¯é‡å…¥é”å°±æ˜¯å¯ä»¥é‡å¤è·å–é”ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> æœ¬èº«å°±å®ç°äº†å¯é‡å…¥çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯å¯é‡å…¥é”ï¼Œå¯é‡å…¥é”å¯ä»¥é˜²æ­¢æˆ‘ä»¬åœ¨é€’å½’è°ƒç”¨æ—¶é¿å…è‡ªå·±æŠŠè‡ªå·±é”æ­»ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">synchronized</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">add</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>    count ++;<span>    add();<span>}<span></span></span></span></span></code></pre><h3 id="å…¬å¹³é”å’Œéå…¬å¹³é”" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">å…¬å¹³é”å’Œéå…¬å¹³é”</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å…¬å¹³é”å°±æ˜¯åœ¨å¤šä¸ªçº¿ç¨‹ç”³è¯·è·å–é”æ—¶ï¼Œå…ˆç”³è¯·çš„ä¸€å®šå…ˆæ‹¿åˆ°ï¼Œéå…¬å¹³é”å°±æ˜¯å½“å¤šä¸ªçº¿ç¨‹å»ç”³è¯·è·å–é”æ—¶ï¼Œåç”³è¯·çš„åè€Œå…ˆè·å–åˆ°é”ã€‚<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> åœ¨å†…éƒ¨å®ç°ä¸Šæ˜¯ä¸€ä¸ªéå…¬å¹³é”ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ReentrantLock</code> åœ¨é»˜è®¤ä¹Ÿæ˜¯éå…¬å¹³é”ï¼Œä¸€èˆ¬éå…¬å¹³é”è¦æ¯”å…¬å¹³é”æ€§èƒ½å¥½ï¼Œå› ä¸ºå…¬å¹³é”éœ€è¦é¢‘ç¹çš„æŒ‚èµ·å’Œå”¤é†’çº¿ç¨‹ï¼Œå­˜åœ¨å¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</p><h2 id="ThreadLocalçš„åŸç†" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">ThreadLocalçš„åŸç†</span><span class="suffix"></span></h2><h3 id="ThreadLocalå’ŒsynchronizedåŒºåˆ«" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ThreadLocalå’ŒsynchronizedåŒºåˆ«</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> éƒ½ç”¨äºè§£å†³å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äº <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> æ˜¯åˆ©ç”¨é”æœºåˆ¶ï¼Œä½¿å˜é‡åœ¨æŸä¸€æ—¶åˆ»ä»…è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œè€Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> æ˜¯ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½æä¾›äº†å˜é‡çš„å‰¯æœ¬ï¼Œä½¿æ¯ä¸ªçº¿ç¨‹åœ¨æŸä¸€æ—¶åˆ»è®¿é—®åˆ°çš„å¹¶éåŒä¸€å¯¹è±¡ï¼Œéš”ç¦»äº†å¤šä¸ªçº¿ç¨‹å¯¹æ•°æ®çš„å…±äº«ã€‚</p><h3 id="ThreadLocalçš„ä½¿ç”¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ThreadLocalçš„ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> å°±æä¾›äº†çº¿ç¨‹çš„å±€éƒ¨å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥é€šè¿‡ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">set()</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">get()</code> æ¥æ“ä½œè¿™ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸ä¼šå’Œå…¶ä»–çº¿ç¨‹çš„å±€éƒ¨å˜é‡äº§ç”Ÿå†²çªï¼Œå®ç°äº†çº¿ç¨‹çš„æ•°æ®éš”ç¦»ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> çš„ä¸€ä¸ªæ¡ˆä¾‹ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UseThreadLocal</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> Integer count = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Integer(<span class="hljs-number" style="line-height: 26px;">1</span>);<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¯åŠ¨ 3 ä¸ªçº¿ç¨‹</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">StartThread</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        Thread[] threads = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread[<span class="hljs-number" style="line-height: 26px;">3</span>];<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; threads.length; i++) {<span>            threads[i] = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> RunnableThread(i));<span>        }<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; threads.length; i++) {<span>            threads[i].start();<span>        }<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¸Œæœ›æ¯ä¸ªçº¿ç¨‹å•ç‹¬æ“ä½œè‡ªå·± count å˜é‡</span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">RunnableThread</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">implements</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Runnable</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> id;<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">RunnableThread</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> id)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.id = id;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ startâ€</span>);<span>            count = count + id;<span>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ count â€œ</span> + count);<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        UseThreadLocal threadLocal = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UseThreadLocal();<span>        threadLocal.StartThread();<span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Thread-0 start<span>Thread-0 count 1<span>Thread-2 start<span>Thread-1 start<span>Thread-1 count 4<span>Thread-2 count 3<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 169ms<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¹¶ä¸æ˜¯æˆ‘ä»¬è®¾æƒ³çš„é‚£æ ·ï¼Œè¿™æ˜¯å› ä¸ºï¼Œcount å˜é‡æ˜¯3ä¸ªçº¿ç¨‹æ‰€å…±äº«çš„æ•°æ®å¯¼è‡´ï¼Œæˆ‘ä»¬å†æ¥ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code>ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UseThreadLocal</span> </span>{<span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// ä½¿ç”¨ ThreadLocal</span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> ThreadLocal&lt;Integer&gt; count = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> ThreadLocal&lt;Integer&gt;(){<span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> Integer <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">initialValue</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">return</span> <span class="hljs-number" style="line-height: 26px;">0</span>;<span>        }<span>    };<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¯åŠ¨ 3 ä¸ªçº¿ç¨‹</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">StartThread</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        Thread[] threads = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread[<span class="hljs-number" style="line-height: 26px;">3</span>];<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; threads.length; i++) {<span>            threads[i] = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> Thread(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> RunnableThread(i));<span>        }<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">for</span> (<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> i = <span class="hljs-number" style="line-height: 26px;">0</span>; i &lt; threads.length; i++) {<span>            threads[i].start();<span>        }<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¸Œæœ›æ¯ä¸ªçº¿ç¨‹å•ç‹¬æ“ä½œè‡ªå·± count å˜é‡</span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">RunnableThread</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">implements</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Runnable</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> id;<span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">RunnableThread</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> id)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.id = id;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ startâ€</span>);<span>            Integer integer = count.get(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è·å– ThreadLocal é‡Œçš„å€¼</span><span>            integer = integer + id;<span>            count.set(integer); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// å¦‚æœä¸‹æ¬¡è¿˜æœ‰ä½¿ç”¨ï¼Œéœ€è¦ set å€¼</span><span>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ count â€œ</span> + integer);<span>        }<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        UseThreadLocal threadLocal = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UseThreadLocal();<span>        threadLocal.StartThread();<span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Thread-0 start<span>Thread-2 start<span>Thread-1 start<span>Thread-0 count 0<span>Thread-2 count 2<span>Thread-1 count 1<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">in</span> 530ms<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿™æ ·å°±ä¿è¯äº†æ¯ä¸ªçº¿ç¨‹æ“ä½œè‡ªå·±çš„å˜é‡çš„å‰¯æœ¬ï¼Œå®ç°äº†çº¿ç¨‹çš„æ•°æ®éš”ç¦»ã€‚</p><h3 id="ThreadLocalåŸç†è§£æ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ThreadLocalåŸç†è§£æ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬å…ˆå¯ä»¥è¿›å…¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">set()</code> æ–¹æ³•æŸ¥çœ‹æºç ï¼Œå¦‚ä¸‹</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">set</span><span class="hljs-params" style="line-height: 26px;">(T var1)</span> </span>{<span>    Thread var2 = Thread.currentThread(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è·å–å½“å‰çº¿ç¨‹</span><span>    ThreadLocal.ThreadLocalMap var3 = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.getMap(var2); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è°ƒç”¨äº† getMap() æ–¹æ³•ï¼Œè¿”å›çš„æ˜¯ ThreadLocal.ThreadLocalMap</span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">if</span> (var3 != <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">null</span>) {<span>        var3.set(<span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>, var1);<span>    } <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">else</span> {<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.createMap(var2, var1);<span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬å†è¿›å…¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal.ThreadLocalMap</code> é‡Œï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">ThreadLocalMap</span> </span>{<span>  <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">final</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> INITIAL_CAPACITY = <span class="hljs-number" style="line-height: 26px;">16</span>;<span>  <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> ThreadLocal.ThreadLocalMap.Entry[] table;  <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// æŒæœ‰ Entry[] æ•°ç»„</span><span>  <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> size;<span>  <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> threshold;<span><span>  â€¦<span>}<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸ªæ•°ç»„çš„å®šä¹‰ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">Entry</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">WeakReference</span>&lt;<span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">ThreadLocal</span>&lt;?&gt;&gt; </span>{<span>    Object value;<span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// Entry åˆæŒæœ‰ ThreadLocal å’Œ Object æˆå‘˜å˜é‡</span><span>    Entry(ThreadLocal&lt;?&gt; var1, Object var2) {<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">super</span>(var1);<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.value = var2;<span>    }<span>}<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬å» <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">new ThreadLocal</code> å®ƒå°±åœ¨å½“å‰çº¿ç¨‹é‡Œåˆ›å»ºäº†ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocalMap</code>ä¸”è¿™ä¸ª Map é‡ŒæŒæœ‰å¤šä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Entry[]</code> å‹çš„æ•°ç»„ï¼Œè€Œæ¯ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Entry</code> æŒæœ‰æˆå‘˜ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Object</code>ï¼Œç»“æ„å¦‚å›¾ï¼š</p><div style="width: 66%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/threadlocal1.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆç”¨æ•°ç»„ä¿å­˜ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Entry</code> å‘¢ï¼Œå› ä¸ºå¯èƒ½æœ‰å¤šä¸ªå˜é‡éœ€è¦çº¿ç¨‹éš”ç¦»ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å…¶å®ï¼Œä¸Šé¢æˆ‘ä»¬ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocal</code> æ—¶ï¼Œç”¨å…¶å®ä¾‹ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">count.get()</code> å°±æ˜¯è·å–åˆ°æ¯ä¸ªçº¿ç¨‹ç‹¬æœ‰çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">ThreadLocalMap</code>ï¼Œç„¶åé€šè¿‡å…¶å®ä¾‹è·å–åˆ°å¯¹åº”çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Entry</code>ï¼Œå°±å¯ä»¥è·å–è¿”å›å€¼ã€‚</p><h2 id="CAS(Compare And Swap)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">CAS(Compare And Swap)</span><span class="suffix"></span></h2><h3 id="ä»€ä¹ˆæ˜¯åŸå­æ“ä½œ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ä»€ä¹ˆæ˜¯åŸå­æ“ä½œ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨ç¼–ç¨‹ä¸­ï¼Œatomic(åŸå­) åŠ¨ä½œæ˜¯ä¸€æ¬¡æ€§å®Œå…¨å‘ç”Ÿçš„åŠ¨ä½œï¼ŒåŸå­åŠ¨ä½œä¸èƒ½åœ¨ä¸­é—´åœæ­¢ï¼šå®ƒè¦ä¹ˆå®Œå…¨å‘ç”Ÿï¼Œè¦ä¹ˆæ ¹æœ¬ä¸å‘ç”Ÿã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å‡è®¾æœ‰ä¸¤ä¸ªæ“ä½œ A å’Œ B (A å’Œ B å¯èƒ½éƒ½å¾ˆå¤æ‚)ï¼Œå¦‚æœä»æ‰§è¡Œ A çš„çº¿ç¨‹æ¥çœ‹ï¼Œå½“å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ B æ—¶ï¼Œè¦ä¹ˆå°† B å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œä¸å®Œæˆï¼Œé‚£ä¹ˆ A å’Œ B å¯¹å½¼æ­¤æ¥è¯´æ˜¯åŸå­çš„ã€‚</p><h3 id="å¦‚ä½•å®ç°åŸå­æ“ä½œ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">å¦‚ä½•å®ç°åŸå­æ“ä½œ</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å®ç°åŸå­æ“ä½œå¯ä»¥ä½¿ç”¨é”ï¼Œé”æœºåˆ¶å¯ä»¥æ»¡è¶³åŸºæœ¬éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">synchronized</code> æ‰€åŒ…å›´çš„ä»£ç å°±æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼ŒJava ä¹Ÿæˆ‘æˆ‘ä»¬æä¾›äº†å¾ˆå¤šåŸå­å˜é‡ç±»ï¼Œå¦‚ï¼š<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">Atomic</code> å¼€å¤´çš„ä¸€äº›ç±»</p><div style="width: 66%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/atomic.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨ç°ä»£ CUP é‡ŒåŸºæœ¬éƒ½æä¾›äº†ä¸€ä¸ª Compare And Swap (CAS)çš„æŒ‡ä»¤ï¼Œæ¯ä¸ª CAS æ“ä½œéƒ½åŒ…å«3ä¸ªè¿ç®—ç¬¦ï¼šå†…å­˜åœ°å€ã€æœŸæœ›å€¼ã€æ–°å€¼ï¼Œæ“ä½œæ—¶å¦‚æœè¿™ä¸ªåœ°å€å­˜æ”¾çš„å€¼ç­‰äºæœŸæœ›å€¼ï¼Œåˆ™å°†åœ°å€çš„ä¸Šçš„å€¼èµ‹ä¸ºæ–°å¢ï¼Œå¦åˆ™ä¸åšä»»ä½•æ“ä½œï¼Œé‡æ–°è·å–å€¼ï¼Œå†æ¥ä¸€æ¬¡ï¼Œç›´åˆ°æˆåŠŸï¼Œå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/cas.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><h3 id="CASåŸå­æ“ä½œçš„ä¸‰å¤§é—®é¢˜" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">CASåŸå­æ“ä½œçš„ä¸‰å¤§é—®é¢˜</span><span class="suffix" style="display: none;"></span></h3><h4 id="ABAé—®é¢˜" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px; margin: 10px auto -1px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 16px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ABAé—®é¢˜</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å› ä¸ºCASéœ€è¦åœ¨æ“ä½œå€¼çš„æ—¶å€™ï¼Œæ£€æŸ¥å€¼æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å‘ç”Ÿå˜åŒ–åˆ™æ›´æ–°ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªå€¼åŸæ¥æ˜¯ Aï¼Œå˜æˆäº† Bï¼Œåˆå˜æˆäº† Aï¼Œé‚£ä¹ˆä½¿ç”¨ CAS è¿›è¡Œæ£€æŸ¥æ—¶ä¼šå‘ç°å®ƒçš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å®é™…ä¸Šå´å˜åŒ–äº†ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ABA é—®é¢˜çš„è§£å†³æ€è·¯å°±æ˜¯ä½¿ç”¨ç‰ˆæœ¬å·ã€‚åœ¨å˜é‡å‰é¢è¿½åŠ ä¸Šç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å˜é‡æ›´æ–°çš„æ—¶å€™æŠŠç‰ˆæœ¬å·åŠ 1ï¼Œé‚£ä¹ˆAâ†’Bâ†’A å°±ä¼šå˜æˆ 1Aâ†’2Bâ†’3Aã€‚ä¸¾ä¸ªé€šä¿—ç‚¹çš„ä¾‹å­ï¼Œä½ å€’äº†ä¸€æ¯æ°´æ”¾æ¡Œå­ä¸Šï¼Œå¹²äº†ç‚¹åˆ«çš„äº‹ï¼Œç„¶ååŒäº‹æŠŠä½ æ°´å–äº†åˆç»™ä½ é‡æ–°å€’äº†ä¸€æ¯æ°´ï¼Œä½ å›æ¥çœ‹æ°´è¿˜åœ¨ï¼Œæ‹¿èµ·æ¥å°±å–ï¼Œå¦‚æœä½ ä¸ç®¡æ°´ä¸­é—´è¢«äººå–è¿‡ï¼Œåªå…³å¿ƒæ°´è¿˜åœ¨ï¼Œè¿™å°±æ˜¯ABAé—®é¢˜ã€‚</p><h4 id="å¼€é”€é—®é¢˜" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px; margin: 10px auto -1px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 16px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">å¼€é”€é—®é¢˜</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å› ä¸ºï¼ŒJava å®ç° CAS æ“ä½œæ˜¯ä½¿ç”¨è‡ªæ—‹æœºåˆ¶ï¼Œå¦‚æœ Compare é•¿æ—¶é—´ä¸ç›¸ç­‰ï¼Œä¼šé‡å¤æ‰§è¡Œï¼Œç»™ CPU å¸¦æ¥éå¸¸å¤§çš„å¼€é”€ã€‚</p><h4 id="åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px; margin: 10px auto -1px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 16px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ</span><span class="suffix" style="display: none;"></span></h4><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å› ä¸ºï¼ŒCAS æ˜¯å¯¹åœ°å€ä¸Šçš„å€¼è¿›è¡Œæ“ä½œï¼Œå› æ­¤å®ƒåªèƒ½æ“ä½œä¸€ä¸ªå˜é‡ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åŒæ—¶æ“ä½œå¤šä¸ªå˜é‡ CAS å°±æ— æ³•ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚</p><h3 id="åŸå­æ“ä½œç±»çš„ä½¿ç”¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">åŸå­æ“ä½œç±»çš„ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">AtomicInteger</code> çš„ä½¿ç”¨ï¼Œå¦‚ä¸‹:</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">AtomicInt</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> AtomicInteger atomicInteger = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> AtomicInteger(<span class="hljs-number" style="line-height: 26px;">6</span>);<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        atomicInteger.getAndDecrement(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è‡ªå¢1ï¼Œè¿”å›ä¹‹å‰çš„å€¼</span><span>        System.out.println(atomicInteger);<span>        atomicInteger.incrementAndGet(); <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è‡ªå¢1ï¼Œè¿”å›æ–°å¢</span><span>        System.out.println(atomicInteger);<span>        System.out.println(atomicInteger.addAndGet(<span class="hljs-number" style="line-height: 26px;">6</span>));<span>        System.out.println(atomicInteger.getAndAdd(<span class="hljs-number" style="line-height: 26px;">6</span>));<span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">AtomicReference</code> çš„ä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UseAtomicReference</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> AtomicReference&lt;UserInfo&gt; reference; <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// åŸå­æ›´æ–°å¼•ç”¨ç±»å‹</span><span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        UserInfo user = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UserInfo(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œlsyâ€</span>, <span class="hljs-number" style="line-height: 26px;">66</span>);<span>        reference = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> AtomicReference(user);<span>        UserInfo updateUser = <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">new</span> UserInfo(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œperâ€</span>,<span class="hljs-number" style="line-height: 26px;">36</span>);<span>        reference.compareAndSet(user,updateUser);<span><span>        System.out.println(reference.get());<span>        System.out.println(user);<span>    }<span><span>    <span class="hljs-comment" style="color: #75715e; line-height: 26px;">//å®šä¹‰ä¸€ä¸ªå®ä½“ç±»</span><span>    <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">UserInfo</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">volatile</span> String name;<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> age;<span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">UserInfo</span><span class="hljs-params" style="line-height: 26px;">(String name, <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> age)</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.name = name;<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.age = age;<span>        }<span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> String <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">getName</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">return</span> name;<span>        }<span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">int</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">getAge</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">return</span> age;<span>        }<span><span>        <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>        <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> String <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">toString</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>            <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">return</span> <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œUserInfo{â€œ</span> +<span>                    <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œname=â€™â€</span> + name + <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€˜\â€™â€™</span> +<span>                    <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œ, age=â€</span> + age +<span>                    <span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€˜}â€™</span>;<span>        }<span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">UserInfo{name=<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€˜perâ€™</span>, age=<span class="hljs-number" style="line-height: 26px;">36</span>}<span>UserInfo{name=<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€˜lsyâ€™</span>, age=<span class="hljs-number" style="line-height: 26px;">66</span>}<span><span>BUILD SUCCESSFUL in <span class="hljs-number" style="line-height: 26px;">552</span>ms<span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">Jdkä¸­ç›¸å…³åŸå­æ“ä½œç±»æœ‰å¦‚ä¸‹ï¼š</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æ›´æ–°åŸºæœ¬ç±»å‹ç±»ï¼šAtomicBooleanï¼ŒAtomicIntegerï¼ŒAtomicLongæ›´æ–°æ•°ç»„ç±»ï¼šAtomicIntegerArrayï¼ŒAtomicLongArrayï¼ŒAtomicReferenceArrayæ›´æ–°å¼•ç”¨ç±»å‹ï¼šAtomicReferenceï¼ŒAtomicMarkableReferenceï¼ŒAtomicStampedReference</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å¤§éƒ¨åˆ†ç”¨æ³•éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œåœ¨æ­¤ï¼Œå°±ä¸ä¸€ä¸€æ¼”ç¤ºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œå°è¯•ã€‚</p><h2 id="é˜»å¡é˜Ÿåˆ—" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">é˜»å¡é˜Ÿåˆ—</span><span class="suffix"></span></h2><h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">é˜Ÿåˆ—</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">é˜Ÿåˆ—(queue)æ˜¯ä¸€ç§é‡‡ç”¨å…ˆè¿›å…ˆå‡º(FIFO)ç­–ç•¥çš„æŠ½è±¡æ•°æ®ç»“æ„ï¼Œå³æœ€å…ˆè¿›é˜Ÿåˆ—çš„æ•°æ®å…ƒç´ ï¼ŒåŒæ ·è¦æœ€å…ˆå‡ºé˜Ÿåˆ—ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå…¥é˜Ÿï¼Œä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå‡ºé˜Ÿï¼Œå› ä¸ºé˜Ÿåˆ—åªå…è®¸åœ¨ä¸€ç«¯æ’å…¥ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤ï¼Œæ‰€ä»¥åªæœ‰æœ€æ—©è¿›å…¥é˜Ÿåˆ—çš„å…ƒç´ æ‰èƒ½æœ€å…ˆä»é˜Ÿåˆ—ä¸­åˆ é™¤ï¼Œæ•…é˜Ÿåˆ—åˆç§°ä¸ºå…ˆè¿›å…ˆå‡º(FIFOâ€”first in first out)çº¿æ€§è¡¨ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—</span><span class="suffix" style="display: none;"></span></h3><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">æ”¯æŒé˜»å¡çš„æ’å…¥æ–¹æ³•ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œé˜Ÿåˆ—ä¼šé˜»å¡æ’å…¥å…ƒç´ çš„çº¿ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ—ç©ºä½™ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">æ”¯æŒé˜»å¡çš„ç§»é™¤æ–¹æ³•ï¼šå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œè·å–å…ƒç´ çš„çº¿ç¨‹ä¼šç­‰å¾…é˜Ÿåˆ—ä¸ºéç©ºã€‚</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ä½¿ç”¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å¼å¯ä»¥è§£å†³å¤§å¤šæ•°å¹¶å‘é—®é¢˜ï¼Œè¯¥æ¨¡å¼é€šè¿‡å¹³è¡¡ç”Ÿäº§çº¿ç¨‹å’Œæ¶ˆè´¹çº¿ç¨‹çš„å·¥ä½œèƒ½åŠ›æ¥æé«˜ç¨‹åºå¤„ç†æ•°æ®çš„é€Ÿåº¦ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨çº¿ç¨‹ä¸–ç•Œé‡Œï¼Œç”Ÿäº§è€…å°±æ˜¯ç”Ÿäº§æ•°æ®çš„çº¿ç¨‹ï¼Œæ¶ˆè´¹è€…å°±æ˜¯æ¶ˆè´¹æ•°æ®çš„çº¿ç¨‹ã€‚åœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­ï¼Œå¦‚æœç”Ÿäº§è€…å¤„ç†é€Ÿåº¦å¾ˆå¿«ï¼Œè€Œæ¶ˆè´¹è€…å¤„ç†é€Ÿåº¦å¾ˆæ…¢ï¼Œé‚£ä¹ˆç”Ÿäº§è€…å°±å¿…é¡»ç­‰å¾…æ¶ˆè´¹è€…å¤„ç†å®Œï¼Œæ‰èƒ½ç»§ç»­ç”Ÿäº§æ•°æ®ã€‚åŒæ ·çš„é“ç†ï¼Œå¦‚æœæ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŠ›å¤§äºç”Ÿäº§è€…ï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…å°±å¿…é¡»ç­‰å¾…ç”Ÿäº§è€…ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä¸ºäº†è§£å†³è¿™ç§ç”Ÿäº§æ¶ˆè´¹èƒ½åŠ›ä¸å‡è¡¡çš„é—®é¢˜ï¼Œä¾¿æœ‰äº†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å¼ã€‚ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å¼æ˜¯é€šè¿‡ä¸€ä¸ªå®¹å™¨æ¥è§£å†³ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¼ºè€¦åˆé—®é¢˜ã€‚ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å½¼æ­¤ä¹‹é—´ä¸ç›´æ¥é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡é˜»å¡é˜Ÿåˆ—æ¥è¿›è¡Œé€šä¿¡ï¼Œæ‰€ä»¥ç”Ÿäº§è€…ç”Ÿäº§å®Œæ•°æ®ä¹‹åä¸ç”¨ç­‰å¾…æ¶ˆè´¹è€…å¤„ç†ï¼Œç›´æ¥æ‰”ç»™é˜»å¡é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ä¸æ‰¾ç”Ÿäº§è€…è¦æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥ä»é˜»å¡é˜Ÿåˆ—é‡Œå–ï¼Œé˜»å¡é˜Ÿåˆ—å°±ç›¸å½“äºä¸€ä¸ªç¼“å†²åŒºï¼Œå¹³è¡¡äº†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŠ›ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">åœ¨ Java ä¸­é˜»å¡é˜Ÿåˆ—æœ‰ä¸€ä¸ªä¸“é—¨çš„æ¥å£ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">BlockingQueue</code>ï¼Œå¦‚å›¾</p><div style="width: 66%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/BlockingQueue.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å®ƒå®šä¹‰äº†ä¸€äº›æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•ä¸æ˜¯æ‰€æœ‰çš„éƒ½æ˜¯é˜»å¡çš„ï¼Œå¦‚ï¼š<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">add()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">remove()</code> æ–¹æ³•éƒ½æ˜¯éé˜»å¡çš„ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">put()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">take()</code> æ–¹æ³•æ˜¯é˜»å¡çš„ã€‚</p><h3 id="å¸¸ç”¨çš„é˜»å¡é˜Ÿåˆ—" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">å¸¸ç”¨çš„é˜»å¡é˜Ÿåˆ—</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä»¥ä¸‹çš„é˜»å¡é˜Ÿåˆ—éƒ½å®ç°äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">BlockingQueue</code> æ¥å£ï¼Œä¹Ÿéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">ArrayBlockingQueueï¼šä¸€ä¸ªç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">LinkedBlockingQueueï¼šä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">PriorityBlockingQueueï¼šä¸€ä¸ªæ”¯æŒä¼˜å…ˆçº§æ’åºçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">DelayQueueï¼šä¸€ä¸ªä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å®ç°çš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">SynchronousQueueï¼šä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">LinkedTransferQueueï¼šä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">LinkedBlockingDequeï¼šä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„åŒå‘é˜»å¡é˜Ÿåˆ—ã€‚</section></li></ul><h3 id="æœ‰ç•Œæ— ç•Œé˜»å¡é˜Ÿåˆ—" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">æœ‰ç•Œæ— ç•Œé˜»å¡é˜Ÿåˆ—</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æœ‰ç•Œé˜Ÿåˆ—å°±æ˜¯é•¿åº¦æœ‰é™ï¼Œæ»¡äº†ä»¥åç”Ÿäº§è€…ä¼šé˜»å¡ï¼Œæ— ç•Œé˜Ÿåˆ—å°±æ˜¯é‡Œé¢èƒ½æ”¾æ— æ•°çš„ä¸œè¥¿è€Œä¸ä¼šå› ä¸ºé˜Ÿåˆ—é•¿åº¦é™åˆ¶è¢«é˜»å¡ï¼Œå½“ç„¶ç©ºé—´é™åˆ¶æ¥æºäºç³»ç»Ÿèµ„æºçš„é™åˆ¶ï¼Œå¦‚æœå¤„ç†ä¸åŠæ—¶ï¼Œå¯¼è‡´é˜Ÿåˆ—è¶Šæ¥è¶Šå¤§ã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬å®é™…å¼€å‘ä¸­å°½é‡ä½¿ç”¨æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">æ— ç•Œä¹Ÿä¼šé˜»å¡ï¼Œå› ä¸ºé˜»å¡ä¸ä»…ä»…ä½“ç°åœ¨ç”Ÿäº§è€…æ”¾å…¥å…ƒç´ æ—¶ä¼šé˜»å¡ï¼Œæ¶ˆè´¹è€…æ‹¿å–å…ƒç´ æ—¶ï¼Œå¦‚æœæ²¡æœ‰å…ƒç´ ï¼ŒåŒæ ·ä¹Ÿä¼šé˜»å¡ã€‚</p><h2 id="AQS(AbstractQueuedSynchronizer)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; margin: 10px auto; height: 40px; background-color: rgb(251, 251, 251); border-bottom: 1px solid rgb(246, 246, 246); overflow: hidden; box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-left: -10px; display: inline-block; width: auto; height: 40px; background-color: rgb(33, 33, 34); border-bottom-right-radius: 100px; color: rgb(255, 255, 255); padding-right: 30px; padding-left: 30px; line-height: 40px; font-size: 20px;">AQS(AbstractQueuedSynchronizer)</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">é˜Ÿåˆ—åŒæ­¥å™¨ AbstractQueuedSynchronizer(ç®€ç§°åŒæ­¥å™¨æˆ–AQS)ï¼Œæ˜¯ç”¨æ¥æ„å»ºé”æˆ–è€…å…¶ä»–åŒæ­¥ç»„ä»¶çš„åŸºç¡€æ¡†æ¶ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">int</code> æˆå‘˜å˜é‡è¡¨ç¤ºåŒæ­¥çŠ¶æ€ï¼Œé€šè¿‡å†…ç½®çš„ FIFO é˜Ÿåˆ—æ¥å®Œæˆèµ„æºè·å–çº¿ç¨‹çš„æ’é˜Ÿå·¥ä½œã€‚</p><h3 id="AQSä½¿ç”¨æ–¹å¼" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">AQSä½¿ç”¨æ–¹å¼</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">AQS çš„ä¸»è¦ä½¿ç”¨æ–¹å¼æ˜¯ç»§æ‰¿ï¼Œå­ç±»é€šè¿‡ç»§æ‰¿ AQS å¹¶å®ç°å®ƒçš„æŠ½è±¡æ–¹æ³•æ¥ç®¡ç†åŒæ­¥çŠ¶æ€ï¼Œåœ¨ AQS é‡Œç”±ä¸€ä¸ª<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">int</code> å‹çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">state</code> æ¥ä»£è¡¨è¿™ä¸ªçŠ¶æ€ï¼Œåœ¨æŠ½è±¡æ–¹æ³•çš„å®ç°è¿‡ç¨‹ä¸­å¯¹åŒæ­¥çŠ¶æ€è¿›è¡Œæ›´æ”¹ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨åŒæ­¥å™¨æä¾›çš„3ä¸ªæ–¹æ³• <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">getState()</code>ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">setState(int newState)</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">compareAndSetState(int expect,int update)</code> æ¥è¿›è¡Œæ“ä½œï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤Ÿä¿è¯çŠ¶æ€çš„æ”¹å˜æ˜¯å®‰å…¨çš„ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">AQS æ˜¯å®ç°é”çš„å…³é”®ï¼Œé”æ˜¯é¢å‘ä½¿ç”¨è€…ï¼Œå®ƒå®šä¹‰äº†ä½¿ç”¨è€…ä¸é”äº¤äº’çš„æ¥å£ï¼Œéšè—äº†å®ç°ç»†èŠ‚ï¼›AQS é¢å‘çš„æ˜¯é”çš„å®ç°è€…ï¼Œå®ƒç®€åŒ–äº†é”çš„å®ç°æ–¹å¼ï¼Œå±è”½äº†åŒæ­¥çŠ¶æ€ç®¡ç†ã€çº¿ç¨‹çš„æ’é˜Ÿã€ç­‰å¾…ã€å”¤é†’ç­‰åº•å±‚æ“ä½œã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å®ç°è€…éœ€è¦ç»§æ‰¿ AQS å¹¶é‡å†™æŒ‡å®šæ–¹æ³•ï¼Œç„¶åå°† AQS ç»„åˆåœ¨è‡ªå®šä¹‰åŒæ­¥ç»„ä»¶çš„å®ç°ä¸­ï¼Œå¹¶è°ƒç”¨ AQS æä¾›çš„æ¨¡æ¿æ–¹æ³•ï¼Œè€Œè¿™äº›æ¨¡æ¿æ–¹æ³•å°†ä¼šè°ƒç”¨ä½¿ç”¨è€…é‡å†™çš„æ–¹æ³•ã€‚</p><h3 id="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">AQS çš„è®¾è®¡å¸ˆåŸºäºæ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼Œæ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼æ˜¯å®šä¹‰ä¸€ä¸ªæ“ä½œçš„ç®—æ³•çš„æ¶å­ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤çš„å®ç°å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦åšè›‹ç³•ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¨¡å‹ï¼Œæ¯ä¸ªäººæƒ³åšä»€ä¹ˆè›‹ç³•ï¼Œç”±ä»–è‡ªå·±å®ç°ï¼Œä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-comment" style="color: #75715e; line-height: 26px;">// è›‹ç³•çš„æ¨¡å‹ï¼Œå®šä¹‰å¥½äº†åšè›‹ç³•çš„æ­¥éª¤æ–¹æ³•</span><span><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">abstract</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">AbstractCake</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">abstract</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">mould</span><span class="hljs-params" style="line-height: 26px;">()</span></span>; <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// åˆ¶ä½œå½¢çŠ¶</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">abstract</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">butter</span><span class="hljs-params" style="line-height: 26px;">()</span></span>; <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// æ¶‚æŠ¹å¥¶æ²¹</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">abstract</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">toast</span><span class="hljs-params" style="line-height: 26px;">()</span></span>; <span class="hljs-comment" style="color: #75715e; line-height: 26px;">// çƒ¤é¢åŒ…</span><span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">final</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">making</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.mould();<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.butter();<span>        <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">this</span>.toast();<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å­ç±»å»ç»§æ‰¿å®ƒï¼Œé‡å†™è¿™äº›æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px;"><code class="hljs" style="overflow-x: auto; padding: 16px; background: #272822; color: #ddd; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">class</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">CheeseCake</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">extends</span> <span class="hljs-title" style="font-weight: bold; color: white; line-height: 26px;">AbstractCake</span> </span>{<span><span>    <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">mould</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œèŠå£«è›‹ç³•åˆ¶ä½œå½¢çŠ¶ â€¦â€</span>);<span>    }<span><span>    <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">butter</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œèŠå£«è›‹ç³•æ¶‚æŠ¹å¥¶æ²¹ â€¦â€</span>);<span>    }<span><span>    <span class="hljs-meta" style="color: #75715e; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #f92672; font-weight: bold; line-height: 26px;">void</span> <span class="hljs-title" style="color: #a6e22e; font-weight: bold; line-height: 26px;">toast</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.println(<span class="hljs-string" style="color: #a6e22e; line-height: 26px;">â€œèŠå£«è›‹ç³•çƒ¤é¢åŒ… â€¦â€</span>);<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 id="CLHé˜Ÿåˆ—é”" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 20px auto 5px; border-top: 1px solid rgb(221, 221, 221); box-sizing: border-box;"><span class="prefix" style="display: none;"></span><span class="content" style="margin-top: -1px; padding-top: 6px; padding-right: 5px; padding-left: 5px; font-size: 18px; border-top: 2px solid rgb(33, 33, 34); display: inline-block; line-height: 1.1;">CLHé˜Ÿåˆ—é”</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">CLH é˜Ÿåˆ—é”ä¹Ÿæ˜¯ä¸€ç§åŸºäºé“¾è¡¨çš„å¯æ‰©å±•ã€é«˜æ€§èƒ½ã€å…¬å¹³çš„è‡ªæ—‹é”ï¼Œçº¿ç¨‹ä»…ä»…åœ¨æœ¬åœ°å˜é‡ä¸Šè‡ªæ—‹ï¼Œä¸æ–­è½®è¯¢å‰é©±çš„çŠ¶æ€ï¼Œå‘ç°å‰é©±é‡Šæ”¾äº†é”å°±ç»“æŸè‡ªæ—‹ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å½“ä¸€ä¸ªçº¿ç¨‹éœ€è¦è·å–é”æ—¶ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">åˆ›å»ºä¸€ä¸ª QNodeï¼Œå°†å…¶ä¸­çš„ locked è®¾ä¸º true è¡¨ç¤ºè·å–é”ï¼Œå¦‚å›¾ï¼š</section></li></ul><div style="width: 30%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/qnode.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">myPred è¡¨ç¤ºå‰é©±èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">çº¿ç¨‹ A å¯¹ tail åŸŸè°ƒç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: rgb(239, 112, 96);">getAndSet</code> æ–¹æ³•ï¼Œä½¿è‡ªå·±æˆä¸ºé˜Ÿåˆ—çš„å°¾éƒ¨ï¼ŒåŒæ—¶è·å–ä¸€ä¸ªæŒ‡å‘å‰é©±èŠ‚ç‚¹çš„å¼•ç”¨ myPredï¼Œå¦‚å›¾ï¼š</section></li></ul><div style="width: 46%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/qnode1.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">çº¿ç¨‹ B éœ€è¦è·å¾—é”ï¼Œäºæ˜¯ï¼Œä¹Ÿéœ€è¦æŒ‰ç…§ç›¸åŒçš„æµç¨‹ï¼Œå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/qnode2.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">çº¿ç¨‹å°±åœ¨å‰é©±çš„èŠ‚ç‚¹çš„ locked å­—æ®µä¸Šè‡ªæ—‹ï¼Œç›´åˆ°å‰é©±èŠ‚ç‚¹é‡Šæ”¾é”</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">å½“ä¸€ä¸ªçº¿ç¨‹éœ€è¦é‡Šæ”¾é”æ—¶ï¼Œä¼šå°†å½“å‰èŠ‚ç‚¹çš„ locked åŸŸè®¾ç½®ä¸º falseï¼ŒåŒæ—¶å›æ”¶å‰é©±èŠ‚ç‚¹ï¼Œå¦‚å›¾</section></li></ul><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/thread-concurrent/qnode3.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; margin: 0; color: black; box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 15px; text-align: start; white-space: normal; text-size-adjust: auto; line-height: 1.75em;">å‰é©±èŠ‚ç‚¹é‡Šæ”¾é”åï¼Œçº¿ç¨‹ A çš„ myPred æ‰€æŒ‡å‘çš„å‰é©±èŠ‚ç‚¹çš„ locked å­—æ®µå˜ä¸º falseï¼Œçº¿ç¨‹ A å°±å¯ä»¥è·å–é”ã€‚AQS å°±æ˜¯ CLH é˜Ÿåˆ—é”çš„ä¸€ç§å˜ä½“å®ç°ã€‚</p></section>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/thread-concurrent.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Android coder éœ€è¦ç†è§£çš„æ³¨è§£ã€åå°„å’ŒåŠ¨æ€ä»£ç†</title>
      <link>https://h.lishaoy.net/annotations-reflect.html</link>
      <guid>https://h.lishaoy.net/annotations-reflect.html</guid>
      <pubDate>Mon, 27 Jul 2020 22:33:01 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/annotations-reflect/annotations-reflect-proxy2.png&quot; class=&quot;full-image&quot; alt=&quot;annotations reflect proxy&quot; title=&quot;annotations reflect proxy&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;section id=&quot;nice&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; style=&quot;padding: 0 10px; line-height: 1.6; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &#39;PingFang SC&#39;, Cambria, Cochin, Georgia, Times, &#39;Times New Roman&#39;, serif; font-size: 15px; letter-spacing: 0.05em; color: #595959;&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;&quot;&gt;æ³¨è§£æˆ‘ä»¬ç»å¸¸ä½¿ç”¨å®ƒï¼Œå¾ˆå¤šæ¡†æ¶ä¹Ÿæä¾›äº†å¾ˆå¤šæ³¨è§£ç»™æˆ‘ä»¬ä½¿ç”¨ï¼Œå¦‚ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;&quot;&gt;ARouter&lt;/code&gt; çš„ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;&quot;&gt;@Route(path = â€œ/test/activityâ€)&lt;/code&gt; ã€&lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;&quot;&gt;butterknife&lt;/code&gt; çš„ &lt;code style=&quot;font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;&quot;&gt;@BindView(R.id.user) EditText username;&lt;/code&gt; ç­‰ï¼Œä½†æ˜¯ï¼Œä½ æœ‰æ²¡æœ‰è‡ªå®šä¹‰è¿‡æ³¨è§£ï¼Œå†™è¿‡è‡ªå·±çš„æ³¨è§£å¤„ç†å™¨å‘¢ï¼Ÿåå°„å¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œä½†æ˜¯å®é™…ä¸Šä½ çœŸçš„äº†è§£ä»–ä¹‹åï¼Œåªæ˜¯ä¸€äº›APIçš„è°ƒç”¨è€Œå·²ï¼›åŠ¨æ€ä»£ç†å…¶å®åªæ˜¯åœ¨é™æ€ä»£ç†(ä»£ç†æ¨¡å¼)åŸºç¡€ä¸Šä½¿ç”¨äº†åå°„æŠ€æœ¯ï¼›æœ¬ç¯‡æ–‡ç« å°†å¸¦é¢†å¤§å®¶å¯¹æ³¨è§£ã€åå°„åŠåŠ¨æ€ä»£ç†æœ‰æ›´æ¸…æ™°çš„è®¤çŸ¥ã€‚&lt;/p&gt;
&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; style=&quot;height: 1px; margin-top: 10px; margin-bottom: 10px; border-top: 1px solid black; border: 1px solid #35b378; margin: 1.5em auto;background: white;&quot;&gt;&lt;/section&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/annotations-reflect/annotations-reflect-proxy2.png" class="full-image" alt="annotations reflect proxy" title="annotations reflect proxy"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="padding: 0 10px; line-height: 1.6; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; font-size: 15px; letter-spacing: 0.05em; color: #595959;"><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ³¨è§£æˆ‘ä»¬ç»å¸¸ä½¿ç”¨å®ƒï¼Œå¾ˆå¤šæ¡†æ¶ä¹Ÿæä¾›äº†å¾ˆå¤šæ³¨è§£ç»™æˆ‘ä»¬ä½¿ç”¨ï¼Œå¦‚ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ARouter</code> çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Route(path = â€œ/test/activityâ€)</code> ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">butterknife</code> çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@BindView(R.id.user) EditText username;</code> ç­‰ï¼Œä½†æ˜¯ï¼Œä½ æœ‰æ²¡æœ‰è‡ªå®šä¹‰è¿‡æ³¨è§£ï¼Œå†™è¿‡è‡ªå·±çš„æ³¨è§£å¤„ç†å™¨å‘¢ï¼Ÿåå°„å¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œä½†æ˜¯å®é™…ä¸Šä½ çœŸçš„äº†è§£ä»–ä¹‹åï¼Œåªæ˜¯ä¸€äº›APIçš„è°ƒç”¨è€Œå·²ï¼›åŠ¨æ€ä»£ç†å…¶å®åªæ˜¯åœ¨é™æ€ä»£ç†(ä»£ç†æ¨¡å¼)åŸºç¡€ä¸Šä½¿ç”¨äº†åå°„æŠ€æœ¯ï¼›æœ¬ç¯‡æ–‡ç« å°†å¸¦é¢†å¤§å®¶å¯¹æ³¨è§£ã€åå°„åŠåŠ¨æ€ä»£ç†æœ‰æ›´æ¸…æ™°çš„è®¤çŸ¥ã€‚</p><hr data-tool="mdniceç¼–è¾‘å™¨" style="height: 1px; margin-top: 10px; margin-bottom: 10px; border-top: 1px solid black; border: 1px solid #35b378; margin: 1.5em auto;background: white;"></section><a id="more"></a><section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="padding: 0 10px; line-height: 1.6; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; font-size: 15px; letter-spacing: 0.05em; color: #595959;"><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æœ¬ç¯‡æ–‡ç« çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨ <a href="https://github.com/persilee/android_practice" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #35b378; border-bottom: 1px solid #35b378;" target="_blank" rel="noopener">Github</a> ä¸Šï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations-reflect-proxy.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><h2 data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; bmin-height: 32px; line-height: 32px; border-bottom: solid 1px #000000; color: #35b378; display: inline-block; border-bottom-width: 0px; border-bottom-style: solid; border-color: #35b378; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; font-size: 23px; margin: 1em 0 0rem 0; padding: 0.5em 0; text-align: leftt; font-weight: bold;"><span class="prefix" style="display: none;"></span><span class="content">æ³¨è§£</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ³¨è§£(Annotations)ï¼Œå…ƒæ•°æ®çš„ä¸€ç§å½¢å¼ï¼Œæä¾›æœ‰å…³äºç¨‹åºä½†ä¸å±äºç¨‹åºæœ¬èº«çš„æ•°æ®ã€‚æ³¨è§£å¯¹å®ƒä»¬æ³¨è§£çš„ä»£ç çš„æ“ä½œæ²¡æœ‰ç›´æ¥å½±å“ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ³¨è§£æœ‰å¤šç§ç”¨é€”ï¼Œä¾‹å¦‚ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">ä¸ºç¼–è¯‘å™¨æä¾›ä¿¡æ¯ï¼šç¼–è¯‘å™¨å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥æ£€æŸ¥é”™è¯¯æˆ–æŠ‘åˆ¶è­¦å‘Š</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">ç¼–è¯‘æˆ–éƒ¨ç½²æ—¶å¤„ç†ï¼šå¯ä»¥ç”Ÿæˆä»£ç ã€XMLã€æ–‡ä»¶ç­‰</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">è¿è¡Œæ—¶å¤„ç†ï¼šæ³¨è§£å¯ä»¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥</section></li></ul><h3 id="æ³¨è§£çš„æ ¼å¼" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">æ³¨è§£çš„æ ¼å¼</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ³¨è§£çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span><span><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MyClass</span> </span>{ â€¦ }<span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ³¨è§£ä»¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@</code> å¼€å¤´åé¢è·Ÿä¸Šå†…å®¹ï¼Œæ³¨è§£å¯ä»¥åŒ…å«å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span>(id=<span class="hljs-number" style="color: #986801; line-height: 26px;">666</span>, value = <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>)<span><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MyClass</span> </span>{ â€¦ }<span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¦‚æœï¼Œåªæœ‰ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">value</code> å…ƒç´ ï¼Œåˆ™å¯ä»¥çœç•¥è¯¥åç§°ï¼Œå¦‚æœï¼Œæ²¡æœ‰å…ƒç´ ï¼Œåˆ™å¯ä»¥çœç•¥æ‹¬å·ï¼Œä¾‹å¦‚</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>) <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åªæœ‰ä¸€ä¸ª value å…ƒç´ </span><span><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MyClass</span> </span>{ â€¦ }<span><span><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span> <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ²¡æœ‰å…ƒç´ </span><span><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MyClass</span> </span>{ â€¦ }<span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¦‚æœï¼Œæ³¨è§£æœ‰ç›¸åŒçš„ç±»å‹ï¼Œåˆ™æ˜¯é‡å¤æ³¨è§£ï¼Œå¦‚</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>)<span><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œzimuâ€</span>)<span><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MyClass</span> </span>{ â€¦ }<span></span></span></span></code></pre><h3 id="æ³¨è§£å£°æ˜" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">æ³¨è§£å£°æ˜</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ³¨è§£çš„å®šä¹‰ç±»ä¼¼äºæ¥å£çš„å®šä¹‰ï¼Œåœ¨å…³é”®å­— <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">interface</code> å‰åŠ ä¸Š <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@</code>ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@interface</span> Persilee {<span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">id</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<span>    <span class="hljs-function" style="line-height: 26px;">String <span class="hljs-title" style="color: #4078f2; line-height: 26px;">value</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<span>}<span></span></span></span></span></code></pre><h3 id="æ³¨è§£ç±»å‹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">æ³¨è§£ç±»å‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">int id()</code> å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">String value()</code> æ˜¯æ³¨è§£ç±»å‹(annotation type)ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥å®šä¹‰å¯é€‰çš„é»˜è®¤å€¼ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@interface</span> Persilee {<span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">id</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<span>    <span class="hljs-function" style="line-height: 26px;">String <span class="hljs-title" style="color: #4078f2; line-height: 26px;">value</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span> â€œlsyâ€</span>;<span>}<span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨ä½¿ç”¨æ³¨è§£æ—¶ï¼Œå¦‚æœå®šä¹‰çš„æ³¨è§£çš„æ³¨è§£ç±»å‹æ²¡æœ‰é»˜è®¤å€¼ï¼Œåˆ™å¿…é¡»è¿›è¡Œèµ‹å€¼ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span>(id = <span class="hljs-number" style="color: #986801; line-height: 26px;">666</span>) <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// id å¿…é¡»è¦èµ‹å€¼ï¼Œå¦‚ï¼Œ@Persilee ä¼šæç¤º id å¿…é¡»èµ‹å€¼</span><span><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MyClass</span> </span>{ â€¦ }<span></span></span></code></pre><h3 id="å…ƒæ³¨è§£" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">å…ƒæ³¨è§£</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨æ³¨è§£ä¸Šé¢çš„æ³¨è§£ç§°ä¸ºå…ƒæ³¨è§£(meta-annotations)ï¼Œå¦‚</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Target</span>({ElementType.TYPE, ElementType.METHOD})<span><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Retention</span>(RetentionPolicy.SOURCE)<span><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@interface</span> Persilee {<span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">id</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<span>    <span class="hljs-function" style="line-height: 26px;">String <span class="hljs-title" style="color: #4078f2; line-height: 26px;">value</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span> â€œlsyâ€</span>;<span>}<span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">java.lang.annotation</code> ä¸­å®šä¹‰äº†å‡ ç§å…ƒæ³¨è§£ç±»å‹(å¸¸ä½¿ç”¨çš„æ˜¯ @Retentionã€@Target)ï¼Œå¦‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><strong style="font-weight: bold; color: #35b378;">@Retention</strong> æŒ‡å®šæ³¨è§£çš„å­˜å‚¨æ–¹å¼ï¼Œæˆ‘ä»¬ç”± <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">RetentionPolicy.java</code> (æ˜¯ä¸€ä¸ªæšä¸¾)å¯çŸ¥ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">enum</span> RetentionPolicy {<span>    SOURCE, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ ‡è®°çš„æ³¨è§£ä»…ä¿ç•™åœ¨æºçº§åˆ«ä¸­ï¼Œå¹¶è¢«ç¼–è¯‘å™¨å¿½ç•¥ã€‚</span><span>    CLASS, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ ‡è®°çš„æ³¨è§£åœ¨ç¼–è¯‘æ—¶ç”±ç¼–è¯‘å™¨ä¿ç•™ï¼Œä½† Java è™šæ‹Ÿæœº(JVM)ä¼šå¿½ç•¥ã€‚</span><span>    RUNTIME <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ ‡è®°çš„æ³¨è§£ç”± JVM ä¿ç•™ï¼Œå› æ­¤è¿è¡Œæ—¶ç¯å¢ƒå¯ä»¥ä½¿ç”¨å®ƒã€‚</span><span>}<span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><strong style="font-weight: bold; color: #35b378;">@Target</strong> æŒ‡å®šæ³¨è§£å¯ä»¥ä½¿ç”¨çš„èŒƒå›´ï¼Œæˆ‘ä»¬ç”± <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ElementType.java</code> (æ˜¯ä¸€ä¸ªæšä¸¾)å¯çŸ¥ä½¿ç”¨èŒƒå›´ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">enum</span> ElementType {<span>    TYPE, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç±»</span><span>    FIELD, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å­—æ®µæˆ–å±æ€§</span><span>    METHOD, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ–¹æ³•</span><span>    PARAMETER, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å‚æ•°</span><span>    CONSTRUCTOR, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ„é€ æ–¹æ³•</span><span>    LOCAL_VARIABLE, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å±€éƒ¨å˜é‡</span><span>    ANNOTATION_TYPE, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨æ³¨è§£ä¸Š</span><span>    PACKAGE, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åŒ…</span><span>    TYPE_PARAMETER, <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç±»å‹å‚æ•°</span><span>    TYPE_USE <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ä»»ä½•ç±»å‹</span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¯¹äº <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">TYPE_PARAMETER</code> (ç±»å‹å‚æ•°) ã€ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">TYPE_USE</code> (ä»»ä½•ç±»å‹åç§°) å¯èƒ½ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œå¦‚æœæŠŠ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Target</code> è®¾ç½®æˆ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Target({ElementType.TYPE_PARAMETER})</code>ï¼Œè¡¨ç¤ºå¯ä»¥ä½¿ç”¨åœ¨æ³›å‹(ä¸Šç¯‡æ–‡ç« æœ‰ä»‹ç»è¿‡<a href="https://h.lishaoy.net/generics.html" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #35b378; border-bottom: 1px solid #35b378;">æ³›å‹</a>)çš„ç±»å‹å‚æ•°ä¸Šï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">TypeParameterClass</span>&lt;@<span class="hljs-title" style="color: #c18401; line-height: 26px;">Persilee</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">T</span>&gt; </span>{<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> &lt;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span> T&gt; <span class="hljs-function" style="line-height: 26px;">T <span class="hljs-title" style="color: #4078f2; line-height: 26px;">foo</span><span class="hljs-params" style="line-height: 26px;">(T t)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<span>    }<span>}<span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¦‚æœæŠŠ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Target</code> è®¾ç½®æˆ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Target({ElementType.TYPE_USE})</code>ï¼Œè¡¨ç¤ºå¯ä»¥ä½¿ç”¨åœ¨ä»»ä½•ç±»å‹ä¸Šï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">TypeParameterClass&lt;<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span> String&gt; typeParameterClass = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> TypeParameterClass&lt;&gt;();<span><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span> String text = (<span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span> String)<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> Object();<span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><strong style="font-weight: bold; color: #35b378;">@Documented</strong> æ³¨è§£è¡¨ç¤ºä½¿ç”¨äº†æŒ‡å®šçš„æ³¨è§£ï¼Œå°†ä½¿ç”¨ Javadoc å·¥å…·è®°å½•è¿™äº›å…ƒç´ ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><strong style="font-weight: bold; color: #35b378;">@Inherited</strong> æ³¨è§£è¡¨ç¤ºæ³¨è§£ç±»å‹å¯ä»¥ä»è¶…ç±»ç»§æ‰¿ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><strong style="font-weight: bold; color: #35b378;">@Repeatable</strong> æ³¨è§£è¡¨æ˜æ ‡è®°çš„æ³¨è§£å¯ä»¥å¤šæ¬¡åº”ç”¨äºåŒä¸€å£°æ˜æˆ–ç±»å‹ä½¿ç”¨ã€‚</p><h3 id="æ³¨è§£åº”ç”¨åœºæ™¯" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">æ³¨è§£åº”ç”¨åœºæ™¯</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ ¹æ® <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Retention</code> å…ƒæ³¨è§£å®šä¹‰çš„å­˜å‚¨æ–¹å¼ï¼Œæ³¨è§£ä¸€èˆ¬å¯ä»¥ä½¿ç”¨åœ¨ä»¥ä¸‹3ç§åœºæ™¯ä¸­ï¼Œå¦‚ï¼š</p><section class="table-container" data-tool="mdniceç¼–è¾‘å™¨" style="overflow-x: auto;"><table style="display: table; text-align: left;"><thead><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><th style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; font-weight: bold; background-color: #f0f0f0; min-width: 85px; text-align: left;">çº§åˆ«</th><th style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; font-weight: bold; background-color: #f0f0f0; min-width: 85px; text-align: left;">æŠ€æœ¯</th><th style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; font-weight: bold; background-color: #f0f0f0; min-width: 85px; text-align: left;">è¯´æ˜</th></tr></thead><tbody style="border: 0;"><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">æºç </td><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">APT</td><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">åœ¨ç¼–è¯‘æœŸèƒ½è·å–æ³¨è§£ä¸æ³¨è§£å£°æ˜çš„ç±»å’Œç±»ä¸­æ‰€æœ‰æˆå‘˜ä¿¡æ¯ï¼Œä¸€èˆ¬ç”¨äºç”Ÿæˆé¢å¤–çš„è¾…åŠ©ç±»ã€‚</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">å­—èŠ‚ç  </td><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">å­—èŠ‚ç å¢å¼º </td><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">åœ¨ç¼–è¯‘å‡ºClassåï¼Œé€šè¿‡ä¿®æ”¹Classæ•°æ®ä»¥å®ç°ä¿®æ”¹ä»£ç é€»è¾‘ç›®çš„ï¼Œå¯¹äºæ˜¯å¦éœ€è¦ä¿®æ”¹çš„åŒºåˆ†æˆ–è€…ä¿®æ”¹ä¸ºä¸åŒé€»è¾‘çš„åˆ¤æ–­å¯ä»¥ä½¿ç”¨æ³¨è§£ã€‚</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">è¿è¡Œæ—¶</td><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">åå°„</td><td style="font-size: 16px; border: 1px solid #ccc; padding: 5px 10px; min-width: 85px; text-align: left;">åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œé€šè¿‡åå°„æŠ€æœ¯åŠ¨æ€è·å–æ³¨è§£ä¸å…¶å…ƒç´ ï¼Œä»è€Œå®Œæˆä¸åŒçš„é€»è¾‘åˆ¤æ–­ã€‚</td></tr></tbody></table></section><h3 id="å°æ¡ˆä¾‹(ä½¿ç”¨æ³¨è§£å®ç°è¯­æ³•æ£€æŸ¥)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">å°æ¡ˆä¾‹(ä½¿ç”¨æ³¨è§£å®ç°è¯­æ³•æ£€æŸ¥)</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">weekDay</code> å­—æ®µï¼Œç±»å‹æ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">WeekDay</code> æšä¸¾ç±»å‹ï¼Œæ–¹ä¾¿æˆ‘ä»¬è®¾ç½®æšä¸¾ä¸­æŒ‡å®šçš„å€¼ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">WeekDayDemo</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> WeekDay weekDay;<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">enum</span> WeekDay {<span>        SATURDAY,SUNDAY<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> WeekDay <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getWeekDay</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> weekDay;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">setWeekDay</span><span class="hljs-params" style="line-height: 26px;">(WeekDay weekDay)</span> </span>{<span>        WeekDayDemo.weekDay = weekDay;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        setWeekDay(WeekDay.SATURDAY);<span>        System.out.println(getWeekDay());<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨ Java ä¸­æšä¸¾çš„å®è´¨æ˜¯ç‰¹æ®Šçš„é™æ€æˆå‘˜å˜é‡ï¼Œåœ¨è¿è¡Œæ—¶å€™ï¼Œæ‰€æœ‰çš„æšä¸¾ä¼šä½œä¸ºå•ä¾‹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œéå¸¸æ¶ˆè€—å†…å­˜ï¼Œé‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆä¼˜åŒ–çš„æ–¹æ¡ˆå‘¢ï¼Œåœ¨æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨æ³¨è§£æ¥å–ä»£æšä¸¾ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬ä½¿ç”¨å¸¸é‡å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@intDef</code> (è¯­æ³•æ£€æŸ¥)å…ƒæ³¨è§£å»ä»£æ›¿æšä¸¾ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">IntdefDemo</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> SATURDAY = <span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> SUNDAY = <span class="hljs-number" style="color: #986801; line-height: 26px;">1</span>;<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> weekDay;<span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@IntDef</span>({SATURDAY, SUNDAY})<span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Target</span>({ElementType.FIELD, ElementType.PARAMETER})<span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Retention</span>(RetentionPolicy.SOURCE)<span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@interface</span> WeekDay { <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è‡ªå®šä¹‰ä¸€ä¸ª WeekDay æ³¨è§£</span><span><span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">setWeekDay</span><span class="hljs-params" style="line-height: 26px;">(@WeekDay <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> weekDay)</span> </span>{ <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ä½¿ç”¨ WeekDay æ³¨è§£é™åˆ¶å‚æ•°ç±»å‹</span><span>        IntdefDemo.weekDay = weekDay;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        setWeekDay(SATURDAY); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åªèƒ½ ä¼ å…¥ SATURDAY, SUNDAY</span><span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 id="APTæ³¨è§£å¤„ç†å™¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">APTæ³¨è§£å¤„ç†å™¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">APT(Annotation Processor Tools) æ³¨è§£å¤„ç†å™¨ï¼Œç”¨äºå¤„ç†æ³¨è§£ï¼Œç¼–å†™å¥½çš„ Java æ–‡ä»¶ï¼Œéœ€è¦ç»è¿‡ Javac çš„ç¼–è¯‘ï¼Œç¼–è¯‘ä¸ºè™šæ‹Ÿæœºèƒ½å¤ŸåŠ è½½çš„å­—èŠ‚ç (Class)æ–‡ä»¶ï¼Œæ³¨è§£å¤„ç†å™¨æ˜¯ Javac è‡ªå¸¦çš„ä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥åœ¨ç¼–è¯‘æ—¶æœŸå¤„ç†æ³¨è§£ä¿¡æ¯ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä¸Šæ–‡ä¸­æˆ‘ä»¬å·²è‡ªå®šä¹‰å¥½äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Persilee</code> æ³¨è§£ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªç®€å•çš„æ³¨è§£å¤„ç†å™¨æ¥å¤„ç† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Persilee</code> æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ª Java çš„ Moduleï¼Œåˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">PersileeProcessor</code> çš„ç±»ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@SupportedAnnotationTypes</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.anreprdemo.Persileeâ€</span>)  <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//æŒ‡å®šè¦å¤„ç†çš„æ³¨è§£</span><span><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">PersileeProcessor</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">AbstractProcessor</span> </span>{<span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">boolean</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">process</span><span class="hljs-params" style="line-height: 26px;">(Set&lt;? extends TypeElement&gt; set, RoundEnvironment roundEnvironment)</span> </span>{<span>        Messager messager = processingEnv.getMessager(); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//</span><span>        messager.printMessage(Diagnostic.Kind.NOTE, <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œAPT working â€¦â€</span>);<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (TypeElement typeElement: set) {<span>            messager.printMessage(Diagnostic.Kind.NOTE,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ===&gt;â€</span> + typeElement.getQualifiedName());<span>            Set&lt;? extends Element&gt; elements = roundEnvironment.getElementsAnnotatedWith(typeElement);<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (Element element: elements) {<span>                messager.printMessage(Diagnostic.Kind.NOTE,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ===&gt;â€</span> + element.getSimpleName());<span>            }<span>        }<span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">false</span>;<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ç„¶åï¼Œåœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">main</code> ç›®å½•ä¸‹æ–°å»º <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">resources</code> ç›®å½•ï¼Œå¦‚å›¾ï¼š</p><div style="width: 86%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations1.png" alt="no-shadow" title="annotation" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¿™ä¸ªç›®å½•ç»“æ„æ˜¯è§„å®šæ­»çš„ï¼Œå¿…é¡»è¿™æ ·å†™ï¼Œç„¶ååœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">javax.annotation.processing.Processor</code> æ–‡ä»¶é‡Œæ³¨å†Œéœ€è¦å¤„ç†çš„æ³¨è§£å¤„ç†å™¨ï¼Œå¦‚</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">net.lishaoy.aptlib.PersileeProcessor<span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æœ€åï¼Œåœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">app</code> çš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">build.gradle</code> æ–‡ä»¶å¼•å…¥æ¨¡å—ï¼Œå¦‚</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">dependencies {<span>  â€¦<span><span>  <span class="hljs-function" style="line-height: 26px;">annotationProcessor <span class="hljs-title" style="color: #4078f2; line-height: 26px;">project</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€˜:aptlibâ€™</span>)</span><span>}<span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨ä½  Build å·¥ç¨‹æ—¶å€™ï¼Œä¼šåœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Task :app:compileDebugJavaWithJavac</code> ä»»åŠ¡æ‰“å°æˆ‘ä»¬åœ¨æ³¨è§£å¤„ç†ç¨‹åºçš„æ—¥å¿—ä¿¡æ¯ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">æ³¨: APT working â€¦<span>æ³¨: ===&gt;net.lishaoy.anreprdemo.Persilee<span>æ³¨: ===&gt;MainActivity<span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å› ä¸ºï¼Œæˆ‘ä»¬åªåœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">MainActivity</code> ä¸­ä½¿ç”¨äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@Persilee</code> æ³¨è§£ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Persilee</span>(id = <span class="hljs-number" style="color: #986801; line-height: 26px;">666</span>, value = <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>)<span><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MainActivity</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span> </span>{<span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle savedInstanceState)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<span><span>        setContentView(R.layout.activity_main);<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></code></pre><h2 id="åå°„" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; bmin-height: 32px; line-height: 32px; border-bottom: solid 1px #000000; color: #35b378; display: inline-block; border-bottom-width: 0px; border-bottom-style: solid; border-color: #35b378; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; font-size: 23px; margin: 1em 0 0rem 0; padding: 0.5em 0; text-align: leftt; font-weight: bold;"><span class="prefix" style="display: none;"></span><span class="content">åå°„</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æŸä¸ªç±»æ—¶å¿…å®šçŸ¥é“å®ƒæ˜¯ä»€ä¹ˆç±»ï¼Œç”¨æ¥åšä»€ä¹ˆçš„ã€‚äºæ˜¯æˆ‘ä»¬ç›´æ¥å¯¹è¿™ä¸ªç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¹‹åä½¿ç”¨è¿™ä¸ªç±»å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Cook cook = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> Cook(); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œæ ‡å‡†ç”¨æ³•</span><span>cook.cookService(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œğŸ…â€</span>);<span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åå°„æ˜¯ä¸€å¼€å§‹å¹¶ä¸çŸ¥é“åˆå§‹åŒ–çš„ç±»å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">new</code> å…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼Œåå°„æ˜¯åœ¨è¿è¡Œçš„æ—¶æ‰çŸ¥é“è¦æ“ä½œçš„ç±»æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–ç±»çš„å®Œæ•´æ„é€ ï¼Œè°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">Java åå°„æœºåˆ¶ä¸»è¦æä¾›äº†ä»¥ä¸‹åŠŸèƒ½:</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">åœ¨è¿è¡Œæ—¶è·å–æˆ–ä¿®æ”¹ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•(å±æ€§)</section></li></ul><h3 id="Classç±»" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">Classç±»</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">Classæ˜¯ä¸€ä¸ªç±»ï¼Œå°è£…äº†å½“å‰å¯¹è±¡æ‰€å¯¹åº”çš„ç±»çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å†™çš„æ¯ä¸€ä¸ªç±»éƒ½å¯ä»¥çœ‹æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯ java.lang.Class ç±»çš„å¯¹è±¡ï¼ŒClassæ˜¯ç”¨æ¥æè¿°ç±»çš„ç±»ã€‚</p><h3 id="è·å¾—Classå¯¹è±¡" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">è·å¾—Classå¯¹è±¡</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">Classå¯¹è±¡çš„è·å–æœ‰3ç§æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">é€šè¿‡ç±»åè·å– ç±»å.class</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">é€šè¿‡å¯¹è±¡è·å– å¯¹è±¡å.getClass()</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">é€šè¿‡å…¨ç±»åè·å– Class.forName(å…¨ç±»å)</section></li></ul><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Cook cook = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> Cook();<span>Class cookClass = Cook.class;<span>Class cookClass1 = cook.getClass();<span>Class cookClass2 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.reflectdemo.Cookâ€</span>);<span></span></span></span></span></code></pre><h3 id="åˆ›å»ºå®ä¾‹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">åˆ›å»ºå®ä¾‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥ç”Ÿæˆå¯¹è±¡çš„å®ä¾‹ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">Class cookClass = Cook.class;<span>Cook cook1 = (Cook) cookClass.newInstance();<span></span></span></code></pre><h3 id="è·å–æ„é€ å™¨" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">è·å–æ„é€ å™¨</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è·å–æ„é€ å™¨çš„æ–¹æ³•æœ‰ï¼Œå¦‚ä¸‹ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Constructor getConstructor(Class[] params)ï¼šè·å¾—ä½¿ç”¨ç‰¹æ®Šçš„å‚æ•°ç±»å‹çš„publicæ„é€ å‡½æ•°(åŒ…æ‹¬çˆ¶ç±»)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Constructor[] getConstructors()ï¼šè·å¾—ç±»çš„æ‰€æœ‰å…¬å…±æ„é€ å‡½æ•°</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Constructor getDeclaredConstructor(Class[] params)ï¼šè·å¾—ä½¿ç”¨ç‰¹å®šå‚æ•°ç±»å‹çš„æ„é€ å‡½æ•°(åŒ…æ‹¬ç§æœ‰)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Constructor[] getDeclaredConstructors()ï¼šè·å¾—ç±»çš„æ‰€æœ‰æ„é€ å‡½æ•°(ä¸æ¥å…¥çº§åˆ«æ— å…³)</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Person</code> ï¼Œä»¥ä¾¿æˆ‘ä»¬çš„æ¼”ç¤ºï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">Person</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> String name;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> age;<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">Person</span><span class="hljs-params" style="line-height: 26px;">(String name, <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> age)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name = name;<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.age = age;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">Person</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>();<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> String <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getName</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œget name: â€œ</span> + name);<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> name;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">setName</span><span class="hljs-params" style="line-height: 26px;">(String name)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name = name;<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œset name: â€œ</span> + <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.name);<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getAge</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œget age: â€œ</span> + age);<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> age;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">setAge</span><span class="hljs-params" style="line-height: 26px;">(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> age)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.age = age;<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œset age: â€œ</span> + <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.age);<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">privateMethod</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œthe private method!â€</span>);<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¾ˆå¸¸è§„çš„ä¸€ä¸ªç±»ï¼Œé‡Œé¢æœ‰ç§æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä¸‹é¢ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">GetConstructor</code> çš„ç±»æ¥æ¼”ç¤ºï¼Œè·å–æ„é€ å™¨æ–¹æ³•å¦‚ä½•ä½¿ç”¨ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">GetConstructor</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span><span>            ClassNotFoundException,<span>            NoSuchMethodException,<span>            IllegalAccessException,<span>            InvocationTargetException,<span>            InstantiationException </span>{<span><span>        String className = <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.reflectdemo.entity.Personâ€</span>;<span>        Class&lt;Person&gt; personClass = (Class&lt;Person&gt;) Class.forName(className);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è·å–å…¨éƒ¨çš„constructorå¯¹è±¡</span><span>        Constructor&lt;?&gt;[] constructors = personClass.getConstructors();<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (Constructor&lt;?&gt; constructor: constructors) {<span>            System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–å…¨éƒ¨çš„constructorå¯¹è±¡: â€œ</span> + constructor);<span>        }<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è·å–æŸä¸€ä¸ªconstructorå¯¹è±¡</span><span>        Constructor&lt;Person&gt; constructor = personClass.getConstructor(String.class, <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>.class);<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æŸä¸€ä¸ªconstructorå¯¹è±¡: â€œ</span> + constructor);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è°ƒç”¨æ„é€ å™¨çš„ newInstance() æ–¹æ³•åˆ›å»ºå¯¹è±¡</span><span>        Person person = constructor.newInstance(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œlsyâ€</span>, <span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<span>        System.out.println(person.getName() + <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ, â€œ</span> + person.getAge() );<span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¾“å‡ºç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">è·å–å…¨éƒ¨çš„constructorå¯¹è±¡: public net.lishaoy.reflectdemo.entity.Person(java.lang.String,int)<span>è·å–å…¨éƒ¨çš„constructorå¯¹è±¡: public net.lishaoy.reflectdemo.entity.Person()<span>è·å–æŸä¸€ä¸ªconstructorå¯¹è±¡: public net.lishaoy.reflectdemo.entity.Person(java.lang.String,int)<span>lsy, 66<span></span></span></span></span></code></pre><h3 id="è·å–æ–¹æ³•" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">è·å–æ–¹æ³•</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è·å–æ–¹æ³•çš„æ–¹æ³•æœ‰ï¼Œå¦‚ä¸‹ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Method getMethod(String name, Class[] params)ï¼šä½¿ç”¨ç‰¹å®šçš„å‚æ•°ç±»å‹ï¼Œè·å¾—å‘½åçš„å…¬å…±æ–¹æ³•</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Method[] getMethods()ï¼šè·å¾—ç±»çš„æ‰€æœ‰å…¬å…±æ–¹æ³•</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Method getDeclaredMethod(String name, Class[] params)ï¼šä½¿ç”¨ç‰¹å†™çš„å‚æ•°ç±»å‹ï¼Œè·å¾—ç±»å£°æ˜çš„å‘½åçš„æ–¹æ³•</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Method[] getDeclaredMethods()ï¼šè·å¾—ç±»å£°æ˜çš„æ‰€æœ‰æ–¹æ³•</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬æ–°åˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">GetMethod</code> æ¥æ¼”ç¤ºå¦‚ä½•æ¥è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">GetMethod</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span><span>            ClassNotFoundException,<span>            NoSuchMethodException,<span>            IllegalAccessException,<span>            InstantiationException,<span>            InvocationTargetException </span>{<span><span>        Class&lt;?&gt; aClass = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.reflectdemo.entity.Personâ€</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è·å–æ‰€æœ‰çš„publicæ–¹æ³•(åŒ…å«ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•)</span><span>        Method[] methods = aClass.getMethods();<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (Method method: methods) {<span>            System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æ‰€æœ‰publicæ–¹æ³•ï¼š â€œ</span> + method.getName() + <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ()â€</span>);<span>        }<span><span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ===========================â€</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è·å–æ‰€æœ‰æ–¹æ³•(ä¸åŒ…å«çˆ¶ç±»æ–¹æ³•)</span><span>        methods = aClass.getDeclaredMethods();<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (Method method: methods) {<span>            System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æ‰€æœ‰æ–¹æ³•: â€œ</span> + method.getName() + <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ()â€</span>);<span>        }<span><span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ===========================â€</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è·å–æŒ‡å®šçš„æ–¹æ³•</span><span>        Method method = aClass.getDeclaredMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œsetAgeâ€</span>, <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span>.class);<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æŒ‡å®šçš„æ–¹æ³•:â€</span> + method);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è°ƒç”¨æ–¹æ³•</span><span>        Object instance = aClass.newInstance();<span>        method.invoke(instance, <span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//è°ƒç”¨ç§æœ‰æ–¹æ³•</span><span>        method = aClass.getDeclaredMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œprivateMethodâ€</span>);<span>        method.setAccessible(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">true</span>); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// éœ€è¦è°ƒç”¨æ­¤æ–¹æ³•ä¸”è®¾ç½®ä¸º true</span><span>        method.invoke(instance);<span><span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š getName()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š setName()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š setAge()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š getAge()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">wait</span>()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">wait</span>()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">wait</span>()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š equals()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š toString()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š hashCode()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š getClass()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š notify()<span>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼š notifyAll()<span>===========================<span>è·å–æ‰€æœ‰æ–¹æ³•: getName()<span>è·å–æ‰€æœ‰æ–¹æ³•: setName()<span>è·å–æ‰€æœ‰æ–¹æ³•: setAge()<span>è·å–æ‰€æœ‰æ–¹æ³•: privateMethod()<span>è·å–æ‰€æœ‰æ–¹æ³•: getAge()<span>===========================<span>è·å–æŒ‡å®šçš„æ–¹æ³•:public void net.lishaoy.reflectdemo.entity.Person.setAge(int)<span><span class="hljs-built_in" style="color: #c18401; line-height: 26px;">set</span> age: 66<span>the private method!<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span> 395ms<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 id="è·å–æˆå‘˜å˜é‡" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">è·å–æˆå‘˜å˜é‡</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è·å–æˆå‘˜å˜é‡çš„æ–¹æ³•æœ‰ï¼Œå¦‚ä¸‹ï¼š</p><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Field getField(String name)ï¼šè·å¾—å‘½åçš„å…¬å…±å­—æ®µ</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Field[] getFields()ï¼šè·å¾—ç±»çš„æ‰€æœ‰å…¬å…±å­—æ®µ</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Field getDeclaredField(String name)ï¼šè·å¾—ç±»å£°æ˜çš„å‘½åçš„å­—æ®µ</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Field[] getDeclaredFields()ï¼šè·å¾—ç±»å£°æ˜çš„æ‰€æœ‰å­—æ®µ</section></li></ul><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬å†æ¥æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">GetField</code> çš„ç±»æ¥æ¼”ç¤ºå¦‚ä½•è·å–æˆå‘˜å˜é‡ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">GetField</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span><span>            ClassNotFoundException,<span>            NoSuchFieldException,<span>            IllegalAccessException,<span>            InstantiationException </span>{<span><span>        Class&lt;?&gt; aClass = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.reflectdemo.entity.Personâ€</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–æ‰€æœ‰å­—æ®µ(ä¸åŒ…å«çˆ¶ç±»å­—æ®µ)</span><span>        Field[] fields = aClass.getDeclaredFields();<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (Field field: fields) {<span>            System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æ‰€æœ‰å­—æ®µ: â€œ</span> + field.getName());<span>        }<span><span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ================â€</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–æŒ‡å®šå­—æ®µ</span><span>        Field name = aClass.getDeclaredField(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnameâ€</span>);<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æŒ‡å®šå­—æ®µ: â€œ</span> + name.getName());<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è®¾ç½®æŒ‡å®šå­—æ®µçš„å€¼</span><span>        Object instance = aClass.newInstance();<span>        name.set(instance, <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œperâ€</span>);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–æŒ‡å®šå­—æ®µçš„å€¼</span><span>        Object o = name.get(instance);<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–æŒ‡å®šå­—æ®µçš„å€¼: â€œ</span> + o);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è®¾ç½®å’Œè·å–ç§æœ‰å­—æ®µçš„å€¼</span><span>        Field age = aClass.getDeclaredField(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œageâ€</span>);<span>        age.setAccessible(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">true</span>); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// éœ€è¦è°ƒç”¨æ­¤æ–¹æ³•ä¸”è®¾ç½®ä¸º true</span><span>        age.set(instance, <span class="hljs-number" style="color: #986801; line-height: 26px;">66</span>);<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œè·å–ç§æœ‰å­—æ®µçš„å€¼: â€œ</span> + age.get(instance));<span><span>    }<span><span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">è·å–æ‰€æœ‰å­—æ®µ: name<span>è·å–æ‰€æœ‰å­—æ®µ: age<span>================<span>è·å–æŒ‡å®šå­—æ®µ: name<span>è·å–æŒ‡å®šå­—æ®µçš„å€¼: per<span>è·å–ç§æœ‰å­—æ®µçš„å€¼: 66<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span> 395ms<span></span></span></span></span></span></span></span></span></code></pre><h2 id="ä½¿ç”¨æ³¨è§£å’Œåå°„å®ç°è‡ªåŠ¨findViewById(æ¡ˆä¾‹)" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; bmin-height: 32px; line-height: 32px; border-bottom: solid 1px #000000; color: #35b378; display: inline-block; border-bottom-width: 0px; border-bottom-style: solid; border-color: #35b378; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; font-size: 23px; margin: 1em 0 0rem 0; padding: 0.5em 0; text-align: leftt; font-weight: bold;"><span class="prefix" style="display: none;"></span><span class="content">ä½¿ç”¨æ³¨è§£å’Œåå°„å®ç°è‡ªåŠ¨findViewById(æ¡ˆä¾‹)</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬å·²ç»å¯¹æ³¨è§£å’Œåå°„æœ‰äº†æ›´æ¸…æ™°çš„è®¤çŸ¥ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå°æ¡ˆä¾‹æ¥å·©å›ºæˆ‘ä»¬çš„å­¦ä¹ ï¼šä½¿ç”¨æ³¨è§£å’Œåå°„å®Œæˆç±»ä¼¼ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">butterknife</code> çš„è‡ªåŠ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">findViewById</code> çš„åŠŸèƒ½ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ–°å»ºä¸€ä¸ªç©ºçš„ Android å·¥ç¨‹ï¼Œåœ¨å·¥ç¨‹ç›®å½•ä¸‹æ–°å»º <strong style="font-weight: bold; color: #35b378;">inject</strong> ç›®å½•ï¼Œåœ¨æ­¤ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">InjectView</code> çš„ç±»å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">BindView</code> çš„è‡ªå®šä¹‰æ³¨è§£ï¼Œå¦‚ï¼š</p><h3 id="åˆ›å»ºInjectView" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">åˆ›å»ºInjectView</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">InjectView</code> ç±»é€šè¿‡åå°„å®Œæˆ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">findViewById</code> åŠŸèƒ½ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">InjectView</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">init</span><span class="hljs-params" style="line-height: 26px;">(Activity activity)</span> </span>{<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å– activity çš„ class å¯¹è±¡</span><span>        Class&lt;? extends Activity&gt; aClass = activity.getClass();<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å– activity çš„æ‰€ä»¥æˆå‘˜å˜é‡</span><span>        Field[] declaredFields = aClass.getDeclaredFields();<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å˜é‡æ‰€ä»¥æˆå‘˜å˜é‡</span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">for</span> (Field field: declaredFields) {<span>            <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åˆ¤æ–­å±æ€§æ˜¯å¦åŠ ä¸Šäº† @BindView æ³¨è§£</span><span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>(field.isAnnotationPresent(BindView.class)){<span>                <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–æ³¨è§£ BindView å¯¹è±¡</span><span>                BindView bindView = field.getAnnotation(BindView.class);<span>                <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–æ³¨è§£ç±»å‹å…ƒç´  id</span><span>                <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> id = bindView.value();<span>                <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// é€šè¿‡èµ„æº id æ‰¾åˆ°å¯¹åº”çš„ view</span><span>                View view = activity.findViewById(id);<span>                <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è®¾ç½®å¯ä»¥è®¿é—®ç§æœ‰å­—æ®µ</span><span>                field.setAccessible(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">true</span>);<span>                <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>                    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç»™å­—æ®µèµ‹å€¼</span><span>                    field.set(activity,view);<span>                } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (IllegalAccessException e) {<span>                    e.printStackTrace();<span>                }<span>            }<span>        }<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h3 id="åˆ›å»º@BindViewæ³¨è§£" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">åˆ›å»º@BindViewæ³¨è§£</span><span class="suffix" style="display: none;"></span></h3><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Retention</span>(RetentionPolicy.RUNTIME)<span><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Target</span>(ElementType.FIELD)<span><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@interface</span> BindView {<span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@IdRes</span> <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">value</span><span class="hljs-params" style="line-height: 26px;">()</span></span>; <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// @IdRes åªèƒ½ä¼  id èµ„æº</span><span>}<span></span></span></span></span></span></code></pre><h3 id="ä½¿ç”¨@BindViewæ³¨è§£" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">ä½¿ç”¨@BindViewæ³¨è§£</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">MainActivity</code> é‡Œä½¿ç”¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">@BindView</code> æ³¨è§£ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">MainActivity</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">AppCompatActivity</span> </span>{<span><span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ä½¿ç”¨æ³¨è§£</span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@BindView</span>(R.id.text_view)<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> TextView textView;<span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">onCreate</span><span class="hljs-params" style="line-height: 26px;">(Bundle savedInstanceState)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.onCreate(savedInstanceState);<span><span>        setContentView(R.layout.activity_main);<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åˆå§‹åŒ– InjectViewï¼Œå®Œæˆè‡ªåŠ¨ findViewById åŠŸèƒ½</span><span>        InjectView.init(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>);<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æµ‹è¯• R.id.text_view æ˜¯å¦è‡ªåŠ¨èµ‹å€¼ç»™ textView</span><span>        textView.setText(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œé€šè¿‡ @BindView æ³¨è§£è‡ªåŠ¨å®Œæˆ findViewByIdâ€</span>);<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¿è¡Œç»“æœï¼Œå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations2.png" alt="no-shadow" title="small case" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œä¸€ä¸ªç±»å°±å®Œæˆäº†è‡ªåŠ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">findViewById</code> çš„åŠŸèƒ½ã€‚</p><h2 id="åŠ¨æ€ä»£ç†" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; bmin-height: 32px; line-height: 32px; border-bottom: solid 1px #000000; color: #35b378; display: inline-block; border-bottom-width: 0px; border-bottom-style: solid; border-color: #35b378; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; font-size: 23px; margin: 1em 0 0rem 0; padding: 0.5em 0; text-align: leftt; font-weight: bold;"><span class="prefix" style="display: none;"></span><span class="content">åŠ¨æ€ä»£ç†</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨äº†è§£åŠ¨æ€ä»£ç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸‹é™æ€ä»£ç†ã€‚</p><h3 id="é™æ€ä»£ç†" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">é™æ€ä»£ç†</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä»£ç†æ¨¡å¼ç»™æŸä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚ï¼Œæˆ‘ä»¬ç”Ÿæ´»ä¸­å¸¸è§çš„ä¸­ä»‹ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä»£ç†æ¨¡å¼ä¸€èˆ¬ä¼šæœ‰3ä¸ªè§’è‰²ï¼Œå¦‚å›¾ï¼š</p><div style="width: 86%; margin:26px auto;" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations3.png" alt="no-shadow" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">æŠ½è±¡è§’è‰²ï¼šæŒ‡ä»£ç†è§’è‰²å’ŒçœŸå®è§’è‰²å¯¹å¤–æä¾›çš„å…¬å…±æ–¹æ³•ï¼Œä¸€èˆ¬ä¸ºä¸€ä¸ªæ¥å£</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">çœŸå®è§’è‰²ï¼šéœ€è¦å®ç°æŠ½è±¡è§’è‰²æ¥å£ï¼Œå®šä¹‰äº†çœŸå®è§’è‰²æ‰€è¦å®ç°çš„ä¸šåŠ¡é€»è¾‘ï¼Œä»¥ä¾¿ä¾›ä»£ç†è§’è‰²è°ƒç”¨</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">ä»£ç†è§’è‰²ï¼šéœ€è¦å®ç°æŠ½è±¡è§’è‰²æ¥å£ï¼Œæ˜¯çœŸå®è§’è‰²çš„ä»£ç†ï¼Œé€šè¿‡çœŸå®è§’è‰²çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•æ¥å®ç°æŠ½è±¡æ–¹æ³•ï¼Œå¹¶å¯ä»¥é™„åŠ è‡ªå·±çš„æ“ä½œ</section></li></ul><h3 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»£ç†æ¨¡å¼" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»£ç†æ¨¡å¼</span><span class="suffix" style="display: none;"></span></h3><ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">å¯ä»¥é—´æ¥è®¿é—®å¯¹è±¡ï¼Œé˜²æ­¢ç›´æ¥è®¿é—®å¯¹è±¡æ¥çš„ä¸å¿…è¦å¤æ‚æ€§</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">é€šè¿‡ä»£ç†å¯¹è±¡å¯¹è®¿é—®è¿›è¡Œæ§åˆ¶</section></li></ul><h3 id="é™æ€ä»£ç†æ¡ˆä¾‹" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">é™æ€ä»£ç†æ¡ˆä¾‹</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœºæ™¯å¦‚ä¸‹ï¼š</p><blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; margin: 10px 5px; border-left: 3px solid #35b378; border-right: 0px solid #35b378; color: #616161; quotes: none; background: #FBF9FD;"><p style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0px; color: black; line-height: 26px;">å°æ˜å¯ä»¥åœ¨æŸç½‘ç«™ä¸Šè´­ä¹°å›½å†…çš„ä¸œè¥¿ï¼Œä½†æ˜¯ï¼Œä¸èƒ½ä¹°æµ·å¤–çš„ä¸œè¥¿ï¼Œäºæ˜¯ï¼Œä»–æ‰¾äº†æµ·å¤–ä»£è´­å¸®ä»–ä¹°ä¸œè¥¿ã€‚</p></blockquote><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¦‚ä½•ç”¨ä»£ç æè¿°å‘¢ï¼Ÿæ ¹æ®ä»£ç†æ¨¡å¼çš„3ä¸ªè§’è‰²ï¼Œæˆ‘ä»¬åˆ†åˆ«å®šä¹‰1ä¸ªæ¥å£2ä¸ªç±»ï¼Œå¦‚ï¼š<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">OrderService</code> æ¥å£(æŠ½è±¡è§’è‰²)ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ImplJapanOrderService</code> ç±»(çœŸå®è§’è‰²)ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ProxyJapanOrder</code> ç±»(ä»£ç†è§’è‰²)</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">OrderService</code> æ¥å£(æŠ½è±¡è§’è‰²)ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">interface</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">OrderService</span> </span>{<span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">saveOrder</span><span class="hljs-params" style="line-height: 26px;">()</span></span>;<span>}<span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ImplJapanOrderService</code> ç±»(çœŸå®è§’è‰²)ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å®ç°æŠ½è±¡è§’è‰²æ¥å£</span><span><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">ImplJapanOrderService</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">OrderService</span> </span>{<span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">saveOrder</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.println(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š888888â€</span>);<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> <span class="hljs-number" style="color: #986801; line-height: 26px;">888888</span>;<span>    }<span>}<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ProxyJapanOrder</code> ç±»(ä»£ç†è§’è‰²)ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å®ç°æŠ½è±¡è§’è‰²æ¥å£</span><span><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">ProxyJapanOrder</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">OrderService</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> OrderService orderService; <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æŒæœ‰çœŸå®è§’è‰²</span><span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> OrderService <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getOrderService</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> orderService;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">setOrderService</span><span class="hljs-params" style="line-height: 26px;">(OrderService orderService)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.orderService = orderService;<span>    }<span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">saveOrder</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        System.out.print(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œæ—¥æœ¬ä»£è´­è®¢å•ï¼Œâ€</span>);<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> orderService.saveOrder(); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è°ƒç”¨çœŸå®è§’è‰²çš„è¡Œä¸ºæ–¹æ³•</span><span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨åˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Client</code> ç±»æ¥æµ‹è¯•æˆ‘ä»¬çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">Client</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ—¥æœ¬ä»£è´­è®¢å•</span><span>        OrderService orderJapan = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplJapanOrderService();<span>        ProxyJapanOrder proxyJapanOrder = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ProxyJapanOrder();<span>        proxyJapanOrder.setOrderService(orderJapan);<span>        proxyJapanOrder.saveOrder();<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">æ—¥æœ¬ä»£è´­è®¢å•ï¼Œä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š888888<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span> 1s<span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">å¦‚æœï¼Œéœ€è¦è´­ä¹°éŸ©å›½çš„ä¸œè¥¿ï¼Œéœ€è¦æ–°å¢ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ImplKoreaOrderService</code> ç±»(éŸ©å›½æœåŠ¡å•†) å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ProxyKoreaOrder</code> ç±»(éŸ©å›½ä»£ç†)ï¼Œå¦‚è¿˜éœ€è¦è´­ä¹°å…¶ä»–å›½å®¶çš„ä¸œè¥¿ï¼Œéœ€è¦æ–°å¢ä¸åŒçš„ç±»ï¼Œåˆ™ä¼šå‡ºç°é™æ€ä»£ç†å¯¹è±¡é‡å¤šã€ä»£ç é‡å¤§ï¼Œä»è€Œå¯¼è‡´ä»£ç å¤æ‚ï¼Œå¯ç»´æŠ¤æ€§å·®çš„é—®é¢˜ï¼Œå¦‚æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åŠ¨æ€ä»£ç†ã€‚</p><h3 id="åŠ¨æ€ä»£ç†" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">åŠ¨æ€ä»£ç†</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶æ‰åˆ›å»ºä»£ç†ç±»å’Œå…¶å®ä¾‹ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ ä¸åŒçš„çœŸå®è§’è‰²ï¼Œå®ç°ä¸€ä¸ªä»£ç†ç±»å®Œæˆå¤šä¸ªçœŸå®è§’è‰²çš„è¡Œä¸ºæ–¹æ³•ï¼Œå½“ç„¶ï¼Œå…¶æ•ˆç‡æ¯”é™æ€ä»£ç†ä½ã€‚é‚£ä¹ˆå¦‚ä½•å®ç°åŠ¨æ€ä»£ç†å‘¢ï¼ŒJDKå·²ä¸ºæˆ‘ä»¬æä¾›äº† <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Proxy</code> ç±» å’Œ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">InvocationHandler</code> æ¥å£æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ProxyDynamicOrder</code> ç±»(åŠ¨æ€ä»£ç†ç±»)ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">ProxyDynamicOrder</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">InvocationHandler</span> </span>{<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> Object orderService; <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æŒæœ‰çœŸå®è§’è‰²</span><span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> Object <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getOrderService</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> orderService;<span>    }<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">setOrderService</span><span class="hljs-params" style="line-height: 26px;">(Object orderService)</span> </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.orderService = orderService;<span>    }<span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// é€šè¿‡ Proxy åŠ¨æ€åˆ›å»ºçœŸå®è§’è‰²</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> Object <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getProxyInstance</span><span class="hljs-params" style="line-height: 26px;">()</span></span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> Proxy.newProxyInstance(<span>                orderService.getClass().getClassLoader(),<span>                orderService.getClass().getInterfaces(),<span>                <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span><span>                );<span>    }<span><span>    <span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@Override</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> Object <span class="hljs-title" style="color: #4078f2; line-height: 26px;">invoke</span><span class="hljs-params" style="line-height: 26px;">(Object o, Method method, Object[] objects)</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span> Throwable </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> method.invoke(orderService, objects); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// é€šè¿‡åå°„æ‰§è¡ŒçœŸå®è§’è‰²çš„è¡Œä¸ºæ–¹æ³•</span><span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åœ¨æ¥çœ‹çœ‹ï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Client</code> ç±»é‡Œå¦‚ä½•è°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">Client</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">main</span><span class="hljs-params" style="line-height: 26px;">(String[] args)</span> </span>{<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// é™æ€ä»£ç†æ¨¡å¼</span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å›½å†…è®¢å•</span><span>        OrderService order = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplOrderService();<span>        order.saveOrder();<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ—¥æœ¬ä»£è´­è®¢å•</span><span>        OrderService orderJapan = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplJapanOrderService();<span>        ProxyJapanOrder proxyJapanOrder = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ProxyJapanOrder();<span>        proxyJapanOrder.setOrderService(orderJapan);<span>        proxyJapanOrder.saveOrder();<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// éŸ©å›½ä»£è´­è®¢å•</span><span>        OrderService orderKorea = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplKoreaOrderService();<span>        ProxyKoreaOrder proxyKoreaOrder = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ProxyKoreaOrder();<span>        proxyKoreaOrder.setOrderService(orderKorea);<span>        proxyKoreaOrder.saveOrder();<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åŠ¨æ€ä»£ç†æ¨¡å¼</span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// å›½å†…è®¢å•</span><span>        ProxyDynamicOrder proxyDynamicOrder = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ProxyDynamicOrder();<span>        OrderService orderService = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplOrderService();<span>        proxyDynamicOrder.setOrderService(orderService);<span>        OrderService orderService1 = (OrderService) proxyDynamicOrder.getProxyInstance();<span>        orderService1.saveOrder();<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// æ—¥æœ¬ä»£è´­è®¢å•</span><span>        OrderService japanOrderService = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplJapanOrderService();<span>        proxyDynamicOrder.setOrderService(japanOrderService);<span>        OrderService japanOrderService1 = (OrderService) proxyDynamicOrder.getProxyInstance();<span>        japanOrderService1.saveOrder();<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// éŸ©å›½ä»£è´­è®¢å•</span><span>        OrderService koreaOrderService = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> ImplKoreaOrderService();<span>        proxyDynamicOrder.setOrderService(koreaOrderService);<span>        OrderService koreaOrderService1 = (OrderService) proxyDynamicOrder.getProxyInstance();<span>        koreaOrderService1.saveOrder();<span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç”ŸæˆåŠ¨æ€ä»£ç†ç”Ÿæˆçš„classæ–‡ä»¶</span><span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//ProxyUtil.generateClassFile(koreaOrderService.getClass(), koreaOrderService1.getClass().getSimpleName());</span><span><span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">ä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š666666<span>æ—¥æœ¬ä»£è´­è®¢å•ï¼Œä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š888888<span>éŸ©å›½ä»£è´­è®¢å•ï¼Œä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š666888<span>ä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š666666<span>ä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š888888<span>ä¸‹å•æˆåŠŸï¼Œè®¢å•å·ä¸ºï¼š666888<span><span>BUILD SUCCESSFUL <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">in</span> 1s<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">åªéœ€è¦ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ProxyDynamicOrder</code> ä»£ç†ç±»å³å¯å®Œæˆ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ImplOrderService</code> ã€ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ImplJapanOrderService</code> ã€<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ImplKoreaOrderService</code> çœŸå®è§’è‰²æä¾›çš„æœåŠ¡ã€‚</p><h3 id="åŠ¨æ€ä»£ç†åŸç†" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #35b378;"><span class="prefix" style="display: none;"></span><span class="content">åŠ¨æ€ä»£ç†åŸç†</span><span class="suffix" style="display: none;"></span></h3><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬åœ¨ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">proxyDynamicOrder.getProxyInstance()</code> ä»£ç ä¸Šæ‰“ä¸ªæ–­ç‚¹ï¼Œé€šè¿‡è°ƒè¯•æ¨¡å¼å‘ç°ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations4.png" alt="no-shadow" title="proxy" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä»£ç†ç±»çš„åå­—æ˜¯ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">$Proxy0@507</code>ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªåå­—ï¼Œæˆ‘ä»¬åœ¨ç¼–è¯‘åçš„ç›®å½•é‡Œä¹Ÿæ‰¾ä¸åˆ° <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">$Proxy0@507</code> ç±»æ–‡ä»¶ï¼Œå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations5.png" alt="no-shadow" title="proxy" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Proxy.newProxyInstance</code> æ–¹æ³•æºç ï¼Œå¯çŸ¥ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-meta" style="color: #4078f2; line-height: 26px;">@CallerSensitive</span><span><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Object <span class="hljs-title" style="color: #4078f2; line-height: 26px;">newProxyInstance</span><span class="hljs-params" style="line-height: 26px;">(ClassLoader var0, Class&lt;?&gt;[] var1, InvocationHandler var2)</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span> IllegalArgumentException </span>{<span>    Objects.requireNonNull(var2);<span>    Class[] var3 = (Class[])var1.clone();<span>    SecurityManager var4 = System.getSecurityManager();<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span> (var4 != <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>) {<span>        checkProxyAccess(Reflection.getCallerClass(), var0, var3);<span>    }<span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–ä»£ç†ç±»çš„ class å¯¹è±¡</span><span>    Class var5 = getProxyClass0(var0, var3);<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span> (var4 != <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>) {<span>            checkNewProxyPermission(Reflection.getCallerClass(), var5);<span>        }<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// è·å–ä»£ç†ç±»çš„æ„é€ å™¨</span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span> Constructor var6 = var5.getConstructor(constructorParams);<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span> (!Modifier.isPublic(var5.getModifiers())) {<span>            AccessController.doPrivileged(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> PrivilegedAction&lt;Void&gt;() {<span>                <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> Void <span class="hljs-title" style="color: #4078f2; line-height: 26px;">run</span><span class="hljs-params" style="line-height: 26px;">()</span> </span>{<span>                    var6.setAccessible(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">true</span>);<span>                    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<span>                }<span>            });<span>        }<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// åˆ›å»ºä»£ç†ç±»çš„ç¤ºä¾‹</span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> var6.newInstance(var2);<span>    } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (InstantiationException | IllegalAccessException var8) {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> InternalError(var8.toString(), var8);<span>    } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (InvocationTargetException var9) {<span>        Throwable var7 = var9.getCause();<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span> (var7 <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">instanceof</span> RuntimeException) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> (RuntimeException)var7;<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">else</span> {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> InternalError(var7.toString(), var7);<span>        }<span>    } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (NoSuchMethodException var10) {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> InternalError(var10.toString(), var10);<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ç„¶åï¼Œè·Ÿè¿› <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">getProxyClass0(var0, var3)</code> çœ‹çœ‹æ˜¯å¦‚ä½•è·å–ä»£ç†ç±»çš„ class å¯¹è±¡çš„ï¼Œç‚¹å‡»è¿›å…¥ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Class&lt;?&gt; getProxyClass0(ClassLoader var0, Class&lt;?&gt;â€¦ var1) {<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span> (var1.length &gt; <span class="hljs-number" style="color: #986801; line-height: 26px;">65535</span>) {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> IllegalArgumentException(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œinterface limit exceededâ€</span>);<span>    } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">else</span> {<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç¼“å­˜äº†ä»£ç†ç±»çš„ class å¯¹è±¡</span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> (Class)proxyClassCache.get(var0, var1);<span>    }<span>}<span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ç„¶åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">var1</code> æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä»¬å¾€ä¸Šæ‰¾äº†æ‰¾ï¼Œæœç„¶å‘ç°ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// var1 å°±æ˜¯æˆ‘ä»¬å®ç°çš„ InvocationHandler æ¥å£</span><span><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">protected</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">Proxy</span><span class="hljs-params" style="line-height: 26px;">(InvocationHandler var1)</span> </span>{<span>    Objects.requireNonNull(var1);<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>.h = var1;<span>}<span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ç„¶åï¼Œæˆ‘ä»¬ç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">proxyClassCache.get(var0, var1)</code> æ–¹æ³•ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations6.png" alt="no-shadow" title="proxy" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä½¿ç”¨å…³é”®ä»£ç  <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">this.subKeyFactory.apply(var1, var2)</code> å»è·å–æˆ‘ä»¬çš„ä»£ç†ç±»çš„ class å¯¹è±¡ï¼Œæˆ‘ä»¬è¿›å…¥ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">apply</code> å®ç°ç±» <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">ProxyClassFactory</code>ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> Class&lt;?&gt; apply(ClassLoader var1, Class&lt;?&gt;[] var2) {<span>    IdentityHashMap var3 = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> IdentityHashMap(var2.length);<span>    Class[] var4 = var2;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> var5 = var2.length;<span><span>    â€¦<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span> (var16 == <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>) {<span>        var16 = <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œcom.sun.proxy.â€</span>;<span>    }<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">long</span> var19 = nextUniqueNumber.getAndIncrement();<span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç”Ÿæˆä»£ç†ç±»çš„ç±»å</span><span>    String var23 = var16 + <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ$Proxyâ€</span> + var19;<span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç”Ÿæˆä»£ç†ç±»çš„å­—èŠ‚ç </span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">byte</span>[] var22 = ProxyGenerator.generateProxyClass(var23, var2, var17);<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>        <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç”Ÿæˆä»£ç†ç±»çš„ class å¯¹è±¡</span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> Proxy.defineClass0(var1, var23, var22, <span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>, var22.length);<span>    } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (ClassFormatError var14) {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> IllegalArgumentException(var14.toString());<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ç„¶åï¼Œæˆ‘ä»¬ç‚¹è¿› <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">Proxy.defineClass0</code> æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">native</span> Class&lt;?&gt; defineClass0(ClassLoader var0, String var1, <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">byte</span>[] var2, <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> var3, <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> var4);<span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ˜¯ä¸€ä¸ª <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">native</code> æ–¹æ³•ï¼Œæ‰€ä»¥æ¶‰åŠåˆ° C æˆ– C++ ï¼Œæˆ‘ä»¬å°±ä¸å¾€åè¿½è¸ªã€‚</p><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">é‚£ä¹ˆï¼Œä»£ç†çš„ Class æ–‡ä»¶åˆ°åº•å­˜åœ¨å“ªå„¿å‘¢ï¼Œç”±ä¸€ä¸ªç±»çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto" data-tool="mdniceç¼–è¾‘å™¨"><figure style="margin: 0; margin-top: 10px; margin-bottom: 10px; flex-direction: column; justify-content: center; align-items: center; display: block;"><img src="https://cdn.lishaoy.net/annotations-reflect/annotations7.png" alt="no-shadow" title="proxy" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 6px;"></figure></div><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ä»£ç†çš„ Class æ–‡ä»¶é€šè¿‡åå°„å­˜åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">byte[]</code> å†™å…¥æ–‡ä»¶ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå·¥å…·ç±»æ¥æŠŠå†…å­˜ä¸­çš„ class å­—èŠ‚ç å†™å…¥æ–‡ä»¶ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">ProxyUtil</span> </span>{<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">void</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">generateClassFile</span><span class="hljs-params" style="line-height: 26px;">(Class aClass, String proxyName)</span> </span>{<span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">byte</span>[] proxyClassFile = ProxyGenerator.generateProxyClass(<span>                proxyName,<span>                <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> Class[]{aClass}<span>        );<span>        String path = aClass.getResource(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ.â€</span>).getPath();<span>        System.out.println(path);<span>        FileOutputStream outputStream = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>;<span><span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>            outputStream = <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> FileOutputStream(path + proxyName + <span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œ.classâ€</span>);<span>            outputStream.write(proxyClassFile);<span>            outputStream.flush();<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (IOException e) {<span>            e.printStackTrace();<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">finally</span> {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>                outputStream.close();<span>            } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (IOException e) {<span>                e.printStackTrace();<span>            }<span>        }<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">é€šè¿‡è¾“å‡ºçš„ <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #35b378; box-shadow: none;">path</code> è·¯å¾„ï¼Œæ‰¾åˆ°æ–‡ä»¶ï¼Œå¦‚ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;">/Users/lishaoying/Documents/APP/Android/practice/annotation_reflect/anRePrDemo/proxyDemo/build/classes/java/main/net/lishaoy/proxydemo/service/impl/<span></span></code></pre><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">æ–‡ä»¶ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 6px; padding: 0px; background: #fff;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; border-radius: 6px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç»§æ‰¿äº† Proxy å®ç°äº† ImplKoreaOrderService æ¥å£</span><span><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">class</span> $<span class="hljs-title" style="color: #c18401; line-height: 26px;">Proxy0</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">Proxy</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">implements</span> <span class="hljs-title" style="color: #c18401; line-height: 26px;">ImplKoreaOrderService</span> </span>{<span><span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç”Ÿæˆäº†å„ç§æ–¹æ³•</span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m1;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m8;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m3;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m2;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m5;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m4;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m7;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m9;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m0;<span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">private</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> Method m6;<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> $Proxy0(InvocationHandler var1) <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>  {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>(var1);<span>    }<span><span>    â€¦<span><span>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ç”Ÿæˆäº† çœŸå®è§’è‰²çš„ saveOrder æ–¹æ³•</span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">int</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">saveOrder</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>  </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>            <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// h æ˜¯ä»€ï¼Ÿï¼Œç‚¹è¿›å»å‘ç°å°±æ˜¯æˆ‘ä»¬ ä¼ å…¥çš„ InvocationHandler æ¥å£</span><span>            <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// m3 æ˜¯ä»€ä¹ˆï¼Ÿ ä¸‹é¢ static ä»£ç å—ï¼Œå°±æ˜¯æˆ‘ä»¬çš„ saveOrder æ–¹æ³•</span><span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> (Integer)<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.h.invoke(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>, m3, (Object[])<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>);<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (RuntimeException | Error var2) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> var2;<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (Throwable var3) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> UndeclaredThrowableException(var3);<span>        }<span>    }<span><span>    â€¦<span><span>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">final</span> Class <span class="hljs-title" style="color: #4078f2; line-height: 26px;">getClass</span><span class="hljs-params" style="line-height: 26px;">()</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throws</span>  </span>{<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> (Class)<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">super</span>.h.invoke(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">this</span>, m7, (Object[])<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">null</span>);<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (RuntimeException | Error var2) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> var2;<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (Throwable var3) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> UndeclaredThrowableException(var3);<span>        }<span>    }<span><span>    â€¦<span><span>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">static</span> {<span>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">try</span> {<span>            m1 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œjava.lang.Objectâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œequalsâ€</span>, Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œjava.lang.Objectâ€</span>));<span>            m8 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnotifyâ€</span>);<span>            m3 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œsaveOrderâ€</span>);<span>            m2 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œjava.lang.Objectâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œtoStringâ€</span>);<span>            m5 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œwaitâ€</span>, Long.TYPE);<span>            m4 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œwaitâ€</span>, Long.TYPE, Integer.TYPE);<span>            m7 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œgetClassâ€</span>);<span>            m9 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnotifyAllâ€</span>);<span>            m0 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œjava.lang.Objectâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œhashCodeâ€</span>);<span>            m6 = Class.forName(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œnet.lishaoy.proxydemo.service.impl.ImplKoreaOrderServiceâ€</span>).getMethod(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">â€œwaitâ€</span>);<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (NoSuchMethodException var2) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> NoSuchMethodError(var2.getMessage());<span>        } <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">catch</span> (ClassNotFoundException var3) {<span>            <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">throw</span> <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">new</span> NoClassDefFoundError(var3.getMessage());<span>        }<span>    }<span>}<span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre><h2 id="ä½¿ç”¨æ³¨è§£ã€åå°„ã€åŠ¨æ€ä»£ç†å®Œæˆç®€å•çš„Retrofit" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 30px; margin-bottom: 15px; bmin-height: 32px; line-height: 32px; border-bottom: solid 1px #000000; color: #35b378; display: inline-block; border-bottom-width: 0px; border-bottom-style: solid; border-color: #35b378; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; font-size: 23px; margin: 1em 0 0rem 0; padding: 0.5em 0; text-align: leftt; font-weight: bold;"><span class="prefix" style="display: none;"></span><span class="content">ä½¿ç”¨æ³¨è§£ã€åå°„ã€åŠ¨æ€ä»£ç†å®Œæˆç®€å•çš„Retrofit</span><span class="suffix"></span></h2><p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">ç”±äºæ–‡ç« ç¯‡å¹…å·²ç»å¾ˆé•¿ï¼Œä¸”ä½¿ç”¨æ³¨è§£ã€åå°„ã€åŠ¨æ€ä»£ç†å®Œæˆç®€å•çš„ Retrofit çš„æ¡ˆä¾‹ä»£ç è¿‡å¤šï¼Œæ‰€ä»¥å°±ä¸å†è¿™é‡Œå±•ç¤ºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å» <a href="https://github.com/persilee/android_practice" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #35b378; border-bottom: 1px solid #35b378;" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p></section>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/annotations-reflect.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Androidï¼šå†™äº†è¿™ä¹ˆå¤šä»£ç ï¼Œä½ çœŸçš„ç†è§£æ³›å‹å—</title>
      <link>https://h.lishaoy.net/generics.html</link>
      <guid>https://h.lishaoy.net/generics.html</guid>
      <pubDate>Fri, 24 Jul 2020 07:38:35 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/generics/generics.png&quot; class=&quot;full-image&quot; alt=&quot;Generics&quot; title=&quot;Generics&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„å®é™…å·¥ä½œä¸­ &lt;strong&gt;æ³›å‹(Generics)&lt;/strong&gt; æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œæˆ‘ä»¬ä¹Ÿå†™è¿‡ä¸å°‘ï¼Œçœ‹åˆ°çš„æ›´å¤šï¼Œå¦‚ï¼Œæºç ã€å¼€æºæ¡†æ¶â€¦ éšå¤„å¯è§ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çœŸæ­£ç†è§£æ³›å‹å—ï¼Ÿç†è§£å¤šå°‘å‘¢ï¼Ÿä¾‹å¦‚ï¼š&lt;code&gt;Box&lt;/code&gt; ã€&lt;code&gt;Box&amp;lt;Object&amp;gt;&lt;/code&gt; ã€&lt;code&gt;Box&amp;lt;?&amp;gt;&lt;/code&gt; ã€&lt;code&gt;Box&amp;lt;T&amp;gt;&lt;/code&gt; ã€&lt;code&gt;Box&amp;lt;? extends T&amp;gt;&lt;/code&gt; ã€&lt;code&gt;Box&amp;lt;? super T&amp;gt;&lt;/code&gt; ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæœ¬ç¯‡æ–‡ç« å°†ä¼šå¯¹ &lt;strong&gt;æ³›å‹(Generics)&lt;/strong&gt; è¿›è¡Œå…¨é¢çš„è§£æï¼Œè®©æˆ‘ä»¬å¯¹æ³›å‹æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/generics/generics.png" class="full-image" alt="Generics" title="Generics"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>åœ¨æˆ‘ä»¬çš„å®é™…å·¥ä½œä¸­ <strong>æ³›å‹(Generics)</strong> æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œæˆ‘ä»¬ä¹Ÿå†™è¿‡ä¸å°‘ï¼Œçœ‹åˆ°çš„æ›´å¤šï¼Œå¦‚ï¼Œæºç ã€å¼€æºæ¡†æ¶â€¦ éšå¤„å¯è§ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çœŸæ­£ç†è§£æ³›å‹å—ï¼Ÿç†è§£å¤šå°‘å‘¢ï¼Ÿä¾‹å¦‚ï¼š<code>Box</code> ã€<code>Box&lt;Object&gt;</code> ã€<code>Box&lt;?&gt;</code> ã€<code>Box&lt;T&gt;</code> ã€<code>Box&lt;? extends T&gt;</code> ã€<code>Box&lt;? super T&gt;</code> ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæœ¬ç¯‡æ–‡ç« å°†ä¼šå¯¹ <strong>æ³›å‹(Generics)</strong> è¿›è¡Œå…¨é¢çš„è§£æï¼Œè®©æˆ‘ä»¬å¯¹æ³›å‹æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚</p><hr><a id="more"></a><p>æœ¬ç¯‡æ–‡ç« çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨ <a href="https://github.com/persilee/android_practice" target="_blank" rel="noopener">Github</a> ä¸Šï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/generics/generic1.xmind.png" alt="no-shadow"></div><h2 id="Lucy-å–œæ¬¢åƒğŸŠï¼ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼‰"><a href="#Lucy-å–œæ¬¢åƒğŸŠï¼ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼‰" class="headerlink" title="Lucy å–œæ¬¢åƒğŸŠï¼ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼‰"></a>Lucy å–œæ¬¢åƒğŸŠï¼ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼‰</h2><p>é¦–å…ˆï¼Œé€šè¿‡ä¸€ä¸ªç›˜å­è£…æ°´æœå°æ•…äº‹æ¥æ‰“å¼€æˆ‘ä»¬çš„æ³›å‹æ¢ç´¢ä¹‹æ—…ï¼ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼‰ï¼Œæ•…äº‹åœºæ™¯å¦‚ä¸‹ï¼š</p><div class="note info"><p>Lucy åˆ° James å®¶åšå®¢ï¼ŒJames éœ€è¦æ‹›å¾…å®¢äººï¼Œä¸”çŸ¥é“ Lucy å–œæ¬¢åƒæ©˜å­ğŸŠï¼Œäºæ˜¯ä½¿ç”¨æ°´æœç›˜è£…æ»¡äº†ğŸŠæ¥æ‹›å¾…å®¢äºº </p></div> <p>è¿™ä¸ªåœºæ™¯æ€ä¹ˆç”¨ä»£ç è¡¨ç°å‘¢ï¼Œæˆ‘ä»¬æ¥æ–°å»ºå‡ ä¸ªç±»ï¼Œå¦‚ä¸‹ï¼š</p><p>Fruitï¼šæ°´æœç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"This is Fruit"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Appleï¼šè‹¹æœç±»ï¼Œç»§æ‰¿æ°´æœç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">extends</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">" Apple ğŸ"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Orangeï¼šæ©˜å­ç±»ï¼Œç»§æ‰¿æ°´æœç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Orange</span> <span class="keyword">extends</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">" Orange ğŸŠ"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Plateï¼šæ°´æœç›˜æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Plate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>FruitPlateï¼šæ°´æœç›˜ç±»ï¼Œå®ç°æ°´æœç›˜æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitPlate</span> <span class="keyword">implements</span> <span class="title">Plate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List items = <span class="keyword">new</span> ArrayList(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        items.add(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Fruit <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = items.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= <span class="number">0</span>) <span class="keyword">return</span> (Fruit) items.get(index);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>AiFruitPlateï¼šæ™ºèƒ½æ°´æœç›˜ï¼Œå®ç°æ°´æœç›˜æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨æ³›å‹ç±»å®šä¹‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AiFruitPlate</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Plate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;T&gt; fruits = <span class="keyword">new</span> ArrayList&lt;T&gt;(<span class="number">6</span>);</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        fruits.add(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = fruits.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= <span class="number">0</span>) <span class="keyword">return</span> fruits.get(index);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Personï¼šäººç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Lucyï¼šLucyç±»ï¼Œç»§æ‰¿ Person ç±»ï¼Œå¥¹æ‹¥æœ‰åƒæ©˜å­çš„èƒ½åŠ› <code>eat</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> entity.Orange;</span><br><span class="line"><span class="keyword">import</span> entity.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lucy</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(Orange orange)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Lucy like eat"</span> + orange);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Jamesï¼šJamesç±»ï¼Œç»§æ‰¿ Person ç±»ï¼Œä»–æ‹¥æœ‰è·å–æ°´æœç›˜çš„èƒ½åŠ› <code>getAiFruitPlate</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> entity.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">James</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FruitPlate <span class="title">getPlate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FruitPlate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AiFruitPlate <span class="title">getAiFruitPlate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AiFruitPlate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFruit</span><span class="params">(FruitPlate fruitPlate, Fruit fruit)</span> </span>&#123;</span><br><span class="line">        fruitPlate.set(fruit);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(AiFruitPlate&lt;Orange&gt; aiFruitPlate, Orange orange)</span> </span>&#123;</span><br><span class="line">        aiFruitPlate.set(orange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Scenarioï¼šæµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> entity.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Scenario</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        scenario1();</span><br><span class="line">        scenario2();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ²¡æœ‰ä½¿ç”¨æ³›å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">scenario1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        James james = <span class="keyword">new</span> James();</span><br><span class="line">        Lucy lucy = <span class="keyword">new</span> Lucy();</span><br><span class="line">        FruitPlate fruitPlate = james.getPlate(); <span class="comment">// James æ‹¿å‡ºæ°´æœç›˜</span></span><br><span class="line">        james.addFruit(fruitPlate,<span class="keyword">new</span> Orange()); <span class="comment">// James å¾€æ°´æœç›˜é‡Œè£…æ©˜å­</span></span><br><span class="line">        lucy.eat((Orange) fruitPlate.get()); <span class="comment">// éœ€è¦è½¬å‹ä¸º Orange</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨äº†æ³›å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">scenario2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        James james = <span class="keyword">new</span> James();</span><br><span class="line">        Lucy lucy = <span class="keyword">new</span> Lucy();</span><br><span class="line">        AiFruitPlate&lt;Orange&gt; aiFruitPlate = james.getAiFruitPlate(); <span class="comment">// James æ‹¿å‡ºæ™ºèƒ½æ°´æœç›˜ï¼ˆçŸ¥é“ä½ éœ€è¦è£…æ©˜å­ï¼‰</span></span><br><span class="line">        james.add(aiFruitPlate, <span class="keyword">new</span> Orange()); <span class="comment">// James å¾€æ°´æœç›˜é‡Œè£…æ©˜å­ï¼ˆå¦‚æœï¼Œè£…çš„ä¸æ˜¯æ©˜å­ä¼šæé†’ï¼‰</span></span><br><span class="line">        lucy.eat(aiFruitPlate.get()); <span class="comment">// ä¸éœ€è¦è½¬å‹</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Lucy like eat  Orange ğŸŠ</span><br><span class="line">Lucy like eat  Orange ğŸŠ</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºï¼Œä½¿ç”¨äº†æ³›å‹ä¹‹åï¼Œä¸éœ€è¦ç±»å‹è½¬æ¢ï¼Œå¦‚æœï¼Œæˆ‘ä»¬æŠŠ <code>scenario1()</code> æ–¹æ³•ï¼Œç¨å¾®æ”¹ä¸‹ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">scenario1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    James james = <span class="keyword">new</span> James();</span><br><span class="line">    Lucy lucy = <span class="keyword">new</span> Lucy();</span><br><span class="line">    FruitPlate fruitPlate = james.getPlate();</span><br><span class="line">    james.addFruit(fruitPlate,<span class="keyword">new</span> Apple()); <span class="comment">//new Orange() æ”¹æˆ new Apple()</span></span><br><span class="line">    lucy.eat((Orange) fruitPlate.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¸ä¼šæç¤ºæœ‰é—®é¢˜ï¼Œä½†æ˜¯è¿è¡Œä¹‹åæŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.ClassCastException: entity.Apple cannot be cast to entity.Orange</span><br><span class="line">at Scenario.scenario1(Scenario.java:21)</span><br><span class="line">at Scenario.main(Scenario.java:7)</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 1</span><br></pre></td></tr></table></figure><p>è€Œï¼Œæˆ‘ä»¬æŠŠ <code>scenario2()</code> ï¼ˆä½¿ç”¨äº†æ³›å‹ï¼‰åšå‡ºåŒæ ·çš„ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">scenario2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    James james = <span class="keyword">new</span> James();</span><br><span class="line">    Lucy lucy = <span class="keyword">new</span> Lucy();</span><br><span class="line">    AiFruitPlate&lt;Orange&gt; aiFruitPlate = james.getAiFruitPlate();</span><br><span class="line">    james.add(aiFruitPlate, <span class="keyword">new</span> Apple());</span><br><span class="line">    lucy.eat(aiFruitPlate.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ï¼Œä¼šæç¤ºæˆ‘ä»¬æœ‰é”™è¯¯ï¼Œå¦‚å›¾ï¼š</p><div style="width: 86%; margin:auto"><img src="https://cdn.lishaoy.net/generics/error.png" alt="error" title="error"></div><p>é€šè¿‡ä»¥ä¸Šæ¡ˆä¾‹ï¼Œå¾ˆæ¸…æ™°çš„çŸ¥é“æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>æ¶ˆé™¤ç±»å‹è½¬æ¢</li><li>åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ›´å¼ºçš„ç±»å‹æ£€æŸ¥</li><li>å¢åŠ ä»£ç çš„å¤ç”¨æ€§</li></ul><h2 id="æ³›å‹ç±»-Generic-Class"><a href="#æ³›å‹ç±»-Generic-Class" class="headerlink" title="æ³›å‹ç±»(Generic Class)"></a>æ³›å‹ç±»(Generic Class)</h2><p>æ³›å‹ç±»æ˜¯é€šè¿‡ç±»å‹è¿›è¡Œå‚æ•°åŒ–çš„ç±»ï¼Œè¿™æ ·è¯´å¯èƒ½ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œä¹‹åæˆ‘ä»¬ç”¨ä»£ç æ¼”ç¤ºã€‚</p><h3 id="æ™®é€šç±»-A-Simple-Class"><a href="#æ™®é€šç±»-A-Simple-Class" class="headerlink" title="æ™®é€šç±»(A Simple Class)"></a>æ™®é€šç±»(A Simple Class)</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> definegeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object object;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> object;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObject</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.object = object;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ƒçš„ <code>get</code> ã€<code>set</code> æ–¹æ³•æ¥å—å’Œè¿”å›ä¸€ä¸ª <code>Object</code>ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥éšæ„çš„ä¼ é€’ä»»ä½•ç±»å‹ã€‚åœ¨ç¼–è¯‘æ—¶æ— æ³•æ£€æŸ¥ç±»å‹çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ <code>Integer</code> ä¸”å–å‡º <code>Integer</code>ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ <code>String</code> ï¼Œä»è€Œå®¹æ˜“å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</p><h3 id="æ³›å‹ç±»-A-Generic-Class"><a href="#æ³›å‹ç±»-A-Generic-Class" class="headerlink" title="æ³›å‹ç±»(A Generic Class)"></a>æ³›å‹ç±»(A Generic Class)</h3><p>æ³›å‹ç±»çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">name</span>&lt;<span class="title">T1</span>,<span class="title">T2</span>,...,<span class="title">Tn</span>&gt;</span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç±»åä¹‹åçš„ <code>&lt;&gt;</code> å°–æ‹¬å·ï¼Œç§°ä¹‹ä¸ºç±»å‹å‚æ•°(ç±»å‹å˜é‡)ï¼Œå®šä¹‰ä¸€ä¸ªæ³›å‹ç±»å°±æ˜¯ä½¿ç”¨ <code>&lt;&gt;</code> ç»™å®ƒå®šä¹‰ç±»å‹å‚æ•°ï¼šT1ã€T2 â€¦ Tnã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬æŠŠ <code>SimpleClass</code> æ”¹æˆæ³›å‹ç±»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> definegeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericClass</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T t;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setT</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.t = t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥çš„ <code>object</code> éƒ½æ›¿æ¢æˆä¸º <code>T</code>ï¼Œç±»å‹å‚æ•°å¯ä»¥å®šä¹‰ä¸ºä»»ä½•çš„éåŸºæœ¬ç±»å‹ï¼Œå¦‚ï¼šclassç±»å‹ã€interfaceç±»å‹ã€æ•°ç»„ç±»å‹ã€ç”šè‡³æ˜¯å¦ä¸€ä¸ªç±»å‹å‚æ•°ã€‚</p><h3 id="è°ƒç”¨å’Œå®ä¾‹åŒ–æ³›å‹ç±»å‹-nvoking-and-Instantiating-a-Generic-Type"><a href="#è°ƒç”¨å’Œå®ä¾‹åŒ–æ³›å‹ç±»å‹-nvoking-and-Instantiating-a-Generic-Type" class="headerlink" title="è°ƒç”¨å’Œå®ä¾‹åŒ–æ³›å‹ç±»å‹(nvoking and Instantiating a Generic Type)"></a>è°ƒç”¨å’Œå®ä¾‹åŒ–æ³›å‹ç±»å‹(nvoking and Instantiating a Generic Type)</h3><p>è¦æƒ³ä½¿ç”¨æ³›å‹ç±»ï¼Œå¿…é¡»æ‰§è¡Œæ³›å‹ç±»è°ƒç”¨ï¼Œå¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GenericClass&lt;String&gt; genericClass;</span><br></pre></td></tr></table></figure><p>æ³›å‹ç±»çš„è°ƒç”¨ç±»ä¼¼äºæ–¹æ³•çš„è°ƒç”¨(ä¼ é€’äº†ä¸€ä¸ªå‚æ•°)ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰å°†å‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œè€Œæ˜¯ï¼Œå°†ç±»å‹å‚æ•°(String)ä¼ é€’ç»™äº† <code>GenericClass</code> ç±»æœ¬èº«ã€‚</p><p>æ­¤ä»£ç ä¸ä¼šåˆ›å»ºæ–°çš„ <code>GenericClass</code> å¯¹è±¡ï¼Œå®ƒåªæ˜¯å£°æ˜äº† <code>genericClass</code> å°†ä¿å­˜å¯¹ <code>String</code> çš„å¼•ç”¨</p><p>è¦å®ä¾‹åŒ–æ­¤ç±»ï¼Œè¦ä½¿ç”¨ <code>new</code> å…³é”®å­—ï¼Œå¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GenericClass&lt;String&gt; genericClass = <span class="keyword">new</span> GenericClass&lt;String&gt;();</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GenericClass&lt;String&gt; genericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br></pre></td></tr></table></figure><p>åœ¨ Java SE 7 æˆ–æ›´é«˜çš„ç‰ˆæœ¬ä¸­ï¼Œç¼–è¯‘å™¨å¯ä»¥ä»ä¸Šä¸‹æ–‡æ¨æ–­å‡ºç±»å‹å‚æ•°ï¼Œå› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ <code>&lt;&gt;</code> æ›¿æ¢æ³›å‹ç±»çš„æ„é€ å‡½æ•°æ‰€éœ€çš„ç±»å‹å‚æ•°</p><h3 id="ç±»å‹å‚æ•°å‘½åè§„èŒƒ-Type-Parameter-Naming-Conventions"><a href="#ç±»å‹å‚æ•°å‘½åè§„èŒƒ-Type-Parameter-Naming-Conventions" class="headerlink" title="ç±»å‹å‚æ•°å‘½åè§„èŒƒ(Type Parameter Naming Conventions)"></a>ç±»å‹å‚æ•°å‘½åè§„èŒƒ(Type Parameter Naming Conventions)</h3><p>æˆ‘ä»¬çš„ç±»å‹å‚æ•°æ˜¯å¦ä¸€å®šè¦å†™æˆ <code>T</code> å‘¢ï¼ŒæŒ‰ç…§è§„èŒƒï¼Œç±»å‹å‚æ•°åç§°æ˜¯å•ä¸ªå¤§å†™å­—æ¯ã€‚</p><p>å¸¸ç”¨çš„ç±»å‹å‚æ•°åç§°æœ‰ï¼Œå¦‚ï¼š</p><table><thead><tr><th style="text-align:center">ç±»å‹å‚æ•°</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">E</td><td style="text-align:center">Element</td></tr><tr><td style="text-align:center">K</td><td style="text-align:center">Key</td></tr><tr><td style="text-align:center">N</td><td style="text-align:center">Number</td></tr><tr><td style="text-align:center">V</td><td style="text-align:center">Value</td></tr><tr><td style="text-align:center">S,U,Vâ€¦</td><td style="text-align:center">2nd, 3rd, 4th type</td></tr></tbody></table><h3 id="å¤šç±»å‹å‚æ•°-Multiple-Type-Parameters"><a href="#å¤šç±»å‹å‚æ•°-Multiple-Type-Parameters" class="headerlink" title="å¤šç±»å‹å‚æ•°(Multiple Type Parameters)"></a>å¤šç±»å‹å‚æ•°(Multiple Type Parameters)</h3><p>æ³›å‹ç±»å¯ä»¥æœ‰å¤šä¸ªç±»å‹å‚æ•°ï¼Œå¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MultipleGeneric</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> K <span class="title">getKey</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">getValue</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImplMultipleGeneric</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">MultipleGeneric</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> K key;</span><br><span class="line">    <span class="keyword">private</span> V value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ImplMultipleGeneric</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> K <span class="title">getKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MultipleGeneric&lt;String, Integer&gt; m1 = <span class="keyword">new</span> ImplMultipleGeneric&lt;String, Integer&gt;(<span class="string">"per"</span>,<span class="number">6</span>);</span><br><span class="line">        System.out.println(<span class="string">"key:"</span> + m1.getKey() + <span class="string">", value:"</span> + m1.getValue());</span><br><span class="line"></span><br><span class="line">        MultipleGeneric&lt;String,String&gt; m2 = <span class="keyword">new</span> ImplMultipleGeneric&lt;String, String&gt;(<span class="string">"per"</span>,<span class="string">"lsy"</span>);</span><br><span class="line">        System.out.println(<span class="string">"key:"</span> + m2.getKey() + <span class="string">", value:"</span> + m2.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">key:per, value:6</span><br><span class="line">key:per, value:lsy</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šä»£ç ï¼Œ<code>new ImplMultipleGeneric</code> å°† <code>K</code> å®ä¾‹åŒ–ä¸º <code>String</code>ï¼Œå°† <code>V</code> å®ä¾‹åŒ–ä¸º <code>Integer</code> ï¼Œå› æ­¤ï¼Œ <code>ImplMultipleGeneric</code> æ„é€ å‡½æ•°å‚æ•°ç±»å‹åˆ†åˆ«ä¸º <code>String</code> å’Œ <code>Integer</code>,åœ¨ç¼–å†™ <code>new ImplMultipleGeneric</code> ä»£ç æ—¶ï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨å¡«å†™ <code>&lt;&gt;</code> çš„å€¼</p><p>ç”±äºï¼ŒJava ç¼–è¯‘å™¨ä¼šä»å£°æ˜ <code>ImplMultipleGeneric</code> æ¨æ–­å‡º <code>K</code> å’Œ <code>V</code> çš„ç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç®€å†™ä¸ºï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MultipleGeneric&lt;String, Integer&gt; m1 = <span class="keyword">new</span> ImplMultipleGeneric&lt;&gt;(<span class="string">"per"</span>,<span class="number">6</span>);</span><br><span class="line">System.out.println(<span class="string">"key:"</span> + m1.getKey() + <span class="string">", value:"</span> + m1.getValue());</span><br><span class="line"></span><br><span class="line">MultipleGeneric&lt;String,String&gt; m2 = <span class="keyword">new</span> ImplMultipleGeneric&lt;&gt;(<span class="string">"per"</span>,<span class="string">"lsy"</span>);</span><br><span class="line">System.out.println(<span class="string">"key:"</span> + m2.getKey() + <span class="string">", value:"</span> + m2.getValue());</span><br></pre></td></tr></table></figure><h2 id="æ³›å‹æ¥å£-Generic-Interface"><a href="#æ³›å‹æ¥å£-Generic-Interface" class="headerlink" title="æ³›å‹æ¥å£(Generic Interface)"></a>æ³›å‹æ¥å£(Generic Interface)</h2><p>å®šä¹‰æ³›å‹æ¥å£å’Œå®šä¹‰æ³›å‹ç±»ç›¸ä¼¼(æ³›å‹ç±»çš„æŠ€æœ¯å¯åŒç”¨äºæ³›å‹æ¥å£)ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">name</span>&lt;<span class="title">T1</span>,<span class="title">T2</span>,...,<span class="title">Tn</span>&gt;</span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> definegeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Genertor</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œå¦‚ä½•å®ç°ä¸€ä¸ªæ³›å‹æ¥å£å‘¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ç§æ–¹å¼æ¥å®ç°æ³›å‹æ¥å£ï¼Œå¦‚ä¸‹ï¼š</p><p>ä½¿ç”¨æ³›å‹ç±»ï¼Œå®ç°æ³›å‹æ¥å£ï¼Œä¸”ä¸æŒ‡å®šç¡®åˆ‡çš„ç±»å‹å‚æ•°ï¼Œæ‰€ä»¥ï¼Œå®ç°çš„ <code>next()</code> è¿”å›å€¼è‡ªåŠ¨å˜æˆ <code>T</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> definegeneric.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> definegeneric.Genertor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImplGenertor</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Genertor</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ™®é€šç±»ï¼Œå®ç°æ³›å‹æ¥å£ï¼Œä¸”æŒ‡å®šç¡®åˆ‡çš„ç±»å‹å‚æ•°ä¸º <code>String</code>ï¼Œæ‰€ä»¥ï¼Œå®ç°çš„ <code>next()</code> è¿”å›å€¼è‡ªåŠ¨å˜æˆ <code>String</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> definegeneric.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> definegeneric.Genertor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImplGenertor2</span> <span class="keyword">implements</span> <span class="title">Genertor</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ³›å‹æ–¹æ³•-Generic-Methods"><a href="#æ³›å‹æ–¹æ³•-Generic-Methods" class="headerlink" title="æ³›å‹æ–¹æ³•(Generic Methods)"></a>æ³›å‹æ–¹æ³•(Generic Methods)</h2><p>æ³›å‹æ–¹æ³•ä½¿ç”¨äº†ç±»å‹å‚æ•°çš„æ–¹æ³•ï¼Œæ³›å‹æ–¹æ³•æ¯”è¾ƒç‹¬ç«‹ï¼Œå¯ä»¥å£°æ˜åœ¨ æ™®é€šç±»ã€æ³›å‹ç±»ã€æ™®é€šæ¥å£ã€æ³›å‹æ¥å£ä¸­ã€‚</p><p>æ³›å‹æ–¹æ³•å®šä¹‰æ ¼å¼ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;K, V&gt; <span class="function"><span class="keyword">boolean</span> <span class="title">compare</span><span class="params">(Pair&lt;K, V&gt; p1, Pair&lt;K, V&gt; p2)</span></span></span><br></pre></td></tr></table></figure><p>æ³›å‹æ–¹æ³•çš„ç±»å‹å‚æ•°åˆ—è¡¨ï¼Œåœ¨ <code>&lt;&gt;</code> å†…ï¼Œè¯¥åˆ—è¡¨å¿…é¡»åœ¨æ–¹æ³•è¿”å›ç±»å‹ä¹‹å‰ï¼›å¯¹äºé™æ€çš„æ³›å‹æ–¹æ³•ï¼Œç±»å‹å‚æ•°å¿…é¡»åœ¨ <code>static</code> ä¹‹åï¼Œæ–¹æ³•è¿”å›ç±»å‹ä¹‹å‰ã€‚</p><h3 id="æ™®é€šç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•-Generic-methods-in-a-Simple-Class"><a href="#æ™®é€šç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•-Generic-methods-in-a-Simple-Class" class="headerlink" title="æ™®é€šç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•(Generic methods in a Simple Class)"></a>æ™®é€šç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•(Generic methods in a Simple Class)</h3><p>æˆ‘ä»¬åœ¨æ™®é€šç±»ä¸­å®šä¹‰æ³›å‹æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> methodgeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodGeneric</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªæ³›å‹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">genericMethod</span><span class="params">(T...t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t[t.length/<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MethodGeneric methodGeneric = <span class="keyword">new</span> MethodGeneric();</span><br><span class="line">        System.out.println(methodGeneric.&lt;String&gt;genericMethod(<span class="string">"java"</span>,<span class="string">"dart"</span>,<span class="string">"kotlin"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>methodGeneric.&lt;String&gt;genericMethod(&quot;java&quot;,&quot;dart&quot;,&quot;kotlin&quot;)</code> é€šå¸¸å¯ä»¥çœç•¥æ‰ <code>&lt;&gt;</code> çš„å†…å®¹ï¼Œç¼–è¯‘å™¨å°†æ¨æ–­å‡ºæ‰€éœ€çš„ç±»å‹ï¼Œå’Œè°ƒç”¨æ™®é€šæ–¹æ³•ä¸€æ ·ï¼Œå¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">methodGeneric.genericMethod(<span class="string">"java"</span>,<span class="string">"dart"</span>,<span class="string">"kotlin"</span>)</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹ç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•-Generic-methods-in-a-Generic-Class"><a href="#æ³›å‹ç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•-Generic-methods-in-a-Generic-Class" class="headerlink" title="æ³›å‹ç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•(Generic methods in a Generic Class)"></a>æ³›å‹ç±»é‡Œå®šä¹‰æ³›å‹æ–¹æ³•(Generic methods in a Generic Class)</h3><p>æˆ‘ä»¬åœ¨æ³›å‹ç±»ä¸­å®šä¹‰æ³›å‹æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> methodgeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodGeneric2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"fruit"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">extends</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"Apple"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"person"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å®šä¹‰äº†æ³›å‹ç±»</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ShowClass</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="comment">//å®šä¹‰äº†æ™®é€šæ–¹æ³•</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show1</span><span class="params">(T t)</span></span>&#123;</span><br><span class="line">            System.out.println(t.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å®šä¹‰äº†æ³›å‹æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">public</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">show2</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">            System.out.println(e.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å®šä¹‰äº†æ³›å‹æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">show3</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">            System.out.println(t.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Apple apple = <span class="keyword">new</span> Apple();</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">        ShowClass&lt;Fruit&gt; showClass = <span class="keyword">new</span> ShowClass&lt;&gt;();</span><br><span class="line">        showClass.show1(apple);   <span class="comment">//å¯ä»¥æ”¾å…¥ appleï¼Œå› ä¸º apple æ˜¯ fruit çš„å­ç±»</span></span><br><span class="line">        showClass.show1(person); <span class="comment">//æ­¤æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸º ShowClass&lt;Fruit&gt; å·²ç»é™å®šç±»å‹</span></span><br><span class="line"></span><br><span class="line">        showClass.show2(apple); <span class="comment">//å¯ä»¥æ”¾å…¥ï¼Œæ³›å‹æ–¹æ³• &lt;E&gt; å¯ä»¥æ˜¯ä»»ä½•éåŸºæœ¬ç±»å‹</span></span><br><span class="line">        showClass.show2(person);<span class="comment">//å¯ä»¥æ”¾å…¥ï¼Œæ³›å‹æ–¹æ³• &lt;E&gt; å¯ä»¥æ˜¯ä»»ä½•éåŸºæœ¬ç±»å‹</span></span><br><span class="line"></span><br><span class="line">        showClass.show3(apple); <span class="comment">//å¯ä»¥æ”¾å…¥ï¼Œæ³›å‹æ–¹æ³• &lt;T&gt; å’Œæ³›å‹ç±»ä¸­çš„ &lt;T&gt; ä¸æ˜¯åŒä¸€æ¡ Tï¼Œå¯ä»¥æ˜¯ä»»ä½•éåŸºæœ¬ç±»å‹</span></span><br><span class="line">        showClass.show3(person); <span class="comment">//å¯ä»¥æ”¾å…¥ï¼Œæ³›å‹æ–¹æ³• &lt;T&gt; å’Œæ³›å‹ç±»ä¸­çš„ &lt;T&gt; ä¸æ˜¯åŒä¸€æ¡ Tï¼Œå¯ä»¥æ˜¯ä»»ä½•éåŸºæœ¬ç±»å‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ³›å‹ç±»ä¸­å®šä¹‰æ³›å‹æ–¹æ³•æ—¶ï¼Œéœ€è¦æ³¨æ„ï¼Œæ³›å‹ç±»é‡Œçš„æ³›å‹å‚æ•° <code>&lt;T&gt;</code> å’Œæ³›å‹æ–¹æ³•é‡Œçš„æ³›å‹å‚æ•° <code>&lt;T&gt;</code> ä¸æ˜¯åŒä¸€ä¸ªã€‚</p><h2 id="é™å®šç±»å‹å‚æ•°-Bounded-Type-Parameters"><a href="#é™å®šç±»å‹å‚æ•°-Bounded-Type-Parameters" class="headerlink" title="é™å®šç±»å‹å‚æ•°(Bounded Type Parameters)"></a>é™å®šç±»å‹å‚æ•°(Bounded Type Parameters)</h2><p>æˆ‘ä»¬ç»å¸¸çœ‹åˆ°ç±»ä¼¼ <code>public &lt;U extends Number&gt; void inspect(U u)</code> çš„ä»£ç ï¼Œ<code>&lt;U extends Number&gt;</code> å°±æ˜¯é™åˆ¶ç±»å‹å‚æ•°ï¼Œåªå¯¹æ•°å­—è¿›è¡Œæ“ä½œä¸”åªæ¥å— <code>Number</code> æˆ–å…¶å­ç±»ã€‚</p><p>è¦å£°æ˜ä¸€ä¸ªé™å®šçš„ç±»å‹å‚æ•°ï¼Œéœ€è¦åœ¨å‚æ•°ç±»å‹ååŠ ä¸Š <code>extends</code> å…³é”®å­—ï¼Œç„¶åæ˜¯å…¶ä¸Šé™ç±»å‹(ç±»æˆ–æ¥å£)ã€‚</p><h3 id="é™å®šç±»å‹å‚æ•°çš„æ³›å‹ç±»-Generic-Class-of-Bounded-Type-Parameters"><a href="#é™å®šç±»å‹å‚æ•°çš„æ³›å‹ç±»-Generic-Class-of-Bounded-Type-Parameters" class="headerlink" title="é™å®šç±»å‹å‚æ•°çš„æ³›å‹ç±»(Generic Class of Bounded Type Parameters)"></a>é™å®šç±»å‹å‚æ•°çš„æ³›å‹ç±»(Generic Class of Bounded Type Parameters)</h3><p>æ³›å‹ç±»ä¹Ÿå¯ä»¥ä½¿ç”¨é™å®šç±»å‹å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> boundedgeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoundedClass</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T t;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setT</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.t = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">min</span><span class="params">(T outter)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.t.compareTo(outter) &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> outter;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BoundedClass&lt;String&gt; boundedClass = <span class="keyword">new</span> BoundedClass&lt;&gt;(); <span class="comment">//åªèƒ½ä¼ å…¥å®ç°äº† Comparable æ¥å£çš„ç±»å‹</span></span><br><span class="line">        boundedClass.setT(<span class="string">"iOS"</span>);</span><br><span class="line">        System.out.println(boundedClass.min(<span class="string">"android"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é™å®šç±»å‹å‚æ•°çš„æ³›å‹æ–¹æ³•-Generic-methods-of-Bounded-Type-Parameters"><a href="#é™å®šç±»å‹å‚æ•°çš„æ³›å‹æ–¹æ³•-Generic-methods-of-Bounded-Type-Parameters" class="headerlink" title="é™å®šç±»å‹å‚æ•°çš„æ³›å‹æ–¹æ³•(Generic methods of Bounded Type Parameters)"></a>é™å®šç±»å‹å‚æ•°çš„æ³›å‹æ–¹æ³•(Generic methods of Bounded Type Parameters)</h3><p>æ³›å‹æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨é™å®šç±»å‹å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> boundedgeneric;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoundedGeneric</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Comparable&gt; <span class="function">T <span class="title">min</span><span class="params">(T a, T b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a.compareTo(b) &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(BoundedGeneric.min(<span class="number">66</span>,<span class="number">666</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šé‡é™å®š-Multiple-Bounds"><a href="#å¤šé‡é™å®š-Multiple-Bounds" class="headerlink" title="å¤šé‡é™å®š(Multiple Bounds)"></a>å¤šé‡é™å®š(Multiple Bounds)</h3><p>é™å®šç±»å‹å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¸ºå¤šä¸ªé™å®šï¼Œå¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T extends B1 &amp; B2 &amp; B3&gt;</span><br></pre></td></tr></table></figure><p>å¤šä¸ªé™å®šå‚æ•°ï¼Œå¦‚æœå…¶ä¸­æœ‰ç±»ï¼Œç±»å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123; ... &#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123; ... &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> &lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">C</span> &amp; <span class="title">A</span> &amp; <span class="title">B</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ³›å‹ï¼Œç»§æ‰¿å’Œå­ç±»å‹-Generics-Inheritance-and-Subtypes"><a href="#æ³›å‹ï¼Œç»§æ‰¿å’Œå­ç±»å‹-Generics-Inheritance-and-Subtypes" class="headerlink" title="æ³›å‹ï¼Œç»§æ‰¿å’Œå­ç±»å‹(Generics, Inheritance, and Subtypes)"></a>æ³›å‹ï¼Œç»§æ‰¿å’Œå­ç±»å‹(Generics, Inheritance, and Subtypes)</h2><p>åœ¨å‰é¢çš„ç›˜å­è£…æ°´æœå°æ•…äº‹é‡Œæˆ‘ä»¬å·²ç»åˆ›å»ºå¥½äº†ä¸€äº›æ°´æœç±»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"This is Fruit"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">extends</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">" Apple ğŸ"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Orange</span> <span class="keyword">extends</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">" Orange ğŸŠ"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QIOrange</span> <span class="keyword">extends</span> <span class="title">Orange</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"qi Orange ğŸŠ"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»–ä»¬çš„ç»§æ‰¿å…³ç³»ï¼Œå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto"><img src="https://cdn.lishaoy.net/generics/fruit.png" alt="no-shadow"></div><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå­ç±»èµ‹å€¼ç»™çˆ¶ç±»ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Apple apple = <span class="keyword">new</span> Apple();</span><br><span class="line">Fruit fruit = <span class="keyword">new</span> Fruit();</span><br><span class="line">fruit = apple;</span><br></pre></td></tr></table></figure><p>æ³›å‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ°´æœç›˜å­çš„æ³›å‹ç±»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitPlateGen</span>&lt;<span class="title">Fruit</span>&gt; <span class="keyword">implements</span> <span class="title">Plate</span>&lt;<span class="title">Fruit</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruits = <span class="keyword">new</span> ArrayList&lt;&gt;(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(Fruit fruit)</span> </span>&#123;</span><br><span class="line">        fruits.add(fruit);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Fruit <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = fruits.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= <span class="number">0</span>) <span class="keyword">return</span> fruits.get(index);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œæ˜¯ <code>Fruit</code> çš„å­ç±»éƒ½å¯ä»¥æ”¾å…¥æ°´æœç›˜é‡Œï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FruitPlateGen&lt;Fruit&gt; fruitPlate = <span class="keyword">new</span> FruitPlateGen&lt;Fruit&gt;();</span><br><span class="line">fruitPlate.set(<span class="keyword">new</span> Apple());</span><br><span class="line">fruitPlate.set(<span class="keyword">new</span> Orange());</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼ŒJames å¯ä»¥è·å–ç›˜å­ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">James</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> FruitPlateGen <span class="title">getAiFruitPlateGen</span><span class="params">(FruitPlateGen&lt;Fruit&gt; plate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FruitPlateGen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æ˜¯ï¼ŒJames æƒ³è·å–æ”¾æ©˜å­çš„ç›˜å­ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">James james = <span class="keyword">new</span> James();</span><br><span class="line">james.getAiFruitPlateGen(<span class="keyword">new</span> FruitPlateGen&lt;Fruit&gt;()); <span class="comment">//è·å–æˆåŠŸ</span></span><br><span class="line">james.getAiFruitPlateGen(<span class="keyword">new</span> FruitPlateGen&lt;Orange&gt;()); <span class="comment">//ç¼–è¯‘å™¨æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶ï¼Œ<code>Orange</code> æ˜¯ <code>Fruit</code> çš„å­ç±»ï¼Œä½†æ˜¯ï¼Œ<code>FruitPlateGen&lt;Orange&gt;</code> ä¸æ˜¯ <code>FruitPlateGen&lt;Fruit&gt;</code> çš„å­ç±»ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½ä¼ é€’äº§ç”Ÿç»§æ‰¿å…³ç³»ã€‚</p><div style="width: 86%; margin:auto"><img src="https://cdn.lishaoy.net/generics/object.png" alt="no-shadow"></div><h3 id="æ³›å‹ç±»å’Œå­ç±»å‹-Generic-Classes-and-Subtyping"><a href="#æ³›å‹ç±»å’Œå­ç±»å‹-Generic-Classes-and-Subtyping" class="headerlink" title="æ³›å‹ç±»å’Œå­ç±»å‹(Generic Classes and Subtyping)"></a>æ³›å‹ç±»å’Œå­ç±»å‹(Generic Classes and Subtyping)</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿(extends)æˆ–å®ç°(implements)æ³›å‹ç±»æˆ–æ¥å£ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtendFruitPlate</span>&lt;<span class="title">Orange</span>&gt; <span class="keyword">extends</span> <span class="title">FruitPlateGen</span>&lt;<span class="title">Fruit</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œ<code>ExtendFruitPlate&lt;Orange&gt;</code> å°±æ˜¯ <code>FruitPlateGen&lt;Fruit&gt;</code> çš„å­ç±»ï¼ŒJames å†å»æ‹¿ç›˜å­ï¼Œå°±ä¸ä¼šæœ‰é”™è¯¯æç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">james.getAiFruitPlateGen(<span class="keyword">new</span> ExtendFruitPlate&lt;Orange&gt;());</span><br></pre></td></tr></table></figure><h2 id="é€šé…ç¬¦-Wildcards"><a href="#é€šé…ç¬¦-Wildcards" class="headerlink" title="é€šé…ç¬¦(Wildcards)"></a>é€šé…ç¬¦(Wildcards)</h2><p>æˆ‘ä»¬ç»å¸¸çœ‹åˆ°ç±»ä¼¼ <code>List&lt;? extends Number&gt;</code> çš„ä»£ç ï¼Œ<code>?</code> å°±æ˜¯é€šé…ç¬¦ï¼Œè¡¨ç¤ºæœªçŸ¥ç±»å‹ã€‚</p><h3 id="ä¸Šé™é€šé…ç¬¦-Upper-Bounded-Wildcards"><a href="#ä¸Šé™é€šé…ç¬¦-Upper-Bounded-Wildcards" class="headerlink" title="ä¸Šé™é€šé…ç¬¦(Upper Bounded Wildcards)"></a>ä¸Šé™é€šé…ç¬¦(Upper Bounded Wildcards)</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šé™é€šé…ç¬¦æ¥æ”¾å®½å¯¹å˜é‡çš„é™åˆ¶ï¼Œä¾‹å¦‚ï¼Œä¸Šæ–‡æåˆ°çš„ <code>FruitPlateGen&lt;Fruit&gt;</code> å’Œ <code>FruitPlateGen&lt;Orange&gt;()</code> å°±å¯ä»¥ä½¿ç”¨ä¸Šé™é€šé…ç¬¦ã€‚</p><p>æˆ‘ä»¬æ¥æ”¹å†™ä¸€ä¸‹ <code>getAiFruitPlateGen</code> æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> FruitPlateGen <span class="title">getAiFruitPlateGen2</span><span class="params">(FruitPlateGen&lt;? extends Fruit&gt; plate)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> FruitPlateGen();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼ŒJames æƒ³è·å–æ”¾æ©˜å­çš„ç›˜å­ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">James james = <span class="keyword">new</span> James();</span><br><span class="line">james.getAiFruitPlateGen2(<span class="keyword">new</span> FruitPlateGen&lt;Fruit&gt;()); <span class="comment">//è·å–æˆåŠŸ</span></span><br><span class="line">james.getAiFruitPlateGen2(<span class="keyword">new</span> FruitPlateGen&lt;Orange&gt;()); <span class="comment">//è·å–æˆåŠŸ</span></span><br></pre></td></tr></table></figure><p>ä¸Šé™é€šé…ç¬¦ <code>FruitPlateGen&lt;? extends Fruit&gt;</code> åŒ¹é… <code>Fruit</code> å’Œ <code>Fruit</code> çš„ä»»ä½•å­ç±»å‹ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ <code>Apple</code>ã€<code>Orange</code> éƒ½æ²¡æœ‰é—®é¢˜ã€‚</p><h3 id="ä¸‹é™é€šé…ç¬¦-Lower-Bounded-Wildcards"><a href="#ä¸‹é™é€šé…ç¬¦-Lower-Bounded-Wildcards" class="headerlink" title="ä¸‹é™é€šé…ç¬¦(Lower Bounded Wildcards)"></a>ä¸‹é™é€šé…ç¬¦(Lower Bounded Wildcards)</h3><p>ä¸Šé™é€šé…ç¬¦å°†æœªçŸ¥ç±»å‹é™å®šä¸ºè¯¥ç±»å‹æˆ–å…¶å­ç±»å‹ï¼Œä½¿ç”¨ <code>extends</code> å…³é”®å­—ï¼Œè€Œä¸‹é™é€šé…ç¬¦å°†æœªçŸ¥ç±»å‹é™å®šä¸ºè¯¥ç±»å‹æˆ–å…¶çˆ¶ç±»å‹ï¼Œä½¿ç”¨ <code>super</code> å…³é”®å­—ã€‚</p><p>æˆ‘ä»¬å†æ¥å®½å±•ä¸€ä¸‹ <code>getAiFruitPlateGen</code> æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> FruitPlateGen <span class="title">getAiFruitPlateGen3</span><span class="params">(FruitPlateGen&lt;? <span class="keyword">super</span> Apple&gt; plate)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> FruitPlateGen();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼ŒJames åªèƒ½è·å– <code>FruitPlateGen&lt;Fruit&gt;</code> å’Œ <code>FruitPlateGen&lt;Apple&gt;</code> çš„ç›˜å­ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">James james = <span class="keyword">new</span> James();</span><br><span class="line">james.getAiFruitPlateGen3(<span class="keyword">new</span> FruitPlateGen&lt;Apple&gt;());</span><br><span class="line">james.getAiFruitPlateGen3(<span class="keyword">new</span> FruitPlateGen&lt;Fruit&gt;());</span><br></pre></td></tr></table></figure><p>ä¸‹é™é€šé…ç¬¦ <code>FruitPlateGen&lt;? super Apple&gt;</code> åŒ¹é… <code>Apple</code> å’Œ <code>Apple</code> çš„ä»»ä½•çˆ¶ç±»å‹ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ <code>Apple</code>ã€<code>Fruit</code>ã€‚</p><h3 id="é€šé…ç¬¦å’Œå­ç±»å‹-Wildcards-and-Subtyping"><a href="#é€šé…ç¬¦å’Œå­ç±»å‹-Wildcards-and-Subtyping" class="headerlink" title="é€šé…ç¬¦å’Œå­ç±»å‹(Wildcards and Subtyping)"></a>é€šé…ç¬¦å’Œå­ç±»å‹(Wildcards and Subtyping)</h3><p>åœ¨ <a href="https://h.lishaoy.net/generics.html#æ³›å‹ï¼Œç»§æ‰¿å’Œå­ç±»å‹-Generics-Inheritance-and-Subtypes">æ³›å‹ï¼Œç»§æ‰¿å’Œå­ç±»å‹</a> ç« èŠ‚æœ‰è®²åˆ°ï¼Œè™½ç„¶ï¼Œ<code>Orange</code> æ˜¯ <code>Fruit</code> çš„å­ç±»ï¼Œä½†æ˜¯ï¼Œ<code>FruitPlateGen&lt;Orange&gt;</code> ä¸æ˜¯ <code>FruitPlateGen&lt;Fruit&gt;</code> çš„å­ç±»ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨é€šé…ç¬¦åœ¨æ³›å‹ç±»æˆ–æ¥å£ä¹‹é—´åˆ›å»ºå…³ç³»ã€‚</p><p>æˆ‘ä»¬å†æ¥å›é¡¾ä¸‹ <code>Fruit</code> çš„ç»§æ‰¿å…³ç³»ï¼Œå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto"><img src="https://cdn.lishaoy.net/generics/fruit.png" alt="no-shadow"></div><p>ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Apple apple = <span class="keyword">new</span> Apple();</span><br><span class="line">Fruit fruit = apple;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä»£ç æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œ<code>Fruit</code> æ˜¯ <code>Apple</code> çš„çˆ¶ç±»ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥æŠŠå­ç±»èµ‹å€¼ç»™çˆ¶ç±»ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Apple&gt; apples = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;Fruit&gt; fruits = apples; <span class="comment">// ç¼–è¾‘å™¨æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºï¼Œ<code>List&lt;Apple&gt;</code> ä¸æ˜¯ <code>List&lt;Fruit&gt;</code> çš„å­ç±»ï¼Œå®é™…ä¸Šè¿™ä¸¤è€…æ— å…³ï¼Œé‚£ä¹ˆï¼Œå®ƒä»¬çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto"><img src="https://cdn.lishaoy.net/generics/List%3C%3F%3E.png" alt="no-shadow"></div><p><code>List&lt;Apple&gt;</code> å’Œ <code>List&lt;Fruit&gt;</code> çš„å…¬å…±çˆ¶çº§æ˜¯ <code>List&lt;?&gt;</code>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šä¸‹é™é€šé…ç¬¦ï¼Œåœ¨è¿™äº›ç±»ä¹‹é—´åˆ›å»ºå…³ç³»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Apple&gt; apples = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;? extends Fruit&gt; fruits1 = apples; <span class="comment">// OK</span></span><br><span class="line">List&lt;? <span class="keyword">super</span> Apple&gt; fruits2 = apples; <span class="comment">// OK</span></span><br></pre></td></tr></table></figure><p>ä¸‹å›¾å±•ç¤ºäº†ä¸Šä¸‹é™é€šé…ç¬¦å£°æ˜çš„å‡ ä¸ªç±»çš„å…³ç³»ï¼Œå¦‚å›¾ï¼š</p><div style="width: 56%; margin:auto"><img src="https://cdn.lishaoy.net/generics/List%3C%3F%3E1.png" alt="no-shadow"></div><h3 id="PECSåŸåˆ™-Producer-extends-Consumer-super"><a href="#PECSåŸåˆ™-Producer-extends-Consumer-super" class="headerlink" title="PECSåŸåˆ™(Producer extends Consumer super)"></a>PECSåŸåˆ™(Producer extends Consumer super)</h3><p>åœ¨ä¸Šæ–‡ä¸­æœ‰ <code>FruitPlateGen</code> æ°´æœç›˜å­çš„ç±»ï¼Œæˆ‘ä»¬å°è¯•ä½¿ç”¨ä¸Šä¸‹é™é€šé…ç¬¦æ¥å®ä¾‹åŒ–æ°´æœç›˜ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Apple apple = <span class="keyword">new</span> Apple();</span><br><span class="line">Orange orange = <span class="keyword">new</span> Orange();</span><br><span class="line">Fruit fruit = <span class="keyword">new</span> Fruit();</span><br><span class="line"></span><br><span class="line">FruitPlateGen&lt;? extends Fruit&gt; fruitPlateGen = <span class="keyword">new</span> FruitPlateGen&lt;&gt;();</span><br><span class="line">fruitPlateGen.set(apple); <span class="comment">// error</span></span><br><span class="line">fruitPlateGen.set(orange); <span class="comment">// error</span></span><br><span class="line">fruitPlateGen.set(fruit); <span class="comment">// error</span></span><br><span class="line">Fruit fruit1 = fruitPlateGen.get(); <span class="comment">// OK</span></span><br><span class="line">Orange orange1 = fruitPlateGen.get(); <span class="comment">// error</span></span><br><span class="line">Apple apple1 = fruitPlateGen.get(); <span class="comment">// error</span></span><br></pre></td></tr></table></figure><p>ä¸Šé™é€šé…ç¬¦æ— æ³• <code>set</code> æ•°æ®ï¼Œä½†æ˜¯ï¼Œå¯ä»¥ <code>get</code> æ•°æ®ä¸”åªèƒ½ <code>get</code> åˆ°å…¶ä¸Šé™ <code>Fruit</code>ï¼Œæ‰€ä»¥ï¼Œä¸Šé™é€šé…ç¬¦å¯ä»¥å®‰å…¨çš„è®¿é—®æ•°æ®ã€‚</p><p>åœ¨æ¥çœ‹ä¸€ä¸‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FruitPlateGen&lt;? <span class="keyword">super</span> Apple&gt; fruitPlateGen1 = <span class="keyword">new</span> FruitPlateGen&lt;&gt;();</span><br><span class="line">fruitPlateGen1.set(apple); <span class="comment">// OK</span></span><br><span class="line">fruitPlateGen1.set(orange); <span class="comment">// error</span></span><br><span class="line">fruitPlateGen1.set(fruit); <span class="comment">// error</span></span><br><span class="line">Object object = fruitPlateGen1.get(); <span class="comment">// OK</span></span><br><span class="line">Fruit fruit2 = fruitPlateGen1.get(); <span class="comment">// error</span></span><br><span class="line">Apple apple2 = fruitPlateGen1.get(); <span class="comment">// error</span></span><br><span class="line">Orange orange2 = fruitPlateGen1.get(); <span class="comment">// error</span></span><br></pre></td></tr></table></figure><p>ä¸‹é™é€šé…ç¬¦å¯ä»¥ä¸”åªèƒ½ <code>set</code> å…¶ä¸‹é™ <code>Apple</code>ï¼Œä¹Ÿå¯ä»¥ <code>get</code> æ•°æ®ï¼Œä½†åªèƒ½ç”¨ <code>Object</code> æ¥æ”¶(å› ä¸ºObjectæ˜¯æ‰€æœ‰ç±»å‹çš„çˆ¶ç±»ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹ä¾‹)ï¼Œæ‰€ä»¥ï¼Œä¸‹é™é€šé…ç¬¦å¯ä»¥å®‰å…¨çš„å†™å…¥æ•°æ®ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨ä¸Šä¸‹é™é€šé…ç¬¦æ—¶ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹å‡†åˆ™ï¼š</p><ul><li>å¦‚æœä½ åªéœ€è¦ä»é›†åˆä¸­è·å¾—ç±»å‹T , ä½¿ç”¨&lt;? extends T&gt;é€šé…ç¬¦</li><li>å¦‚æœä½ åªéœ€è¦å°†ç±»å‹Tæ”¾åˆ°é›†åˆä¸­, ä½¿ç”¨&lt;? super T&gt;é€šé…ç¬¦</li><li>å¦‚æœä½ æ—¢è¦è·å–åˆè¦æ”¾ç½®å…ƒç´ ï¼Œåˆ™ä¸ä½¿ç”¨ä»»ä½•é€šé…ç¬¦</li></ul><h2 id="ç±»å‹æ“¦é™¤-Type-Erasure"><a href="#ç±»å‹æ“¦é™¤-Type-Erasure" class="headerlink" title="ç±»å‹æ“¦é™¤(Type Erasure)"></a>ç±»å‹æ“¦é™¤(Type Erasure)</h2><p>Java è¯­è¨€ä½¿ç”¨ç±»å‹æ“¦é™¤æœºåˆ¶å®ç°äº†æ³›å‹ï¼Œç±»å‹æ“¦é™¤æœºåˆ¶ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>ç¼–è¯‘å™¨ä¼šæŠŠæ‰€æœ‰çš„ç±»å‹å‚æ•°æ›¿æ¢ä¸ºå…¶è¾¹ç•Œ(ä¸Šä¸‹é™)æˆ– Objectï¼Œå› æ­¤ï¼Œç¼–è¯‘å‡ºçš„å­—èŠ‚ç ä¸­åªåŒ…å«æ™®é€šç±»ã€æ¥å£å’Œæ–¹æ³•ã€‚</li><li>åœ¨å¿…è¦æ—¶æ’å…¥ç±»å‹è½¬æ¢ï¼Œå·²ä¿æŒç±»å‹å®‰å…¨</li><li>ç”Ÿæˆæ¡¥æ¥æ–¹æ³•ä»¥åœ¨æ‰©å±•æ³›å‹ç±»æ—¶ä¿æŒå¤šæ€æ€§</li></ul><h3 id="æ³›å‹ç±»å‹çš„æ“¦é™¤-Erasure-of-Generic-Types"><a href="#æ³›å‹ç±»å‹çš„æ“¦é™¤-Erasure-of-Generic-Types" class="headerlink" title="æ³›å‹ç±»å‹çš„æ“¦é™¤(Erasure of Generic Types)"></a>æ³›å‹ç±»å‹çš„æ“¦é™¤(Erasure of Generic Types)</h3><p>Java ç¼–è¯‘å™¨åœ¨æ“¦é™¤è¿‡ç¨‹ä¸­ï¼Œä¼šæ“¦é™¤æ‰€æœ‰ç±»å‹å‚æ•°ï¼Œå¦‚æœç±»å‹å‚æ•°æ˜¯æœ‰ç•Œçš„ï¼Œåˆ™æ›¿æ¢ä¸ºç¬¬ä¸€ä¸ªè¾¹ç•Œï¼Œå¦‚æœæ˜¯æ— ç•Œçš„ï¼Œåˆ™æ›¿æ¢ä¸º Objectã€‚</p><p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ³›å‹ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> T data;</span><br><span class="line">  <span class="keyword">private</span> Node&lt;T&gt; next;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(T data, Node&lt;T&gt; next)</span> </span>&#123; <span class="keyword">this</span>.data = data;</span><br><span class="line">  <span class="keyword">this</span>.next = next;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> T <span class="title">getData</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> data; &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºç±»å‹å‚æ•° <code>T</code> æ˜¯æ— ç•Œçš„ï¼Œå› æ­¤ï¼ŒJava ç¼–è¯‘å™¨å°†å…¶æ›¿æ¢ä¸º Objectï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Object data;</span><br><span class="line">  <span class="keyword">private</span> Node next;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Object data, Node next)</span> </span>&#123; <span class="keyword">this</span>.data = data;</span><br><span class="line">  <span class="keyword">this</span>.next = next;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Object <span class="title">getData</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> data; &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å†æ¥å®šä¹‰ä¸€ä¸ªæœ‰ç•Œçš„æ³›å‹ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt;&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> T data;</span><br><span class="line">  <span class="keyword">private</span> Node&lt;T&gt; next;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(T data, Node&lt;T&gt; next)</span> </span>&#123; <span class="keyword">this</span>.data = data;</span><br><span class="line">  <span class="keyword">this</span>.next = next;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> T <span class="title">getData</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> data; &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Java ç¼–è¯‘å™¨å…¶æ›¿æ¢ä¸ºç¬¬ä¸€ä¸ªè¾¹ç•Œ <code>Comparable</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Comparable data;</span><br><span class="line">  <span class="keyword">private</span> Node next;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Comparable data, Node next)</span> </span>&#123; <span class="keyword">this</span>.data = data;</span><br><span class="line">  <span class="keyword">this</span>.next = next;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Comparable <span class="title">getData</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> data; &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹æ–¹æ³•çš„æ“¦é™¤-Erasure-of-Generic-Methods"><a href="#æ³›å‹æ–¹æ³•çš„æ“¦é™¤-Erasure-of-Generic-Methods" class="headerlink" title="æ³›å‹æ–¹æ³•çš„æ“¦é™¤(Erasure of Generic Methods)"></a>æ³›å‹æ–¹æ³•çš„æ“¦é™¤(Erasure of Generic Methods)</h3><p>Java ç¼–è¯‘å™¨åŒæ ·ä¼šæ“¦é™¤æ³›å‹æ–¹æ³•ä¸­çš„ç±»å‹å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">(T[] anArray, T elem)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (T e : anArray)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äº <code>T</code> æ˜¯æ— ç•Œçš„ï¼Œå› æ­¤ï¼ŒJava ç¼–è¯‘å™¨å°†å…¶æ›¿æ¢ä¸º Objectï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(Object[] anArray, Object elem)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (Object e : anArray) <span class="keyword">if</span> (e.equals(elem))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;  ...  &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;  ...  &#125; </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;  ...  &#125;</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span>&lt;T extends Shape&gt; <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(T shape)</span></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Java ç¼–è¯‘å™¨å°†ç”¨ç¬¬ä¸€ä¸ªè¾¹ç•Œ <code>Shape</code> æ›¿æ¢ <code>T</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(Shape shape)</span></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¡¥æ¥æ–¹æ³•-Bridge-Methods"><a href="#æ¡¥æ¥æ–¹æ³•-Bridge-Methods" class="headerlink" title="æ¡¥æ¥æ–¹æ³•(Bridge Methods)"></a>æ¡¥æ¥æ–¹æ³•(Bridge Methods)</h3><p>æœ‰æ—¶ç±»å‹æ“¦é™¤ä¼šå¯¼è‡´æ— æ³•é¢„æ–™çš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> T data;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(T data)</span> </span>&#123; <span class="keyword">this</span>.data = data; &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(T data)</span> </span>&#123; </span><br><span class="line">    System.out.println(<span class="string">"Node.setData"</span>); </span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyNode</span> <span class="keyword">extends</span> <span class="title">Node</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyNode</span><span class="params">(Integer data)</span> </span>&#123; <span class="keyword">super</span>(data); &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(Integer data)</span> </span>&#123; </span><br><span class="line">    System.out.println(<span class="string">"MyNode.setData"</span>); </span><br><span class="line">    <span class="keyword">super</span>.setData(data);</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å‹æ“¦é™¤åï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> Object data;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Object data)</span> </span>&#123; <span class="keyword">this</span>.data = data; &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(Object data)</span> </span>&#123; </span><br><span class="line">    System.out.println(<span class="string">"Node.setData"</span>); </span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyNode</span> <span class="keyword">extends</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyNode</span><span class="params">(Integer data)</span> </span>&#123; <span class="keyword">super</span>(data); &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(Integer data)</span> </span>&#123; </span><br><span class="line">    System.out.println(<span class="string">"MyNode.setData"</span>);</span><br><span class="line">    <span class="keyword">super</span>.setData(data);</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼ŒNode çš„æ–¹æ³•å˜ä¸º <code>setData(Object data)</code> å’Œ MyNode çš„ <code>setData(Integer data)</code> ä¸ä¼šè¦†ç›–ã€‚</p><p>ä¸ºäº†è§£å†³æ­¤é—®é¢˜å¹¶ä¿ç•™æ³›å‹ç±»å‹çš„å¤šæ€æ€§ï¼ŒJava ç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªæ¡¥æ¥æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyNode</span> <span class="keyword">extends</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ç”Ÿæˆçš„æ¡¥æ¥æ–¹æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(Object data)</span> </span>&#123;</span><br><span class="line">      setData((Integer) data);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(Integer data)</span> </span>&#123; </span><br><span class="line">    System.out.println(<span class="string">"MyNode.setData"</span>); </span><br><span class="line">    <span class="keyword">super</span>.setData(data);</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · Node çš„æ–¹æ³• <code>setData(Object data)</code> å’Œ MyNode ç”Ÿæˆçš„æ¡¥æ¥æ–¹æ³• <code>setData(Object data)</code> å¯ä»¥å®Œæˆæ–¹æ³•çš„è¦†ç›–ã€‚</p><h2 id="æ³›å‹çš„é™åˆ¶-Restrictions-on-Generics"><a href="#æ³›å‹çš„é™åˆ¶-Restrictions-on-Generics" class="headerlink" title="æ³›å‹çš„é™åˆ¶(Restrictions on Generics)"></a>æ³›å‹çš„é™åˆ¶(Restrictions on Generics)</h2><p>ä¸ºäº†æœ‰æ•ˆçš„ä½¿ç”¨æ³›å‹ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹é™åˆ¶ï¼š</p><ul><li>æ— æ³•å®ä¾‹åŒ–å…·æœ‰åŸºæœ¬ç±»å‹çš„æ³›å‹ç±»å‹</li><li>æ— æ³•åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹</li><li>æ— æ³•å£°æ˜ç±»å‹ä¸ºç±»å‹å‚æ•°çš„é™æ€å­—æ®µ</li><li>æ— æ³•å°†Castsæˆ–instanceofä¸å‚æ•°åŒ–ç±»å‹ä¸€èµ·ä½¿ç”¨</li><li>æ— æ³•åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„</li><li>æ— æ³•åˆ›å»ºï¼Œæ•è·æˆ–æŠ›å‡ºå‚æ•°åŒ–ç±»å‹çš„å¯¹è±¡</li><li>æ— æ³•é‡è½½æ¯ä¸ªé‡è½½çš„å½¢å¼å‚æ•°ç±»å‹éƒ½æ“¦é™¤ä¸ºç›¸åŒåŸå§‹ç±»å‹çš„æ–¹æ³•</li></ul><h3 id="æ— æ³•å®ä¾‹åŒ–å…·æœ‰åŸºæœ¬ç±»å‹çš„æ³›å‹ç±»å‹"><a href="#æ— æ³•å®ä¾‹åŒ–å…·æœ‰åŸºæœ¬ç±»å‹çš„æ³›å‹ç±»å‹" class="headerlink" title="æ— æ³•å®ä¾‹åŒ–å…·æœ‰åŸºæœ¬ç±»å‹çš„æ³›å‹ç±»å‹"></a>æ— æ³•å®ä¾‹åŒ–å…·æœ‰åŸºæœ¬ç±»å‹çš„æ³›å‹ç±»å‹</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> K key;</span><br><span class="line">  <span class="keyword">private</span> V value;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(K key, V value)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">this</span>.key = key;</span><br><span class="line">    <span class="keyword">this</span>.value = value; </span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹æ›¿æ¢å‚æ•°ç±»å‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pair&lt;<span class="keyword">int</span>, <span class="keyword">char</span>&gt; p = <span class="keyword">new</span> Pair&lt;&gt;(<span class="number">8</span>, <span class="string">'a'</span>); <span class="comment">// error</span></span><br></pre></td></tr></table></figure><h3 id="æ— æ³•åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹"><a href="#æ— æ³•åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹" class="headerlink" title="æ— æ³•åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹"></a>æ— æ³•åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">append</span><span class="params">(List&lt;E&gt; list)</span> </span>&#123;</span><br><span class="line">   E elem = <span class="keyword">new</span> E(); <span class="comment">// error </span></span><br><span class="line">   list.add(elem);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ— æ³•å£°æ˜ç±»å‹ä¸ºç±»å‹å‚æ•°çš„é™æ€å­—æ®µ"><a href="#æ— æ³•å£°æ˜ç±»å‹ä¸ºç±»å‹å‚æ•°çš„é™æ€å­—æ®µ" class="headerlink" title="æ— æ³•å£°æ˜ç±»å‹ä¸ºç±»å‹å‚æ•°çš„é™æ€å­—æ®µ"></a>æ— æ³•å£°æ˜ç±»å‹ä¸ºç±»å‹å‚æ•°çš„é™æ€å­—æ®µ</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MobileDevice</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> T os; <span class="comment">// error</span></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»çš„é™æ€å­—æ®µæ˜¯æ‰€æœ‰éé™æ€å¯¹è±¡å…±äº«çš„å˜é‡ï¼Œå› æ­¤ï¼Œä¸å…è®¸ä½¿ç”¨ç±»å‹å‚æ•°çš„é™æ€å­—æ®µã€‚</p><h3 id="æ— æ³•å°†Castsæˆ–instanceofä¸å‚æ•°åŒ–ç±»å‹ä¸€èµ·ä½¿ç”¨"><a href="#æ— æ³•å°†Castsæˆ–instanceofä¸å‚æ•°åŒ–ç±»å‹ä¸€èµ·ä½¿ç”¨" class="headerlink" title="æ— æ³•å°†Castsæˆ–instanceofä¸å‚æ•°åŒ–ç±»å‹ä¸€èµ·ä½¿ç”¨"></a>æ— æ³•å°†Castsæˆ–instanceofä¸å‚æ•°åŒ–ç±»å‹ä¸€èµ·ä½¿ç”¨</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">rtti</span><span class="params">(List&lt;E&gt; list)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (list <span class="keyword">instanceof</span> ArrayList&lt;Integer&gt;) &#123; <span class="comment">// error</span></span><br><span class="line">    ...</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Java ç¼–è¯‘å™¨ä¼šæ“¦é™¤æ‰€æœ‰ç±»å‹å‚æ•°ï¼Œæ‰€æœ‰ï¼Œæ— æ³•éªŒè¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨çš„å‚æ•°åŒ–ç±»å‹ã€‚</p><h3 id="æ— æ³•åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„"><a href="#æ— æ³•åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„" class="headerlink" title="æ— æ³•åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„"></a>æ— æ³•åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt;[] arrayOfLists = <span class="keyword">new</span> List&lt;Integer&gt;[<span class="number">2</span>]; <span class="comment">// error</span></span><br></pre></td></tr></table></figure><h3 id="æ— æ³•åˆ›å»ºï¼Œæ•è·æˆ–æŠ›å‡ºå‚æ•°åŒ–ç±»å‹çš„å¯¹è±¡"><a href="#æ— æ³•åˆ›å»ºï¼Œæ•è·æˆ–æŠ›å‡ºå‚æ•°åŒ–ç±»å‹çš„å¯¹è±¡" class="headerlink" title="æ— æ³•åˆ›å»ºï¼Œæ•è·æˆ–æŠ›å‡ºå‚æ•°åŒ–ç±»å‹çš„å¯¹è±¡"></a>æ— æ³•åˆ›å»ºï¼Œæ•è·æˆ–æŠ›å‡ºå‚æ•°åŒ–ç±»å‹çš„å¯¹è±¡</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MathException</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;  ...  &#125; <span class="comment">// error</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueueFullException</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Throwable</span></span>&#123; ... &#125; <span class="comment">// error</span></span><br></pre></td></tr></table></figure><h3 id="æ— æ³•é‡è½½æ¯ä¸ªé‡è½½çš„å½¢å¼å‚æ•°ç±»å‹éƒ½-æ“¦é™¤ä¸ºç›¸åŒåŸå§‹ç±»å‹çš„æ–¹æ³•"><a href="#æ— æ³•é‡è½½æ¯ä¸ªé‡è½½çš„å½¢å¼å‚æ•°ç±»å‹éƒ½-æ“¦é™¤ä¸ºç›¸åŒåŸå§‹ç±»å‹çš„æ–¹æ³•" class="headerlink" title="æ— æ³•é‡è½½æ¯ä¸ªé‡è½½çš„å½¢å¼å‚æ•°ç±»å‹éƒ½ æ“¦é™¤ä¸ºç›¸åŒåŸå§‹ç±»å‹çš„æ–¹æ³•"></a>æ— æ³•é‡è½½æ¯ä¸ªé‡è½½çš„å½¢å¼å‚æ•°ç±»å‹éƒ½ æ“¦é™¤ä¸ºç›¸åŒåŸå§‹ç±»å‹çš„æ–¹æ³•</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Set&lt;String&gt; strSet)</span> </span>&#123; &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Set&lt;Integer&gt; intSet)</span> </span>&#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>print(Set&lt;String&gt; strSet)</code> å’Œ <code>print(Set&lt;Integer&gt; intSet)</code> åœ¨ç±»å‹æ“¦é™¤åæ˜¯å®Œå…¨ç›¸åŒçš„ç±»å‹ï¼Œæ‰€ä»¥ï¼Œæ— æ³•é‡è½½ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/generics.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutter(Flare) æœ€æœ‰è¶£ç”¨æˆ·äº¤äº’åŠ¨ç”»æ²¡æœ‰ä¹‹ä¸€</title>
      <link>https://h.lishaoy.net/flutter-flare.html</link>
      <guid>https://h.lishaoy.net/flutter-flare.html</guid>
      <pubDate>Fri, 03 Jul 2020 17:09:16 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/flutterFlare/flutter-flare-cover.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter Flare&quot; title=&quot;Flutter Flare&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;2019å¹´12æœˆ12æ—¥ï¼Œ&lt;strong&gt;Flutter&lt;/strong&gt; åœ¨ &lt;strong&gt;Flutter Interact â€˜19&lt;/strong&gt; ä¸Šå‘å¸ƒäº†å¦‚ä½•ä½¿ç”¨ &lt;strong&gt;Rive&lt;/strong&gt; å’Œ &lt;strong&gt;Flutter&lt;/strong&gt; åˆ¶ä½œåŠ¨æ€å¯äº¤äº’çš„åŠ¨ç”»ç»éªŒåˆ†äº«ï¼Œæˆ‘çœ‹äº†ä¹‹åï¼Œè§‰å¾—éå¸¸æœ‰è¶£ï¼Œå› æ­¤ï¼Œå†™äº†3ä¸ªå° demoï¼ŒæŠŠå®ƒå†™æˆæ–‡ç« è®°å½•åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/flutterFlare/flutter-flare-cover.png" class="full-image" alt="Flutter Flare" title="Flutter Flare"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>2019å¹´12æœˆ12æ—¥ï¼Œ<strong>Flutter</strong> åœ¨ <strong>Flutter Interact â€˜19</strong> ä¸Šå‘å¸ƒäº†å¦‚ä½•ä½¿ç”¨ <strong>Rive</strong> å’Œ <strong>Flutter</strong> åˆ¶ä½œåŠ¨æ€å¯äº¤äº’çš„åŠ¨ç”»ç»éªŒåˆ†äº«ï¼Œæˆ‘çœ‹äº†ä¹‹åï¼Œè§‰å¾—éå¸¸æœ‰è¶£ï¼Œå› æ­¤ï¼Œå†™äº†3ä¸ªå° demoï¼ŒæŠŠå®ƒå†™æˆæ–‡ç« è®°å½•åˆ†äº«ç»™å¤§å®¶ã€‚</p><hr><a id="more"></a><h2 id="åè¯ç†è§£"><a href="#åè¯ç†è§£" class="headerlink" title="åè¯ç†è§£"></a>åè¯ç†è§£</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ç†è§£å‡ ä¸ªåè¯ï¼Œä¸ç„¶åç»­æ–‡ç« ï¼Œå¯èƒ½çœ‹ç€æœ‰äº›æ™•ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>Flareï¼šæ˜¯ Flutter çš„åŠ¨ç”»æ’ä»¶åç§°ï¼Œå®Œæ•´åç§°æ˜¯ <code>flare_flutter</code> æˆ‘ä»¬è¦åœ¨ <code>pubspec.yaml</code> æ–‡ä»¶é‡Œå¼•å…¥</li><li>Riveï¼šæ˜¯åˆ¶ä½œ Flare åŠ¨ç”»çš„<a href="https://rive.app/about-rive" target="_blank" rel="noopener">ç½‘ç«™</a>ï¼Œå®ƒæ—¢æ˜¯ä¸€ä¸ªç½‘ç«™ä¹Ÿæ˜¯åˆ¶ä½œå·¥å…·ï¼Œåœ¨æ­¤ç½‘ç«™é‡Œæœ‰å¾ˆå¤šç”¨æˆ·åˆ†äº« Flare åŠ¨ç”»ä¾›æˆ‘ä»¬ä¸‹è½½ä½¿ç”¨ã€Flare APIä½¿ç”¨æ–‡æ¡£ã€åˆ¶ä½œ Flare åŠ¨ç”»çš„è§†é¢‘æ•™ç¨‹ï¼ˆå¤§å®¶ä¹Ÿå¯ä»¥é€šè¿‡å­¦ä¹ åˆ¶ä½œè‡ªå·±å–œæ¬¢çš„åŠ¨ç”»ï¼‰ç­‰</li></ul><h2 id="äº¤äº’åŠ¨ç”»é¢„è§ˆ"><a href="#äº¤äº’åŠ¨ç”»é¢„è§ˆ" class="headerlink" title="äº¤äº’åŠ¨ç”»é¢„è§ˆ"></a>äº¤äº’åŠ¨ç”»é¢„è§ˆ</h2><h3 id="ç™»å½•äº¤äº’åŠ¨ç”»"><a href="#ç™»å½•äº¤äº’åŠ¨ç”»" class="headerlink" title="ç™»å½•äº¤äº’åŠ¨ç”»"></a>ç™»å½•äº¤äº’åŠ¨ç”»</h3><p>ç™»å½•äº¤äº’åŠ¨ç”»ï¼ŒåŒ…å«å¦‚ä¸‹6ç§åŠ¨ç”»ï¼š</p><ul><li>idleï¼šæ— ä»»ä½•æ“ä½œæ—¶çš„çŠ¶æ€ï¼ˆç†Šçš„èº«ä½“ä¼šä¸Šä¸‹æµ®åŠ¨å’Œçœ¨çœ¼ç›ï¼‰</li><li>testï¼šå½“æˆ‘ä»¬åœ¨ email è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ï¼ˆç†Šä¼šçœ‹å‘è¾“å…¥æ¡†ï¼Œä¸”éšç€ä½ è¾“å…¥çš„é•¿åº¦æ—‹è½¬å¤´éƒ¨ï¼‰</li><li>hands_upï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ ï¼ˆç†Šä¼šç”¨æ‰‹è’™ä¸Šçœ¼ç›ï¼‰</li><li>hands_downï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†è¾“å…¥å®Œæˆæ—¶çš„çŠ¶æ€ ï¼ˆç†Šä¼šæ”¾ä¸‹åŒæ‰‹ï¼‰</li><li>failï¼šå½“æˆ‘ä»¬ç™»å½•å¤±è´¥æ—¶çš„çŠ¶æ€ï¼ˆç†Šä¼šåšå‡ºéš¾è¿‡çš„è¡¨æƒ…ï¼‰</li><li>successï¼šå½“æˆ‘ä»¬ç™»å½•æˆåŠŸæ—¶çš„çŠ¶æ€ï¼ˆç†Šä¼šåšå‡ºé«˜å…´çš„è¡¨æƒ…ï¼‰</li></ul><p>ä»¥ä¸Š6ç§çŠ¶æ€ï¼Œå¯ä»¥åœ¨ <strong>Rive</strong> ç½‘ç«™æŸ¥çœ‹å…·ä½“åŠ¨ç”»ï¼Œ<a href="https://rive.app/a/castor/files/flare/teddy-with-hands/preview" target="_blank" rel="noopener">ç‚¹å‡»è¿›å…¥æŸ¥çœ‹</a></p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ¡ˆä¾‹é‡Œå®ç°åŠ¨ç”»æ•ˆæœ</p><p>idleï¼šæ— ä»»ä½•æ“ä½œæ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/sign-in.gif" alt="no-shadow" title="idle"></div><p>testï¼šå½“æˆ‘ä»¬åœ¨ email è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/email.gif" alt="no-shadow" title="test"></div><p>hands_upï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶çš„çŠ¶æ€ï¼Œhands_downï¼šå½“æˆ‘ä»¬åœ¨ password è¾“å…¥æ¡†è¾“å…¥å®Œæˆæ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/password.gif" alt="no-shadow" title="hands_up &amp; hands_down"></div><p>failï¼šå½“æˆ‘ä»¬ç™»å½•å¤±è´¥æ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/failure.gif" alt="no-shadow" title="fail"></div><p>successï¼šå½“æˆ‘ä»¬ç™»å½•æˆåŠŸæ—¶çš„çŠ¶æ€ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/successful.gif" alt="no-shadow" title="success"></div><h3 id="Buttonäº¤äº’åŠ¨ç”»"><a href="#Buttonäº¤äº’åŠ¨ç”»" class="headerlink" title="Buttonäº¤äº’åŠ¨ç”»"></a>Buttonäº¤äº’åŠ¨ç”»</h3><p>button äº¤äº’åŠ¨ç”»ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/button.gif" alt="no-shadow" title="button"></div><h3 id="Menuäº¤äº’åŠ¨ç”»"><a href="#Menuäº¤äº’åŠ¨ç”»" class="headerlink" title="Menuäº¤äº’åŠ¨ç”»"></a>Menuäº¤äº’åŠ¨ç”»</h3><p>menu äº¤äº’åŠ¨ç”»ï¼Œå¦‚å›¾ï¼š</p><div style="width: 100%; margin:auto"><img src="https://cdn.lishaoy.net/flutterFlare/menu.gif" alt="no-shadow" title="menu"></div><p>ä»¥ä¸Šæ‰€æœ‰åŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥ <a href="https://www.bilibili.com/video/BV14p4y1U7YN/" target="_blank" rel="noopener">ç‚¹å‡»è§‚çœ‹è§†é¢‘</a></p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>å¦‚ä½•ç”¨ä»£ç å®ç°ï¼Œåˆ†ä¸ºä»¥ä¸‹2ä¸ªæ­¥éª¤ï¼š</p><ul><li>å¼•å…¥æ’ä»¶å’Œèµ„æºï¼šå¼•å…¥ç›¸å…³æ’ä»¶ <code>flare_flutter</code> ã€ <code>smart_flare</code></li><li>ç¼–å†™ä»£ç ï¼šç¼–å†™ç›¸å…³ä»£ç </li></ul><h3 id="å¼•å…¥æ’ä»¶å’Œèµ„æº"><a href="#å¼•å…¥æ’ä»¶å’Œèµ„æº" class="headerlink" title="å¼•å…¥æ’ä»¶å’Œèµ„æº"></a>å¼•å…¥æ’ä»¶å’Œèµ„æº</h3><p>å¼•å…¥æ’ä»¶å’Œèµ„æºï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dependencies:</span><br><span class="line">  ...</span><br><span class="line">  flare_flutter: ^2.0.4  <span class="comment"># flare æ’ä»¶</span></span><br><span class="line">  smart_flare: any  <span class="comment"># å¯¹ flare APIè¿›è¡Œå°è£…çš„æ’ä»¶ï¼Œä½¿ç”¨å°‘é‡çš„ä»£ç å³å¯å®ç°äº¤äº’åŠ¨ç”»</span></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">assets:</span><br><span class="line">  ...</span><br><span class="line">  - assets/Teddy.flr</span><br><span class="line">  - assets/button-animation.flr</span><br><span class="line">  - assets/slideout-menu.flr</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><p>ç”±äºï¼Œç™»å½•äº¤äº’åŠ¨ç”»ç¨å¤æ‚ä¸€äº›ï¼Œåœ¨æ­¤å°±ä¸å±•ç¤ºå®ç°çš„ä»£ç ï¼Œå¦‚æ„Ÿå…´è¶£ï¼Œå¯<a href="https://github.com/persilee/flutter_pro/blob/master/lib/demo/flare_demo/flare_sign_in_demo.dart" target="_blank" rel="noopener">ç§»æ­¥GitHubæŸ¥çœ‹æºç </a></p><h3 id="Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°"><a href="#Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°" class="headerlink" title="Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°"></a>Buttonäº¤äº’åŠ¨ç”»ä»£ç å®ç°</h3><p>button äº¤äº’åŠ¨ç”»ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:smart_flare/actors/smart_flare_actor.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:smart_flare/models.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FlareButtonDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _FlareButtonDemoState createState() =&gt; _FlareButtonDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_FlareButtonDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">FlareButtonDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">var</span> animationWidth = <span class="number">295.0</span>;</span><br><span class="line">    <span class="keyword">var</span> animationHeight = <span class="number">251.0</span>;</span><br><span class="line">    <span class="keyword">var</span> animationWidthThirds = animationWidth / <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">var</span> halfAnimationHeight = animationHeight / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> activeAreas = [</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">        area: Rect.fromLTWH(<span class="number">0</span>, <span class="number">0</span>, animationWidthThirds, halfAnimationHeight),</span><br><span class="line">        debugArea: <span class="keyword">false</span>,</span><br><span class="line">        guardComingFrom: [<span class="string">'deactivate'</span>],</span><br><span class="line">        animationName: <span class="string">'camera_tapped'</span>,</span><br><span class="line">      ),</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">          area: Rect.fromLTWH(animationWidthThirds, <span class="number">0</span>, animationWidthThirds, halfAnimationHeight),</span><br><span class="line">          debugArea: <span class="keyword">false</span>,</span><br><span class="line">          guardComingFrom: [<span class="string">'deactivate'</span>],</span><br><span class="line">          animationName: <span class="string">'pulse_tapped'</span>),</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">          area: Rect.fromLTWH(animationWidthThirds * <span class="number">2</span>, <span class="number">0</span>, animationWidthThirds, halfAnimationHeight),</span><br><span class="line">          debugArea: <span class="keyword">false</span>,</span><br><span class="line">          guardComingFrom: [<span class="string">'deactivate'</span>],</span><br><span class="line">          animationName: <span class="string">'image_tapped'</span>),</span><br><span class="line"></span><br><span class="line">      ActiveArea(</span><br><span class="line">          area: Rect.fromLTWH(<span class="number">0</span>, animationHeight / <span class="number">2</span>, animationWidth, animationHeight / <span class="number">2</span>),</span><br><span class="line">          debugArea: <span class="keyword">false</span>,</span><br><span class="line">          animationsToCycle: [<span class="string">'activate'</span>, <span class="string">'deactivate'</span>],</span><br><span class="line">          onAreaTapped: () &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'Button tapped!'</span>);</span><br><span class="line">          &#125;)</span><br><span class="line"></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Flare Button Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: Container(</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          gradient: LinearGradient(</span><br><span class="line">              begin: Alignment.topCenter,</span><br><span class="line">              end: Alignment.bottomCenter,</span><br><span class="line">              colors: [</span><br><span class="line">                Color(<span class="number">0x3fffeb3b</span>),</span><br><span class="line">                Colors.orange,</span><br><span class="line">              ]),</span><br><span class="line">        ),</span><br><span class="line">        child: Align(</span><br><span class="line">          alignment: Alignment.bottomCenter,</span><br><span class="line">          child: SmartFlareActor(</span><br><span class="line">            width: animationWidth,</span><br><span class="line">            height: animationHeight,</span><br><span class="line">            filename: <span class="string">'assets/button-animation.flr'</span>,</span><br><span class="line">            startingAnimation: <span class="string">'deactivate'</span>,</span><br><span class="line">            activeAreas: activeAreas,</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°"><a href="#Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°" class="headerlink" title="Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°"></a>Menuäº¤äº’åŠ¨ç”»ä»£ç å®ç°</h3><p>menu äº¤äº’åŠ¨ç”»ä»£ç å®ç°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:smart_flare/smart_flare.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FlareSidebarMenuDemo</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="built_in">print</span>(MediaQuery.of(context).size.height);</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Container(</span><br><span class="line">        child: Align(</span><br><span class="line">          alignment: Alignment.centerRight,</span><br><span class="line">          child: PanFlareActor(</span><br><span class="line">            width: MediaQuery.of(context).size.width / <span class="number">2.366</span>,</span><br><span class="line">            height: MediaQuery.of(context).size.height,</span><br><span class="line">            filename: <span class="string">'assets/slideout-menu.flr'</span>,</span><br><span class="line">            openAnimation: <span class="string">'open'</span>,</span><br><span class="line">            closeAnimation: <span class="string">'close'</span>,</span><br><span class="line">            direction: ActorAdvancingDirection.RightToLeft,</span><br><span class="line">            threshold: <span class="number">20.0</span>,</span><br><span class="line">            reverseOnRelease: <span class="keyword">true</span>,</span><br><span class="line">            completeOnThresholdReached: <span class="keyword">true</span>,</span><br><span class="line">            activeAreas: [</span><br><span class="line">              RelativePanArea(</span><br><span class="line">                  area: Rect.fromLTWH(<span class="number">0</span>, <span class="number">.7</span>, <span class="number">1.0</span>, <span class="number">.3</span>), debugArea: <span class="keyword">false</span>),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Š3ä¸ªäº¤äº’åŠ¨ç”»æ¡ˆä¾‹çš„æºç ï¼Œæ”¾åœ¨äº†æˆ‘2å¹´å‰å†™çš„ä¸€ä¸ª <a href="https://github.com/persilee/flutter_pro" target="_blank" rel="noopener">Flutteræ¡ˆä¾‹</a> çš„é¡¹ç›®é‡Œäº†ï¼Œæ­¤é¡¹ç›®ç°å·²ç»´æŠ¤èµ·æ¥ï¼Œä»¥åä¼šé•¿æœŸæ›´æ–°ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æ”¶è—ï¼Œæ²¡äº‹æ—¶æ¥çœ‹çœ‹å¯èƒ½ä¼šæœ‰æ–°çš„å‘ç° ğŸ˜²</p><p>æ­¤ç¯‡æ–‡ç« åˆ°æ­¤ç»“æŸï¼Œä¸‹ç¯‡æ–‡ç« è®¡åˆ’ç»™å¤§å®¶åˆ†äº«ï¼ŒFlutter é‡Œçš„è·¯ç”±ï¼Œä¼šæ€»ç»“å½’çº³æ‰€æœ‰çš„è·¯ç”±ä½¿ç”¨æ–¹æ³•ï¼Œæœ€åæ¥å°è£…ä¸€ä¸ªä¼˜ç§€çš„è·¯ç”±ç®¡ç†ç±»ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/flutter-flare.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>FutureBuilder and StreamBuilder ä¼˜é›…çš„æ„å»ºé«˜è´¨é‡é¡¹ç›®</title>
      <link>https://h.lishaoy.net/futrueBuilder-streamBuilder.html</link>
      <guid>https://h.lishaoy.net/futrueBuilder-streamBuilder.html</guid>
      <pubDate>Mon, 29 Jun 2020 11:59:16 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/fureBuilderStreamBuilder/cover.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»ä» &lt;code&gt;setState&lt;/code&gt; å¼€å§‹ï¼Œåˆ° &lt;code&gt;futureBuilder&lt;/code&gt; ã€ &lt;code&gt;streamBuilder&lt;/code&gt; æ¥ä¼˜é›…çš„æ„å»ºä½ çš„é«˜è´¨é‡é¡¹ç›®ï¼Œè€Œä¸å¼•å‘ &lt;code&gt;setState&lt;/code&gt; å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œå¦‚å¯¹æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¯· &lt;a href=&quot;https://github.com/persilee/flutter_pro&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç‚¹å‡»æŸ¥çœ‹æºç &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/fureBuilderStreamBuilder/cover.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»ä» <code>setState</code> å¼€å§‹ï¼Œåˆ° <code>futureBuilder</code> ã€ <code>streamBuilder</code> æ¥ä¼˜é›…çš„æ„å»ºä½ çš„é«˜è´¨é‡é¡¹ç›®ï¼Œè€Œä¸å¼•å‘ <code>setState</code> å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œå¦‚å¯¹æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¯· <a href="https://github.com/persilee/flutter_pro" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æºç </a>ã€‚</p><hr><a id="more"></a><h2 id="åŸºç¡€çš„setStateæ›´æ–°æ•°æ®"><a href="#åŸºç¡€çš„setStateæ›´æ–°æ•°æ®" class="headerlink" title="åŸºç¡€çš„setStateæ›´æ–°æ•°æ®"></a>åŸºç¡€çš„setStateæ›´æ–°æ•°æ®</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨åŸºç¡€çš„ <code>StatefulWidget</code> æ¥åˆ›å»ºé¡µé¢ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseStatefulDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _BaseStatefulDemoState createState() =&gt; _BaseStatefulDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_BaseStatefulDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">BaseStatefulDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Future</code> æ¥åˆ›å»ºä¸€äº›æ•°æ®ï¼Œæ¥æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;&gt; _getListData() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>)); <span class="comment">// 1ç§’ä¹‹åè¿”å›æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>initState()</code> æ–¹æ³•ä¸­è°ƒç”¨ <code>_getListData()</code> æ¥åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _pageData = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData().then((data) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = data;</span><br><span class="line">          &#125;));</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>ListView.builder</code> æ¥å¤„ç†è¿™äº›æ•°æ®æ„å»ºUIï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Scaffold(</span><br><span class="line">    appBar: AppBar(</span><br><span class="line">      title: Text(<span class="string">'Base Stateful Demo'</span>),</span><br><span class="line">    ),</span><br><span class="line">    body: ListView.builder(</span><br><span class="line">      itemCount: _pageData.length,</span><br><span class="line">      itemBuilder: (buildContext, index) &#123;</span><br><span class="line">        <span class="keyword">return</span> Column(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(_pageData[index]),</span><br><span class="line">            ),</span><br><span class="line">            Divider(),</span><br><span class="line">          ],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ç•Œé¢äº† ğŸ˜ ï¼Œå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/list-data.png" alt="no-shadow" title="list data"></div><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å°† <strong>UI</strong> æ˜¾ç¤ºå•ç‹¬æå–æˆä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹ä¾¿åæœŸç»´æŠ¤ï¼Œä½¿ä»£ç å±‚æ¬¡æ›´æ¸…æ™°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Scaffold(</span><br><span class="line">    appBar: AppBar(</span><br><span class="line">      title: Text(<span class="string">'Base Stateful Demo'</span>),</span><br><span class="line">    ),</span><br><span class="line">    body: ListView.builder(</span><br><span class="line">      itemCount: _pageData.length,</span><br><span class="line">      itemBuilder: (buildContext, index) &#123;</span><br><span class="line">        <span class="keyword">return</span> getListDataUi(<span class="built_in">int</span> index);</span><br><span class="line">      &#125;,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget getListDataUi(<span class="built_in">int</span> index) &#123;</span><br><span class="line">  <span class="keyword">return</span> Column(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                ListTile(</span><br><span class="line">                  title: Text(_pageData[index]),</span><br><span class="line">                ),</span><br><span class="line">                Divider(),</span><br><span class="line">              ],</span><br><span class="line">            );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»§ç»­ï¼Œæˆ‘ä»¬æ¥å®Œå–„å®ƒï¼Œæ­£å¸¸ä»åç«¯è·å–æ•°æ®ï¼Œåç«¯åº”è¯¥ä¼šç»™æˆ‘ä»¬è¿”å›ä¸åŒä¿¡æ¯ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯éœ€è¦å¤„ç†ä¸åŒçš„çŠ¶æ€ï¼Œå¦‚ï¼š</p><ul><li>BusyState(åŠ è½½ä¸­)ï¼šæˆ‘ä»¬åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºä¸€ä¸ªåŠ è½½æŒ‡ç¤ºå™¨</li><li>DataFetchedState(æ•°æ®åŠ è½½å®Œæˆ)ï¼šæˆ‘ä»¬å»¶è¿Ÿ2ç§’ï¼Œæ¥æ¨¡æ‹Ÿæ•°æ®åŠ è½½å®Œæˆ</li><li>ErrorState(é”™è¯¯)ï¼šæ˜¾ç¤ºé”™è¯¯æç¤º</li><li>NoData(æ²¡æœ‰æ•°æ®)ï¼šè¯·æ±‚æˆåŠŸï¼Œä½†æ²¡æœ‰æ•°æ®ï¼Œæ˜¾ç¤ºæç¤º</li></ul><p>å…ˆæ¥å¤„ç† <strong>BusyState</strong> åŠ è½½æŒ‡ç¤ºå™¨ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> <span class="keyword">get</span> _fetchingData =&gt; _pageData == <span class="keyword">null</span>; <span class="comment">// åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Base Stateful Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: _fetchingData</span><br><span class="line">          ? Center(</span><br><span class="line">              child: CircularProgressIndicator( <span class="comment">// åŠ è½½æŒ‡ç¤ºå™¨ </span></span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow), <span class="comment">// è®¾ç½®æŒ‡ç¤ºå™¨é¢œè‰²</span></span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],  <span class="comment">// è®¾ç½®èƒŒæ™¯è‰²</span></span><br><span class="line">              ),</span><br><span class="line">            )</span><br><span class="line">          : ListView.builder(</span><br><span class="line">              itemCount: _pageData.length,</span><br><span class="line">              itemBuilder: (buildContext, index) &#123;</span><br><span class="line">                <span class="keyword">return</span> getListDataUi(index);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/indicator.png" alt="no-shadow" title="indicator"></div><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥å¤„ç† <strong>ErrorState</strong> ï¼Œæˆ‘ç»™ <code>_getListData()</code> æ·»åŠ  <code>hasError</code> å‚æ•°æ¥æ¨¡æ‹Ÿåç«¯è¿”å›çš„é”™è¯¯ï¼Œå¦‚ä¸‹</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;&gt; _getListData(&#123;<span class="built_in">bool</span> hasError = <span class="keyword">false</span>&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>)); <span class="comment">// 1ç§’ä¹‹åè¿”å›æ•°æ®</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">    <span class="keyword">return</span> Future.error(<span class="string">'è·å–æ•°æ®å‡ºç°é—®é¢˜ï¼Œè¯·å†è¯•ä¸€æ¬¡'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <code>initState()</code> æ–¹æ³•ä¸­æ•è·å¼‚å¸¸æ›´æ–°æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData(hasError: <span class="keyword">true</span>)</span><br><span class="line">      .then((data) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = data;</span><br><span class="line">          &#125;))</span><br><span class="line">      .catchError((error) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = [error];</span><br><span class="line">          &#125;));</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾( <em>å½“ç„¶è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé”™è¯¯é¡µé¢æ¥å±•ç¤º</em> )ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/error.png" alt="no-shadow" title="error"></div><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥å¤„ç† <strong>NoData</strong> ï¼Œæˆ‘ç»™ <code>_getListData()</code> æ·»åŠ  <code>hasData</code> å‚æ•°æ¥æ¨¡æ‹Ÿåç«¯è¿”å›ç©ºæ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;&gt; _getListData(</span><br><span class="line">    &#123;<span class="built_in">bool</span> hasError = <span class="keyword">false</span>, <span class="built_in">bool</span> hasData = <span class="keyword">true</span>&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">    <span class="keyword">return</span> Future.error(<span class="string">'è·å–æ•°æ®å‡ºç°é—®é¢˜ï¼Œè¯·å†è¯•ä¸€æ¬¡'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!hasData) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <code>initState()</code> æ–¹æ³•æ›´æ–°æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData(hasError: <span class="keyword">false</span>, hasData: <span class="keyword">false</span>)</span><br><span class="line">      .then((data) =&gt; setState(() &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.length == <span class="number">0</span>) &#123;</span><br><span class="line">              data.add(<span class="string">'No data fount'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            _pageData = data;</span><br><span class="line">          &#125;))</span><br><span class="line">      .catchError((error) =&gt; setState(() &#123;</span><br><span class="line">            _pageData = [error];</span><br><span class="line">          &#125;));</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="width: 36%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/no-data.png" alt="no-shadow" title="error"></div><div class="note success"><p>è¿™å°±æ˜¯é€šè¿‡ <code>setState()</code> æ¥æ›´æ–°æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™ä¹ˆä½¿ç”¨æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„é¡µé¢è¶³å¤Ÿå¤æ‚ï¼Œè¦å¤„ç†çš„çŠ¶æ€è¶³å¤Ÿå¤šï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ›´å¤šçš„ <code>setState()</code> ï¼Œæ„å‘³ç€æˆ‘ä»¬è¦æ›´å¤šçš„ä»£ç æ¥æ›´æ–°æ•°æ®ï¼Œè€Œä¸”ï¼Œæˆ‘ä»¬æ¯æ¬¡ <code>setState()</code> çš„æ—¶å€™ <code>build()</code> æ–¹æ³•å°±ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡( <em>è¿™å°±æ˜¯ä¸Šæ–‡æåˆ°çš„å‰¯ä½œç”¨</em> )ã€‚</p><p>å…¶å®ï¼Œ<strong>Flutter</strong> å·²ç»æä¾›äº†æ›´ä¼˜é›…çš„æ–¹å¼æ¥æ›´æ–°æˆ‘ä»¬çš„æ•°æ®åŠå¤„ç†çŠ¶æ€ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»çš„ <code>futureBuilder</code>ã€‚</p></div><h2 id="FutureBuilder"><a href="#FutureBuilder" class="headerlink" title="FutureBuilder"></a>FutureBuilder</h2><p><code>FutureBuilder</code> é€šè¿‡ <strong>future:</strong> å‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ª <code>Future</code> ï¼Œå¹¶ä¸”é€šè¿‡ <strong>builder:</strong> å‚æ•°æ¥æ„å»º <strong>UI</strong> ï¼Œ<strong>builder:</strong> å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæä¾›äº†ä¸€ä¸ª <code>snapshot</code> å‚æ•°é‡Œé¢å¸¦ç€æˆ‘ä»¬éœ€è¦çš„çŠ¶æ€å’Œæ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ <code>StatefulWidget</code> æ”¹æˆ <code>StatelessWidget</code> ï¼Œå¹¶ä½¿ç”¨ <code>FutureBuilder</code> æ›¿æ¢ï¼Œå¦‚ä¸‹:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FutureBuilderDemo</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Future Builder Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: FutureBuilder(</span><br><span class="line">        future: _getListData(),</span><br><span class="line">        builder: (buildContext, snapshot) &#123;</span><br><span class="line">          <span class="keyword">if</span> (snapshot.hasError) &#123;  <span class="comment">// FutureBuilder å·²ç»ç»™æˆ‘ä»¬æä¾›å¥½äº† error çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(snapshot.error);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!snapshot.hasData) &#123; <span class="comment">// FutureBuilder å·²ç»ç»™æˆ‘ä»¬æä¾›å¥½äº†ç©ºæ•°æ®çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">              child: CircularProgressIndicator(</span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow),</span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],</span><br><span class="line">              ),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">var</span> listData = snapshot.data;</span><br><span class="line">          <span class="keyword">if</span> (listData.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(<span class="string">'No data found'</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: listData.length,</span><br><span class="line">            itemBuilder: (buildContext, index) &#123;</span><br><span class="line">              <span class="keyword">return</span> Column(</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  ListTile(</span><br><span class="line">                    title: Text(listData[index]),</span><br><span class="line">                  ),</span><br><span class="line">                  Divider(),</span><br><span class="line">                ],</span><br><span class="line">              );</span><br><span class="line">            &#125;,</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŸ¥çœ‹æºç ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£çš„ <code>FutureBuilder</code> å·²ç»ç»™æˆ‘å¤„ç†å¥½äº†ä¸€äº›åŸºæœ¬çŠ¶æ€ï¼Œå¦‚å›¾</p><div style="width: 66%; margin:auto"><img src="https://cdn.lishaoy.net/fureBuilderStreamBuilder/snapshot.png" alt="snapshot" title="snapshot"></div><p>æˆ‘ä»¬ä½¿ç”¨ <code>_getInfoMessage()</code> æ–¹æ³•æ¥å¤„ç†çŠ¶æ€æç¤ºï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Widget _getInfoMessage(String msg) &#123;</span><br><span class="line">  return Center(</span><br><span class="line">    child: Text(msg),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±è¿™æ ·æˆ‘ä»¬ä¸ä½¿ç”¨ä»»ä½•ä¸€ä¸ª <code>setState()</code> å°±èƒ½å®Œæˆå’Œä¸Šé¢ä¸€æ ·çš„æ•ˆæœï¼Œå¹¶ä¸”ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ˜¯ä¸æ˜¯å¾ˆç»™åŠ› ğŸ’ªã€‚</p><div class="note info"><p>ä½†æ˜¯ï¼Œå®ƒå¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³åˆ·æ–°æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°è°ƒç”¨ <code>_getListData()</code> æ–¹æ³•ï¼Œç»“æœå®ƒå¹¶æ²¡æœ‰åˆ·æ–°ã€‚</p></div>  <h2 id="StreamBuilder"><a href="#StreamBuilder" class="headerlink" title="StreamBuilder"></a>StreamBuilder</h2><p><code>StreamBuilder</code> é€šè¿‡ <strong>stream:</strong> å‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ª <code>stream</code> ï¼ŒåŒæ ·ï¼Œé€šè¿‡ <strong>builder:</strong> å‚æ•°æ¥æ„å»º <strong>UI</strong> ï¼Œå’Œ <code>futureBuilder</code> ç”¨æ³•ç±»ä¼¼ï¼Œå”¯ä¸€çš„å¥½å¤„å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥éšæ„æ§åˆ¶ <code>stream</code> çš„è¾“å…¥è¾“å‡ºï¼Œæ·»åŠ ä»»ä½•çš„çŠ¶æ€æ¥æ›´æ–°æŒ‡å®šçŠ¶æ€ä¸‹çš„ <strong>UI</strong> ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>enum</code> æ¥è¡¨ç¤ºæˆ‘ä»¬çš„çŠ¶æ€ï¼Œåœ¨æ–‡ä»¶çš„å¤´éƒ¨æ·»åŠ å®ƒï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> StreamViewState &#123; Busy, DataRetrieved, NoData &#125;</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œä½¿ç”¨ <code>StreamController</code> åˆ›å»ºä¸€ä¸ªæµæ§åˆ¶å™¨ï¼ŒæŠŠ <code>FutureBuilder</code> æ›¿æ¢æˆ <code>StreamBuilder</code> ï¼ŒæŠŠ <strong>future:</strong> å‚æ•° æ”¹æˆ <strong>stream:</strong> å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">final</span> StreamController&lt;StreamDemoState&gt; _stateController = StreamController&lt;StreamDemoState&gt;();</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line"></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line">      body: StreamBuilder(</span><br><span class="line">        stream: model.homeState,</span><br><span class="line">        builder: (buildContext, snapshot) &#123;</span><br><span class="line">          <span class="keyword">if</span> (snapshot.hasError) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(snapshot.error);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// ä½¿ç”¨ æšä¸¾çš„ Busy æ¥æ›´æ–°æ•°æ®</span></span><br><span class="line">          <span class="keyword">if</span> (!snapshot.hasData || StreamViewState.Busy) &#123;</span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">              child: CircularProgressIndicator(</span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow),</span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],</span><br><span class="line">              ),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//ä½¿ç”¨ æšä¸¾çš„ NoData æ¥æ›´æ–°æ•°æ®</span></span><br><span class="line">          <span class="keyword">if</span> (listItems.length == StreamViewState.NoData) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInfoMessage(<span class="string">'No data found'</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: listItems.length,</span><br><span class="line">            itemBuilder: (buildContext, index) &#123;</span><br><span class="line">              <span class="keyword">return</span> Column(</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  ListTile(</span><br><span class="line">                    title: Text(listItems[index]),</span><br><span class="line">                  ),</span><br><span class="line">                  Divider(),</span><br><span class="line">                ],</span><br><span class="line">              );</span><br><span class="line">            &#125;,</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åªæ˜¯æ–°å¢äº†æšä¸¾å€¼æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°æ•°æ®ï¼Œå…¶ä»–åŸºæœ¬ä¿æŒä¸å˜ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘éœ€è¦ä¿®æ”¹ <code>_getListData()</code> æ–¹æ³•ï¼Œä½¿ç”¨æµæ§åˆ¶å™¨æ·»åŠ çŠ¶æ€åŠæ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Future _getListData(&#123;<span class="built_in">bool</span> hasError = <span class="keyword">false</span>, <span class="built_in">bool</span> hasData = <span class="keyword">true</span>&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  _stateController.add(StreamViewState.Busy);</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">    <span class="keyword">return</span> _stateController.addError(<span class="string">'error'</span>); <span class="comment">// å¾€ stream é‡Œæ–°å¢ error æ•°æ®</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!hasData) &#123;</span><br><span class="line">    <span class="keyword">return</span> _stateController.add(StreamViewState.NoData); <span class="comment">// å¾€ stream é‡Œæ–°å¢æ— æ•°æ®çŠ¶æ€</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _listItems = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">  _stateController.add(StreamViewState.DataRetrieved); <span class="comment">// å¾€ stream é‡Œæ–°å¢æ•°æ®è·å–å®ŒæˆçŠ¶æ€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰è¿”å›æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ›å»º <code>listItems</code> å­˜å‚¨æ•°æ®ï¼Œç„¶åæŠŠ <code>StatelessWidget</code> æ”¹æˆ <code>StatefulWidget</code> ï¼Œä»¥ä¾¿æˆ‘ä»¬æ ¹æ® <code>stream</code> çš„è¾“å‡ºæ¥æ›´æ–°æ•°æ®ï¼Œè¿™ä¸ªè½¬æ¢éå¸¸æ–¹ä¾¿ï¼Œ<strong>VS Code</strong> ç¼–è¾‘å™¨å¯ä»¥ä½¿ç”¨ <code>Option + Shift + R</code> ï¼ˆMacï¼‰æˆ–è€… <code>Ctrl + Shift + R</code> (Win)å¿«æ·é”® ï¼Œ<strong>Android Studio</strong> ä½¿ç”¨<code>Option + Enter</code> å¿«æ·é”®ï¼Œä¹‹ååœ¨ <code>initState()</code> æ–¹æ³•ä¸­åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; listItems;</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line"><span class="keyword">void</span> initState() &#123;</span><br><span class="line">  _getListData();</span><br><span class="line">  <span class="keyword">super</span>.initState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»è§£å†³äº† <code>FutureBuilder</code> çš„å±€é™æ€§é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ–°å¢ä¸€ä¸ª <code>FloatingActionButton</code> æ¥åˆ·æ–°æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">'Stream Builder Demo'</span>),</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        backgroundColor: Colors.yellow,</span><br><span class="line">        child: Icon(</span><br><span class="line">          Icons.cached,</span><br><span class="line">          color: Colors.black87,</span><br><span class="line">        ),</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          model.dispatch(FetchData());</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">      body: StreamBuilder(</span><br><span class="line"></span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œç‚¹å‡» <code>FloatingActionButton</code> åŠ è½½æŒ‡ç¤ºå™¨å·²ç»æ˜¾ç¤ºï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çš„ <code>listItems</code> æ•°æ®å¹¶æ²¡çœŸæ­£çš„æ›´æ–°ï¼Œç‚¹å‡» <code>FloatingActionButton</code> åªæ˜¯æ›´æ–°çš„åŠ è½½çŠ¶æ€è€Œå·²ï¼Œè€Œä¸”æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç è¿˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¾ˆæ˜¾ç„¶ï¼Œä»–ä»¬å·²ç»è§£è€¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å®Œå–„å®ƒï¼Œå°†ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç åˆ†ç¦»å‡ºæ¥ã€‚</p><h2 id="åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ-UI-ä»£ç "><a href="#åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ-UI-ä»£ç " class="headerlink" title="åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ UI ä»£ç "></a>åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç </h2><p>æˆ‘ä»¬å¯ä»¥æŠŠå¤„ç† <code>stream</code> çš„ä»£ç æŠ½ç¦»æˆä¸€ä¸ªç±»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:async'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'dart:math'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:pro_flutter/demo/stream_demo/stream_demo_event.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:pro_flutter/demo/stream_demo/stream_demo_state.dart'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> StreamViewState &#123; Busy, DataRetrieved, NoData &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamDemoModel</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> StreamController&lt;StreamDemoState&gt; _stateController = StreamController&lt;StreamDemoState&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _listItems;</span><br><span class="line"></span><br><span class="line">  Stream&lt;StreamDemoState&gt; <span class="keyword">get</span> streamState =&gt; _stateController.stream;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> dispatch(StreamDemoEvent event)&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Event dispatched: <span class="subst">$event<span class="string">');</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    if(event is FetchData) &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      _getListData(hasData: event.hasData, hasError: event.hasError);</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  Future _getListData(&#123;bool hasError = false, bool hasData = true&#125;) async &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    _stateController.add(BusyState());</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    await Future.delayed(Duration(seconds: 2));</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    if (hasError) &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      return _stateController.addError('</span></span>error'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!hasData) &#123;</span><br><span class="line">      <span class="keyword">return</span> _stateController.add(DataFetchedState(data: <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _listItems = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;.generate(<span class="number">10</span>, (index) =&gt; <span class="string">'<span class="subst">$index</span> content'</span>);</span><br><span class="line">    _stateController.add(DataFetchedState(data: _listItems));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼ŒæŠŠçŠ¶æ€ä¹Ÿå°è£…æˆä¸€ä¸ªæ–‡ä»¶ä¸”å°†æ•°æ®å’ŒçŠ¶æ€å…³è”ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamDemoState</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InitializedState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataFetchedState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; data;</span><br><span class="line"></span><br><span class="line">  DataFetchedState(&#123;<span class="keyword">this</span>.data&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> hasData =&gt; data.length &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ErrorState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BusyState</span> <span class="keyword">extends</span> <span class="title">StreamDemoState</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>å†å°è£…ä¸€ä¸ªäº‹ä»¶æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamDemoEvent</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FetchData</span> <span class="keyword">extends</span> <span class="title">StreamDemoEvent</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> hasError;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> hasData;</span><br><span class="line"></span><br><span class="line">  FetchData(&#123;<span class="keyword">this</span>.hasError = <span class="keyword">false</span>, <span class="keyword">this</span>.hasData = <span class="keyword">true</span>&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span> toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'FetchData &#123; hasError: <span class="subst">$hasError</span>, hasData: <span class="subst">$hasData</span> &#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬ <strong>UI</strong> éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_StreamBuilderDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">StreamBuilderDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> model = StreamDemoModel(); <span class="comment">// åˆ›å»º model</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    model.dispatch(FetchData(hasData: <span class="keyword">true</span>)); <span class="comment">// è·å– model é‡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line"></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line">      body: StreamBuilder(</span><br><span class="line">        stream: model.streamState,</span><br><span class="line">        builder: (buildContext, snapshot) &#123;</span><br><span class="line">          <span class="keyword">if</span> (snapshot.hasError) &#123;</span><br><span class="line">            <span class="keyword">return</span> _getInformationMessage(snapshot.error);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">var</span> streamState = snapshot.data;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!snapshot.hasData || streamState <span class="keyword">is</span> BusyState) &#123;  <span class="comment">// é€šè¿‡å°è£…çš„çŠ¶æ€ç±»æ¥åˆ¤æ–­æ˜¯å¦æ›´æ–°UI</span></span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">              child: CircularProgressIndicator(</span><br><span class="line">                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.yellow),</span><br><span class="line">                backgroundColor: Colors.yellow[<span class="number">100</span>],</span><br><span class="line">              ),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (streamState <span class="keyword">is</span> DataFetchedState) &#123; <span class="comment">// é€šè¿‡å°è£…çš„çŠ¶æ€ç±»æ¥åˆ¤æ–­æ˜¯å¦æ›´æ–°UI</span></span><br><span class="line">            <span class="keyword">if</span> (!homeState.hasData) &#123;</span><br><span class="line">              <span class="keyword">return</span> _getInformationMessage(<span class="string">'not found data'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> ListView.builder(</span><br><span class="line">            itemCount: streamState.data.length,  <span class="comment">// æ­¤æ—¶ï¼Œæ•°æ®ä¸å†æ˜¯æœ¬åœ°æ•°æ®ï¼Œè€Œæ˜¯ä» stream ä¸­è¾“å‡ºçš„æ•°æ®</span></span><br><span class="line">            itemBuilder: (buildContext, index) =&gt;</span><br><span class="line">                _getListItem(index, streamState.data),</span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œä¸šåŠ¡é€»è¾‘ä»£ç å’Œ <strong>UI</strong> ä»£ç å·²å®Œå…¨åˆ†ç¦»ï¼Œä¸”å¯æ‰©å±•æ€§å’Œç»´æŠ¤å¢å¼ºï¼Œä¸”æˆ‘ä»¬çš„æ•°æ®å’ŒçŠ¶æ€å·²å…³è”èµ·æ¥ï¼Œæ­¤æ—¶ï¼Œç‚¹å‡» <code>FloatingActionButton</code> æ•ˆæœå’Œä¸Šé¢ä¸€æ ·ï¼Œä¸”æ•°æ®å·²æ›´æ–°ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/futrueBuilder-streamBuilder.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Android Flutter æ··åˆå¼€å‘é«˜ä»¿å¤§å‚App</title>
      <link>https://h.lishaoy.net/androidCtrip.html</link>
      <guid>https://h.lishaoy.net/androidCtrip.html</guid>
      <pubDate>Thu, 18 Jun 2020 22:36:43 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/ctrip/android/android_ctrip_h.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è‡ªä¸Šç¯‡ &lt;a href=&quot;https://h.lishaoy.net/flutterctrip&quot;&gt;Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“&lt;/a&gt; çš„ç»­ç¯‡ï¼Œè¿™æ¬¡æ›´æ˜¯å¹²è´§æ»¡æ»¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« å°†æ¦‚è¿° &lt;strong&gt;Androidç»„ä»¶åŒ–çš„æ¶æ„æ­å»º&lt;/strong&gt; åŠ &lt;strong&gt;Flutter&lt;/strong&gt; å’Œ &lt;strong&gt;Android&lt;/strong&gt; å¦‚ä½•æ··åˆå¼€å‘ &lt;em&gt;(æ•´ä¸ªAppåªæœ‰é¦–é¡µæ˜¯ç”¨åŸç”ŸAndroidå®Œæˆï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯å¼•å…¥ä¹‹å‰çš„åšå¥½çš„Flutteré¡µé¢)&lt;/em&gt; ï¼Œä¸»å®¿ä¸»ç¨‹åºç”± Android æ­å»ºï¼Œé‡‡ç”¨äº†ç»„ä»¶åŒ–çš„æ¶æ„æ­å»ºæ•´ä¸ª &lt;strong&gt;App&lt;/strong&gt; ï¼Œä¸åŒä¸šåŠ¡ï¼Œå¯¹åº”ä¸åŒçš„ module å·¥ç¨‹ï¼Œä¸šåŠ¡ä¹‹é—´é‡‡ç”¨æ¥å£é€šä¿¡ &lt;em&gt;(ARouter)&lt;/em&gt; ï¼Œä»¥ module çš„å½¢å¼æ··å…¥ Flutterï¼Œé€šè¿‡ &lt;strong&gt;MethodChannel&lt;/strong&gt; å’Œ &lt;strong&gt;Flutter&lt;/strong&gt; ç«¯è¿›è¡Œæ•°æ®é€šä¿¡ç­‰ï¼Œä¸”è¿™äº›åŠŸèƒ½å®ç°æºç å¼€æºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç§»æ­¥è‡³ &lt;a href=&quot;https://github.com/persilee/android_ctrip&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/ctrip/android/android_ctrip_h.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è‡ªä¸Šç¯‡ <a href="https://h.lishaoy.net/flutterctrip">Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“</a> çš„ç»­ç¯‡ï¼Œè¿™æ¬¡æ›´æ˜¯å¹²è´§æ»¡æ»¡ã€‚</p><p>è¿™ç¯‡æ–‡ç« å°†æ¦‚è¿° <strong>Androidç»„ä»¶åŒ–çš„æ¶æ„æ­å»º</strong> åŠ <strong>Flutter</strong> å’Œ <strong>Android</strong> å¦‚ä½•æ··åˆå¼€å‘ <em>(æ•´ä¸ªAppåªæœ‰é¦–é¡µæ˜¯ç”¨åŸç”ŸAndroidå®Œæˆï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯å¼•å…¥ä¹‹å‰çš„åšå¥½çš„Flutteré¡µé¢)</em> ï¼Œä¸»å®¿ä¸»ç¨‹åºç”± Android æ­å»ºï¼Œé‡‡ç”¨äº†ç»„ä»¶åŒ–çš„æ¶æ„æ­å»ºæ•´ä¸ª <strong>App</strong> ï¼Œä¸åŒä¸šåŠ¡ï¼Œå¯¹åº”ä¸åŒçš„ module å·¥ç¨‹ï¼Œä¸šåŠ¡ä¹‹é—´é‡‡ç”¨æ¥å£é€šä¿¡ <em>(ARouter)</em> ï¼Œä»¥ module çš„å½¢å¼æ··å…¥ Flutterï¼Œé€šè¿‡ <strong>MethodChannel</strong> å’Œ <strong>Flutter</strong> ç«¯è¿›è¡Œæ•°æ®é€šä¿¡ç­‰ï¼Œä¸”è¿™äº›åŠŸèƒ½å®ç°æºç å¼€æºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç§»æ­¥è‡³ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a>ã€‚</p><hr><a id="more"></a><p>ä»¥ä¸‹åšæ–‡ä¼šåˆ†ä¸º4ä¸ªéƒ¨åˆ†æ¦‚è¿°ï¼š</p><ul><li>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</li><li>é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ</li><li>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</li><li>Android Flutter æ··åˆå¼€å‘</li></ul><h2 id="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"><a href="#é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ" class="headerlink" title="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"></a>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä¸€ä¸ªè§†é¢‘æ¥å¿«é€Ÿé¢„è§ˆä¸‹é¡¹ç›®å®Œæˆçš„åŠŸèƒ½å’Œè¿è¡Œæ•ˆæœï¼Œå¦‚ä¸‹</p><video id="flutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/ctrip/android_ctripb_bg.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/ctrip/android_ctrip.mp4" type="video/mp4"></video><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> å¦‚è§†é¢‘æ’­æ”¾å¤±è´¥ï¼Œ <a href="https://www.bilibili.com/video/BV1W54y1B72U/" target="_blank" rel="noopener">è¯·ç§»æ­¥è¿™é‡Œç‚¹å‡»è§‚çœ‹</a> <em>(ç‚¹å‡»é½¿è½® â€“&gt; æ›´å¤šæ’­æ”¾è®¾ç½®ï¼Œå¯ä»¥éšè—é»‘è¾¹)</em></p></div><p>çœ‹å®Œè§†é¢‘åï¼Œå…¶å®å¤§éƒ¨åˆ†åŠŸèƒ½å’Œä¹‹å‰çš„ <a href="https://h.lishaoy.net/flutterctrip">çº¯flutteré¡¹ç›®</a> åŠŸèƒ½ç›¸åŒï¼Œåªæ˜¯é¦–é¡µæ–°å¢äº†4ä¸ªtabæ¨èé¡µé¢åŠæºç¨‹äºŒæ¥¼å’Œå¸ƒå±€æ”¹å˜ã€‚</p><p>å¤§å®¶ä¹Ÿå¯æ‰«æï¼Œå®‰è£…ä½“éªŒï¼š</p><div style="width:166px; margin:auto"><img src="https://www.pgyer.com/app/qrcode/AsHK?sign=&amp;auSign=&amp;code=" alt="no-shadow" title="æ‰‹æœºæ‰«æäºŒç»´ç å®‰è£…"></div><h2 id="é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ"><a href="#é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ" class="headerlink" title="é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ"></a>é¡¹ç›®ç»„ä»¶åŒ–ç»“æ„åˆ†æ</h2><h3 id="é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ"><a href="#é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ" class="headerlink" title="é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ"></a>é¡¹ç›®ç»“æ„å›¾é¢„è§ˆ</h3><p>å…¶æ¬¡ï¼Œåˆ†ææ¢³ç†ä¸‹é¡¹ç›®ç»“æ„ï¼Œé¡¹ç›®çš„ç»“æ„å¤§è‡´å¦‚å›¾ï¼Œè¿˜æœ‰ä¸€äº›ç»†ææœ«èŠ‚çš„æ²¡æœ‰ä½“ç°åœ¨å›¾é‡Œï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/project.png" alt="no-shadow" title="project structure"></p><h3 id="é¡¹ç›®ç»“æ„åˆ†æ"><a href="#é¡¹ç›®ç»“æ„åˆ†æ" class="headerlink" title="é¡¹ç›®ç»“æ„åˆ†æ"></a>é¡¹ç›®ç»“æ„åˆ†æ</h3><h4 id="ä¸šåŠ¡å·¥ç¨‹"><a href="#ä¸šåŠ¡å·¥ç¨‹" class="headerlink" title="ä¸šåŠ¡å·¥ç¨‹"></a>ä¸šåŠ¡å·¥ç¨‹</h4><p>æŠŠå…·ä½“ç‹¬ç«‹çš„ä¸šåŠ¡éƒ½æ‹†åˆ†æˆå•ç‹¬çš„ module å‡å°é¡¹ç›®çš„ç»´æŠ¤å‹åŠ›</p><ul><li>ft_home: é¦–é¡µæ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—å…¶å®è¿˜å¯ä»¥ç»§ç»­æ‹†åˆ†ï¼Œå¯æŠŠ4ä¸ª tab <em>(ç²¾é€‰ã€é™„è¿‘ã€æ™¯ç‚¹ã€ç¾é£Ÿ)</em> é¡µéƒ½æ‹†æˆæ¨¡å—ï¼Œè¿™é‡Œæˆ‘æš‚æ—¶æ²¡æœ‰æ‹†åˆ†ï¼Œåç»­ä¼šå®Œæˆ</li><li>ft_destination: ç›®çš„åœ°æ¨¡å—ï¼Œå…¶å®å¹¶æ²¡æœ‰å»ºç«‹è¿™ä¸ªæ¨¡å—ï¼Œå› ä¸ºç›´æ¥å¼•å…¥äº†ä¹‹å‰åšå¥½çš„ flutter é¡µé¢</li><li>ft_travel: æ—…æ‹æ¨¡å—ï¼ŒåŒæ ·ä¹Ÿä½¿ç”¨äº† flutter é¡µé¢</li><li>flutter: flutteræ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯ä» flutter_module ä¸­è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåé¢ä»‹ç»åˆ°</li></ul><h3 id="åŸºç¡€åº“å·¥ç¨‹"><a href="#åŸºç¡€åº“å·¥ç¨‹" class="headerlink" title="åŸºç¡€åº“å·¥ç¨‹"></a>åŸºç¡€åº“å·¥ç¨‹</h3><p>æŠŠå…·ä½“çš„åŠŸèƒ½éƒ½å°è£…æˆç‹¬ç«‹çš„åº“ä¾›ä¸šåŠ¡æ¨¡å—ä½¿ç”¨ï¼Œé™ä½é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬åŠä»£ç ä¹‹é—´è€¦åˆæ€§</p><ul><li>lib_network: ç½‘ç»œåº“ï¼Œä½¿ç”¨ <a href="https://github.com/square/okhttp" target="_blank" rel="noopener">okhttp</a> æ’ä»¶äºŒæ¬¡å°è£…ï¼Œä¸šåŠ¡å±‚ç®€å•çš„è°ƒç”¨å³å¯</li><li>lib_webview: æ‰“å¼€ç½‘é¡µçš„webviewåº“ï¼Œä½¿ç”¨äº† <a href="https://github.com/Justson/AgentWeb" target="_blank" rel="noopener">agentweb</a> æ’ä»¶äºŒæ¬¡å°è£…ï¼Œä¸šåŠ¡å±‚åªéœ€è¦ä¸€å¥ä»£ç å³å¯å®Œæˆç½‘é¡µçš„è·³è½¬</li><li>lib_image_loader: å›¾ç‰‡åŠ è½½åº“ï¼Œä½¿ç”¨äº† <a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">glide</a> æ’ä»¶äºŒæ¬¡å°è£…ï¼Œä¸šåŠ¡å±‚åªéœ€ä¸€å¥ä»£ç å³å¯åŠ è½½ä¸åŒå‚æ•°çš„å›¾ç‰‡</li><li>lib_asr: ç™¾åº¦AIè¯­éŸ³åº“ï¼Œé€šè¿‡ Android é›†æˆå¥½ä¾› Flutter ç«¯ä½¿ç”¨</li><li>lib_common_ui: å…¬å…±UIåº“ï¼Œé‡å¤å¤šæ¬¡ä½¿ç”¨çš„é¡µé¢é›†ä¸­ç®¡ç†</li><li>lib_base: åŸºç¡€åº“ï¼Œé€šè¿‡ <a href="https://github.com/alibaba/ARouter" target="_blank" rel="noopener">ARouter</a> çš„ service åŠŸèƒ½æš´éœ²æ¥å£æä¾›æœåŠ¡ç»™ä¸šåŠ¡å±‚ï¼Œå½“ç„¶ä¸šåŠ¡å±‚ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæš´éœ²æ¥å£ä¾›å¤–ç•Œä½¿ç”¨</li></ul><p>è¿™é‡Œæœ‰ä¸€äº›ä½¿ç”¨çš„æ’ä»¶å¹¶æ²¡æœ‰åœ¨é¡¹ç›®ç»“æ„å›¾é‡Œä½“ç°å‡ºæ¥(ç»“æ„å›¾ç©ºé—´æœ‰é™)ã€‚</p><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3><p>åœ¨è¿™é‡ŒæŠŠé¡¹ç›®ä½¿ç”¨çš„æ’ä»¶æ•´ç†åˆ—ä¸¾å‡ºæ¥ä¾›å¤§å®¶å‚è€ƒï¼š</p><ul><li><a href="https://github.com/hackware1993/MagicIndicator" target="_blank" rel="noopener">magicindicator</a> å¼ºå¤§ã€å¯å®šåˆ¶ã€æ˜“æ‰©å±•çš„ ViewPager æŒ‡ç¤ºå™¨æ¡†æ¶ï¼Œé¦–é¡µçš„4ä¸ª tab <em>(ç²¾é€‰ã€é™„è¿‘ã€æ™¯ç‚¹ã€ç¾é£Ÿ)</em> å°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„ã€‚</li><li><a href="https://github.com/gyf-dev/ImmersionBar" target="_blank" rel="noopener">immersionbar</a> ä¸€å¥ä»£ç è½»æ¾å®ç°çŠ¶æ€æ ã€å¯¼èˆªæ æ²‰æµ¸å¼ç®¡ç†</li><li><a href="https://github.com/tyzlmjj/PagerBottomTabStrip" target="_blank" rel="noopener">pagerBottomTabStrip</a> é¡µé¢åº•éƒ¨å’Œä¾§è¾¹çš„å¯¼èˆªæ ï¼Œé¦–é¡µã€ç›®çš„åœ°ã€æ—…æ‹ã€æˆ‘çš„é¡µé¢åˆ‡æ¢å°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„ã€‚</li><li><a href="https://github.com/ReactiveX/RxAndroid" target="_blank" rel="noopener">rxjava/rxandroid</a> å¼‚æ­¥å’Œé“¾å¼ç¼–ç¨‹</li><li><a href="https://github.com/JakeWharton/butterknife" target="_blank" rel="noopener">butterknife</a> viewæ³¨å…¥æ’ä»¶ï¼Œé…åˆAndroidæ’ä»¶ä½¿ç”¨ï¼Œå¯å¿«é€Ÿè‡ªåŠ¨ç”Ÿæˆ init viewçš„ä»£ç ï¼Œä¸ç”¨å†™ä¸€å¥ <code>findViewById</code> çš„ä»£ç ã€‚</li><li><a href="https://github.com/google/gson" target="_blank" rel="noopener">gson</a> jsonè§£æï¼Œé…åˆAndroidæ’ä»¶ä½¿ç”¨ï¼Œå¯å¿«é€Ÿç”Ÿæˆå®ä½“ç±»</li><li><a href="https://github.com/scwang90/SmartRefreshLayout" target="_blank" rel="noopener">smartRefreshLayout</a> æ™ºèƒ½ä¸‹æ‹‰åˆ·æ–°æ¡†æ¶ï¼Œæºç¨‹äºŒæ¥¼åŠä¸‹æ‹‰åˆ·æ–°åŠ è½½æ›´å¤šå°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„</li><li><a href="https://github.com/greenrobot/EventBus" target="_blank" rel="noopener">eventbus</a> å‘å¸ƒ/è®¢é˜…äº‹ä»¶æ€»çº¿ï¼Œä¼˜é›…çš„å®Œæˆç»„ä»¶ä¹‹é—´é€šä¿¡</li><li><a href="https://github.com/alibaba/ARouter" target="_blank" rel="noopener">arouter</a> ä¾èµ–æ³¨å…¥ã€è·¯ç”±è·³è½¬ã€æ³¨å†Œserviceï¼Œä¼˜é›…çš„å®Œæˆæ¨¡å—ä¹‹é—´çš„é€šä¿¡</li><li><a href="https://github.com/square/okhttp" target="_blank" rel="noopener">okhttp</a> ç½‘ç»œè¯·æ±‚æ’ä»¶</li><li><a href="https://github.com/Justson/AgentWeb" target="_blank" rel="noopener">agentweb</a> webviewæ¡†æ¶ï¼Œè¿›è¡Œç®€å•çš„äºŒæ¬¡å°è£…å¯ä¼˜é›…çš„è¿›è¡Œç½‘é¡µè·³è½¬</li><li><a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">glide</a> é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å›¾ç‰‡åŠ è½½æ’ä»¶</li><li><a href="https://github.com/youth5201314/banner" target="_blank" rel="noopener">banner</a> å›¾ç‰‡è½®æ’­æ§ä»¶</li></ul><p>åŸºæœ¬å°±æ˜¯è¿™äº›äº†ï¼Œåº”è¯¥æ²¡æœ‰æ¼çš„ï¼Œæ’ä»¶çš„è¯¦ç»†ä½¿ç”¨ï¼Œè¯·è¿›å…¥å„æ’ä»¶çš„ GitHub ä¸»é¡µã€‚</p><p>åœ¨æ­¤ï¼ŒæŠŠæˆ‘é¡¹ç›®çš„æ’ä»¶å¼•å…¥ä»£ç åŠç‰ˆæœ¬ç®¡ç†çš„ <code>gradle</code> ä»£ç è´´å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š</p><p>æ’ä»¶å¼•å…¥ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation fileTree(dir: <span class="string">'libs'</span>, include: [<span class="string">'*.jar'</span>])</span><br><span class="line"></span><br><span class="line">    implementation rootProject.depsLibs.appcompat</span><br><span class="line">    implementation rootProject.depsLibs.legacy</span><br><span class="line">    implementation rootProject.depsLibs.recyclerview</span><br><span class="line">    implementation rootProject.depsLibs.constraintlayout</span><br><span class="line">    implementation rootProject.depsLibs.cardview</span><br><span class="line"></span><br><span class="line">    //tabæŒ‡ç¤ºå™¨</span><br><span class="line">    implementation rootProject.depsLibs.magicindicator</span><br><span class="line">    //æ²‰æµ¸å¼</span><br><span class="line">    implementation rootProject.depsLibs.immersionbar</span><br><span class="line">    //å¯¼èˆªæ </span><br><span class="line">    implementation rootProject.depsLibs.pagerBottomTabStrip</span><br><span class="line">    //rxjava</span><br><span class="line">    implementation rootProject.depsLibs.rxjava</span><br><span class="line">    //rxandroid</span><br><span class="line">    implementation rootProject.depsLibs.rxandroid</span><br><span class="line">    //view æ³¨å…¥</span><br><span class="line">    implementation rootProject.depsLibs.butterknife</span><br><span class="line">    //view æ³¨å…¥</span><br><span class="line">    annotationProcessor rootProject.depsLibs.butterknifeCompiler</span><br><span class="line">    //gson</span><br><span class="line">    implementation rootProject.depsLibs.gson</span><br><span class="line">    //banner</span><br><span class="line">    implementation rootProject.depsLibs.banner</span><br><span class="line">    //smartRefreshLayout ä¸Šä¸‹æ‹‰åˆ·æ–°</span><br><span class="line">    implementation rootProject.depsLibs.smartRefreshLayout</span><br><span class="line">    implementation rootProject.depsLibs.refreshHeader</span><br><span class="line">    implementation rootProject.depsLibs.refreshHeaderTwoLevel</span><br><span class="line">    implementation rootProject.depsLibs.refreshFooter</span><br><span class="line">    //eventbus</span><br><span class="line">    implementation rootProject.depsLibs.eventbus</span><br><span class="line">    //arouteråº“</span><br><span class="line">    implementation(rootProject.depsLibs.arouterapi) &#123;</span><br><span class="line">        exclude group: <span class="string">'com.android.support'</span></span><br><span class="line">    &#125;</span><br><span class="line">    annotationProcessor rootProject.depsLibs.aroutercompiler</span><br><span class="line"></span><br><span class="line">    //å¼•å…¥homeæ¨¡å—</span><br><span class="line">    implementation project(<span class="string">':ft_home'</span>)</span><br><span class="line">    //å¼•å…¥å›¾ç‰‡åŠ è½½åº“</span><br><span class="line">    implementation project(<span class="string">':lib_image_loader'</span>)</span><br><span class="line">    //å¼•å…¥ç½‘ç»œåº“</span><br><span class="line">    implementation project(<span class="string">':lib_network'</span>)</span><br><span class="line">    //webview</span><br><span class="line">    implementation project(<span class="string">':lib_webview'</span>)</span><br><span class="line">    //å¼•å…¥åŸºç¡€uiåº“</span><br><span class="line">    implementation project(<span class="string">':lib_common_ui'</span>)</span><br><span class="line">    //baseåº“</span><br><span class="line">    implementation project(<span class="string">':lib_base'</span>)</span><br><span class="line">    //å¼•å…¥flutteræ¨¡å—</span><br><span class="line">    implementation project(<span class="string">':flutter'</span>)</span><br><span class="line">    //å¼•å…¥ç™¾åº¦AIè¯­éŸ³åº“</span><br><span class="line">    implementation project(<span class="string">':lib_asr'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰ˆæœ¬ç®¡ç†ä»£ç  <em>(ç»Ÿä¸€ç®¡ç†ç‰ˆæœ¬å·)</em> : </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">ext &#123;</span><br><span class="line">    android = [</span><br><span class="line">            compileSdkVersion: 29,</span><br><span class="line">            buildToolsVersion: <span class="string">"29.0.0"</span>,</span><br><span class="line">            minSdkVersion    : 19,</span><br><span class="line">            targetSdkVersion : 29,</span><br><span class="line">            applicationId    : <span class="string">'net.lishaoy.android_ctrip'</span>,</span><br><span class="line">            versionCode      : 1,</span><br><span class="line">            versionName      : <span class="string">'1.0'</span>,</span><br><span class="line">            multiDexEnabled  : <span class="literal">true</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    depsVersion = [</span><br><span class="line">            appcompat            : <span class="string">'1.1.0'</span>,</span><br><span class="line">            legacy               : <span class="string">'1.0.0'</span>,</span><br><span class="line">            recyclerview         : <span class="string">'1.0.0'</span>,</span><br><span class="line">            constraintlayout     : <span class="string">'1.1.3'</span>,</span><br><span class="line">            cardview             : <span class="string">'1.0.0'</span>,</span><br><span class="line">            magicindicator       : <span class="string">'1.5.0'</span>,</span><br><span class="line">            immersionbar         : <span class="string">'3.0.0'</span>,</span><br><span class="line">            pagerBottomTabStrip  : <span class="string">'2.3.0X'</span>,</span><br><span class="line">            glide                : <span class="string">'4.11.0'</span>,</span><br><span class="line">            glidecompiler        : <span class="string">'4.11.0'</span>,</span><br><span class="line">            butterknife          : <span class="string">'10.2.1'</span>,</span><br><span class="line">            butterknifeCompiler  : <span class="string">'10.2.1'</span>,</span><br><span class="line">            rxjava               : <span class="string">'3.0.0'</span>,</span><br><span class="line">            rxandroid            : <span class="string">'3.0.0'</span>,</span><br><span class="line">            okhttp               : <span class="string">'4.7.2'</span>,</span><br><span class="line">            okhttpLogging        : <span class="string">'4.7.2'</span>,</span><br><span class="line">            gson                 : <span class="string">'2.8.6'</span>,</span><br><span class="line">            banner               : <span class="string">'2.0.10'</span>,</span><br><span class="line">            smartRefreshLayout   : <span class="string">'2.0.1'</span>,</span><br><span class="line">            refreshHeader        : <span class="string">'2.0.1'</span>,</span><br><span class="line">            refreshFooter        : <span class="string">'2.0.1'</span>,</span><br><span class="line">            refreshHeaderTwoLevel: <span class="string">'2.0.1'</span>,</span><br><span class="line">            eventbus             : <span class="string">'3.2.0'</span>,</span><br><span class="line">            agentweb             : <span class="string">'4.1.3'</span>,</span><br><span class="line">            arouterapi           : <span class="string">'1.5.0'</span>,</span><br><span class="line">            aroutercompiler      : <span class="string">'1.2.2'</span>,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    depsLibs = [</span><br><span class="line">            appcompat            : <span class="string">"androidx.appcompat:appcompat:<span class="variable">$&#123;depsVersion.appcompat&#125;</span>"</span>,</span><br><span class="line">            legacy               : <span class="string">"androidx.legacy:legacy-support-v4:<span class="variable">$&#123;depsVersion.legacy&#125;</span>"</span>,</span><br><span class="line">            recyclerview         : <span class="string">"androidx.recyclerview:recyclerview:<span class="variable">$&#123;depsVersion.recyclerview&#125;</span>"</span>,</span><br><span class="line">            constraintlayout     : <span class="string">"androidx.constraintlayout:constraintlayout:<span class="variable">$&#123;depsVersion.constraintlayout&#125;</span>"</span>,</span><br><span class="line">            cardview             : <span class="string">"androidx.cardview:cardview:<span class="variable">$&#123;depsVersion.cardview&#125;</span>"</span>,</span><br><span class="line">            magicindicator       : <span class="string">"com.github.hackware1993:MagicIndicator:<span class="variable">$&#123;depsVersion.magicindicator&#125;</span>"</span>,</span><br><span class="line">            immersionbar         : <span class="string">"com.gyf.immersionbar:immersionbar:<span class="variable">$&#123;depsVersion.immersionbar&#125;</span>"</span>,</span><br><span class="line">            pagerBottomTabStrip  : <span class="string">"me.majiajie:pager-bottom-tab-strip:<span class="variable">$&#123;depsVersion.pagerBottomTabStrip&#125;</span>"</span>,</span><br><span class="line">            glide                : <span class="string">"com.github.bumptech.glide:glide:<span class="variable">$&#123;depsVersion.glide&#125;</span>"</span>,</span><br><span class="line">            glidecompiler        : <span class="string">"com.github.bumptech.glide:compiler:<span class="variable">$&#123;depsVersion.glidecompiler&#125;</span>"</span>,</span><br><span class="line">            butterknife          : <span class="string">"com.jakewharton:butterknife:<span class="variable">$&#123;depsVersion.butterknife&#125;</span>"</span>,</span><br><span class="line">            butterknifeCompiler  : <span class="string">"com.jakewharton:butterknife-compiler:<span class="variable">$&#123;depsVersion.butterknifeCompiler&#125;</span>"</span>,</span><br><span class="line">            rxjava               : <span class="string">"io.reactivex.rxjava3:rxjava:<span class="variable">$&#123;depsVersion.rxjava&#125;</span>"</span>,</span><br><span class="line">            rxandroid            : <span class="string">"io.reactivex.rxjava3:rxandroid:<span class="variable">$&#123;depsVersion.rxandroid&#125;</span>"</span>,</span><br><span class="line">            okhttp               : <span class="string">"com.squareup.okhttp3:okhttp:<span class="variable">$&#123;depsVersion.okhttp&#125;</span>"</span>,</span><br><span class="line">            okhttpLogging        : <span class="string">"com.squareup.okhttp3:logging-interceptor:<span class="variable">$&#123;depsVersion.okhttpLogging&#125;</span>"</span>,</span><br><span class="line">            gson                 : <span class="string">"com.google.code.gson:gson:<span class="variable">$&#123;depsVersion.gson&#125;</span>"</span>,</span><br><span class="line">            banner               : <span class="string">"com.youth.banner:banner:<span class="variable">$&#123;depsVersion.banner&#125;</span>"</span>,</span><br><span class="line">            smartRefreshLayout   : <span class="string">"com.scwang.smart:refresh-layout-kernel:<span class="variable">$&#123;depsVersion.smartRefreshLayout&#125;</span>"</span>,</span><br><span class="line">            refreshHeader        : <span class="string">"com.scwang.smart:refresh-header-classics:<span class="variable">$&#123;depsVersion.refreshHeader&#125;</span>"</span>,</span><br><span class="line">            refreshHeaderTwoLevel: <span class="string">"com.scwang.smart:refresh-header-two-level:<span class="variable">$&#123;depsVersion.refreshHeader&#125;</span>"</span>,</span><br><span class="line">            refreshFooter        : <span class="string">"com.scwang.smart:refresh-footer-classics:<span class="variable">$&#123;depsVersion.refreshFooter&#125;</span>"</span>,</span><br><span class="line">            eventbus             : <span class="string">"org.greenrobot:eventbus:<span class="variable">$&#123;depsVersion.eventbus&#125;</span>"</span>,</span><br><span class="line">            agentweb             : <span class="string">"com.just.agentweb:agentweb:<span class="variable">$&#123;depsVersion.agentweb&#125;</span>"</span>,</span><br><span class="line">            arouterapi           : <span class="string">"com.alibaba:arouter-api:<span class="variable">$&#123;depsVersion.arouterapi&#125;</span>"</span>,</span><br><span class="line">            aroutercompiler      : <span class="string">"com.alibaba:arouter-compiler:<span class="variable">$&#123;depsVersion.aroutercompiler&#125;</span>"</span>,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"><a href="#é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰" class="headerlink" title="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"></a>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</h2><p>è¿™é‡Œä¸»è¦å¯¹é¦–é¡µåŠŸèƒ½åŠçŸ¥è¯†ç‚¹è¿›è¡Œæ¦‚è¿°ï¼Œç”±äºå…¶ä»–é¡µé¢æ˜¯å¼•å…¥äº†ä¹‹å‰çš„ Flutter é¡µé¢ï¼Œ å…·ä½“åŠŸèƒ½åœ¨ <a href="https://h.lishaoy.net/flutterctrip">Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“</a> å·²ç»ä»‹ç»è¿‡äº†ï¼Œåœ¨è¿™å°±ä¸å†é˜è¿°ã€‚</p><p>é¦–é¡µé‡ç‚¹æ¦‚è¿°ä»¥ä¸‹åŠŸèƒ½çš„å®ç°ï¼š</p><ul><li>ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼</li><li>æœç´¢appBar</li><li>æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª</li><li>bannerç»„ä»¶</li><li>å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨ <em>(æ»šåŠ¨å›ºå®šé¡¶éƒ¨)</em></li></ul><h3 id="ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼"><a href="#ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼" class="headerlink" title="ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼"></a>ä¸‹æ‹‰åˆ·æ–°ã€æºç¨‹äºŒæ¥¼</h3><p>é¦–å…ˆï¼Œçœ‹çœ‹å…·ä½“çš„æ•ˆæœå›¾ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/second_floor.gif" alt="no-shadow" title="second floor"></p><p>ä¸‹æ‹‰åˆ·æ–°å’Œæºç¨‹äºŒæ¥¼æ˜¯ä½¿ç”¨ <a href="https://github.com/scwang90/SmartRefreshLayout" target="_blank" rel="noopener">smartRefreshLayout</a> æ’ä»¶å®Œæˆçš„ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initRefreshMore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    homeHeader.setRefreshHeader(<span class="keyword">new</span> ClassicsHeader(getContext()), -<span class="number">1</span>, (<span class="keyword">int</span>) Utils.dp2px(<span class="number">76</span>)); <span class="comment">//è®¾ç½®ä¸‹æ‹‰åˆ·æ–°åŠäºŒæ¥¼headerçš„é«˜åº¦</span></span><br><span class="line">    homeHeader.setFloorRate(<span class="number">1.6f</span>); <span class="comment">//è®¾ç½®äºŒæ¥¼è§¦å‘æ¯”ç‡</span></span><br><span class="line">    homeRefreshContainer.setPrimaryColorsId(R.color.colorPrimary, R.color.white); <span class="comment">//è®¾ç½®ä¸‹æ‹‰åˆ·æ–°åŠäºŒæ¥¼æç¤ºæ–‡å­—é¢œè‰²</span></span><br><span class="line">    homeRefreshContainer.setOnMultiListener(<span class="keyword">new</span> SimpleMultiListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLoadMore</span><span class="params">(@NonNull RefreshLayout refreshLayout)</span> </span>&#123;</span><br><span class="line">            loadMore(refreshLayout); <span class="comment">//åŠ è½½æ›´å¤š</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRefresh</span><span class="params">(@NonNull RefreshLayout refreshLayout)</span> </span>&#123;</span><br><span class="line">            refreshLayout.finishRefresh(<span class="number">1600</span>); <span class="comment">//è®¾ç½®ä¸‹æ‹‰åˆ·æ–°å»¶è¿Ÿ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onHeaderMoving</span><span class="params">(RefreshHeader header, <span class="keyword">boolean</span> isDragging, <span class="keyword">float</span> percent, <span class="keyword">int</span> offset, <span class="keyword">int</span> headerHeight, <span class="keyword">int</span> maxDragHeight)</span> </span>&#123;</span><br><span class="line">            homeSecondFloorImg.setVisibility(View.VISIBLE);  <span class="comment">//éšè—äºŒæ¥¼èƒŒæ™¯å›¾</span></span><br><span class="line">            homeSearchBarContainer.setAlpha(<span class="number">1</span> - Math.min(percent, <span class="number">1</span>)); <span class="comment">//æ”¹å˜searchBaré€æ˜åº¦</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStateChanged</span><span class="params">(@NonNull RefreshLayout refreshLayout, @NonNull RefreshState oldState, @NonNull RefreshState newState)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (oldState == RefreshState.ReleaseToTwoLevel) &#123;  <span class="comment">//å³å°†å»å¾€äºŒæ¥¼çŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeSecondFloorImg.setVisibility(View.GONE);</span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">1</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newState == RefreshState.PullDownCanceled) &#123; <span class="comment">//ä¸‹æ‹‰å–æ¶ˆçŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">0</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newState == RefreshState.Refreshing) &#123; <span class="comment">//æ­£åœ¨åˆ·æ–°çŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">0</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldState == RefreshState.TwoLevelReleased) &#123; <span class="comment">// å‡†å¤‡å»å¾€äºŒæ¥¼å®ŒæˆçŠ¶æ€å¤„ç†ï¼Œè¿™é‡Œæ‰“å¼€webview</span></span><br><span class="line">                WebViewImpl.getInstance().gotoWebView(<span class="string">"https://m.ctrip.com/webapp/you/tsnap/secondFloorIndex.html?isHideNavBar=YES&amp;s_guid=feb780be-c55a-4f92-a6cd-2d81e04d3241"</span>, <span class="keyword">true</span>);</span><br><span class="line">                homeHeader.finishTwoLevel();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldState == RefreshState.TwoLevel) &#123; <span class="comment">//åˆ°è¾¾äºŒæ¥¼çŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeCustomScrollView.setVisibility(View.GONE);</span><br><span class="line">                homeHeaderContent.animate().alpha(<span class="number">0</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldState == RefreshState.TwoLevelFinish) &#123; <span class="comment">//äºŒæ¥¼å®ŒæˆçŠ¶æ€å¤„ç†</span></span><br><span class="line">                homeCustomScrollView.setVisibility(View.VISIBLE);</span><br><span class="line">                homeCustomScrollView.animate().alpha(<span class="number">1</span>).setDuration(<span class="number">666</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>XML</code> é¡µé¢å¸ƒå±€æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">com.scwang.smart.refresh.layout.SmartRefreshLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/home_refresh_container"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipChildren</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:srlAccentColor</span>=<span class="string">"@color/colorPrimary"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:srlPrimaryColor</span>=<span class="string">"@color/colorPrimary"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.scwang.smart.refresh.header.TwoLevelHeader</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/home_header"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"top"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/home_second_floor_img"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"460dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_alignTop</span>=<span class="string">"@+id/home_header"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:scaleType</span>=<span class="string">"fitXY"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@drawable/second_floor"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:visibility</span>=<span class="string">"gone"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/home_header_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:alpha</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:scaleType</span>=<span class="string">"fitXY"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:src</span>=<span class="string">"@drawable/second_floor"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">com.scwang.smart.refresh.header.TwoLevelHeader</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.scwang.smart.refresh.footer.ClassicsFooter</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">com.scwang.smart.refresh.layout.SmartRefreshLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…·ä½“å®ç°è¯¦æƒ…ï¼Œå¯ç§»æ­¥ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p><h3 id="æœç´¢appBar"><a href="#æœç´¢appBar" class="headerlink" title="æœç´¢appBar"></a>æœç´¢appBar</h3><p>æœç´¢æ çš„æ»šåŠ¨çš„ placeholder æ–‡å­—æ˜¯ä½¿ç”¨ <a href="https://github.com/youth5201314/banner" target="_blank" rel="noopener">banner</a> æ’ä»¶å®ç°çš„ï¼Œç‚¹å‡»æœç´¢æ¡†å¯è·³è½¬åˆ°æœç´¢é¡µé¢ <em>(flutterå†™çš„æœç´¢é¡µé¢)</em> ï¼Œè·³è½¬é¡µé¢åå¯ä»¥æŠŠ placeholder æ–‡å­—å¸¦åˆ° flutter æœç´¢é¡µé¢ã€‚</p><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/searchBar.gif" alt="no-shadow" title="search bar"></p><p>æ»šåŠ¨çš„placeholderæ–‡å­—å®ç°ä»£ç å¦‚ä¸‹ <em>(æœç´¢æ¡†çš„å®ç°å°±ä¸å†è¿™é‡Œå±•ç¤ºéƒ½æ˜¯ä¸€äº›XMLå¸ƒå±€ä»£ç )</em>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    homeSearchBarPlaceholder</span><br><span class="line">            .setAdapter(<span class="keyword">new</span> HomeSearchBarPlaceHolderAdapter(homeData.getSearchPlaceHolderList())) <span class="comment">// è®¾ç½®é€‚é…å™¨</span></span><br><span class="line">            .setOrientation(Banner.VERTICAL) <span class="comment">// è®¾ç½®æ»šåŠ¨æ–¹å‘</span></span><br><span class="line">            .setDelayTime(<span class="number">3600</span>) <span class="comment">// è®¾ç½®é—´éš”æ—¶é—´</span></span><br><span class="line">            .setOnBannerListener(<span class="keyword">new</span> OnBannerListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnBannerClick</span><span class="params">(Object data, <span class="keyword">int</span> position)</span> </span>&#123;  <span class="comment">//ç‚¹å‡»æ‰“å¼€ flutter æœç´¢é¡µé¢</span></span><br><span class="line">                    ARouter.getInstance()</span><br><span class="line">                            .build(<span class="string">"/home/search"</span>)</span><br><span class="line">                            .withString(<span class="string">"placeHolder"</span>, ((Home.SearchPlaceHolderListBean) data).getText())</span><br><span class="line">                            .navigation();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>searchBarçš„å…·ä½“åŠŸèƒ½ä¸è¿‡å¤šé˜è¿°ï¼Œå’Œä¹‹å‰çš„é¡¹ç›®ä¸€è‡´ã€‚</p><h3 id="æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª"><a href="#æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª" class="headerlink" title="æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª"></a>æ¸å˜è‰²ç½‘æ ¼å¯¼èˆª</h3><p>æ¸å˜è‰²ç½‘æ ¼å¯¼èˆªåŸºæœ¬éƒ½æ˜¯ä¸€äº› <code>XML</code> é¡µé¢å¸ƒå±€ä»£ç ï¼Œåªæ˜¯æˆ‘æŠŠå®ƒå°è£…æˆäº†å•ç‹¬çš„ç»„ä»¶ï¼Œæ•ˆæœå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/ctrip/android/gridBar.png" alt="GridNav" width="36%" title="GridNav" align="center"></p><p>å°è£…ä¹‹åçš„å¼•å…¥å°±éå¸¸ç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/white"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç½‘æ ¼å¯¼èˆª --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">net.lishaoy.ft_home.GridNavView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/home_grid_nav_container"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…·ä½“å®ç°è¯¦æƒ…ï¼Œå¯ç§»æ­¥ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p><h3 id="bannerç»„ä»¶"><a href="#bannerç»„ä»¶" class="headerlink" title="bannerç»„ä»¶"></a>bannerç»„ä»¶</h3><p>bannerç»„ä»¶ä¹Ÿæ˜¯ç”¨ <a href="https://github.com/youth5201314/banner" target="_blank" rel="noopener">banner</a> æ’ä»¶å®ç°çš„ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/ctrip/android/banner.gif" alt="no-shadow" title="banner"></p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initBanner</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    homeBanner.addBannerLifecycleObserver(<span class="keyword">this</span>)</span><br><span class="line">            .setAdapter(<span class="keyword">new</span> HomeBannerAdapter(homeData.getBannerList())) <span class="comment">//è®¾ç½®é€‚é…å™¨</span></span><br><span class="line">            .setIndicator(<span class="keyword">new</span> EllipseIndicator(getContext()))           <span class="comment">//è®¾ç½®æŒ‡ç¤ºå™¨ï¼Œå¦‚å›¾çš„æŒ‡ç¤ºå™¨æ˜¯æˆ‘è‡ªå®šä¹‰çš„æ’ä»¶é‡Œå¹¶æ²¡æœ‰æä¾›</span></span><br><span class="line">            .setIndicatorSelectedColorRes(R.color.white)                <span class="comment">//è®¾ç½®æŒ‡ç¤ºå™¨é¢œè‰²</span></span><br><span class="line">            .setIndicatorSpace((<span class="keyword">int</span>) BannerUtils.dp2px(<span class="number">10</span>))             <span class="comment">//è®¾ç½®é—´è·</span></span><br><span class="line">            .setBannerRound(BannerUtils.dp2px(<span class="number">6</span>));                      <span class="comment">//è®¾ç½®åœ†è§’</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨"><a href="#å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨" class="headerlink" title="å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨"></a>å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨</h3><p>å¤šçŠ¶æ€çš„tabæŒ‡ç¤ºå™¨çš„å®ç°éœ€è¦æ³¨æ„å¾ˆå¤šç»†èŠ‚ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨é¦–é¡µçš„ <code>fragment</code> çš„ <code>ScrollView</code> é‡ŒåµŒå…¥ <code>viewPaper</code>ï¼Œé¦–å…ˆä½ ä¼šå‘ç° viewPaper ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œå…¶æ¬¡æ˜¯æ»šåŠ¨ä¸æµç•…çš„é—®é¢˜ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p><ul><li>viewPaper ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ <code>ViewPager</code> é‡å†™ <code>onMeasure</code> æ–¹æ³•ï¼Œé‡æ–°è®¡ç®—é«˜åº¦</li><li>æ»šåŠ¨ä¸æµç•…çš„é—®é¢˜ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ <code>ScrollView</code>ï¼Œé‡å†™ <code>computeScroll</code> å’Œ <code>onScrollChanged</code> é‡æ–°è·å–æ»šåŠ¨è·ç¦»</li></ul><p>å®ç°æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/tab_bar.gif" alt="no-shadow" title="tab page"></p><p>è¿™ä¸ªåŠŸèƒ½å®ç°ä»£ç è¿‡å¤šä¸ä¾¿åœ¨è¿™é‡Œå±•ç¤ºï¼Œå…·ä½“å®ç°è¯¦æƒ…ï¼Œå¯ç§»æ­¥ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> æŸ¥çœ‹æºç ã€‚</p><h2 id="Android-Flutter-æ··åˆå¼€å‘"><a href="#Android-Flutter-æ··åˆå¼€å‘" class="headerlink" title="Android Flutter æ··åˆå¼€å‘"></a>Android Flutter æ··åˆå¼€å‘</h2><p>è¿™ä¸ªé¡¹ç›®çš„å®ç°åªæœ‰é¦–é¡µæ˜¯ç”¨ Android åŸç”Ÿå®ç°ï¼Œå…¶ä»–çš„é¡µé¢å‡æ˜¯ Flutter å®ç°çš„ï¼Œä¹‹å‰ <a href="https://h.lishaoy.net/flutterctrip">çº¯Flutteré¡¹ç›®</a>ã€‚</p><p>Android å¼•å…¥ Flutter è¿›è¡Œæ··åˆå¼€å‘ï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤</p><ul><li>å»ºç«‹ä¸€ä¸ªflutter module</li><li>ç¼–å†™flutterä»£ç  <em>(åˆ›å»º flutter è·¯ç”±)</em></li><li>flutter å’Œ android ä¹‹é—´ç›¸äº’é€šä¿¡</li></ul><p>ä¸‹é¢ä¾æ¬¡æ¦‚è¿°è¿™å‡ éƒ¨åˆ†æ˜¯å¦‚ä½•æ“ä½œå®ç°çš„ã€‚</p><h3 id="å»ºç«‹ä¸€ä¸ªflutter-module"><a href="#å»ºç«‹ä¸€ä¸ªflutter-module" class="headerlink" title="å»ºç«‹ä¸€ä¸ªflutter module"></a>å»ºç«‹ä¸€ä¸ªflutter module</h3><p>è¿™ä¸ªåº”è¯¥ä¸ç”¨è¿‡å¤šæè¿°ï¼ŒåŸºæœ¬æ“ä½œå¤§å®¶éƒ½ä¼š File â€“&gt; New â€“&gt; New Module å¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/ctrip/android/flutter_module.png" alt="no-shadow" title="flutter module"></p><p>æ–°å»ºå®Œæˆä¹‹åï¼Œandroid studio ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®ä»£ç åˆ° gradle é…ç½®æ–‡ä»¶é‡Œï¼Œä¸”ç”Ÿæˆä¸€ä¸ª flutter çš„ library æ¨¡å—ã€‚</p><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> <br \="">æ–°å»ºçš„æ—¶å€™æœ€å¥½ flutter module å’Œ android é¡¹ç›®æ”¾åˆ°åŒçº§ç›®å½•ä¸‹ï¼›<br \="">æ–°ç‰ˆçš„ android studio æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆ gradle é…ç½®ä»£ç ï¼Œè€ç‰ˆæœ¬è²Œä¼¼éœ€è¦æ‰‹åŠ¨é…ç½®</p></div><p>å¦‚ï¼Œæ²¡æœ‰ç”Ÿæˆ gradle é…ç½®ä»£ç ï¼Œä½ éœ€è¦åœ¨æ ¹é¡¹ç›®çš„ <code>settings.gradle</code> æ–‡ä»¶é‡Œæ‰‹åŠ¨åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setBinding(<span class="keyword">new</span> Binding([gradle: <span class="keyword">this</span>]))</span><br><span class="line">evaluate(<span class="keyword">new</span> File(</span><br><span class="line">  settingsDir, <span class="comment">//è®¾ç½®æ ¹è·¯å¾„ï¼Œæ ¹æ®å…·ä½“flutter moduleè·¯å¾„é…ç½®</span></span><br><span class="line">  <span class="string">'flutter_module/.android/include_flutter.groovy'</span></span><br><span class="line">))</span><br><span class="line"></span><br><span class="line">include <span class="string">':flutter_module'</span></span><br></pre></td></tr></table></figure><p>è¿˜éœ€åœ¨å®¿ä¸»å·¥ç¨‹ <em>(æ²¡æ”¹åçš„è¯éƒ½æ˜¯app)</em> çš„ <code>build.gradle</code> å¼•å…¥ flutterï¼Œ å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">//å¼•å…¥flutteræ¨¡å—</span></span><br><span class="line">    <span class="function">implementation <span class="title">project</span><span class="params">(<span class="string">':flutter'</span>)</span></span></span><br><span class="line"><span class="function">    ...</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™flutterä»£ç "><a href="#ç¼–å†™flutterä»£ç " class="headerlink" title="ç¼–å†™flutterä»£ç "></a>ç¼–å†™flutterä»£ç </h3><p>ç¼–å†™flutterä»£ç ï¼Œåœ¨ flutter module é‡ŒæŒ‰ç…§æ­£å¸¸ flutter å¼€å‘æµç¨‹ç¼–å†™ flutter ä»£ç å³å¯ã€‚ <em>(æˆ‘é¡¹ç›®é‡Œçš„ flutter çš„ä»£ç æ˜¯ä¹‹å‰é¡¹ç›®éƒ½å†™å¥½çš„ï¼Œå¤åˆ¶è¿‡æ¥ï¼Œæ”¹æ”¹åŒ…çš„å¼•å…¥é—®é¢˜ï¼Œå°±å¯ä»¥è¿è¡Œäº†ã€‚)</em></p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œflutter æœ‰ä¸”åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå°±æ˜¯ <code>main()</code> å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™é‡Œå¤„ç†å¥½ flutter é¡µé¢çš„è·³è½¬é—®é¢˜ã€‚</p><p>åœ¨ android ç«¯ï¼Œåˆ›å»º flutter é¡µé¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Flutter.createView(getActivity(),getLifecycle(),<span class="string">"destination"</span>);</span><br></pre></td></tr></table></figure><p><code>Flutter.createView</code> éœ€è¦3ä¸ªå‚æ•° <code>activity</code> ã€<code>lifecycle</code> ã€<code>route</code> ï¼Œè¿™ä¸ª route å°±æ˜¯è¦ä¼ é€’åˆ° flutter ç«¯çš„ï¼Œå½“ç„¶ï¼Œå®ƒæ˜¯ String ç±»å‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±å‘æŒ¥ä¼ é€’æ™®é€šå­—ç¬¦ä¸²æˆ– json å­—ç¬¦ä¸²ç­‰ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–çš„æ–¹å¼åˆ›å»º flutter é¡µé¢ï¼Œå¦‚ï¼š <code>Flutter.createFragment()</code> ã€ <code>FlutterActivity.withNewEngine()</code>ã€ <code>FlutterFragment.createDefault()</code> ç­‰ã€‚</p><p>å…·ä½“çš„ä½¿ç”¨ï¼Œå¯å‰å¾€ <a href="https://flutter.dev/docs/development/add-to-app/android" target="_blank" rel="noopener">Flutterå®˜æ–¹æ–‡æ¡£</a> æŸ¥é˜…ã€‚</p><p>é‚£ä¹ˆï¼Œflutter ç«¯å¦‚ä½•æ¥æ”¶è¿™ä¸ª route å‚æ•°ï¼Œæ˜¯é€šè¿‡ <code>window.defaultRouteName</code>ï¼Œæ­¤é¡¹ç›®é‡Œç®¡ç† flutter ç«¯è·¯ç”±ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      title: <span class="string">'Flutter model'</span>,</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        primarySwatch: Colors.blue,</span><br><span class="line">        fontFamily: <span class="string">'PingFang'</span>,</span><br><span class="line">      ),</span><br><span class="line">      home: _widgetRoute(<span class="built_in">window</span>.defaultRouteName), <span class="comment">// é€šè¿‡ window.defaultRouteName æ¥æ”¶ android ç«¯ä¼ æ¥çš„å‚æ•°</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget _widgetRoute(<span class="built_in">String</span> defaultRouteName) &#123;</span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; params = convert.jsonDecode(defaultRouteName); <span class="comment">//è§£æå‚æ•°</span></span><br><span class="line">    defaultRouteName = params[<span class="string">'routeName'</span>];</span><br><span class="line">    placeHolder = params[<span class="string">'placeHolder'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (defaultRouteName) &#123; <span class="comment">// æ ¹æ®å‚æ•°è¿”å›å¯¹åº”çš„é¡µé¢</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'destination/search'</span>:</span><br><span class="line">            <span class="keyword">return</span> DestinationSearchPage(</span><br><span class="line">                hideLeft: <span class="keyword">false</span>,</span><br><span class="line">        );</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> Center(</span><br><span class="line">                child: Column(</span><br><span class="line">                mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                    Text(<span class="string">'not found <span class="subst">$defaultRouteName<span class="string">',</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        textDirection: TextDirection.ltr),</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                ],</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                ),</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">            );</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">&#125;</span></span></span></span><br></pre></td></tr></table></figure><p>å…¶å®ï¼Œflutter ç«¯æ¥æ”¶è¿™ä¸ª route å‚æ•°ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯é€šè¿‡ <code>onGenerateRoute</code>ï¼Œå®ƒæ˜¯ MaterialApp é‡Œçš„ä¸€ä¸ªæ–¹æ³•ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onGenerateRoute: (settings)&#123; <span class="comment">//é€šè¿‡ settings.name è·å–androidç«¯ä¼ æ¥çš„å‚æ•°</span></span><br><span class="line">    <span class="keyword">return</span> _widgetRoute(settings.name);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="flutter-å’Œ-android-ä¹‹é—´ç›¸äº’é€šä¿¡"><a href="#flutter-å’Œ-android-ä¹‹é—´ç›¸äº’é€šä¿¡" class="headerlink" title="flutter å’Œ android ä¹‹é—´ç›¸äº’é€šä¿¡"></a>flutter å’Œ android ä¹‹é—´ç›¸äº’é€šä¿¡</h3><p>flutter ç«¯å¯ä»¥è°ƒç”¨ android ç«¯çš„æ–¹æ³•åŠç›¸äº’ä¼ é€’æ•°æ®æ˜¯å¦‚ä½•å®ç°çš„ï¼Œflutter å®˜æ–¹æä¾›äº†3ä¸ªæ–¹æ³•å¯ä»¥å®ç°ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>EventChannelï¼šå•å‘çš„æŒç»­é€šä¿¡ï¼Œå¦‚ï¼šç½‘ç»œå˜åŒ–ã€ä¼ æ„Ÿå™¨ç­‰ã€‚</li><li>MethodChannelï¼šä¸€æ¬¡æ€§é€šä¿¡ï¼Œä¸€èˆ¬é€‚ç”¨å¦‚æ–¹æ³•çš„è°ƒç”¨ã€‚</li><li>BasicMessageChannelï¼šæŒç»­çš„åŒå‘é€šä¿¡ã€‚</li></ul><p>æ­¤é¡¹ç›®é‡Œé‡‡ç”¨äº† <code>MethodChannel</code> æ–¹æ³•è¿›è¡Œé€šä¿¡ï¼Œå¦‚ï¼šflutter ç«¯è°ƒç”¨ android ç«¯çš„AIæ™ºèƒ½è¯­éŸ³æ–¹æ³•ä»¥åŠ flutter æ‰“å¼€ android ç«¯é¡µé¢å°±æ˜¯ç”¨ <code>MethodChannel</code> å®ç°çš„ã€‚</p><p>flutter ç«¯è°ƒç”¨ android ç«¯çš„AIæ™ºèƒ½è¯­éŸ³æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AsrManager</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> MethodChannel _channel = <span class="keyword">const</span> MethodChannel(<span class="string">'lib_asr'</span>);</span><br><span class="line">  <span class="comment">//å¼€å§‹å½•éŸ³</span></span><br><span class="line">  <span class="keyword">static</span> Future&lt;<span class="built_in">String</span>&gt; start(&#123;<span class="built_in">Map</span> params&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> _channel.invokeMethod(<span class="string">'start'</span>, params ?? &#123;&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//åœæ­¢å½•éŸ³</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="comment">//å–æ¶ˆå½•éŸ³</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="comment">//é”€æ¯</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>flutter æ‰“å¼€ android ç«¯é¡µé¢ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MethodChannelPlugin</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> MethodChannel methodChannel = MethodChannel(<span class="string">'MethodChannelPlugin'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> Future&lt;<span class="keyword">void</span>&gt; gotoDestinationSearchPage() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> methodChannel.invokeMethod(<span class="string">'gotoDestinationSearchPage'</span>); <span class="comment">//gotoDestinationSearchPage å‚æ•°ä¼šä¼ åˆ°androidç«¯</span></span><br><span class="line">    &#125; on PlatformException &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">'Failed go to gotoDestinationSearchPage'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>android æ¥æ”¶ä¹Ÿæ˜¯é€šè¿‡ <code>MethodChannel</code> ï¼Œå…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodChannelPlugin</span> <span class="keyword">implements</span> <span class="title">MethodChannel</span>.<span class="title">MethodCallHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MethodChannel methodChannel;</span><br><span class="line">    <span class="keyword">private</span> Activity activity;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">MethodChannelPlugin</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.activity = activity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨æ–¹é€šè¿‡ registerWith æ¥æ³¨å†Œflutteré¡µé¢</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">registerWith</span><span class="params">(FlutterView flutterView)</span> </span>&#123;</span><br><span class="line">        methodChannel = <span class="keyword">new</span> MethodChannel(flutterView, <span class="string">"MethodChannelPlugin"</span>);</span><br><span class="line">        MethodChannelPlugin instance = <span class="keyword">new</span> MethodChannelPlugin((Activity) flutterView.getContext());</span><br><span class="line">        methodChannel.setMethodCallHandler(instance);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMethodCall</span><span class="params">(MethodCall methodCall, MethodChannel.Result result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (methodCall.method.equals(<span class="string">"gotoDestinationSearchPage"</span>)) &#123; <span class="comment">// æ”¶åˆ°æ¶ˆæ¯è¿›è¡Œå…·ä½“æ“ä½œ</span></span><br><span class="line">            EventBus.getDefault().post(<span class="keyword">new</span> GotoDestinationSearchPageEvent());</span><br><span class="line">            result.success(<span class="number">200</span>);</span><br><span class="line">        &#125; </span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            result.notImplemented();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>android flutter æ··åˆå¼€å‘åŸºæœ¬å°±æ˜¯è¿™3ä¸ªæ­¥éª¤ï¼Œå…¶ä»–ä¸€äº›ç»†èŠ‚åŠå…·ä½“çš„æµç¨‹è¯·å‚è€ƒ <a href="https://github.com/persilee/android_ctrip" target="_blank" rel="noopener">GitHub</a> é¡¹ç›®æºç ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/androidCtrip.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutter 10å¤©é«˜ä»¿å¤§å‚AppåŠå°æŠ€å·§ç§¯ç´¯æ€»ç»“</title>
      <link>https://h.lishaoy.net/flutterCtrip.html</link>
      <guid>https://h.lishaoy.net/flutterCtrip.html</guid>
      <pubDate>Mon, 11 May 2020 13:53:05 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/flutterCtrip/iOS-andorid.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;ä¹‹å‰ï¼Œä¹Ÿå†™è¿‡å‡ ç¯‡å…³äº &lt;code&gt;Flutter&lt;/code&gt; çš„åšæ–‡ï¼Œæœ€è¿‘ï¼ŒåˆèŠ±äº†ä¸€äº›æ—¶é—´å­¦ä¹ ç ”ç©¶ &lt;code&gt;Flutter&lt;/code&gt;ï¼Œå®Œæˆäº†é«˜ä»¿å¤§å‚ &lt;strong&gt;App&lt;/strong&gt; é¡¹ç›® &lt;em&gt;(é¡¹ç›®ä½¿ç”¨çš„æ¥å£éƒ½æ˜¯æ¥è‡ªçº¿ä¸ŠçœŸå®AppæŠ“åŒ…è€Œæ¥ï¼Œå¯ä»¥åšåˆ°å’Œçº¿ä¸Šé¡¹ç›®ç›¸åŒçš„æ•ˆæœ)&lt;/em&gt;ï¼Œä¹Ÿæ€»ç»“ç§¯ç´¯äº†ä¸€äº›å°æŠ€å·§å’ŒçŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™é‡Œè®°å½•åˆ†äº«å‡ºæ¥ï¼Œä¹Ÿå¸Œæœ› &lt;code&gt;Flutter&lt;/code&gt; ç”Ÿæ€è¶Šæ¥è¶Šå¥½ &lt;em&gt;ï¼ˆflutterå¼€å‘Appæ•ˆç‡çœŸçš„å¾ˆé«˜ï¼Œå¼€å‘ä½“éªŒä¹Ÿæ˜¯å¾ˆå¥½çš„ ğŸ™‚ï¼‰&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/flutterCtrip/iOS-andorid.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>ä¹‹å‰ï¼Œä¹Ÿå†™è¿‡å‡ ç¯‡å…³äº <code>Flutter</code> çš„åšæ–‡ï¼Œæœ€è¿‘ï¼ŒåˆèŠ±äº†ä¸€äº›æ—¶é—´å­¦ä¹ ç ”ç©¶ <code>Flutter</code>ï¼Œå®Œæˆäº†é«˜ä»¿å¤§å‚ <strong>App</strong> é¡¹ç›® <em>(é¡¹ç›®ä½¿ç”¨çš„æ¥å£éƒ½æ˜¯æ¥è‡ªçº¿ä¸ŠçœŸå®AppæŠ“åŒ…è€Œæ¥ï¼Œå¯ä»¥åšåˆ°å’Œçº¿ä¸Šé¡¹ç›®ç›¸åŒçš„æ•ˆæœ)</em>ï¼Œä¹Ÿæ€»ç»“ç§¯ç´¯äº†ä¸€äº›å°æŠ€å·§å’ŒçŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™é‡Œè®°å½•åˆ†äº«å‡ºæ¥ï¼Œä¹Ÿå¸Œæœ› <code>Flutter</code> ç”Ÿæ€è¶Šæ¥è¶Šå¥½ <em>ï¼ˆflutterå¼€å‘Appæ•ˆç‡çœŸçš„å¾ˆé«˜ï¼Œå¼€å‘ä½“éªŒä¹Ÿæ˜¯å¾ˆå¥½çš„ ğŸ™‚ï¼‰</em>ã€‚</p><hr><a id="more"></a><p>ä»¥ä¸‹åšæ–‡ä¼šåˆ†ä¸º4ä¸ªéƒ¨åˆ†æ¦‚è¿°ï¼š</p><ul><li>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</li><li>é¡¹ç›®ç»“æ„åˆ†æ</li><li>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</li><li>å°æŠ€å·§ç§¯ç´¯æ€»ç»“</li></ul><h2 id="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"><a href="#é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ" class="headerlink" title="é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ"></a>é¡¹ç›®å®Œæˆçš„åŠŸèƒ½é¢„è§ˆ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªè§†é¢‘æ¥å¿«é€Ÿé¢„è§ˆä¸‹é¡¹ç›®å®Œæˆçš„åŠŸèƒ½å’Œè¿è¡Œæ•ˆæœï¼Œå¦‚ä¸‹</p><video id="flutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/ctrip/ctripV.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/flutterCtrip/ctrip.mp4" type="video/mp4"></video><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> å¦‚è§†é¢‘æ’­æ”¾å¤±è´¥ï¼Œ <a href="https://www.bilibili.com/video/BV16p4y1Q71f/" target="_blank" rel="noopener">è¯·ç§»æ­¥è¿™é‡Œç‚¹å‡»è§‚çœ‹</a> ï¼ˆå¯ç‚¹å‡»é½¿è½®è®¾ç½®éšè—é»‘è¾¹ï¼‰</p></div><p><br>å¤§å®¶çœ‹å®Œè§†é¢‘ï¼Œå¤§æ¦‚äº†è§£åˆ°ï¼Œå®Œæˆåº¦åŸºæœ¬å¯ä»¥å’Œçº¿ä¸Šçš„ <strong>App</strong> ç›¸å·®æ— å¼‚äº†ï¼Œå¤§å®¶å¦‚æœå¯¹é¡¹ç›®æ„Ÿå…´è¶£ï¼Œæƒ³äº†è§£å…·ä½“æ€ä¹ˆå®ç°çš„ï¼Œå¯ä»¥å»æˆ‘çš„ <a href="https://github.com/persilee" target="_blank" rel="noopener">GitHub</a> clone æºç æŸ¥çœ‹ã€‚</p><p>ä¹Ÿå¯æ‰«æï¼Œå®‰è£…ä½“éªŒï¼š</p><div style="width:166px; margin:auto"><img src="https://www.pgyer.com/app/qrcode/HqqH" alt="no-shadow" title="æ‰‹æœºæ‰«æäºŒç»´ç å®‰è£…"></div><p>æœ¬è§†é¢‘æ˜¯ç”¨çœŸæœºå½•å±çš„ï¼Œå› ä¸ºï¼Œè¯­éŸ³æœç´¢åŠŸèƒ½éœ€è¦å½•éŸ³ï¼Œæ¨¡æ‹Ÿå™¨æ— æ³•å½•éŸ³ï¼Œå½“ç„¶, <code>iOS</code> å’Œ <code>Andorid</code>éƒ½å¯ä»¥è¿è¡Œï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterCtrip/iOS-andorid.png" alt="no-shadow" title="iOS Andorid"></p><h2 id="é¡¹ç›®ç»“æ„åˆ†æ"><a href="#é¡¹ç›®ç»“æ„åˆ†æ" class="headerlink" title="é¡¹ç›®ç»“æ„åˆ†æ"></a>é¡¹ç›®ç»“æ„åˆ†æ</h2><p>å…¶æ¬¡ï¼Œæ¢³ç†ä¸‹é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œç†è§£æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€çº§ç›®å½•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ README.md  <span class="comment"># æè¿°æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ android    <span class="comment"># android å®¿ä¸»ç¯å¢ƒ</span></span><br><span class="line">â”œâ”€â”€ build      <span class="comment"># é¡¹ç›®æ„å»ºç›®å½•ï¼Œç”±flutterè‡ªåŠ¨å®Œæˆ</span></span><br><span class="line">â”œâ”€â”€ flutter_ctrip.iml</span><br><span class="line">â”œâ”€â”€ fonts      <span class="comment"># è‡ªå·±åˆ›å»ºçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾å­—ä½“</span></span><br><span class="line">â”œâ”€â”€ images     <span class="comment"># è‡ªå·±åˆ›å»ºçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾å›¾ç‰‡</span></span><br><span class="line">â”œâ”€â”€ ios        <span class="comment"># iOS å®¿ä¸»ç¯å¢ƒ</span></span><br><span class="line">â”œâ”€â”€ lib        <span class="comment"># flutter æ‰§è¡Œæ–‡ä»¶ï¼Œè‡ªå·±å†™çš„ä»£ç éƒ½åœ¨è¿™</span></span><br><span class="line">â”œâ”€â”€ pubspec.lock <span class="comment"># ç”¨æ¥è®°å½•é”å®šæ’ä»¶ç‰ˆæœ¬</span></span><br><span class="line">â”œâ”€â”€ pubspec.yaml <span class="comment"># æ’ä»¶åŠèµ„æºé…ç½®æ–‡ä»¶</span></span><br><span class="line">â””â”€â”€ <span class="built_in">test</span>       <span class="comment"># æµ‹è¯•ç›®å½•</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°±ä¸ç”¨å¤šè§£é‡Šï¼Œå¤§å¤šæ˜¯ flutter ç”ŸæˆåŠç®¡ç†çš„ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯ <strong>lib</strong> ç›®å½•ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹çœ‹äºŒçº§ç›®å½•ï¼Œå¦‚ä¸‹ <em>(é‡ç‚¹å…³æ³¨ä¸‹libç›®å½•)</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ android</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ android.iml</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ settings.gradle</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ app</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ snapshot_blob.bin.d.fingerprint</span><br><span class="line">â”œâ”€â”€ flutter_ctrip.iml</span><br><span class="line">â”œâ”€â”€ fonts</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ PingFang-Italic.ttf</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ PingFang-Regular.ttf</span><br><span class="line">â”‚Â Â  â””â”€â”€ PingFang_Bold.ttf</span><br><span class="line">â”œâ”€â”€ images</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ grid-nav-items-dingzhi.png</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ yuyin.png</span><br><span class="line">â”œâ”€â”€ ios</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ Flutter</span><br><span class="line">  ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ ServiceDefinitions.json</span><br><span class="line">â”œâ”€â”€ lib</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ dao           <span class="comment"># è¯·æ±‚æ¥å£çš„ç±»</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ main.dart     <span class="comment"># flutter å…¥å£æ–‡ä»¶</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ model         <span class="comment"># å®ä½“ç±»ï¼ŒæŠŠæœåŠ¡å™¨è¿”å›çš„ json æ•°æ®ï¼Œè½¬æ¢æˆ dart ç±»</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ navigator     <span class="comment"># bottom bar é¦–é¡µåº•éƒ¨å¯¼èˆªè·¯ç”±</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ pages         <span class="comment"># æ‰€ä»¥çš„é¡µé¢</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ plugin        <span class="comment"># å°è£…çš„æ’ä»¶</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ util          <span class="comment"># å·¥å…·ç±»ï¼Œé¿å…é‡å¤ä»£ç ï¼Œå°è£…æˆå·¥å…·ç±»ä»¥ä¾¿å„ä¸ª page è°ƒç”¨</span></span><br><span class="line">â”‚Â Â  â””â”€â”€ widget        <span class="comment"># å°è£…çš„ç»„ä»¶</span></span><br><span class="line">â”œâ”€â”€ pubspec.lock</span><br><span class="line">â”œâ”€â”€ pubspec.yaml</span><br><span class="line">â””â”€â”€ <span class="built_in">test</span></span><br><span class="line">    â””â”€â”€ widget_test.dart</span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹çœ‹ï¼Œ<strong>lib</strong> ç›®å½•ä¸‹äºŒçº§ç›®å½•ï¼Œçœ‹çœ‹æ•´ä¸ªé¡¹ç›®åˆ›å»ºäº†å¤šå°‘ä¸ªæ–‡ä»¶ï¼Œå†™äº†å¤šå°‘ä»£ç ï¼Œå¦‚ä¸‹ <em>ï¼ˆå…¶å®ï¼Œå¹¶ä¸æ˜¯å¾ˆå¤šï¼‰</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ dao/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_search_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ home_dao.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ search_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ trave_hot_keyword_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ trave_search_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ trave_search_hot_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_dao.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_params_dao.dart*</span><br><span class="line">â”‚Â Â  â””â”€â”€ travel_tab_dao.dart*</span><br><span class="line">â”œâ”€â”€ main.dart</span><br><span class="line">â”œâ”€â”€ model/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ common_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ config_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_search_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ grid_nav_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ home_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ sales_box_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ seach_model.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_hot_keyword_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_model.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_params_model.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_search_hot_model.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_search_model.dart</span><br><span class="line">â”‚Â Â  â””â”€â”€ travel_tab_model.dart</span><br><span class="line">â”œâ”€â”€ navigator/</span><br><span class="line">â”‚Â Â  â””â”€â”€ tab_navigater.dart</span><br><span class="line">â”œâ”€â”€ pages/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ destination_search_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ home_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ my_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ search_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ speak_page.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ test_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_page.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ travel_search_page.dart</span><br><span class="line">â”‚Â Â  â””â”€â”€ travel_tab_page.dart*</span><br><span class="line">â”œâ”€â”€ plugin/</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ asr_manager.dart*</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ side_page_view.dart</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ square_swiper_pagination.dart</span><br><span class="line">â”‚Â Â  â””â”€â”€ vertical_tab_view.dart</span><br><span class="line">â”œâ”€â”€ util/</span><br><span class="line">â”‚Â Â  â””â”€â”€ navigator_util.dart*</span><br><span class="line">â””â”€â”€ widget/</span><br><span class="line">    â”œâ”€â”€ grid_nav.dart</span><br><span class="line">    â”œâ”€â”€ grid_nav_new.dart</span><br><span class="line">    â”œâ”€â”€ loading_container.dart</span><br><span class="line">    â”œâ”€â”€ local_nav.dart</span><br><span class="line">    â”œâ”€â”€ sales_box.dart</span><br><span class="line">    â”œâ”€â”€ scalable_box.dart</span><br><span class="line">    â”œâ”€â”€ search_bar.dart*</span><br><span class="line">    â”œâ”€â”€ sub_nav.dart</span><br><span class="line">    â””â”€â”€ webview.dart</span><br></pre></td></tr></table></figure><p>æ•´ä¸ªé¡¹ç›®å°±æ˜¯ä»¥ä¸Šè¿™äº›æ–‡ä»¶äº† <em>ï¼ˆå…·ä½“çš„å°±ä¸ä¸€ä¸ªä¸€ä¸ªåˆ†æäº†ï¼Œå¦‚ï¼Œæ„Ÿå…´è¶£ï¼Œå¤§å®¶å¯ä»¥ clone æºç è¿è¡Œèµ·æ¥ï¼Œè‡ªç„¶å°±æ¸…é™¤äº†ï¼‰</em>ã€‚</p><h2 id="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"><a href="#é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰" class="headerlink" title="é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰"></a>é¡¹ç›®åŠŸèƒ½è¯¦ç»†æ¦‚è¿°ï¼ˆæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼‰</h2><p>é¦–å…ˆï¼Œæ¥çœ‹çœ‹é¦–é¡µåŠŸèƒ½åŠæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼Œé¦–é¡µé‡ç‚¹çœ‹ä¸‹ä»¥ä¸‹åŠŸèƒ½å®ç°ï¼š</p><ul><li>æ¸éšæ¸ç°çš„ <strong>appBar</strong> </li><li>æœç´¢ç»„ä»¶çš„å°è£…</li><li>è¯­éŸ³æœç´¢é¡µé¢</li><li>bannerç»„ä»¶</li><li>æµ®åŠ¨çš„ icon å¯¼èˆª</li><li>æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª</li></ul><h3 id="æ¸éšæ¸ç°çš„-appBar"><a href="#æ¸éšæ¸ç°çš„-appBar" class="headerlink" title="æ¸éšæ¸ç°çš„ appBar"></a>æ¸éšæ¸ç°çš„ appBar</h3><p>å…ˆæ¥çœ‹çœ‹å…·ä½“æ•ˆæœï¼Œä¸€ç¹èŠ³å®¹ï¼Œå¦‚å›¾ï¼š</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/appBar.gif" alt="no-shadow" title="appBar"></div><p>æ»šåŠ¨çš„æ—¶å€™ <strong>appBar</strong> èƒŒæ™¯è‰²ä»é€æ˜å˜æˆç™½è‰²æˆ–ç™½è‰²å˜æˆé€æ˜ï¼Œè¿™é‡Œä¸»è¦ç”¨äº† <strong>flutter</strong> çš„ <code>NotificationListener</code> ç»„ä»¶ï¼Œå®ƒä¼šå»ç›‘å¬ç»„ä»¶æ ‘å†’æ³¡äº‹ä»¶ï¼Œå½“è¢«å®ƒåŒ…è£¹çš„çš„ç»„ä»¶<em>ï¼ˆå­ç»„ä»¶ï¼‰</em> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code>Notification</code> å›è°ƒå‡½æ•°ä¼šè¢«è§¦å‘ï¼Œæ‰€ä»¥ï¼Œé€šè¿‡å®ƒå¯ä»¥å»ç›‘å¬é¡µé¢çš„æ»šåŠ¨ï¼Œæ¥åŠ¨æ€æ”¹å˜ <strong>appBar</strong> çš„é€æ˜åº¦<em>ï¼ˆalphaï¼‰</em>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NotificationListener(</span><br><span class="line">  onNotification: (scrollNotification) &#123;</span><br><span class="line">    <span class="keyword">if</span> (scrollNotification <span class="keyword">is</span> ScrollUpdateNotification &amp;&amp;</span><br><span class="line">        scrollNotification.depth == <span class="number">0</span>) &#123;</span><br><span class="line">      _onScroll(scrollNotification.metrics.pixels);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  child: ...</span><br></pre></td></tr></table></figure><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> <span class="label danger">scrollNotification.depth</span>çš„å€¼ 0 è¡¨ç¤ºå…¶å­ç»„ä»¶<em>(åªç›‘å¬å­ç»„ä»¶ï¼Œä¸ç›‘å¬å­™ç»„ä»¶)</em>ï¼›<span class="label danger">scrollNotification is ScrollUpdateNotification</span>æ¥åˆ¤æ–­ç»„ä»¶æ˜¯å¦å·²æ›´æ–°ï¼Œ<strong>ScrollUpdateNotification</strong> æ˜¯ notifications çš„ç”Ÿå‘½å‘¨æœŸä¸€ç§æƒ…å†µï¼Œåˆ†åˆ«æœ‰ä¸€ä¸‹å‡ ç§ï¼š</p><ul><li>ScrollStartNotification ç»„ä»¶å¼€å§‹æ»šåŠ¨</li><li>ScrollUpdateNotification ç»„ä»¶ä½ç½®å·²ç»å‘ç”Ÿæ”¹å˜</li><li>ScrollEndNotification ç»„ä»¶åœæ­¢æ»šåŠ¨</li><li>UserScrollNotification ä¸æ¸…æ¥š</li></ul><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¸æ¢ç©¶å¤ªæ·±å…¥ï¼Œå¦‚æƒ³äº†è§£å¯å¤šæŸ¥çœ‹æºç ã€‚</p></div> <p><strong>_onScroll</strong> æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _onScroll(offset) &#123;</span><br><span class="line">  <span class="built_in">double</span> alpha = offset / APPBAR_SCROLL_OFFSET;  <span class="comment">// APPBAR_SCROLL_OFFSET å¸¸é‡ï¼Œå€¼ï¼š100ï¼›offset æ»šåŠ¨çš„è·ç¦»</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//æŠŠ alpha å€¼æ§åˆ¶å€¼ 0-1 ä¹‹é—´</span></span><br><span class="line">  <span class="keyword">if</span> (alpha &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    alpha = <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (alpha &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    alpha = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    appBarAlpha = alpha;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(alpha);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœç´¢ç»„ä»¶çš„å°è£…"><a href="#æœç´¢ç»„ä»¶çš„å°è£…" class="headerlink" title="æœç´¢ç»„ä»¶çš„å°è£…"></a>æœç´¢ç»„ä»¶çš„å°è£…</h3><p>æœç´¢ç»„ä»¶æ•ˆæœå¦‚å›¾ï¼š</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/searchBar.gif" alt="no-shadow" title="searchBar"></div><p>ä»¥ä¸‹æ˜¯é¦–é¡µè°ƒç”¨ <code>searchBar</code> çš„ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SearchBar(</span><br><span class="line">  searchBarType: appBarAlpha &gt; <span class="number">0.2</span>  <span class="comment">//searchBar çš„ç±»ï¼šæš—è‰²ã€äº®è‰²</span></span><br><span class="line">      ? SearchBarType.homeLight</span><br><span class="line">      : SearchBarType.home,</span><br><span class="line">  inputBoxClick: _jumpToSearch,     <span class="comment">//ç‚¹å‡»å›è°ƒå‡½æ•°</span></span><br><span class="line">  defaultText: SEARCH_BAR_DEFAULT_TEXT,   <span class="comment">// æç¤ºæ–‡å­—</span></span><br><span class="line">  leftButtonClick: () &#123;&#125;,           <span class="comment">//å·¦è¾¹è¾¹æŒ‰é’®ç‚¹å‡»å›è°ƒå‡½æ•°</span></span><br><span class="line">  speakClick: _jumpToSpeak,         <span class="comment">//ç‚¹å‡»è¯ç­’å›è°ƒå‡½æ•°</span></span><br><span class="line">  rightButtonClick: _jumpToUser,    <span class="comment">//å³è¾¹è¾¹æŒ‰é’®ç‚¹å‡»å›è°ƒå‡½æ•°</span></span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯ç”¨ <code>TextField</code> ç»„ä»¶ï¼Œå†åŠ ä¸€äº›æ ·å¼ï¼Œéœ€è¦æ³¨æ„ç‚¹æ˜¯ï¼š<strong>onChanged</strong>ï¼Œä»–æ˜¯ <strong>TextField</strong> ç”¨æ¥ç›‘å¬æ–‡æœ¬æ¡†æ˜¯å¦å˜åŒ–ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬æ¥ç›‘å¬ç”¨æˆ·è¾“å…¥ï¼Œæ¥è¯·æ±‚æ¥å£æ•°æ®;å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œè¯·æŸ¥é˜…æºç ï¼š <a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/widget/search_bar.dart" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹searchBaræºç </a></p><h3 id="è¯­éŸ³æœç´¢é¡µé¢"><a href="#è¯­éŸ³æœç´¢é¡µé¢" class="headerlink" title="è¯­éŸ³æœç´¢é¡µé¢"></a>è¯­éŸ³æœç´¢é¡µé¢</h3><p>è¯­éŸ³æœç´¢é¡µé¢æ•ˆæœå¦‚å›¾ï¼šç”±äºæ¨¡æ‹Ÿå™¨æ— æ³•å½•éŸ³ï¼Œæ‰€ä»¥æ— æ³•å±•ç¤ºæ­£å¸¸æµç¨‹ï¼Œå¦‚æœå½•éŸ³è¯†åˆ«æˆåŠŸåä¼šè¿”å›æœç´¢é¡µé¢ï¼Œåœ¨é¡¹ç›®é¢„è§ˆè§†é¢‘ä¸­å¯ä»¥çœ‹åˆ°æ­£å¸¸æµç¨‹ã€‚</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/speak.gif" alt="no-shadow" title="speak"></div><p>è¯­éŸ³æœç´¢åŠŸèƒ½ä½¿ç”¨çš„æ˜¯ç™¾åº¦çš„è¯­è¨€è¯†åˆ«SDKï¼ŒåŸç”Ÿæ¥å…¥ä¹‹åï¼Œé€šè¿‡ <strong>MethodChannel</strong> å’ŒåŸç”ŸNativeç«¯é€šä¿¡ï¼Œè¿™é‡Œä¸åšé‡ç‚¹è®²è¿°ï¼ˆè¿™é‡Œä¼šæ¶‰åŠåŸç”ŸNativeçš„çŸ¥è¯†ï¼‰ã€‚</p><p>é‡ç‚¹çœ‹çœ‹ç‚¹å‡»å½•éŸ³æŒ‰é’®æ—¶çš„åŠ¨ç”»å®ç°ï¼Œè¿™ä¸ªåŠ¨ç”»ç”¨äº† <strong>AnimatedWidget</strong> å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimatedWear</span> <span class="keyword">extends</span> <span class="title">AnimatedWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> isStart;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> _opacityTween = Tween&lt;<span class="built_in">double</span>&gt;(begin: <span class="number">0.5</span>, end: <span class="number">0</span>); <span class="comment">// è®¾ç½®é€æ˜åº¦å˜åŒ–å€¼</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> _sizeTween = Tween&lt;<span class="built_in">double</span>&gt;(begin: <span class="number">90</span>, end: <span class="number">260</span>);   <span class="comment">// è®¾ç½®åœ†å½¢çº¿çš„æ‰©æ•£å€¼</span></span><br><span class="line"></span><br><span class="line">  AnimatedWear(&#123;Key key, <span class="keyword">this</span>.isStart, Animation&lt;<span class="built_in">double</span>&gt; animation&#125;)</span><br><span class="line">      : <span class="keyword">super</span>(key: key, listenable: animation);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">final</span> Animation&lt;<span class="built_in">double</span>&gt; animation = listenable;  <span class="comment">// listenable ç»§æ‰¿ AnimatedWidgetï¼Œå…¶å®å°±æ˜¯æ§åˆ¶å™¨ï¼Œä¼šè‡ªåŠ¨ç›‘å¬ç»„ä»¶çš„å˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      height: <span class="number">90</span>,</span><br><span class="line">      width: <span class="number">90</span>,</span><br><span class="line">      child: Stack(</span><br><span class="line">        overflow: Overflow.visible,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          ...</span><br><span class="line">          <span class="comment">// æ‰©æ•£çš„åœ†çº¿ï¼Œå…¶å®å°±æ˜¯ç”¨ä¸€ä¸ªåœ†å®ç°çš„ï¼Œè®¾ç½®åœ†ä¸ºé€æ˜ï¼Œè®¾ç½®border</span></span><br><span class="line">          Positioned(</span><br><span class="line">            left: -((_sizeTween.evaluate(animation) - <span class="number">90</span>) / <span class="number">2</span>), <span class="comment">// æ ¹æ® _sizeTween åŠ¨æ€è®¾ç½®leftåç§»å€¼</span></span><br><span class="line">            top: -((_sizeTween.evaluate(animation) - <span class="number">90</span>) / <span class="number">2</span>), <span class="comment">//  æ ¹æ® _sizeTween åŠ¨æ€è®¾ç½®topåç§»å€¼</span></span><br><span class="line">            child: Opacity(</span><br><span class="line">              opacity: _opacityTween.evaluate(animation),      <span class="comment">// æ ¹æ® _opacityTween åŠ¨æ€è®¾ç½®é€æ˜å€¼</span></span><br><span class="line">              child: Container(</span><br><span class="line">                width: isStart ? _sizeTween.evaluate(animation) : <span class="number">0</span>, <span class="comment">// è®¾ç½® å®½</span></span><br><span class="line">                height: _sizeTween.evaluate(animation),              <span class="comment">// è®¾ç½® é«˜</span></span><br><span class="line">                decoration: BoxDecoration(</span><br><span class="line">                    color: Colors.transparent,</span><br><span class="line">                    borderRadius: BorderRadius.circular(</span><br><span class="line">                        _sizeTween.evaluate(animation) / <span class="number">2</span>),</span><br><span class="line">                    border: Border.all(</span><br><span class="line">                      color: Color(<span class="number">0xa8000000</span>),</span><br><span class="line">                    )),</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä»–ç»†èŠ‚ï¼Œå¦‚ï¼šç‚¹å‡»æ—¶æç¤ºå½•éŸ³ï¼Œå½•éŸ³å¤±è´¥æç¤ºï¼Œç‚¹å‡»å½•éŸ³æŒ‰é’®å‡ºç°åŠé€æ˜é»‘è‰²åœ†è¾¹æ¡†ï¼Œåœæ­¢åæ¶ˆå¤±ç­‰ï¼Œ<a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/pages/speak_page.dart" target="_blank" rel="noopener">è¯·æŸ¥çœ‹æºç </a>ã€‚</p><h3 id="bannerç»„ä»¶"><a href="#bannerç»„ä»¶" class="headerlink" title="bannerç»„ä»¶"></a>bannerç»„ä»¶</h3><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/banner.gif" alt="no-shadow" title="banner"></div><p><code>banner</code>ä½¿ç”¨çš„æ˜¯flutterçš„ <a href="https://pub.dev/packages/flutter_swiper" target="_blank" rel="noopener">flutter_swiper</a> æ’ä»¶å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Swiper(</span><br><span class="line">  itemCount: bannerList.length,              <span class="comment">// æ»šåŠ¨å›¾ç‰‡çš„æ•°é‡</span></span><br><span class="line">  autoplay: <span class="keyword">true</span>,                            <span class="comment">// è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  pagination: SwiperPagination(              <span class="comment">// æŒ‡ç¤ºå™¨</span></span><br><span class="line">      builder: SquareSwiperPagination(</span><br><span class="line">        size: <span class="number">6</span>,                             <span class="comment">// æŒ‡ç¤ºå™¨çš„å¤§å°</span></span><br><span class="line">        activeSize: <span class="number">6</span>,                       <span class="comment">// æ¿€æ´»çŠ¶æ€æŒ‡ç¤ºå™¨çš„å¤§å°</span></span><br><span class="line">        color: Colors.white.withAlpha(<span class="number">80</span>),   <span class="comment">// é¢œè‰²</span></span><br><span class="line">        activeColor: Colors.white,           <span class="comment">// æ¿€æ´»çŠ¶æ€çš„é¢œè‰²</span></span><br><span class="line">      ),</span><br><span class="line">    alignment: Alignment.bottomRight,        <span class="comment">// å¯¹é½æ–¹å¼</span></span><br><span class="line">    margin: EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">28</span>), <span class="comment">// è¾¹è·</span></span><br><span class="line">  ),</span><br><span class="line">  itemBuilder: (BuildContext context, <span class="built_in">int</span> index) &#123; <span class="comment">// æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">return</span> GestureDetector(</span><br><span class="line">      onTap: () &#123;</span><br><span class="line">        CommonModel model = bannerList[index];</span><br><span class="line">        Navigator.push(</span><br><span class="line">          context,</span><br><span class="line">          MaterialPageRoute(</span><br><span class="line">            builder: (context) =&gt; WebView(</span><br><span class="line">              url: model.url,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">      child: Image.network(</span><br><span class="line">        bannerList[index].icon,</span><br><span class="line">        fit: BoxFit.fill,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥å» flutterçš„å®˜æ–¹æ’ä»¶åº“ <a href="https://pub.dev/" target="_blank" rel="noopener">pub.dev</a> æŸ¥çœ‹ï¼š<a href="https://pub.dev/packages/flutter_swiper" target="_blank" rel="noopener">ç‚¹å‡»flutter_swiperæŸ¥çœ‹</a>ã€‚<div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ç¨æ”¹é€ äº†ä¸€ä¸‹æŒ‡ç¤ºå™¨çš„æ ·å¼ï¼Œ<code>flutter_swiper</code> åªæä¾›äº† 3 ç§æŒ‡ç¤ºå™¨æ ·å¼ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>dots = const DotSwiperPaginationBuilder()ï¼Œåœ†å½¢</li><li>fraction = const FractionPaginationBuilder()ï¼Œç™¾åˆ†æ•°ç±»å‹çš„,å¦‚ï¼š1/6ï¼Œè¡¨ç¤º6é¡µçš„ç¬¬ä¸€é¡µ</li><li>rect = const RectSwiperPaginationBuilder()ï¼ŒçŸ©å½¢</li></ul><p>å¹¶æ²¡æœ‰ä¸Šå›¾çš„æ¿€æ´»çŠ¶æ€çš„é•¿æ¤­åœ†å½¢ï¼Œå…¶å®å°±æ˜¯æŒ‰è‘«èŠ¦ç”»ç“¢ï¼Œè‡ªå·±å®ç°ä¸€ä¸ªé•¿æ¤­åœ†ç±»å‹ï¼Œå¦‚çŸ¥è¯¦æƒ…ï¼Œå¯<a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/plugin/square_swiper_pagination.dart" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹é•¿æ¤­åœ†å½¢æŒ‡ç¤ºå™¨æºç </a></p></div> </p><h3 id="æµ®åŠ¨çš„-icon-å¯¼èˆª"><a href="#æµ®åŠ¨çš„-icon-å¯¼èˆª" class="headerlink" title="æµ®åŠ¨çš„ icon å¯¼èˆª"></a>æµ®åŠ¨çš„ icon å¯¼èˆª</h3><p><strong>iconå¯¼èˆª</strong>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterCtrip/iconBar.png" alt="iconBar" width="36%" title="iconBar" align="center"></p><p><strong>iconå¯¼èˆª</strong>æµ®åŠ¨åœ¨bannerä¹‹ä¸Šï¼Œå…¶å®ç”¨çš„æ˜¯ <code>flutter</code> çš„ <strong>Stack</strong> ç»„ä»¶ï¼ŒStack ç»„ä»¶èƒ½è®©å…¶å­ç»„ä»¶å †å æ˜¾ç¤ºï¼Œå®ƒé€šå¸¸å’Œ <strong>Positioned</strong> ç»„ä»¶é…åˆä½¿ç”¨ï¼Œå¸ƒå±€ç»“æ„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ListView(</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Container(</span><br><span class="line">      child: Stack(</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          Container( ... ), <span class="comment">//è¿™é‡Œæ”¾çš„æ˜¯bannerçš„ä»£ç </span></span><br><span class="line">          Positioned( ... ), <span class="comment">//è¿™ä¸ªå°±æ˜¯iconå¯¼èˆªï¼Œé€šè¿‡ Positioned å›ºå®šæ˜¾ç¤ºä½ç½®</span></span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">    Container( ... ), <span class="comment">// è¿™é‡Œæ”¾çš„ç½‘æ ¼å¯¼èˆªåŠå…¶ä»–</span></span><br><span class="line">  ],</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª"><a href="#æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª" class="headerlink" title="æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª"></a>æ¸å˜ä¸è§„åˆ™å¸¦æœ‰èƒŒæ™¯å›¾çš„ç½‘æ ¼å¯¼èˆª</h3><p>ç½‘æ ¼å¯¼èˆªæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterCtrip/gridNav.png" alt="gridNav" width="46%" title="gridNav" align="center"></p><p>å¦‚å›¾ï¼Œç½‘æ ¼å¯¼èˆªåˆ†ä¸ºä¸‰è¡Œå››æ ï¼Œè€Œç¬¬ä¸€è¡Œåˆ†ä¸ºä¸‰æ ï¼Œæ¯ä¸€è¡Œçš„ç¬¬ä¸€æ å®½åº¦å¤§äºå…¶ä½™ä¸‰æ ï¼Œå…¶ä½™ä¸‰æ å‡ç­‰ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰æ¸å˜è‰²ï¼Œè€Œä¸”ç¬¬ä¸€ã€äºŒæ éƒ½æœ‰èƒŒæ™¯å›¾;<code>flutter</code> é‡Œ <strong>Column</strong> ç»„ä»¶èƒ½è®©å­ç»„ä»¶ç«–è½´æ’åˆ—ï¼Œ <strong>Row</strong> ç»„ä»¶èƒ½è®©å­ç»„ä»¶æ¨ªè½´æ’åˆ—ï¼Œå¸ƒå±€ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Column(                      <span class="comment">// æœ€å¤–é¢æ”¾åœ¨ Column ç»„ä»¶</span></span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Container(               <span class="comment">// ç¬¬ä¸€è¡ŒåŒ…è£¹ Container è®¾ç½®å…¶æ¸å˜è‰²</span></span><br><span class="line">      height: <span class="number">72</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        gradient: LinearGradient(colors: [  <span class="comment">//è®¾ç½®æ¸å˜è‰²</span></span><br><span class="line">          Color(<span class="number">0xfffa5956</span>),</span><br><span class="line">          Color(<span class="number">0xffef9c76</span>).withAlpha(<span class="number">45</span>)</span><br><span class="line">        ]),</span><br><span class="line">      ),</span><br><span class="line">      child: Row( ... ),    <span class="comment">// ç¬¬ä¸€è¡Œ</span></span><br><span class="line">    ),</span><br><span class="line">    Padding(</span><br><span class="line">      padding: EdgeInsets.only(top: <span class="number">1</span>),  <span class="comment">// è®¾ç½®è¡Œç›´æ¥çš„é—´éš”</span></span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      height: <span class="number">72</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        gradient: LinearGradient(colors: [  <span class="comment">//è®¾ç½®æ¸å˜è‰²</span></span><br><span class="line">          Color(<span class="number">0xff4b8fed</span>),</span><br><span class="line">          Color(<span class="number">0xff53bced</span>),</span><br><span class="line">        ]),</span><br><span class="line">      ),</span><br><span class="line">      child: Row( ... ),  <span class="comment">// ç¬¬äºŒè¡Œ</span></span><br><span class="line">    ),</span><br><span class="line">    Padding(</span><br><span class="line">      padding: EdgeInsets.only(top: <span class="number">1</span>),   <span class="comment">// è®¾ç½®è¡Œç›´æ¥çš„é—´éš”</span></span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      height: <span class="number">72</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        gradient: LinearGradient(colors: [  <span class="comment">//è®¾ç½®æ¸å˜è‰²</span></span><br><span class="line">          Color(<span class="number">0xff34c2aa</span>),</span><br><span class="line">          Color(<span class="number">0xff6cd557</span>),</span><br><span class="line">        ]),</span><br><span class="line">      ),</span><br><span class="line">      child: Row( ... ),  <span class="comment">// ç¬¬ä¸‰è¡Œ</span></span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…¶å®ï¼Œå…·ä½“å®ç°çš„ç»†èŠ‚è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚ï¼š</p><ul><li>æ€ä¹ˆè®¾ç½®ç¬¬ä¸€æ å®½åº¦åå¤§ï¼Œå…¶ä»–å‡ç­‰ï¼›</li><li>ç¬¬ä¸€è¡Œæœ€åä¸€æ å®½åº¦æ˜¯å…¶ä»–çš„2å€ï¼›</li><li>ç¬¬ä¸€ã€äºŒæ çš„èƒŒæ™¯å›¾åŠæµ®åŠ¨çš„çº¢è‰²æ°”æ³¡tipç­‰;</li></ul><p>åœ¨è¿™é‡Œå°±ä¸ç»†è®²ï¼Œå¦åˆ™ç¯‡å¹…å¤ªé•¿ï¼Œå¦‚æƒ³äº†è§£è¯¦æƒ… <a href="https://github.com/persilee/flutter_ctrip/blob/master/lib/widget/grid_nav_new.dart" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æºç </a></p><p>å…¶æ¬¡ï¼Œå†æ¥çœ‹çœ‹<strong>ç›®çš„åœ°</strong>é¡µé¢åŠŸèƒ½åŠæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼Œé‡ç‚¹çœ‹ä¸‹ä»¥ä¸‹åŠŸèƒ½å®ç°ï¼š</p><ul><li>å·¦å³å¸ƒå±€tabBarListView </li><li>ç›®çš„åœ°æœç´¢é¡µé¢</li></ul><h3 id="å·¦å³å¸ƒå±€tabBarListView"><a href="#å·¦å³å¸ƒå±€tabBarListView" class="headerlink" title="å·¦å³å¸ƒå±€tabBarListView"></a>å·¦å³å¸ƒå±€tabBarListView</h3><p>å…·ä½“æ•ˆæœå¦‚å›¾ï¼šç‚¹å‡»å·¦è¾¹æ ‡ç­¾å¯ä»¥åˆ‡æ¢é¡µé¢ï¼Œå·¦å³æ»‘åŠ¨ä¹Ÿå¯åˆ‡æ¢é¡µé¢ï¼Œç‚¹å‡»å±•å¼€æ˜¾ç¤ºæ›´å¤šç­‰</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/destination.gif" alt="no-shadow" title="destination"></div><p>å…¶å®å®˜æ–¹å·²ç»æä¾›äº† <strong>tabBar</strong> å’Œ <strong>TabBarView</strong> ç»„ä»¶å¯ä»¥å®ç°ä¸Šä¸‹å¸ƒå±€çš„æ•ˆæœ<em>(æ—…æ‹é¡µé¢å°±æ˜¯ç”¨è¿™ä¸ªå®ç°çš„)</em>ï¼Œä½†æ˜¯å®ƒæ— æ³•å®ç°å·¦å³å¸ƒå±€ï¼Œè€Œä¸”ä¸å¤ªçµæ´»ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <a href="https://pub.dev/packages/vertical_tabs" target="_blank" rel="noopener">vertical_tabs</a>æ’ä»¶, ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">VerticalTabView(</span><br><span class="line">    tabsWidth: <span class="number">88</span>,</span><br><span class="line">    tabsElevation: <span class="number">0</span>,</span><br><span class="line">    indicatorWidth: <span class="number">0</span>,</span><br><span class="line">    selectedTabBackgroundColor: Colors.white,</span><br><span class="line">    backgroundColor: Colors.white,</span><br><span class="line">    tabTextStyle: TextStyle(</span><br><span class="line">      height: <span class="number">60</span>,</span><br><span class="line">      color: Color(<span class="number">0xff333333</span>),</span><br><span class="line">    ),</span><br><span class="line">    tabs: tabs,</span><br><span class="line">    contents: tabPages,</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œ<a href="https://pub.dev/packages/vertical_tabs" target="_blank" rel="noopener">ç‚¹å‡»vertical_tabsæŸ¥çœ‹</a></p><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š<strong>å±•å¼€</strong>æ˜¾ç¤ºæ›´å¤šspanæ ‡ç­¾ç»„ä»¶çš„å®ç°ï¼Œå› ä¸ºï¼Œè¿™ä¸ªç»„ä»¶åœ¨å¾ˆå¤šçš„å…¶ä»–ç»„ä»¶é‡Œç”¨åˆ°è€Œä¸”è¦æ ¹æ®æ¥å£æ•°æ®åŠ¨æ€æ¸²æŸ“ï¼Œä¸”ç»„ä»¶è‡ªèº«å­˜åœ¨çŠ¶æ€çš„å˜åŒ–ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½æ˜¯æŠŠä»–å•ç‹¬å°è£…æˆä¸€ä¸ªç»„ä»¶<em>(widget)</em>ï¼Œå¦åˆ™ï¼Œå¾ˆéš¾æ§åˆ¶è‡ªèº«çŠ¶æ€çš„å˜åŒ–ï¼Œå‡ºç°ç‚¹å‡»æ²¡æœ‰æ•ˆæœï¼Œæˆ–ç‚¹å‡»å½±å“å…¶ä»–ç»„ä»¶ã€‚ </p></div> <h3 id="ç›®çš„åœ°æœç´¢é¡µé¢"><a href="#ç›®çš„åœ°æœç´¢é¡µé¢" class="headerlink" title="ç›®çš„åœ°æœç´¢é¡µé¢"></a>ç›®çš„åœ°æœç´¢é¡µé¢</h3><p>æ•ˆæœå¦‚å›¾ï¼šç‚¹å‡»æœç´¢ç»“æœï¼Œå¦‚ï¼šç‚¹å‡»â€˜ä¸€æ—¥æ¸¸â€˜ï¼Œä¼šæœç´¢åˆ°â€˜ä¸€æ—¥æ¸¸â€˜çš„ç›¸å…³æ•°æ®</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/destination-search.gif" alt="no-shadow" title="destination"></div><p>ç›®çš„åœ°æœç´¢é¡µé¢ï¼Œå¤§å¤šéƒ½æ˜¯å’Œå¸ƒå±€å’Œå¯¹æ¥æ¥å£çš„ä»£ç ï¼Œåœ¨è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p><p>ç„¶åå°±æ˜¯<strong>æ—…æ‹é¡µé¢</strong>åŠŸèƒ½åŠæ‰€ç”¨çŸ¥è¯†ç‚¹ï¼Œé‡ç‚¹çœ‹ä¸‹ä»¥ä¸‹åŠŸèƒ½å®ç°ï¼š</p><ul><li>å·¦å³å¸ƒå±€tabBarListView</li><li>ç€‘å¸ƒæµå¡ç‰‡</li><li>æ—…æ‹æœç´¢é¡µ</li></ul><h3 id="å·¦å³å¸ƒå±€tabBarListView-1"><a href="#å·¦å³å¸ƒå±€tabBarListView-1" class="headerlink" title="å·¦å³å¸ƒå±€tabBarListView"></a>å·¦å³å¸ƒå±€tabBarListView</h3><p>æ•ˆæœå¦‚å›¾ï¼šå¯å·¦å³æ»‘åŠ¨åˆ‡æ¢é¡µé¢ï¼Œä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œä¸‹æ‹‰åˆ·æ–°ç­‰</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/travel.gif" alt="no-shadow" title="travel"></div><p>è¿™ä¸ªæ˜¯<code>flutter</code> æä¾›çš„ç»„ä»¶ï¼Œ<strong>tabBar</strong> å’Œ <strong>TabBarView</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  color: Colors.white,</span><br><span class="line">  padding: EdgeInsets.only(left: <span class="number">2</span>),</span><br><span class="line">  child: TabBar(</span><br><span class="line">    controller: _controller,</span><br><span class="line">    isScrollable: <span class="keyword">true</span>,</span><br><span class="line">    labelColor: Colors.black,</span><br><span class="line">    labelPadding: EdgeInsets.fromLTRB(<span class="number">8</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>),</span><br><span class="line">    indicatorColor: Color(<span class="number">0xff2FCFBB</span>),</span><br><span class="line">    indicatorPadding: EdgeInsets.all(<span class="number">6</span>),</span><br><span class="line">    indicatorSize: TabBarIndicatorSize.label,</span><br><span class="line">    indicatorWeight: <span class="number">2.2</span>,</span><br><span class="line">    labelStyle: TextStyle(fontSize: <span class="number">18</span>),</span><br><span class="line">    unselectedLabelStyle: TextStyle(fontSize: <span class="number">15</span>),</span><br><span class="line">    tabs: tabs.map&lt;Tab&gt;((Groups tab) &#123;</span><br><span class="line">      <span class="keyword">return</span> Tab(</span><br><span class="line">        text: tab.name,</span><br><span class="line">      );</span><br><span class="line">    &#125;).toList(),</span><br><span class="line">  ),</span><br><span class="line">),</span><br><span class="line">Flexible(</span><br><span class="line">    child: Container(</span><br><span class="line">  padding: EdgeInsets.fromLTRB(<span class="number">6</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">0</span>),</span><br><span class="line">  child: TabBarView(</span><br><span class="line">      controller: _controller,</span><br><span class="line">      children: tabs.map((Groups tab) &#123;</span><br><span class="line">        <span class="keyword">return</span> TravelTabPage(</span><br><span class="line">          travelUrl: travelParamsModel?.url,</span><br><span class="line">          params: travelParamsModel?.params,</span><br><span class="line">          groupChannelCode: tab?.code,</span><br><span class="line">        );</span><br><span class="line">      &#125;).toList()),</span><br><span class="line">)),</span><br></pre></td></tr></table></figure><h3 id="ç€‘å¸ƒæµå¡ç‰‡"><a href="#ç€‘å¸ƒæµå¡ç‰‡" class="headerlink" title="ç€‘å¸ƒæµå¡ç‰‡"></a>ç€‘å¸ƒæµå¡ç‰‡</h3><p><strong>ç€‘å¸ƒæµå¡ç‰‡</strong> ç”¨çš„æ˜¯ <a href="https://pub.dev/packages/flutter_staggered_grid_view" target="_blank" rel="noopener">flutter_staggered_grid_view</a> æ’ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">StaggeredGridView.countBuilder(</span><br><span class="line">  controller: _scrollController,</span><br><span class="line">  crossAxisCount: <span class="number">4</span>,</span><br><span class="line">  itemCount: travelItems?.length ?? <span class="number">0</span>,</span><br><span class="line">  itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; _TravelItem(</span><br><span class="line">        index: index,</span><br><span class="line">        item: travelItems[index],</span><br><span class="line">      ),</span><br><span class="line">  staggeredTileBuilder: (<span class="built_in">int</span> index) =&gt; <span class="keyword">new</span> StaggeredTile.fit(<span class="number">2</span>),</span><br><span class="line">  mainAxisSpacing: <span class="number">2.0</span>,</span><br><span class="line">  crossAxisSpacing: <span class="number">2.0</span>,</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹äº†è§£æ›´å¤šç›¸å…³ä¿¡æ¯ï¼Œ<a href="https://pub.dev/packages/flutter_staggered_grid_view" target="_blank" rel="noopener">ç‚¹å‡»flutter_staggered_grid_viewæŸ¥çœ‹</a>ã€‚</p><h3 id="æ—…æ‹æœç´¢é¡µ"><a href="#æ—…æ‹æœç´¢é¡µ" class="headerlink" title="æ—…æ‹æœç´¢é¡µ"></a>æ—…æ‹æœç´¢é¡µ</h3><p>æ•ˆæœå¦‚å›¾ï¼šé¦–å…ˆæ˜¾ç¤ºçƒ­é—¨æ—…æ‹æ ‡ç­¾ï¼Œç‚¹å‡»å¯æœç´¢ç›¸å…³å†…å®¹ï¼Œè¾“å…¥å…³é”®å­—å¯æœç´¢ç›¸å…³æ—…æ‹ä¿¡æ¯ï¼Œåœ°ç‚¹ã€æ™¯ç‚¹ã€ç”¨æˆ·ç­‰</p><div style="width:36%; margin:auto"><img src="https://cdn.lishaoy.net/flutterCtrip/travel-search.gif" alt="no-shadow" title="travel-search"></div><p>æ—…æ‹æœç´¢é¡µï¼Œå¤§å¤šä¹Ÿæ˜¯å’Œå¸ƒå±€å’Œå¯¹æ¥æ¥å£çš„ä»£ç ï¼Œåœ¨è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p><h2 id="å°æŠ€å·§ç§¯ç´¯æ€»ç»“"><a href="#å°æŠ€å·§ç§¯ç´¯æ€»ç»“" class="headerlink" title="å°æŠ€å·§ç§¯ç´¯æ€»ç»“"></a>å°æŠ€å·§ç§¯ç´¯æ€»ç»“</h2><p>ä»¥ä¸‹éƒ½æ˜¯æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨è¿™é‡Œè®°å½•åˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ã€‚</p><h3 id="PhysicalModel"><a href="#PhysicalModel" class="headerlink" title="PhysicalModel"></a>PhysicalModel</h3><p><strong>PhysicalModel</strong> å¯ä»¥è£å‰ªå¸¦èƒŒæ™¯å›¾çš„å®¹å™¨ï¼Œå¦‚ï¼Œä½ åœ¨ä¸€ä¸ª Container é‡Œæ”¾äº†ä¸€å¼ å›¾ç‰‡ï¼Œæƒ³è®¾ç½®å›¾ç‰‡åœ†è§’ï¼Œè®¾ç½® Container çš„ decoration çš„ borderRadius æ˜¯æ— æ•ˆçš„ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ° <strong>PhysicalModel</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PhysicalModel(</span><br><span class="line">  borderRadius: BorderRadius.circular(<span class="number">6</span>),  <span class="comment">// è®¾ç½®åœ†è§’</span></span><br><span class="line">  clipBehavior: Clip.antiAlias,            <span class="comment">// è£å‰ªè¡Œä¸º</span></span><br><span class="line">  color: Colors.transparent,               <span class="comment">// é¢œè‰²</span></span><br><span class="line">  elevation: <span class="number">5</span>,                            <span class="comment">// è®¾ç½®é˜´å½±</span></span><br><span class="line">  child: Container(</span><br><span class="line">        child: Image.network(</span><br><span class="line">          picUrl,</span><br><span class="line">          fit: BoxFit.cover,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="LinearGradient"><a href="#LinearGradient" class="headerlink" title="LinearGradient"></a>LinearGradient</h3><p>ç»™å®¹å™¨æ·»åŠ æ¸å˜è‰²ï¼Œåœ¨ç½‘æ ¼å¯¼èˆªã€appBarç­‰åœ°æ–¹éƒ½ä½¿ç”¨åˆ°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  height: <span class="number">72</span>,</span><br><span class="line">  decoration: BoxDecoration(</span><br><span class="line">    gradient: LinearGradient(colors: [</span><br><span class="line">      Color(<span class="number">0xff4b8fed</span>),</span><br><span class="line">      Color(<span class="number">0xff53bced</span>),</span><br><span class="line">    ]),</span><br><span class="line">  ),</span><br><span class="line">  child: ...</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="Color-int-parse-â€˜0xffâ€™-gridNavItem-startColor"><a href="#Color-int-parse-â€˜0xffâ€™-gridNavItem-startColor" class="headerlink" title="Color(int.parse(â€˜0xffâ€™ + gridNavItem.startColor))"></a>Color(int.parse(â€˜0xffâ€™ + gridNavItem.startColor))</h3><p>é¢œè‰²å€¼è½¬æ¢æˆé¢œè‰²ï¼Œå¦‚æœï¼Œæ²¡æœ‰å˜é‡çš„è¯ï¼Œä¹Ÿå¯ç›´æ¥è¿™æ ·ç”¨ <code>Color(0xff53bced)</code>ï¼Œ</p><ul><li>oxï¼šflutterè¦æ±‚ï¼Œå¯å›ºå®šä¸å˜</li><li>ffï¼šä»£è¡¨é€æ˜åº¦ï¼Œä¸çŸ¥é“å¦‚ä½•è®¾ç½®çš„è¯ï¼Œå¯ä»¥ç”¨å–è‰²å™¨ï¼Œæˆ–è€… withOpacity(opacity) ã€ withAlpha(a)</li><li>53bced: å¸¸è§„çš„6ä½RGBå€¼</li></ul><h3 id="Expandedã€FractionallySizedBox"><a href="#Expandedã€FractionallySizedBox" class="headerlink" title="Expandedã€FractionallySizedBox"></a>Expandedã€FractionallySizedBox</h3><p><strong>Expanded</strong> å¯ä»¥è®©å­ç»„ä»¶æ’‘æ»¡çˆ¶å®¹å™¨ï¼Œé€šå¸¸å’Œ <strong>Row</strong> åŠ <strong>Column</strong> ç»„ä»¶æ­é…ä½¿ç”¨ï¼›<br><strong>FractionallySizedBox</strong> å¯ä»¥è®©å­ç»„ä»¶æ’‘æ»¡æˆ–è¶…å‡ºçˆ¶å®¹å™¨ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œå¤§å°å— widthFactor å’Œ heightFactor å®½é«˜å› å­çš„å½±å“</p><h3 id="MediaQuery-removePadding"><a href="#MediaQuery-removePadding" class="headerlink" title="MediaQuery.removePadding"></a>MediaQuery.removePadding</h3><p><strong>MediaQuery.removePadding</strong> å¯ä»¥ç§»é™¤ç»„ä»¶çš„è¾¹è·ï¼Œæœ‰äº›ç»„ä»¶è‡ªå¸¦æœ‰è¾¹è·ï¼Œæœ‰æ—¶å€™å¸ƒå±€çš„æ—¶å€™ï¼Œä¸éœ€è¦è¾¹è·ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨ <strong>MediaQuery.removePadding</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MediaQuery.removePadding(</span><br><span class="line">  removeTop: <span class="keyword">true</span>,</span><br><span class="line">  context: context,</span><br><span class="line">  child: ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="MediaQuery-of-context-size-width"><a href="#MediaQuery-of-context-size-width" class="headerlink" title="MediaQuery.of(context).size.width"></a>MediaQuery.of(context).size.width</h3><p><strong>MediaQuery.of(context).size.width</strong> è·å–å±å¹•çš„å®½åº¦ï¼ŒåŒç†ï¼Œ<strong>MediaQuery.of(context).size.height</strong> è·å–å±å¹•çš„é«˜åº¦ï¼›å¦‚ï¼Œæƒ³ä¸€è¡Œå¹³å‡3ç­‰åˆ†ï¼š 0.3 * MediaQuery.of(context).size.widthï¼Œåœ¨<strong>ç›®çš„åœ°é¡µé¢</strong>çš„æ ‡ç­¾ç»„ä»¶å°±ä½¿ç”¨åˆ°å®ƒï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  alignment: Alignment.center,</span><br><span class="line">  ...</span><br><span class="line">  width: <span class="number">0.3</span>*MediaQuery.of(context).size.width - <span class="number">12</span>, <span class="comment">// å±å¹•å¹³åˆ†ä¸‰ç­‰åˆ†ï¼Œ - 12 æ˜¯ç»™æ¯ä»½ä¸­é—´ç•™å‡ºç©ºé—´ </span></span><br><span class="line">  height: <span class="number">40</span>,</span><br><span class="line">  ...</span><br><span class="line">  child: ...</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h3 id="Theme-of-context-platform-TargetPlatform-iOS"><a href="#Theme-of-context-platform-TargetPlatform-iOS" class="headerlink" title="Theme.of(context).platform == TargetPlatform.iOS"></a>Theme.of(context).platform == TargetPlatform.iOS</h3><p>åˆ¤æ–­æ“ä½œç³»ç»Ÿç±»å‹ï¼Œæœ‰æ—¶å€™å¯èƒ½æœ‰ç»™ Andorid å’Œ iOS åšå‡ºä¸åŒçš„å¸ƒå±€ï¼Œå°±éœ€è¦ç”¨åˆ°å®ƒã€‚</p><h3 id="with-AutomaticKeepAliveClientMixin"><a href="#with-AutomaticKeepAliveClientMixin" class="headerlink" title="with AutomaticKeepAliveClientMixin"></a>with AutomaticKeepAliveClientMixin</h3><p><code>flutter</code> åœ¨åˆ‡æ¢é¡µé¢æ—¶å€™æ¯æ¬¡éƒ½ä¼šé‡æ–°åŠ è½½æ•°æ®ï¼Œå¦‚æœæƒ³è®©é¡µé¢ä¿ç•™çŠ¶æ€ï¼Œä¸é‡æ–°åŠ è½½ï¼Œå°±éœ€è¦ä½¿ç”¨ <strong>AutomaticKeepAliveClientMixin</strong>,ä»£ç å¦‚ä¸‹ï¼š<em>ï¼ˆåœ¨æ—…æ‹é¡µé¢å°±æœ‰ä½¿ç”¨åˆ°å®ƒï¼Œä¸ºäº†è®©tabBar å’Œ tabBarViewåœ¨åˆ‡æ¢æ—¶ä¸é‡æ–°åŠ è½½ï¼‰</em></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TravelTabPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">//éœ€è¦é‡å†™ wantKeepAlive ä¸” è®¾ç½®æˆ true</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> wantKeepAlive =&gt; <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="with-SingleTickerProviderStateMixin"><a href="#with-SingleTickerProviderStateMixin" class="headerlink" title="with SingleTickerProviderStateMixin"></a>with SingleTickerProviderStateMixin</h3><p>æ··å…¥ <code>SingleTickerProviderStateMixin</code> å¯ä»¥åœ¨åˆ‡æ¢é¡µé¢æ—¶å€™ï¼Œä½¿ç”¨åŠ¨ç”»æ•ˆæœï¼Œå¦‚ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          currentIndex: _currentIndex,</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            _controller.animateToPage( <span class="comment">// _controller æ˜¯ PageView çš„ PageController</span></span><br><span class="line">                index,</span><br><span class="line">                curve: Curves.easeIn, duration: <span class="built_in">Duration</span>(milliseconds: <span class="number">260</span>)</span><br><span class="line">            );</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              _currentIndex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="SystemUiOverlayStyle"><a href="#SystemUiOverlayStyle" class="headerlink" title="SystemUiOverlayStyle"></a>SystemUiOverlayStyle</h3><p><code>SystemUiOverlayStyle</code> å¯å®ç°çŠ¶æ€æ æ²‰æµ¸å¼ï¼Œè®¾ç½®å…¨å±€é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    TextStyle textStyle = TextStyle(fontSize: <span class="number">20</span>);</span><br><span class="line">    SystemUiOverlayStyle style = SystemUiOverlayStyle(</span><br><span class="line">        statusBarColor: Colors.transparent,</span><br><span class="line">        statusBarIconBrightness: Brightness.light</span><br><span class="line">    );</span><br><span class="line">    SystemChrome.setSystemUIOverlayStyle(style);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•é¡µé¢è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_HomePageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">HomePage</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle.light); <span class="comment">//è®¾ç½®çŠ¶æ€æ æ²‰æµ¸å¼</span></span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      backgroundColor: Color(<span class="number">0xfffafafc</span>),</span><br><span class="line">      body: LoadingContainer(</span><br><span class="line">        ...</span><br><span class="line">      )</span><br><span class="line">      ...</span><br></pre></td></tr></table></figure><p>æš‚æ—¶åªèƒ½æƒ³åˆ°è¿™äº›å¸¸ç”¨çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åå¦‚æœ‰æ–°çš„ä¼šæ…¢æ…¢è¡¥å……ã€‚</p><p><strong>é¡¹ç›®GitHubåœ°å€:</strong> <a href="https://github.com/persilee/flutter_ctrip" target="_blank" rel="noopener">https://github.com/persilee/flutter_ctrip</a></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/flutterCtrip.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ä¸‰æ‹›è®©ä½ æˆä¸ºç¨‹åºçŒ¿ä¸­ä¼˜ç§€çš„å°„é¸¡æ¹¿</title>
      <link>https://h.lishaoy.net/goodDesigner.html</link>
      <guid>https://h.lishaoy.net/goodDesigner.html</guid>
      <pubDate>Fri, 01 Mar 2019 08:24:32 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/goodDesigner/goodDesigner.jpg&quot; class=&quot;full-image&quot; alt=&quot;goodDesigner&quot; title=&quot;goodDesigner&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹ä¹‹å‰é¡¹ç›®ä¸­ä¸€äº› &lt;strong&gt;å‰ç«¯&lt;/strong&gt; å·¥å…·åŠæŠ€å·§ï¼Œä¸»è¦åŒ…æ‹¬ &lt;strong&gt;Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿&lt;/strong&gt; ã€ &lt;strong&gt;å¦‚ä½•ä½¿ç”¨é…·ç‚«æ¼‚äº®çš„åŠ¨ç”»ï¼ˆLottieï¼‰&lt;/strong&gt; ã€ &lt;strong&gt;å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/goodDesigner/goodDesigner.jpg" class="full-image" alt="goodDesigner" title="goodDesigner"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹ä¹‹å‰é¡¹ç›®ä¸­ä¸€äº› <strong>å‰ç«¯</strong> å·¥å…·åŠæŠ€å·§ï¼Œä¸»è¦åŒ…æ‹¬ <strong>Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</strong> ã€ <strong>å¦‚ä½•ä½¿ç”¨é…·ç‚«æ¼‚äº®çš„åŠ¨ç”»ï¼ˆLottieï¼‰</strong> ã€ <strong>å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ</strong>ã€‚</p><a id="more"></a><h2 id="Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"><a href="#Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿" class="headerlink" title="Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"></a>Iconfontçš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</h2><p><a href="https://www.iconfont.cn" target="_blank" rel="noopener">Iconfont</a> æ˜¯é˜¿é‡Œå·´å·´æ‰“é€ çš„çŸ¢é‡å›¾æ ‡åº“ï¼Œå›¾æ ‡ä¸°å¯Œå¤šå½©ï¼ˆå•è‰²å’Œå½©è‰²ï¼‰ï¼Œä½¿ç”¨æ–¹ä¾¿å¿«æ·ï¼ˆå¯ç­›é€‰å›¾ç‰‡åˆ›å»ºè‡ªå·±é¡¹ç›®å›¾æ ‡åº“ï¼‰ï¼Œæ”¯æŒåœ¨çº¿ä½¿ç”¨ï¼Œæ‘†è„±äº†ä¼ ç»Ÿçš„å›¾ç‰‡çš„ç¹çå’Œcsså­—ä½“å›¾æ ‡åº“å¼•å…¥çš„å†—ä½™ã€‚</p><p>ä¸‹é¢ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨ Iconfont</p><h3 id="æœç´¢é€‰æ‹©å›¾æ ‡"><a href="#æœç´¢é€‰æ‹©å›¾æ ‡" class="headerlink" title="æœç´¢é€‰æ‹©å›¾æ ‡"></a>æœç´¢é€‰æ‹©å›¾æ ‡</h3><p>ç‚¹å‡» <a href="https://www.iconfont.cn" target="_blank" rel="noopener">Iconfont</a> æ‰“å¼€é¡µé¢å¦‚å›¾ï¼Œå¯ä»¥æœç´¢ ğŸ” å…³é”®å­—ï¼Œæ‰¾åˆ°æƒ³è¦çš„å›¾æ ‡</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont.png" alt="Iconfont" title="Iconfont"></p><p>ä¾‹å¦‚ï¼Œæœç´¢ â€˜imageâ€™ å…³é”®å­—ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont2.png" alt="Iconfont" title="Iconfont"></p><p>é¼ æ ‡æ”¾åˆ°å›¾æ ‡ä¸Šä¼šå‡ºç° <strong>æ·»åŠ å…¥åº“</strong> ã€ <strong>æ”¶è—</strong> ã€ <strong>ä¸‹è½½å›¾æ ‡</strong> é€‰é¡¹ï¼Œä¸€èˆ¬æˆ‘ä¼šé€‰æ‹© <strong>æ·»åŠ å…¥åº“</strong> ï¼Œä¹‹åç»Ÿä¸€æ·»åŠ åˆ°é¡¹ç›®ï¼Œç”Ÿæˆåœ¨çº¿åœ°å€å¼•å…¥é¡¹ç›®ï¼ˆåé¢ä¼šä»‹ç»åˆ°ï¼‰</p><p>å³è¾¹çš„è“è‰²çš‡å† æŒ‰é’®å¯ä»¥è¿›è¡Œ <em>ç²¾é€‰</em> ã€ <em>å…¨éƒ¨</em> çš„ç­›é€‰ï¼Œçº¢è‰²çš„æŒ‰é’®å¯ä»¥è¿›è¡Œ <em>å•è‰²</em> ã€ <em>å¤šè‰²</em> ã€ <em>å…¨éƒ¨</em> çš„ç­›é€‰</p><p>ç‚¹å‡» ä¸‹è½½ ä¼šå¼¹å‡ºä¸‹è½½é¡µé¢ï¼Œå¯ä»¥è¿›è¡Œå›¾æ ‡çš„ç¼–è¾‘å’Œä¸åŒæ ¼å¼çš„ä¸‹è½½ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont3.1.png" alt="Iconfont" title="Iconfont"></p><h3 id="æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥"><a href="#æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥" class="headerlink" title="æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥"></a>æ·»åŠ å…¥åº“ç”Ÿæˆåœ¨çº¿è¿æ¥</h3><p>é€‰æ‹© <strong>æ·»åŠ å…¥åº“</strong> çš„å›¾æ ‡ï¼Œä¼šåœ¨å³ä¸Šè§’çš„è´­ç‰©è½¦æ˜¾ç¤ºæ•°é‡ï¼Œç‚¹å‡»è´­ç‰©è½¦å›¾æ ‡ï¼Œä¼šå¼¹å‡ºå³ä¾§æ ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont4.png" alt="Iconfont" title="Iconfont"></p><p>å¯ä»¥æ‰¹é‡ä¸‹è½½å’Œæ·»åŠ åˆ°é¡¹ç›®ï¼Œç‚¹å‡» <strong>æ·»åŠ è‡³é¡¹ç›®</strong> å¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont5.png" alt="Iconfont" title="Iconfont"></p><p>ç»™é¡¹ç›®å–ä¸€ä¸ªåå­—ï¼Œç‚¹å‡»ç¡®å®šï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont6.png" alt="Iconfont" title="Iconfont"></p><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ç§å›¾æ ‡å¼•å…¥çš„æ–¹å¼ï¼Œé»˜è®¤é€‰ä¸­çš„æ˜¯ <strong>Font class</strong> çš„æ–¹å¼ï¼Œä¹Ÿæ¨èä½¿ç”¨è¿™ç§æ–¹å¼</p><p><strong>Unicode</strong> : æ˜¯ä»¥å­—ä½“çš„æ–¹å¼å¼•å…¥ï¼Œå¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;  <span class="comment">/* project id 1066942 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.eot'</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.woff2'</span>) <span class="built_in">format</span>(<span class="string">'woff2'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1066942_yvi703p2pv.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Font class</strong> : æ˜¯ä»¥Cssçš„æ–¹å¼å¼•å…¥ï¼Œå¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_1066942_yvi703p2pv.css</span><br></pre></td></tr></table></figure><p><strong>Symbol</strong> : æ˜¯ä»¥jsçš„æ–¹å¼å¼•å…¥ï¼Œå¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_1066942_yvi703p2pv.js</span><br></pre></td></tr></table></figure><p>å¦‚æƒ³äº†è§£3ä¸­æ–¹å¼å…·ä½“ç”¨æ³•ï¼Œå¯ç‚¹å‡» <a href="https://www.iconfont.cn/help/detail?spm=a313x.7781069.1998910419.d8cf4382a&amp;helptype=code" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œè¿™é‡Œæˆ‘ä¸»è¦ä»‹ç» <strong>Font class</strong> çš„æ–¹å¼</p><h3 id="å¼•å…¥é¡¹ç›®ä½¿ç”¨"><a href="#å¼•å…¥é¡¹ç›®ä½¿ç”¨" class="headerlink" title="å¼•å…¥é¡¹ç›®ä½¿ç”¨"></a>å¼•å…¥é¡¹ç›®ä½¿ç”¨</h3><p>é¦–å…ˆï¼ŒæŠŠç”Ÿæˆçš„é“¾æ¥å¼•å…¥åˆ°é¡µé¢ä¸­ï¼Œå¦‚ä¸‹</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel="stylesheet" href="//at.alicdn.com/t/font_1066942_yvi703p2pv.css"&gt;</span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼Œç”¨ <code>&lt;i class=&quot;iconfont icon-Userselect&quot;&gt;&lt;/i&gt;</code> åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼Œå¤§å°é¢œè‰²éƒ½å¯ä»¥ç”¨ <code>css</code> è°ƒæ•´</p><p>é˜¿é‡Œåœ¨ä»£ç çš„å¤åˆ¶ã€å›¾æ ‡çš„æœç´¢ã€ç¼–è¾‘ã€ä¸‹è½½ã€ç­›é€‰ç­‰ä¸€äº›æ“ä½œä¸Šåšçš„å¾ˆåˆ°ä½ï¼Œä½¿ç”¨èµ·æ¥æ–¹ä¾¿å¿«æ·</p><p>æˆ‘åœ¨ä¹‹å‰çš„é¡¹ç›®é‡Œä¹Ÿä½¿ç”¨è¿‡ï¼Œè¿˜æ˜¯å¾ˆæ¼‚äº®çš„ <a href="https://a.lishaoy.net" target="_blank" rel="noopener">https://a.lishaoy.net</a> ï¼Œå¦‚å›¾æ˜¯æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨çš„ä¸€äº›å›¾æ ‡ï¼Œæ¯ä¸ªå›¾æ ‡æ˜¯ä¸æ˜¯éƒ½åšçš„å¾ˆç²¾è‡´</p><p><img src="https://cdn.lishaoy.net/goodDesigner/Iconfont7.png" alt="Iconfont" title="Iconfont"></p><h2 id="Lottieå¼€æºåŠ¨ç”»åº“"><a href="#Lottieå¼€æºåŠ¨ç”»åº“" class="headerlink" title="Lottieå¼€æºåŠ¨ç”»åº“"></a>Lottieå¼€æºåŠ¨ç”»åº“</h2><p><strong>Lottie</strong> æ˜¯Airbnbå¼€æºçš„ä¸€ä¸ªé¢å‘ iOSã€Androidã€React Native çš„åŠ¨ç”»åº“ï¼Œèƒ½å¤Ÿç›´æ¥æŠŠ <strong>AE</strong> å¯¼å‡ºçš„åŠ¨ç”»æ–‡ä»¶ï¼ˆjsonï¼‰ï¼Œå¼•å…¥åˆ°é¡µé¢ä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹ç»™å‡ºçš„æ•ˆæœå›¾</p><p><img src="https://cdn.lishaoy.net/goodDesigner/lottie.gif" alt="no-shadow" title="Lottie"></p><p><img src="https://cdn.lishaoy.net/goodDesigner/lottie2.gif" alt="no-shadow" title="Lottie"></p><p><strong>Lottie</strong> æ”¯æŒ iOSã€Androidã€React Native ã€Web ï¼Œè¿™é‡Œä¸»è¦ä»‹ç» lottie-Web æ˜¯å¦‚ä½•ä½¿ç”¨ï¼Œæ›´å¤šä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="http://airbnb.io/lottie/" target="_blank" rel="noopener">http://airbnb.io/lottie/</a></p><p>é¦–å…ˆï¼Œåœ¨é¡µé¢ä¸­å¼•å…¥ <code>CDN</code> ä¸Šçš„æ–‡ä»¶ï¼Œå¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.4.2/lottie.min.js"</span> type=<span class="string">"text/javascript"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼Œä½¿ç”¨ <strong>AE</strong> åˆ¶ä½œåŠ¨ç”»ï¼ˆUIæä¾›æˆ–è€…è‡ªå·±åˆ¶ä½œï¼‰å¯¼å‡ºçš„ <code>json</code>ï¼Œæˆ–è€…å¯ä»¥åœ¨ <a href="https://lottiefiles.com/featured" target="_blank" rel="noopener">Lottie Files</a> ä¸‹è½½ ï¼ˆ<a href="https://lottiefiles.com/featured" target="_blank" rel="noopener">Lottie Files</a> æ˜¯ä¸€ä¸ªæ‹¥æœ‰é«˜è´¨é‡ <strong>Lottie</strong> æ–‡ä»¶æ ¼å¼åŠ¨ç”»çš„ç½‘ç«™ï¼Œä¸ä»…è®¾è®¡å¸ˆå¯ä»¥åœ¨ä¸Šé¢é™ˆåˆ—ä»–ä»¬çš„åŠ¨ç”»è€Œä¸”è¿˜æä¾›å…è´¹ä¸‹è½½ï¼‰</p><p>ä»¥ä¸‹æ˜¯æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨çš„æ•ˆæœå›¾ï¼ˆä¸Šä¼ å›¾ç‰‡ä¸­ä¼šåŠ é‡åŠ¨ç”»ï¼Œä¸Šä¼ æˆåŠŸåŠ¨ç”»åœæ­¢ï¼‰ï¼Œå…·ä½“æ•ˆæœå¯ä»¥å»æˆ‘çš„é¡¹ç›®ä¸Šä¼ å›¾ç‰‡ä½“éªŒ <a href="https://a.lishaoy.net/posts/56" target="_blank" rel="noopener">ä¸Šä¼ å›¾ç‰‡åŠ¨ç”»æ•ˆæœ</a></p><p><img src="https://cdn.lishaoy.net/adonisjs/image_upload4.gif" alt="Lottie" title="Lottie"></p><p>å…·ä½“çš„ä»£ç å¦‚ä¸‹ï¼Œåœ¨é¡µé¢ä¸­åˆ›å»ºéœ€è¦åŠ é‡åŠ¨ç”»çš„å®¹å™¨ï¼ˆ<code>HTML</code> ä»£ç ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"image-load d-flex justify-content-center align-items-center"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lottie"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text text-muted text-center"</span>&gt;</span>The picture is being uploaded ...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œç”¨ <code>js</code> åˆå§‹åŒ–åŠ¨ç”»ï¼Œå¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anim = lottie.loadAnimation(&#123;</span><br><span class="line">  container: $(<span class="string">'.image-load .lottie'</span>)[<span class="number">0</span>], <span class="comment">//åŠ¨ç”»å®¹å™¨çš„å…ƒç´ </span></span><br><span class="line">  renderer: <span class="string">'svg'</span>, <span class="comment">//æ”¯æŒ svg å’Œ canvas</span></span><br><span class="line">  loop: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦å¾ªç¯</span></span><br><span class="line">  autoplay: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  path: <span class="string">'/EmojiReaction.json'</span> <span class="comment">//åŠ¨ç”»jsonæ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">&#125;)</span><br><span class="line">anim.addEventListener(<span class="string">'loopComplete'</span>, () =&gt; &#123;  <span class="comment">// ç›‘å¬ `loopComplete` äº‹ä»¶ï¼Œæ¯æ¬¡æ’­æ”¾å®Œæˆæ‰§è¡Œ</span></span><br><span class="line">  anim.pause() <span class="comment">//åœæ­¢æ’­æ”¾</span></span><br><span class="line">  $(<span class="string">'.image-load'</span>).removeClass(<span class="string">'loading'</span>) <span class="comment">//éšè—å®¹å™¨</span></span><br><span class="line">  $(<span class="string">'.image-load .box .text'</span>).text(<span class="string">'The picture is being uploaded...'</span>).removeClass(<span class="string">'text-success'</span>).addClass(<span class="string">'text-muted'</span>) <span class="comment">//æ”¹å˜è¯´æ˜æ–‡å­—çŠ¶æ€åŠé¢œè‰²</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ›´å¤šçš„å‚æ•°å’Œäº‹ä»¶å¯æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ <a href="http://airbnb.io/lottie/web/web.html" target="_blank" rel="noopener">Lottie-Web</a></p><h2 id="å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ"><a href="#å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ" class="headerlink" title="å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ"></a>å¦‚ä½•åŠ å…¥é¡µé¢æ»šåŠ¨å…¥åœºç¦»åœºåŠ¨æ•ˆ</h2><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥å…ˆçœ‹çœ‹æ•ˆæœï¼Œå¦‚å›¾ï¼ˆæ•ˆæœæ¥æºæˆ‘çš„åšå®¢ <a href="https://lishaoy.net/laboratory/" target="_blank" rel="noopener">https://lishaoy.net</a>ï¼‰</p><p><img src="https://cdn.lishaoy.net/goodDesigner/lottie3.gif" alt="Lottie" title="Lottie"></p><p>ä»¥ä¸ŠåŠ¨æ•ˆå°±æ˜¯ç”¨çš„ <strong>AOS</strong> è¿™ä¸ªåº“ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•</p><p>åœ¨é¡µé¢ä¸Šå¼•å…¥ <code>css</code> å’Œ <code>js</code> æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/aos@next/dist/aos.css"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/aos@next/dist/aos.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œç”¨ <code>AOS.init()</code> åˆå§‹åŒ–ï¼Œè¿™æ ·åˆå§‹åŒ–ï¼Œä½¿ç”¨çš„æ˜¯é»˜è®¤è®¾ç½®ï¼Œå…·ä½“æœ‰å¾ˆå¤šå‚æ•°å¯ä»¥è°ƒæ•´ï¼Œè¯¦æƒ…å¯æŸ¥é˜… <a href="https://github.com/michalsnik/aos" target="_blank" rel="noopener">é¡¹ç›®æ–‡æ¡£</a>ï¼Œå¦‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">AOS.init(&#123;</span><br><span class="line">  <span class="comment">// Global settings:</span></span><br><span class="line">  disable: <span class="literal">false</span>, <span class="comment">// accepts following values: 'phone', 'tablet', 'mobile', boolean, expression or function</span></span><br><span class="line">  startEvent: <span class="string">'DOMContentLoaded'</span>, <span class="comment">// name of the event dispatched on the document, that AOS should initialize on</span></span><br><span class="line">  initClassName: <span class="string">'aos-init'</span>, <span class="comment">// class applied after initialization</span></span><br><span class="line">  animatedClassName: <span class="string">'aos-animate'</span>, <span class="comment">// class applied on animation</span></span><br><span class="line">  useClassNames: <span class="literal">false</span>, <span class="comment">// if true, will add content of `data-aos` as classes on scroll</span></span><br><span class="line">  disableMutationObserver: <span class="literal">false</span>, <span class="comment">// disables automatic mutations' detections (advanced)</span></span><br><span class="line">  debounceDelay: <span class="number">50</span>, <span class="comment">// the delay on debounce used while resizing window (advanced)</span></span><br><span class="line">  throttleDelay: <span class="number">99</span>, <span class="comment">// the delay on throttle used while scrolling the page (advanced)</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="comment">// Settings that can be overridden on per-element basis, by `data-aos-*` attributes:</span></span><br><span class="line">  offset: <span class="number">120</span>, <span class="comment">// offset (in px) from the original trigger point</span></span><br><span class="line">  delay: <span class="number">0</span>, <span class="comment">// values from 0 to 3000, with step 50ms</span></span><br><span class="line">  duration: <span class="number">400</span>, <span class="comment">// values from 0 to 3000, with step 50ms</span></span><br><span class="line">  easing: <span class="string">'ease'</span>, <span class="comment">// default easing for AOS animations</span></span><br><span class="line">  once: <span class="literal">false</span>, <span class="comment">// whether animation should happen only once - while scrolling down</span></span><br><span class="line">  mirror: <span class="literal">false</span>, <span class="comment">// whether elements should animate out while scrolling past them</span></span><br><span class="line">  anchorPlacement: <span class="string">'top-bottom'</span>, <span class="comment">// defines which position of the element regarding to window should trigger the animation</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨é¡µé¢ä¸Šä½¿ç”¨å³å¯ï¼Œå¦‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-aos</span>=<span class="string">"fade-in"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ç»™å…ƒç´ è®¾ç½®å‚æ•°ï¼Œä½¿ç”¨ <code>data-aos-*</code> ï¼Œå¦‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-aos</span>=<span class="string">"fade-in"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-offset</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-delay</span>=<span class="string">"50"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-duration</span>=<span class="string">"1000"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-aos-easing</span>=<span class="string">"ease-in-out"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šçš„è½½å…¥æ•ˆæœå¯ä»¥å‚è€ƒå®˜æ–¹ç»™å‡ºçš„ <a href="http://michalsnik.github.io/aos/" target="_blank" rel="noopener">ç¤ºä¾‹</a></p><p>å¦‚åœ¨æ‚¨åšçš„é¡µé¢æˆ–åº”ç”¨ä¸­ä½¿ç”¨äº†è¿™ä¸‰æ‹›ï¼Œ<strong>ç²¾è‡´å°å›¾æ ‡</strong> ã€ <strong>ç‚«é…·çš„åŠ¨ç”»</strong> ã€ <strong>é¡µé¢æ»šåŠ¨è½½å…¥åŠ¨æ•ˆ</strong> ï¼Œé‚£ä¹ˆç¬é—´è®©æ‚¨çš„é¡µé¢æˆ–åº”ç”¨é«˜å¤§ä¸Šä¸”ç”ŸåŠ¨æ´»æ³¼èµ·æ¥ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/goodDesigner.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç”¨ Node.js å¿«é€Ÿå¼€å‘å‡ºå¤šåŠŸèƒ½çš„å¤šäººåœ¨çº¿çš„æ–‡ç« åˆ†äº«å¹³å°</title>
      <link>https://h.lishaoy.net/adonisjs.html</link>
      <guid>https://h.lishaoy.net/adonisjs.html</guid>
      <pubDate>Sun, 16 Dec 2018 18:03:27 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/adonisjs/adonisjs1.png&quot; class=&quot;full-image&quot; alt=&quot;Adonisjs&quot; title=&quot;Adonisjs&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æœ€è¿‘åœ¨å­¦ä¹ ä½¿ç”¨ &lt;code&gt;Node.js&lt;/code&gt; æ¡†æ¶ï¼Œè¾¹å­¦ä¹ è¾¹ä½¿ç”¨ï¼ŒèŠ±äº†å¤§æ¦‚ &lt;strong&gt;3å‘¨&lt;/strong&gt; æ—¶é—´åšå®Œè¿™ä¸ª &lt;strong&gt;Webåº”ç”¨&lt;/strong&gt; ä¸”åœ¨ &lt;time&gt;12æœˆ16&lt;/time&gt; å‡Œæ™¨å·¦å³ä¸Šçº¿æˆåŠŸï¼ˆå…¶å®å°±æ˜¯æŠŠå¼€å‘ç¯å¢ƒæ¬åˆ°æœåŠ¡å™¨ï¼‰ï¼Œ åœ°å€ï¼š &lt;a href=&quot;https://a.lishaoy.net&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://a.lishaoy.net&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;è¿™ä¸ª &lt;strong&gt;Webåº”ç”¨&lt;/strong&gt; çš„ä»£ç æ˜¯å¼€æºçš„ï¼Œå¦‚å¯¹è¿™ä¸ªåº”ç”¨æ„Ÿå…´è¶£ï¼Œæƒ³çŸ¥é“ä»£ç æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œå¯ä»¥å»æˆ‘ &lt;strong&gt;GitHub&lt;/strong&gt; ä¸‹è½½æˆ– &lt;code&gt;clone&lt;/code&gt; ï¼š&lt;a href=&quot;https://github.com/persilee/adonis_pro&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åº”ç”¨æºç &lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/adonisjs/adonisjs1.png" class="full-image" alt="Adonisjs" title="Adonisjs"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æœ€è¿‘åœ¨å­¦ä¹ ä½¿ç”¨ <code>Node.js</code> æ¡†æ¶ï¼Œè¾¹å­¦ä¹ è¾¹ä½¿ç”¨ï¼ŒèŠ±äº†å¤§æ¦‚ <strong>3å‘¨</strong> æ—¶é—´åšå®Œè¿™ä¸ª <strong>Webåº”ç”¨</strong> ä¸”åœ¨ <time>12æœˆ16</time> å‡Œæ™¨å·¦å³ä¸Šçº¿æˆåŠŸï¼ˆå…¶å®å°±æ˜¯æŠŠå¼€å‘ç¯å¢ƒæ¬åˆ°æœåŠ¡å™¨ï¼‰ï¼Œ åœ°å€ï¼š <a href="https://a.lishaoy.net" target="_blank" rel="noopener">https://a.lishaoy.net</a>  </p><p>è¿™ä¸ª <strong>Webåº”ç”¨</strong> çš„ä»£ç æ˜¯å¼€æºçš„ï¼Œå¦‚å¯¹è¿™ä¸ªåº”ç”¨æ„Ÿå…´è¶£ï¼Œæƒ³çŸ¥é“ä»£ç æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œå¯ä»¥å»æˆ‘ <strong>GitHub</strong> ä¸‹è½½æˆ– <code>clone</code> ï¼š<a href="https://github.com/persilee/adonis_pro" target="_blank" rel="noopener">åº”ç”¨æºç </a></p><hr><a id="more"></a><p>é¦–å…ˆï¼Œæ¥çœ‹çœ‹ç”¨ <strong>3å‘¨</strong> æ—¶é—´åšå‡ºæ¥çš„åº”ç”¨éƒ½æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Œä¹‹åå†çœ‹çœ‹é€‰ç”¨çš„ <code>Node.js</code> æ¡†æ¶ï¼Œæœ€åçœ‹çœ‹ <code>Node.js</code> é¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚</p><h2 id="Webåº”ç”¨åŠŸèƒ½"><a href="#Webåº”ç”¨åŠŸèƒ½" class="headerlink" title="Webåº”ç”¨åŠŸèƒ½"></a>Webåº”ç”¨åŠŸèƒ½</h2><h3 id="ç™»å½•ã€æ³¨å†ŒéªŒè¯"><a href="#ç™»å½•ã€æ³¨å†ŒéªŒè¯" class="headerlink" title="ç™»å½•ã€æ³¨å†ŒéªŒè¯"></a>ç™»å½•ã€æ³¨å†ŒéªŒè¯</h3><p><strong>ç™»å½•åŠŸèƒ½</strong></p><ul><li>è¾“å…¥æ¡†æ²¡æœ‰è¾“å…¥ç‚¹å‡»ç™»å½•ä¼šæç¤ºï¼šç”¨æˆ·åã€å¯†ç ä¸èƒ½ä¸ºç©º</li><li>è¾“å…¥çš„ç”¨æˆ·é”™è¯¯æˆ–ä¸å­˜åœ¨ä¼šæç¤ºï¼šç”¨æˆ·ä¸å­˜åœ¨</li><li>è¾“å…¥çš„å¯†ç é”™è¯¯ä¼šæç¤ºï¼šå¯†ç é”™è¯¯</li><li>ç™»å½•åä¼šé‡å®šå‘åˆ°ç”¨æˆ·ä¸Šæ¬¡è®¿é—®çš„åœ°å€</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/login.gif" alt="no-shadow" title="Login"></p><p><strong>æ³¨å†ŒåŠŸèƒ½</strong></p><ul><li>è¾“å…¥æ¡†æ²¡æœ‰è¾“å…¥ç‚¹å‡»æ³¨å†Œä¼šæç¤ºï¼šç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ä¸èƒ½ä¸ºç©º</li><li>ç”¨æˆ·åå’Œé‚®ç®±ä¸å…¶ä»–ç”¨æˆ·ç›¸åŒä¼šæç¤ºï¼šç”¨æˆ·åã€é‚®ç®±å·²å­˜åœ¨</li><li>å¯†ç å°äº6ä½æ•°ä¼šæç¤ºï¼šæœ€å°é•¿åº¦æ˜¯6ä½</li><li>æ³¨å†ŒæˆåŠŸåä¼šå‘é€éªŒè¯é‚®ä»¶åˆ°ç”¨æˆ·é‚®ç®±ï¼Œéœ€ç‚¹å‡»é‚®ç®±æŒ‰é’®éªŒè¯</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/register.gif" alt="no-shadow" title="Register"></p><h3 id="æ–‡ç« åˆ—è¡¨"><a href="#æ–‡ç« åˆ—è¡¨" class="headerlink" title="æ–‡ç« åˆ—è¡¨"></a>æ–‡ç« åˆ—è¡¨</h3><p>ç™»å½•è¿›æ¥ï¼Œä¼šæ˜¾ç¤ºæ–‡ç« åˆ—è¡¨é¡µé¢ï¼Œæ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>æ–‡ç« æ ‡é¢˜ï¼šç‚¹å‡»å¯è¿›å…¥æ–‡ç« è¯¦æƒ…é¡µ</li><li>ä½œè€…å¤´åƒã€ä½œè€…åç§°ï¼šç‚¹å‡»å¯è¿›å…¥ä½œè€…ä¿¡æ¯é¡µ</li><li>æ—¶é—´ï¼šæ˜¾ç¤ºåˆ›å»ºæ—¶é—´ï¼ˆå¤šä¹…ä»¥å‰æ–¹å¼æ˜¾ç¤ºï¼‰</li><li>é˜…è¯»æ¬¡æ•°ã€ç‚¹èµæ¬¡æ•°</li><li>æ–‡ç« ç®€è¦ï¼šè‡ªåŠ¨æ‘˜å–ç« å¤´æ–‡ç« </li><li>ç¼©ç•¥å›¾ï¼šè‡ªåŠ¨æ‘˜å–æ–‡ç« ç¬¬ä¸€å¼ å›¾ç‰‡</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/posts.png" alt="no-shadow" title="Post List"></p><h3 id="æ–‡ç« è¯¦æƒ…"><a href="#æ–‡ç« è¯¦æƒ…" class="headerlink" title="æ–‡ç« è¯¦æƒ…"></a>æ–‡ç« è¯¦æƒ…</h3><p>ç‚¹å‡»æ–‡ç« æ ‡é¢˜å¯è¿›å…¥æ–‡ç« è¯¦æƒ…é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>æ–‡ç« æ ‡é¢˜</li><li>ä½œè€…å¤´åƒã€ä½œè€…åç§°</li><li>å‘å¸ƒæ—¶é—´</li><li>é˜…è¯»æ¬¡æ•°å’Œç‚¹èµæ¬¡æ•°</li><li>ç¼–è¾‘æŒ‰é’®ï¼ˆä»…ä½œè€…å¯è§ï¼‰</li><li>å·¦ä¾§æµ®åŠ¨å·¥å…·æ ï¼ˆç‚¹èµã€å‘é€é‚®ä»¶åˆ°è‡ªå·±é‚®ç®±ã€è¿”å›é¡¶éƒ¨ã€åˆ†äº«ï¼‰</li><li>ç‚¹èµï¼šæ–‡ç« è¢«ç‚¹èµåï¼Œä½œè€…å¯ä»¥æ”¶åˆ°æ¶ˆæ¯é€šçŸ¥ï¼Œä¸”å°†æ–‡ç« æ”¶å½•åˆ°ç‚¹èµåˆ—è¡¨ï¼ˆæ”¯æŒåŒ¿åç‚¹èµï¼Œä½†ä¸ä¼šè®°å½•é€šçŸ¥ï¼Œåªä¼šåŠ ç‚¹èµæ•°ï¼‰</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/post.png" alt="no-shadow" title="Post"></p><h3 id="ç¼–è¾‘æ–‡ç« æ”¯æŒ-Markdown"><a href="#ç¼–è¾‘æ–‡ç« æ”¯æŒ-Markdown" class="headerlink" title="ç¼–è¾‘æ–‡ç« æ”¯æŒ Markdown"></a>ç¼–è¾‘æ–‡ç« æ”¯æŒ Markdown</h3><p>æ–°å»ºæ–‡ç« å’Œä¿®æ”¹æ–‡ç« éƒ½æ”¯æŒ <strong>Markdown</strong> è¯­æ³•ï¼Œä¸”ä¼šæ¯éš”6ç§’é’Ÿè‡ªåŠ¨ä¿å­˜</p><p><img src="https://cdn.lishaoy.net/adonisjs/post_edit.png" alt="no-shadow" title="Post Edit"></p><h3 id="ä¸ªäººä¿¡æ¯"><a href="#ä¸ªäººä¿¡æ¯" class="headerlink" title="ä¸ªäººä¿¡æ¯"></a>ä¸ªäººä¿¡æ¯</h3><p>ä¸ªäººä¿¡æ¯é¡µé¢æ˜¾ç¤ºå†…å®¹å¦‚ä¸‹</p><ul><li>ä½œè€…çš„å¤´åƒã€å§“åã€ç®€ä»‹ï¼ˆæ”¯æŒemojiï¼‰</li><li>ä¿¡æ¯æ ï¼šGitHub é“¾æ¥ã€ä¸ªäººç½‘ç«™é“¾æ¥ã€å‘å¸ƒæ–‡ç« æ•°ã€æ€»é˜…è¯»æ¬¡æ•°ã€æ€»ç‚¹èµæ¬¡æ•°</li><li>å‘å¸ƒæ–‡ç« åˆ—è¡¨ï¼šä¸ªäººå‘å¸ƒçš„æ‰€æœ‰æ–‡ç« (æœ‰åˆ é™¤å’Œç¼–è¾‘æŒ‰é’®)</li><li>å·²èµæ–‡ç« åˆ—è¡¨ï¼šç‚¹è¿‡èµçš„æ–‡ç« ä¼šè®°å½•åœ¨è¿™é‡Œ</li><li>å…³æ³¨è€…åˆ—è¡¨ï¼šå…³æ³¨ä½ çš„ç”¨æˆ·ï¼ˆå…³æ³¨è¿‡çš„ç”¨æˆ·ï¼Œå…³æ³¨æŒ‰é’®é«˜äº®æ˜¾ç¤ºï¼‰</li><li>å·²å…³æ³¨åˆ—è¡¨ï¼šä½ å…³æ³¨çš„ç”¨æˆ·ï¼ˆå…³æ³¨è¿‡çš„ç”¨æˆ·ï¼Œå…³æ³¨æŒ‰é’®é«˜äº®æ˜¾ç¤º)</li><li>å…³æ³¨æŒ‰é’®ï¼šä½œè€…æœ¬äººä¸å¯è§ï¼Œç‚¹å‡»å¯å…³æ³¨ï¼Œå†æ¬¡ç‚¹å‡»å–æ¶ˆå…³æ³¨ï¼Œå…³æ³¨åï¼Œç”¨æˆ·ä¼šæ”¶åˆ°æ¶ˆæ¯é€šçŸ¥</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/profile.gif" alt="no-shadow" title="Profile"></p><p>æ–‡ç« åˆ é™¤ç¼–è¾‘å¿«æ·å…¥å£ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/adonisjs/edit_delete_post.gif" alt="no-shadow" title="Edit &amp;&amp; Delete post"></p><p>ä¸‹é¢æ˜¯æˆ‘ç”¨å¦ä¸€ä¸ªç”¨æˆ·ç™»å½•ï¼Œè¿›å…¥åˆ°ä¸ªäººä¿¡æ¯é¡µé¢å°±ä¼šæ˜¾ç¤ºå…³æ³¨æŒ‰é’®ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/adonisjs/follow.png" alt="no-shadow" title="Follow"></p><h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><p>ç‚¹å‡»æ–‡ä»¶ä¸Šä¼ å°å›¾æ ‡å¯è¿›å…¥æ–‡ä»¶ä¸Šä¼ é¡µé¢ï¼Œç‚¹å‡» <strong>Files</strong> é“¾æ¥å¯è¿›å…¥æ–‡ä»¶ä¸Šä¼ åˆ—è¡¨ï¼Œæ˜¾ç¤ºå†…å®¹å¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/adonisjs/file_upload.png" alt="no-shadow" title="File Upload"></p><p><img src="https://cdn.lishaoy.net/adonisjs/file_list.png" alt="no-shadow" title="File List"></p><h3 id="æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘"><a href="#æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘" class="headerlink" title="æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘"></a>æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘</h3><p>ä»æ–‡ä»¶åˆ—è¡¨é¡µé¢ç‚¹å‡»æ ‡é¢˜å¯è¿›å…¥æ–‡ä»¶é¢„è§ˆé¡µé¢ï¼Œæ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœæ˜¯å›¾ç‰‡æ˜¾ç¤ºå›¾ç‰‡ï¼Œå¦‚æœæ˜¯è§†é¢‘æ˜¾ç¤ºè§†é¢‘</li><li>å·¥å…·æ ï¼šå‘é€é‚®ä»¶åˆ°è‡ªå·±é‚®ç®±ï¼ˆç™»å½•å¯è§ï¼‰ã€ç¼–è¾‘æŒ‰é’®ã€åˆ é™¤æŒ‰é’®ï¼ˆç™»å½•è‡ªå·±ä¸Šä¼ å¯è§ï¼‰</li><li>æ–‡ä»¶åç§°</li><li>ä¸‹è½½æŒ‰é’®</li><li>ä¸Šä¼ è€…å¤´åƒ</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/file_show.gif" alt="no-shadow" title="File Show"></p><h3 id="æ¶ˆæ¯é€šçŸ¥"><a href="#æ¶ˆæ¯é€šçŸ¥" class="headerlink" title="æ¶ˆæ¯é€šçŸ¥"></a>æ¶ˆæ¯é€šçŸ¥</h3><p>ç‚¹å‡»é“ƒé“›å°å›¾æ ‡å¯è¿›å…¥æ¶ˆæ¯é€šçŸ¥é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>ç‚¹èµæ¶ˆæ¯åˆ—è¡¨ï¼šæ”¶åˆ°ç”¨æˆ·ç‚¹èµé€šçŸ¥ï¼Œæœ€æ–°çš„æœªè¯»æ¶ˆæ¯ä¼šé«˜äº®æ˜¾ç¤ºï¼Œç‚¹å‡»ç‚¹èµè€…å¤´åƒè¿›å…¥ä¸ªäººä¿¡æ¯é¡µé¢ï¼Œç‚¹å‡»æ–‡ç« æ ‡é¢˜è¿›å…¥ä½ çš„æ–‡ç« è¯¦æƒ…é¡µé¢</li><li>å…³æ³¨è€…åˆ—è¡¨ï¼šæ”¶åˆ°å…³æ³¨è€…çš„é€šçŸ¥ï¼Œæœ€æ–°æœªè¯»æ¶ˆæ¯ä¼šé«˜äº®æ˜¾ç¤ºï¼Œç‚¹å…³æ³¨æŒ‰é’®ä¹Ÿå¯å…³æ³¨ä»–ï¼Œå†ç‚¹å‡»å–æ¶ˆå…³æ³¨</li><li>ç³»ç»Ÿæ¶ˆæ¯ï¼šç›®å‰è¿˜æ²¡æœ‰åšåŠŸèƒ½å®ç°</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/notification.gif" alt="no-shadow" title="Notification"></p><h3 id="å·¥å…·æ åˆ—è¡¨"><a href="#å·¥å…·æ åˆ—è¡¨" class="headerlink" title="å·¥å…·æ åˆ—è¡¨"></a>å·¥å…·æ åˆ—è¡¨</h3><p>ç‚¹å‡»ä¸ªäººå¤´åƒå¯å±•å¼€å·¥å…·æ åˆ—è¡¨ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>å†™æ–‡ç« ï¼šç‚¹å‡»å¯æ–°å»ºæ–‡ç« ç¼–è¾‘é¡µé¢ï¼Œå’Œ â• å°å›¾æ ‡æ˜¯åŒæ ·åŠŸèƒ½</li><li>ä¸Šä¼ æ–‡ä»¶ï¼šç‚¹å‡»å¯æ‰“å¼€æ–‡ä»¶ä¸Šä¼ é¡µé¢ï¼Œå’Œä¸Šä¼ å°å›¾æ ‡æ˜¯åŒæ ·åŠŸèƒ½</li><li>ä¸ªäººä¿¡æ¯ï¼š ç‚¹å‡»å¯è¿›å…¥ä¸ªäººä¿¡æ¯é¡µé¢</li><li>å·²èµï¼šç‚¹å‡»å¯æŸ¥çœ‹å·²èµè¿‡å¾—æ–‡ç« </li><li>è®¾ç½®ï¼šç‚¹å‡»å¯æ‰“å¼€ä¸ªäººè®¾ç½®é¡µé¢</li><li>ç™»å‡ºï¼šç‚¹å‡»é€€å‡ºç™»å½•</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/tool_menu.png" alt="no-shadow" title="Tool Menu"></p><h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h3><p>ç‚¹å‡»å·¥å…·æ ä¸Šçš„è®¾ç½®æŒ‰é’®å¯ä»¥è®¾ç½®é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><p><strong>ä¸ªäººä¿¡æ¯è®¾ç½®</strong></p><ul><li>å¤´åƒï¼šå¤´åƒæ˜¯ä½¿ç”¨çš„ <code>Gravatar</code> æä¾›çš„åŠŸèƒ½ï¼Œæ ¹æ®é‚®ç®±ç”Ÿæˆå¤´åƒ</li><li>ç”¨æˆ·å</li><li>é‚®ç®±ï¼šå·²éªŒè¯é€šè¿‡ä¼šæ˜¾ç¤ºéªŒè¯å°å›¾æ ‡ï¼Œæ²¡æœ‰é€šè¿‡çš„ä¼šæ˜¾ç¤ºæç¤º</li><li>GitHubï¼šåªéœ€å¡«å†™æœ‰æˆ·å</li><li>ä¸ªäººç®€ä»‹ï¼šæ”¯æŒemoji</li><li>ä¸ªäººç½‘ç«™</li></ul><p><img src="https://cdn.lishaoy.net/setting_profile.png" alt="no-shadow" title="Setting Profile"></p><p><strong>ä¿®æ”¹å¯†ç è®¾ç½®</strong></p><p>éœ€å¡«å†™åŸå¯†ç ï¼Œæ–°å¯†ç ï¼Œå†æ¬¡è¾“å…¥å¯†ç </p><p><img src="https://cdn.lishaoy.net/setting_pwd.png" alt="no-shadow" title="Setting Password"></p><h3 id="èŠå¤©å®¤"><a href="#èŠå¤©å®¤" class="headerlink" title="èŠå¤©å®¤"></a>èŠå¤©å®¤</h3><p>ç‚¹å‡» <strong>Chatroom</strong> é“¾æ¥å¯è¿›å…¥èŠå¤©å®¤ï¼Œå½“ç„¶è¿™ä¸ªæ˜¯ç”¨çš„ <code>websocket</code> åšçš„ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>çŠ¶æ€å›¾æ ‡ï¼šæ˜¾ç¤ºé“¾æ¥çŠ¶æ€</li><li>æ´»åŠ¨ç”¨æˆ·ï¼šå·¦ä¾§é»‘è‰²åŒºåŸŸä¼šåŠ¨æ€æ˜¾ç¤ºæ´»åŠ¨ç”¨æˆ·</li><li>æ¶ˆæ¯ï¼šä¼šæ˜¾ç¤ºå‘é€æ¶ˆæ¯ï¼Œè¿›å…¥ã€ç¦»å¼€æˆ¿é—´é€šçŸ¥æ¶ˆæ¯ï¼ˆæ”¯æŒåŒ¿åå‘é€æ¶ˆæ¯ï¼Œä½†ä¸ä¼šä¿å­˜æ¶ˆæ¯ï¼‰</li><li>æ¶ˆæ¯è¾“å…¥ï¼šæ¶ˆæ¯è¾“å…¥æ¡†å¯è¾“å…¥æ¶ˆæ¯ï¼Œ<kbd>Cmd</kbd> â€” <kbd>Enter</kbd> æ¢è¡Œï¼ˆWindowsä¼šæ˜¾ç¤ºæç¤ºCtrl+Enterï¼‰ï¼Œå›è½¦å‘é€æ¶ˆæ¯</li></ul><p><img src="https://cdn.lishaoy.net/adonisjs/chatroom1.gif" alt="no-shadow" title="Chart Room"></p><p>åŠ å…¥æˆ¿é—´å’Œç¦»å¼€æˆ¿é—´éƒ½æœ‰æ¶ˆæ¯é€šçŸ¥ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/adonisjs/chatroom.png" alt="no-shadow" title="Chart Room"></p><h2 id="Node-js-æ¡†æ¶"><a href="#Node-js-æ¡†æ¶" class="headerlink" title="Node.js æ¡†æ¶"></a>Node.js æ¡†æ¶</h2><p>è¿™ä¸ªåº”ç”¨çš„å¼€å‘æˆ‘é€‰æ‹©çš„æ˜¯ <code>Adonisjs</code> æ¡†æ¶ï¼Œä»–å’Œ <code>PHP</code> çš„ <code>Laravel</code> æœ‰äº›åƒï¼Œ<code>Adonisjs</code> æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œçš„ <code>Node.js</code> <strong>MVC</strong> æ¡†æ¶ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ¥çœ‹çœ‹ <code>Adonisjs</code> æ¡†æ¶æœ‰å“ªäº›ç‰¹æ€§ï¼š</p><h3 id="ç¯å¢ƒå®‰è£…ç®€å•"><a href="#ç¯å¢ƒå®‰è£…ç®€å•" class="headerlink" title="ç¯å¢ƒå®‰è£…ç®€å•"></a>ç¯å¢ƒå®‰è£…ç®€å•</h3><p>ä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œå®‰è£… <code>Adonisjs</code> è¿è¡Œç¯å¢ƒéƒ½æ˜¯éå¸¸ç®€å•ï¼Œå…ˆæ¥çœ‹çœ‹å¼€å‘ç¯å¢ƒçš„å®‰è£…ï¼Œç”Ÿäº§ç¯å¢ƒåé¢ä¼šæåˆ°ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„ç”µè„‘ä¸Šéœ€è¦å®‰è£…å¥½ <code>Node.js</code>å¤§äº <em>8.00</em> ç‰ˆæœ¬ï¼Œç®¡ç† <code>Node.js</code> å¯ä»¥ä½¿ç”¨ <code>nvm</code></p><p>å…¶æ¬¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>npm</code> å®‰è£… <code>Adonis CLI</code> å‘½ä»¤è¡Œå·¥å…·ï¼ˆç®¡ç† <code>npm</code> ä½¿ç”¨æºå¯ä»¥ä½¿ç”¨ <code>nrm</code>ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @adonisjs/cli</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥åœ¨å…¨å±€ä½¿ç”¨ <code>adonis</code> å‘½ä»¤</p><p>å†æ¬¡ï¼Œå¯ä»¥æ˜¯ <code>adonis new</code> å‘½ä»¤åˆ›å»ºé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis new adonis_pro</span><br></pre></td></tr></table></figure><p>åœ¨ <code>cd</code> è¿›å…¥é¡¹ç›®ï¼Œæ‰§è¡Œ <code>adonis serve --dev</code> è¿è¡Œé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> adonis_pro</span><br><span class="line">adonis serve --dev</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‚¨çš„å¼€å‘ç¯å¢ƒå°±æ­å»ºå®Œæˆã€‚</p><h3 id="RMVC"><a href="#RMVC" class="headerlink" title="RMVC"></a>RMVC</h3><p><code>RMVC</code> å°±æ˜¯è·¯ç”±ã€æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ã€‚</p><h4 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h4><p>åˆ›å»ºä¸€æ¡è·¯ç”±éå¸¸ç®€å•ï¼Œå¦‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route.get(<span class="string">'liked/:userId/:postId'</span>, <span class="string">'LikedController.liked'</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ¡è·¯ç”±å°±æ˜¯ç”¨æ¥å¤„ç†ä¸Šé¢æåˆ°çš„ç‚¹èµåŠŸèƒ½çš„</p><p>å½“ç„¶ï¼Œ<code>Adonisjs</code> æä¾›äº† <strong>èµ„æºè·¯ç”±</strong> ä»¥ä¾¿æ‚¨æ›´æ–¹ä¾¿çš„åˆ›å»ºè·¯ç”±ï¼Œä¾‹å¦‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route.resource(<span class="string">'posts'</span>, <span class="string">'PostController'</span>).middleware(</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">[ [ <span class="string">'create'</span>, <span class="string">'store'</span>, <span class="string">'edit'</span>, <span class="string">'update'</span>, <span class="string">'destroy'</span> ], [ <span class="string">'auth'</span> ] ],</span><br><span class="line">[ [ <span class="string">'update'</span>, <span class="string">'destroy'</span>, <span class="string">'edit'</span> ], [ <span class="string">'own:post'</span> ] ]</span><br><span class="line">])</span><br><span class="line">).validator(<span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [[<span class="string">'posts.update'</span>, <span class="string">'posts.store'</span>], [<span class="string">'StorePost'</span>]]</span><br><span class="line">]))</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè·¯ç”±æ˜¯æ¥å¤„ç†ä¸Šé¢åº”ç”¨æåˆ°çš„æ–‡ç« çš„ <em>å¢ã€åˆ ã€æ”¹ã€æŸ¥</em> ï¼Œè¿™ä¸ªå¯èƒ½æœ‰äº›å¤æ‚ï¼Œä½¿ç”¨äº† <strong>ä¸­é—´ä»¶</strong> æ¥å¤„ç†ç”¨æˆ·ç™»å½•çŠ¶æ€å’Œæ“ä½œæƒé™ï¼Œä½¿ç”¨äº† <strong>éªŒè¯å™¨</strong> æ¥å¤„ç†è¡¨å•éªŒè¯ï¼Œè¿™é‡Œä¸ä»‹ç»çš„å¤ªå¤æ‚ï¼Œå¦‚æƒ³äº†è§£è¿™äº›å…·ä½“åŠŸèƒ½ï¼Œå¯ä»¥éœ€è¦èŠ±ç‚¹æ—¶é—´äº†è§£å­¦ä¹ ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å»æ‰ <strong>ä¸­é—´ä»¶</strong> å’Œ <strong>éªŒè¯å™¨</strong> ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route.resource(<span class="string">'posts'</span>, <span class="string">'PostController'</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ¡èµ„æºè·¯ç”±ï¼Œå…¶å®å°±åŒ…å«äº†ä»¥ä¸‹è·¯ç”±ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Route.get(url, closure)</span><br><span class="line">Route.post(url, closure)</span><br><span class="line">Route.put(url, closure)</span><br><span class="line">Route.patch(url, closure)</span><br><span class="line">Route.delete(url, closure)</span><br></pre></td></tr></table></figure><p><code>Adonisjs</code> è¿˜æä¾›äº†è·¯ç”±ç»„å’Œå…¶ä»–ä¸€äº›åŠŸèƒ½ï¼Œè·¯ç”±ç»„å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route.group(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">Route.get(<span class="string">'profile'</span>, <span class="string">'ProfileController.edit'</span>).as(<span class="string">'profile.edit'</span>)</span><br><span class="line">Route.post(<span class="string">'profile'</span>, <span class="string">'ProfileController.update'</span>).as(<span class="string">'profile.update'</span>).validator(<span class="string">'UpdateProfile'</span>)</span><br><span class="line">Route.get(<span class="string">'password'</span>, <span class="string">'PasswordController.edit'</span>).as(<span class="string">'password.edit'</span>)</span><br><span class="line">Route.post(<span class="string">'password'</span>, <span class="string">'PasswordController.update'</span>).as(<span class="string">'password.update'</span>).validator(<span class="string">'UpdatePassword'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.prefix(<span class="string">'settings'</span>)</span><br><span class="line">.middleware([ <span class="string">'auth'</span> ])</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>.prefix</code> å’Œ <code>Route.group</code> æ¥åˆ›å»ºè·¯ç”±ç»„ï¼Œè¿™æ¡è·¯ç”±ç»„æ˜¯å¤„ç† ä¸ªäººä¿¡æ¯è®¾ç½® åŠŸèƒ½çš„ï¼Œè¿™æ ·è®¿é—®é¡µé¢æ˜¯å°±ç»Ÿä¸€è¦å¸¦ä¸Š <code>settings/**</code> ã€‚</p><h4 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h4><p><code>Adonisjs</code> æä¾›äº†å‘½ä»¤è¡Œæ¥åˆ›å»ºæ§åˆ¶å™¨ï¼Œå¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:controller User --<span class="built_in">type</span> http</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ª <code>User</code> æ§åˆ¶å™¨,è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = UserController</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>--resource</code> åˆ›å»ºèµ„æºç±»å‹çš„æ§åˆ¶å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:controller Post --resource</span><br></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> </span>&#123;</span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Show a list of all posts.</span></span><br><span class="line"><span class="comment">   * GET posts</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> index (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Render a form to be used for creating a new posts.</span></span><br><span class="line"><span class="comment">   * GET posts/create</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> create (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Create/save a new posts.</span></span><br><span class="line"><span class="comment">   * POST posts</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> store (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Display a single posts.</span></span><br><span class="line"><span class="comment">   * GET posts/:id</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> show (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Render a form to update an existing posts.</span></span><br><span class="line"><span class="comment">   * GET posts/:id/edit</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> edit (&#123; request, response, view &#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Update posts details.</span></span><br><span class="line"><span class="comment">   * PUT or PATCH posts/:id</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> update (&#123; request, response, view&#125;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Delete a posts with id.</span></span><br><span class="line"><span class="comment">   * DELETE posts/:id</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">async</span> destroy (&#123; params, request, response &#125;) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = PostController</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢çš„èµ„æºè·¯ç”±æ˜¯å¯¹åº”çš„ï¼Œå¦‚ç”¨ <code>GET</code> è¯·æ±‚è®¿é—® <em>posts</em> å°±ä¼šè°ƒç”¨ <code>index</code> æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨æ¥æ˜¾ç¤ºï¼‰ ï¼Œå†å¦‚ï¼šç”¨ <code>DELETE</code> è¯·æ±‚è®¿é—® <em>posts/1</em> å°±ä¼šæ‰§è¡Œ <code>destroy</code> æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨æ¥åˆ é™¤ï¼‰ã€‚</p><h4 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h4><p><code>Adonisjs</code> æä¾›äº†ä¸¤ç§æ¨¡å¼æ¥å¤„ç†æ•°æ®ï¼Œ<code>Query builder</code> å’Œ <code>LUCID</code></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>adonis make:migration</code> æ¥åˆ›å»ºæ•°æ®è¡¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:migration users</span><br></pre></td></tr></table></figure><p>ä¼šè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Schema = use(<span class="string">'Schema'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsersSchema</span> <span class="keyword">extends</span> <span class="title">Schema</span> </span>&#123;</span><br><span class="line">  up () &#123;</span><br><span class="line">    <span class="keyword">this</span>.create(<span class="string">'users'</span>, (table) =&gt; &#123;</span><br><span class="line">      table.increments()</span><br><span class="line">      table.timestamps()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  down () &#123;</span><br><span class="line">    <span class="keyword">this</span>.drop(<span class="string">'users'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = UsersSchema</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æˆ‘ä»¬åªéœ€åœ¨å…¶ä¸­æ·»åŠ æƒ³è¦çš„å­—æ®µå°±è¡Œï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Schema = use(<span class="string">'Schema'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsersSchema</span> <span class="keyword">extends</span> <span class="title">Schema</span> </span>&#123;</span><br><span class="line">  up () &#123;</span><br><span class="line">    <span class="keyword">this</span>.create(<span class="string">'users'</span>, (table) =&gt; &#123;</span><br><span class="line">      table.increments()</span><br><span class="line">      table.string(<span class="string">'username'</span>, <span class="number">80</span>).notNullable().unique()</span><br><span class="line">      table.string(<span class="string">'email'</span>, <span class="number">254</span>).notNullable().unique()</span><br><span class="line">      table.string(<span class="string">'password'</span>, <span class="number">60</span>).notNullable()</span><br><span class="line">      table.timestamps()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  down () &#123;</span><br><span class="line">    <span class="keyword">this</span>.drop(<span class="string">'users'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = UsersSchema</span><br></pre></td></tr></table></figure><p>åœ¨æ‰§è¡Œ <code>adonis migration:run</code> å‘½ä»¤å°±å¯ä»¥åœ¨æ•°æ®åº“ç”Ÿæˆæ•°æ®è¡¨</p><p>å†æ¥çœ‹çœ‹ï¼Œå¦‚ä½•è·å–æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <code>Query builder</code> å’Œ <code>LUCID</code> ä¸¤ç§æ–¹å¼</p><p>å…ˆæ¥çœ‹çœ‹ <code>Query builder</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Database = use(<span class="string">'Database'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> index (request, response) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> Database</span><br><span class="line">      .table(<span class="string">'users'</span>)</span><br><span class="line">      .where(<span class="string">'username'</span>, <span class="string">'admin'</span>)</span><br><span class="line">      .first()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ <code>user</code> è¡¨ <code>name</code> æ˜¯ <code>admin</code> çš„ç”¨æˆ·</p><p><code>Adonisjs</code> æä¾›äº†éå¸¸å¤šçš„æ–¹æ³•å»æ“ä½œæ•°æ®ï¼Œä¸æ˜¯ç‰¹å¤æ‚çš„å…³ç³»éƒ½å¤Ÿç”¨ï¼Œå¦‚æœï¼Œå…³ç³»æ¯”è¾ƒå¤æ‚ï¼Œè¿˜å¯ä»¥ç”¨åŸç”Ÿçš„ <code>sql</code> æ“ä½œï¼Œå¦‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Database = use(<span class="string">'Database'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">NotificationController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">async</span> followNotice (&#123; auth, view &#125;) &#123;</span><br><span class="line">    <span class="keyword">const</span> notices = <span class="keyword">await</span> Database.raw(<span class="string">'select users.id as user_id,users.username,users.email,b.title,b.created_at,b.is_read,b.id as post_id from adonis.users , (select posts.id,posts.title, a.user_id,a.created_at,a.is_read from adonis.posts,(SELECT post_user.post_id, post_user.user_id, post_user.created_at, post_user.is_read FROM adonis.post_user where post_user.post_id in (SELECT posts.id FROM adonis.posts where user_id = ?)) as a where posts.id = a.post_id) as b where b.user_id = users.id and b.user_id &lt;&gt; ? order by b.created_at desc limit 50'</span>,[ auth.user.id, auth.user.id ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = NotificationController</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>Database.raw</code> æ¥è¿è¡ŒåŸç”Ÿçš„ <code>sql</code>ï¼Œä»¥ä¸Šè¿™æ¡ <code>sql</code> æ˜¯ç”¨æ¥æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ç»™è‡ªå·±æ‰€æœ‰æ–‡ç« ç‚¹èµçš„ç”¨æˆ·ä¿¡æ¯å’Œæ–‡ç« ä¿¡æ¯ç”¨äºæ¶ˆæ¯é€šçŸ¥ã€‚</p><p>å†æ¥çœ‹çœ‹ï¼Œ<code>LUCID</code> çš„æ¨¡å¼æ˜¯å¦‚ä½•æ“ä½œæ•°æ®çš„ï¼š</p><p>ä½¿ç”¨ <code>LUCID</code> æ¨¡å¼ï¼Œæˆ‘ä»¬å…ˆéœ€è¦ç”¨å‘½ä»¤è¡Œå·¥å…·åˆ›å»º <code>Models</code>ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:model User</span><br></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Model = use(<span class="string">'Model'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = User</span><br></pre></td></tr></table></figure><p>æ¨¡å‹å’Œæ¨¡å‹ä¹‹é—´éœ€è¦å®šä¹‰ä¸€äº›å…³ç³»ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Model = use(<span class="string">'Model'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  profile () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.hasOne(<span class="string">'App/Models/Profile'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = User</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯ ä¸€ä¸ªç”¨æˆ·å¯¹åº”ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯æ¡£æ¡ˆï¼Œ<strong>ä¸€å¯¹ä¸€</strong> çš„å…³ç³»</p><p>å®šä¹‰å¥½å…³ç³»ä¹‹åï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„è·å–æ•°æ®ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> User = use(<span class="string">'App/Models/User'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> User.find(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> userProfile = <span class="keyword">await</span> user.profile().fetch()</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯ï¼Œä»ç”¨æˆ·è¡¨å’Œç”¨æˆ·ä¸ªäººä¿¡æ¯è¡¨é‡Œè·å–ç”¨æˆ· <code>id</code> æ˜¯ <code>1</code> çš„ç”¨æˆ·ä¿¡æ¯åŠä¸ªäººä¿¡æ¯ï¼Œ</p><p>å…¶ä¸­ï¼Œå…³ç³»å¯ä»¥å®šä¹‰ä¸º <strong>3</strong> ç§ <strong>ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤š</strong> ï¼Œå¤šå¯¹å¤šéœ€è¦å®šä¹‰ä¸­é—´è¡¨</p><p>å†æ¥çœ‹çœ‹ï¼Œä¸Šé¢çš„åº”ç”¨ä¸­çš„å®é™…åº”ç”¨ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> update (&#123; params, request, response, session, auth &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; title, content, user_id, tags &#125; = request.all()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> post = <span class="keyword">await</span> Post.findOrFail(params.id)</span><br><span class="line">  post.merge(&#123; title, content&#125;)</span><br><span class="line">  <span class="keyword">await</span> post.save()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> post.tags().sync(tags)</span><br><span class="line"></span><br><span class="line">  session.flash(&#123;</span><br><span class="line">    type: <span class="string">'primary'</span>,</span><br><span class="line">    message: <span class="string">'Post updated successfully.'</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response.redirect(</span><br><span class="line">    Route.url(<span class="string">'PostController.show'</span>, &#123;</span><br><span class="line">      id: post.id</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šï¼Œæ˜¯æ›´æ–°æ–‡ç« çš„æ–¹æ³•ï¼Œ<strong>æ–‡ç« </strong> å’Œ <strong>æ ‡ç­¾</strong> æ˜¯ <strong>å¤šå¯¹å¤š</strong> çš„å…³ç³»ï¼Œä¸€ä¸ªæ ‡ç­¾å¯ä»¥å±äºå¤šç¯‡æ–‡ç« ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œ<code>await post.tags().sync(tags)</code> è¿™å¥ä»£ç å°±å¯ä»¥é€šè¿‡ <code>Models</code> é‡Œå®šä¹‰çš„å…³ç³»è‡ªåŠ¨æŠŠæ ‡ç­¾å’Œæ–‡ç« å…³è”èµ·æ¥ä¿å­˜åˆ° <code>posts</code> å’Œ <code>tags</code> è¡¨é‡Œä¸”æŠŠå…³è”å…³ç³»ä¿å­˜åˆ°ä¸­é—´è¡¨ <code>post_tag</code>ã€‚</p><p>å½“ç„¶ï¼Œ<code>Adonisjs</code> æä¾›äº†å¾ˆå¤šæ–¹ä¾¿çš„æ–¹æ³•ï¼Œæƒ³äº†è§£æ›´å¤šçš„è¯éœ€è¦æ‚¨èŠ±ç‚¹æ—¶é—´å»äº†è§£å­¦ä¹ ã€‚</p><h4 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h4><p><code>Adonisjs</code> æ¡†æ¶é‡Œè§†å›¾ä½¿ç”¨äº† <code>edge</code> æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·åˆ›å»ºè§†å›¾æ–‡ä»¶ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:view post</span><br></pre></td></tr></table></figure><p>æˆ‘çœ‹å¯ä»¥çœ‹ä¸‹ç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@loggedIn</span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span> You are logged in <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">@else</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span>&gt;</span>Click here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> to login <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">@endloggedIn</span><br></pre></td></tr></table></figure><p>è§†å›¾æ¨¡æ¿é‡Œå¯ä»¥ä½¿ç”¨æ ‡ç­¾æ¥åšé€»è¾‘åˆ¤æ–­ï¼Œè§†å›¾æ¨¡æ¿å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šç”¨çš„ï¼Œå…³äº <code>edge</code> è§†å›¾æ¨¡æ¿æ›´å¤šè¯­æ³• <a href="https://edge.adonisjs.com/docs/syntax-guide" target="_blank" rel="noopener">Edgeå®˜æ–¹æ–‡æ¡£</a></p><p>æœ€åï¼Œ<code>Adonisjs</code> æ¡†æ¶è¿˜æä¾›äº†å¾ˆå¤šå…¶å®ƒçš„å®ç”¨å·¥å…·ï¼Œå¦‚ï¼š<code>Middleware</code> ä¸­é—´ä»¶ã€<code>Validator</code> éªŒè¯å™¨ã€<code>Error Handling</code> è‡ªå®šä¹‰å¼‚å¸¸ã€<code>Events</code> äº‹ä»¶ã€<code>Mails</code> é‚®ä»¶ã€<code>Websocket</code> ç­‰æ¥å¤„ç†å„ç§é—®é¢˜ã€‚</p><h2 id="Node-jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"><a href="#Node-jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨" class="headerlink" title="Node.jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"></a>Node.jsé¡¹ç›®å‘å¸ƒåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨ <code>ssh</code> è¿æ¥åˆ°é˜¿é‡Œäº‘ï¼ˆæˆ–è€…å…¶ä»–æœåŠ¡å™¨ä¾›åº”å•†ï¼‰çš„ä¸»æœºä¸Šï¼Œå®‰è£…ä¸€äº›å¿…è¦çš„å·¥å…·ã€‚</p><h3 id="å·¥å…·å®‰è£…"><a href="#å·¥å…·å®‰è£…" class="headerlink" title="å·¥å…·å®‰è£…"></a>å·¥å…·å®‰è£…</h3><h4 id="å®‰è£…-epel-release-è½¯ä»¶åŒ…ä»“åº“"><a href="#å®‰è£…-epel-release-è½¯ä»¶åŒ…ä»“åº“" class="headerlink" title="å®‰è£… epel-release è½¯ä»¶åŒ…ä»“åº“"></a>å®‰è£… epel-release è½¯ä»¶åŒ…ä»“åº“</h4><p>æˆ‘ä»¬éœ€è¦å®‰è£… <code>epel-release</code> è½¯ä»¶åŒ…ä»“åº“ï¼Œ<code>epel-release</code> é‡Œé¢æœ‰å¾ˆå¤šæœ€æ–°çš„è½¯ä»¶åŒ…ï¼Œå¦‚ï¼Œä¹‹åå®‰è£…çš„ <code>git</code> å°±ä¼šç”¨åˆ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install epel-release - y</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…-Git-ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·"><a href="#å®‰è£…-Git-ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å®‰è£… Git ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·"></a>å®‰è£… Git ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤è¡Œå·¥å…·</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install git -y</span><br></pre></td></tr></table></figure><h3 id="å‡†å¤‡-Node-js-è¿è¡Œç¯å¢ƒ"><a href="#å‡†å¤‡-Node-js-è¿è¡Œç¯å¢ƒ" class="headerlink" title="å‡†å¤‡ Node.js è¿è¡Œç¯å¢ƒ"></a>å‡†å¤‡ Node.js è¿è¡Œç¯å¢ƒ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… <code>Node.js</code> ä»¥ä¾¿æˆ‘ä»¬çš„ <code>Node.js</code> é¡¹ç›®èƒ½å¤Ÿè·‘èµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>nvm</code> å®‰è£…å’Œç®¡ç† <code>Node.js</code> ï¼Œä½¿ç”¨ <code>nrm</code> æ¥ç®¡ç†åˆ‡æ¢å®‰è£…æºã€‚</p><h4 id="å®‰è£…-nvm"><a href="#å®‰è£…-nvm" class="headerlink" title="å®‰è£… nvm"></a>å®‰è£… nvm</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½ä¹‹å,æˆ‘ä»¬éœ€è¦é…ç½®ä¸‹ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œä½¿ç”¨ <code>nvm</code> å‘½ä»¤ï¼Œç”¨ <code>vi ~/.bash_profile</code> ç¼–è¾‘ä¸‹é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br></pre></td></tr></table></figure><p>åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">"<span class="variable">$HOME</span>/.nvm"</span></span><br><span class="line">[ -s <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; \. <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span></span><br><span class="line">[ -s <span class="string">"<span class="variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; \. <span class="string">"<span class="variable">$NVM_DIR</span>/bash_completion"</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <code>source ~/.bash_profile</code> åˆ·æ–°ä¸‹é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>nvm</code> æ¥å®‰è£… <code>Node.js</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install node</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½åï¼Œå¯ä»¥ä½¿ç”¨ <code>nvm list</code> æ¥æŸ¥çœ‹æœ‰å“ªäº›ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm list</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-&gt;     v10.13.0</span><br><span class="line">        v11.2.0</span><br><span class="line">         system</span><br><span class="line">default -&gt; v10.13.0</span><br><span class="line">node -&gt; stable (-&gt; v11.2.0) (default)</span><br><span class="line">stable -&gt; 11.2 (-&gt; v11.2.0) (default)</span><br><span class="line">iojs -&gt; N/A (default)</span><br><span class="line">lts/* -&gt; lts/dubnium (-&gt; v10.13.0)</span><br><span class="line">lts/argon -&gt; v4.9.1 (-&gt; N/A)</span><br><span class="line">lts/boron -&gt; v6.14.4 (-&gt; N/A)</span><br><span class="line">lts/carbon -&gt; v8.13.0 (-&gt; N/A)</span><br><span class="line">lts/dubnium -&gt; v10.13.0</span><br></pre></td></tr></table></figure><p>æˆ‘ä½¿ç”¨çš„æ˜¯ <em>v10.13.0</em> çš„ç‰ˆæœ¬ï¼Œé»˜è®¤å®‰è£…çš„éƒ½æ˜¯æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œå¯èƒ½æ˜¯ <em>v11.2.0</em> æˆ– <em>v11.1.0</em>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ <code>nvm install v10.13.0</code> æ¥å®‰è£…æŒ‡å®šç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v10.13.0</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>nvm use  v10.13.0</code> æ¥ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use nvm v10.13.0</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Now using node v10.13.0 (npm v6.4.1)</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…-nrm-ç®¡ç†å®‰è£…æº"><a href="#å®‰è£…-nrm-ç®¡ç†å®‰è£…æº" class="headerlink" title="å®‰è£… nrm ç®¡ç†å®‰è£…æº"></a>å®‰è£… nrm ç®¡ç†å®‰è£…æº</h4><p>ä½¿ç”¨ npm å®‰è£…çš„ç¨‹åºåŒ…ï¼Œé»˜è®¤çš„æ¥æºæ˜¯ <a href="http://registry.npmjs.org" target="_blank" rel="noopener">http://registry.npmjs.org</a>ï¼Œå›½å†…çš„ä¸‹è½½é€Ÿåº¦ä¼šæœ‰äº›æ…¢ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¯ <code>nrm</code> æ¥åˆ‡æ¢åˆ° <code>taobao</code> çš„æº</p><p><strong>å®‰è£… nrm</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install nrm --global</span><br></pre></td></tr></table></figure><p><strong>åˆ‡æ¢åˆ° taobao æº</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm use taobao</span><br></pre></td></tr></table></figure><h3 id="å‡†å¤‡é¡¹ç›®"><a href="#å‡†å¤‡é¡¹ç›®" class="headerlink" title="å‡†å¤‡é¡¹ç›®"></a>å‡†å¤‡é¡¹ç›®</h3><p>ä»¥ä¸Šå·¥ä½œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨å°±å¯ä»¥æ­£å¸¸è¿è¡Œ <code>Node.js</code> é¡¹ç›®ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠæœ¬åœ°çš„é¡¹ç›®ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¸Šä¼ æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¦‚ï¼š</p><ul><li>å¯ä»¥ä½¿ç”¨ <code>git</code>ï¼Œå…ˆæŠŠé¡¹ç›®ä¼ åˆ° <strong>GitHub</strong>ï¼Œç„¶åç”¨ <code>git</code> ä¸‹è½½åˆ°æœåŠ¡å™¨</li><li>å¯ä»¥æ˜¯ <strong>FTP</strong> å·¥å…·</li><li>å¯ä»¥æ˜¯å‘½ä»¤ä¸Šä¼  <code>scp -r æœ¬åœ°ç›®å½•  root@æœåŠ¡å™¨IP:/var/www/</code></li></ul><p>å‘é¡¹ç›®æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æŒ‡å®šç›®å½•ä¸‹ï¼Œå¦‚ï¼š<code>www</code></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¯ <strong>PM2</strong> æ¥ç®¡ç† <strong>Node</strong> è¿›ç¨‹ï¼Œå…ˆéœ€è¦å®‰è£… <strong>PM2</strong></p><h4 id="å®‰è£…PM2"><a href="#å®‰è£…PM2" class="headerlink" title="å®‰è£…PM2"></a>å®‰è£…PM2</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2@latest --global</span><br></pre></td></tr></table></figure><p>è¿™äº›å·¥ä½œä½œä¸ºä¹‹åï¼Œå°±å¯ä»¥æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œå¯åŠ¨é¡¹ç›®ï¼Œåœ¨æœ¬åœ°è®¿é—®æœåŠ¡å™¨ <code>IP:PORT</code> æ¥æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—®</p><h4 id="æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ"><a href="#æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ" class="headerlink" title="æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ"></a>æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥è¿è¡Œ</h4><p>åœ¨æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸‹åº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œ<code>adonisjs</code> æ¡†æ¶é‡Œæ˜¯ <code>.env</code> æ–‡ä»¶ï¼Œä¿®æ”¹ä¸‹ <code>HOST</code> çš„å€¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HOST=0.0.0.0</span><br><span class="line">PORT=3333</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><code>HOST</code> é»˜è®¤æ˜¯ <em>127.0.0.1</em>ï¼Œéœ€è¦æ”¹æˆ <em>0.0.0.0</em> è¿™æ ·å°±å¯ä»¥åœ¨è‡ªå·±ç”µè„‘ä¸Šç”¨æœåŠ¡å™¨ <code>IP:PORT</code> æ¥è®¿é—®åº”ç”¨</p><p>æ”¹å®Œåï¼Œè¿›å…¥åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œè¿è¡Œåº”ç”¨ï¼Œ<code>adonisjs</code> çš„å¯åŠ¨æ–‡ä»¶æ˜¯ <code>server.js</code>ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start server.js</span><br></pre></td></tr></table></figure><p>å¦‚å¯åŠ¨æˆåŠŸä¼šæç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[PM2] Applying action restartProcessId on app [server](ids: 0)</span><br><span class="line">[PM2] [server](0) âœ“</span><br><span class="line">[PM2] Process successfully started</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ App name â”‚ id â”‚ version â”‚ mode â”‚ pid  â”‚ status â”‚ restart â”‚ uptime â”‚ cpu â”‚ mem      â”‚ user â”‚ watching â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ server   â”‚ 0  â”‚ 4.1.0   â”‚ fork â”‚ 7171 â”‚ online â”‚ 30      â”‚ 0s     â”‚ 0%  â”‚ 3.4 MB   â”‚ root â”‚ disabled â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"> Use `pm2 show &lt;id|name&gt;` to get more details about an app</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨è‡ªå·±ç”µè„‘ä¸Šç”¨æœåŠ¡å™¨ <code>IP:PORT</code> æ¥è®¿é—®åº”ç”¨ã€‚</p><h3 id="Nginx-ä»£ç†"><a href="#Nginx-ä»£ç†" class="headerlink" title="Nginx ä»£ç†"></a>Nginx ä»£ç†</h3><p>ä¸ºäº†è®©æœåŠ¡å™¨æ›´å¥½åœ°å¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä½¿ç”¨ <strong>Nginx åå‘ä»£ç†</strong> æŠŠè¯·æ±‚è½¬å‘ç»™ <code>Node.js</code> åº”ç”¨</p><h4 id="å®‰è£…-Nginx"><a href="#å®‰è£…-Nginx" class="headerlink" title="å®‰è£… Nginx"></a>å®‰è£… Nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install nginx -y</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„æœåŠ¡ä¹‹å‰å®‰è£…è¿‡å¯ä¸ç”¨å®‰è£…ï¼Œæˆ‘çš„é˜¿é‡Œäº‘æœåŠ¡å™¨è¿è¡Œäº† 4 ä¸ªç«™ç‚¹ä¹‹å‰å®‰è£…è¿‡ï¼Œä¹‹åæˆ‘åªéœ€æ·»åŠ é…ç½®å°±è¡Œã€‚</p><h4 id="å¯åŠ¨-Nginx"><a href="#å¯åŠ¨-Nginx" class="headerlink" title="å¯åŠ¨ Nginx"></a>å¯åŠ¨ Nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start nginx</span><br></pre></td></tr></table></figure><h4 id="é…ç½®-Nginx"><a href="#é…ç½®-Nginx" class="headerlink" title="é…ç½® Nginx"></a>é…ç½® Nginx</h4><p>ä¸€èˆ¬æƒ…å†µ <strong>Nginx</strong> å®‰è£…å¥½åä¼šæœ‰ <em>/etc/nginx/conf.d</em>  ç›®å½•ï¼Œè¿›å…¥è¿™ä¸ªç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸º <code>Node.js</code> è€Œå‡†å¤‡ï¼Œåå­—å¯éšæ„å‘½åï¼Œå¦‚ï¼š<code>adonis.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  location / &#123;</span><br><span class="line">      proxy_pass http://127.0.0.1:3333;</span><br><span class="line">      proxy_http_version 1.1;</span><br><span class="line">      proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">      proxy_set_header Connection <span class="string">'upgrade'</span>;</span><br><span class="line">      proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">      proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">      proxy_cache_bypass <span class="variable">$http_upgrade</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ <strong>Nginx</strong> çš„ä¸»é…ç½®æ–‡ä»¶é‡ŒæŠŠåˆšæ‰æ–°åˆ›å»ºçš„é…ç½®æ–‡ä»¶ï¼ˆ<em>/etc/nginx/nginx.conf</em>ï¼‰ <code>include</code> è¿›å»å°±å¯ä»¥,å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include /etc/nginx/conf.d/*.conf;</span><br></pre></td></tr></table></figure><p>å› ä¸ºï¼Œæˆ‘çš„ä¸»æœºé‡Œè¿è¡Œäº†4ä¸ªç«™ç‚¹ï¼Œ<code>*</code> çš„æ„æ€å°±æ˜¯åŠ è½½è¿™ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰é…ç½®æ–‡ä»¶</p><p>ç„¶åï¼Œè®°å¾—æŠŠåˆšæ‰é¡¹ç›®é‡Œçš„ <em>.env</em> é…ç½®æ–‡ä»¶æ”¹æˆ <em>127.0.0.1</em> ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨ä½¿ç”¨äº†ä»£ç†ï¼Œç½‘ç»œè¯·æ±‚äº¤ç»™äº† <strong>Nginx</strong></p><p>å†è¿›å…¥åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pm2 stop server.js <span class="comment">#åœæ­¢é¡¹ç›®</span></span><br><span class="line">pm2 start server.js <span class="comment">#å¯åŠ¨é¡¹ç›®</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å†ç”¨æœåŠ¡å™¨ <strong>IP</strong> è®¿é—®å°±æ˜¯ç”¨çš„ <strong>Nginx</strong> å»å¤„ç†è¯·æ±‚</p><h4 id="åŸŸåå’ŒSSL"><a href="#åŸŸåå’ŒSSL" class="headerlink" title="åŸŸåå’ŒSSL"></a>åŸŸåå’ŒSSL</h4><p>å¦‚æœä½ æœ‰åŸŸåå¯ä»¥å»å¯¹åº”çš„ä¾›åº”å•†è§£æå¥½ï¼Œå¦‚æƒ³ä½¿ç”¨ <code>https</code> åè®®ï¼Œä¹Ÿå¯ä»¥å»å¯¹åº”çš„ä¾›åº”å•†ä¸‹è½½å¥½è¯ä¹¦ï¼ˆä¸‹è½½å¥½çš„è¯ä¹¦è¦æ”¾åˆ°æœåŠ¡å™¨æŸä¸ªç›®å½•é‡Œï¼‰ã€‚</p><p>å†ä¿®æ”¹ä¸‹åˆšæ‰åˆ›å»ºçš„é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒèƒ½å¤Ÿæ”¯æŒ <code>https</code> å’Œ åŸŸå è®¿é—®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">      listen 443 ssl http2; <span class="comment">#SSL</span></span><br><span class="line">  server_name a.lishaoy.net; <span class="comment">#åŸŸå</span></span><br><span class="line">  ssl on;</span><br><span class="line"></span><br><span class="line">  ssl_certificate /etc/letsencrypt/live/a.lishaoy.net/server.pem; <span class="comment">#è¯ä¹¦ç›®å½•</span></span><br><span class="line">  ssl_certificate_key /etc/letsencrypt/live/a.lishaoy.net/server.key; <span class="comment">#è¯ä¹¦ç›®å½•</span></span><br><span class="line">  ssl_protocols TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line">  ssl_session_cache shared:SSL:10m;</span><br><span class="line">  ssl_session_timeout 10m;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$ssl_protocol</span> = <span class="string">""</span>) &#123;</span><br><span class="line">    rewrite ^(.*) https://<span class="variable">$host</span><span class="variable">$1</span> permanent;</span><br><span class="line">  &#125;</span><br><span class="line">  error_page 497  https://<span class="variable">$host</span><span class="variable">$request_uri</span>;</span><br><span class="line"></span><br><span class="line">  error_page 404 /404.html;</span><br><span class="line">  error_page 502 /502.html;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">      proxy_pass http://localhost:3333;</span><br><span class="line">      proxy_http_version 1.1;</span><br><span class="line">      proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">      proxy_set_header Connection <span class="string">'upgrade'</span>;</span><br><span class="line">      proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">      proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">      proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">      proxy_cache_bypass <span class="variable">$http_upgrade</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†é‡å¯ <code>Ningx</code> æœåŠ¡å’Œé¡¹ç›®çš„æœåŠ¡ï¼Œå°±å¤§åŠŸå‘Šæˆäº†ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/adonisjs.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutterï¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å»ºæ¼‚äº®çš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ âœ¿ åˆä½“éªŒï¼ˆå®æˆ˜ï¼‰</title>
      <link>https://h.lishaoy.net/fristFlutter.html</link>
      <guid>https://h.lishaoy.net/fristFlutter.html</guid>
      <pubDate>Sat, 10 Nov 2018 17:04:15 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/fristFlutter/flutterCover7.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æˆ‘ä»¬ä¸Šç¯‡æ–‡ç« å·²ç»æŠŠ &lt;strong&gt;Flutter&lt;/strong&gt; çš„å¼€å‘è¿è¡Œç¯å¢ƒæ­å»ºå¥½äº† &lt;a href=&quot;https://h.lishaoy.net/flutterInstall.html&quot;&gt;Flutterï¼šç¯å¢ƒæ­å»º&lt;/a&gt; ï¼Œæœ¬ç¯‡æ–‡ç« å°†å®Œæˆæ‚¨çš„ç¬¬ä¸€ä¸ª &lt;strong&gt;Flutter&lt;/strong&gt; å°åº”ç”¨ï¼Œä¸ç”¨ä½†æ˜¯ä¸ä¼šï¼Œè·Ÿç€æ–‡ç« åšå°±è¡Œï¼Œå¼€å§‹ä¸å¿…å¤ªçº ç»“è¿™äº›ä»£ç ç»†èŠ‚ï¼Œæ˜ç™½å®ƒæ˜¯å¹²ä»€ä¹ˆçš„å°±è¡Œï¼Œåªæ˜¯ä¸€ä¸ªä½¿ç”¨ä½“éªŒï¼Œä½“éªŒ &lt;strong&gt;Flutter&lt;/strong&gt; æ¡†æ¶ç»™ä½ å¸¦æ¥çš„å¼€å‘æ„Ÿå—ï¼Œåé¢ä¼šæœ‰å…·ä½“çš„ç»„ä»¶ï¼ˆwidgetï¼‰çš„æ–‡ç« ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/fristFlutter/flutterCover7.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æˆ‘ä»¬ä¸Šç¯‡æ–‡ç« å·²ç»æŠŠ <strong>Flutter</strong> çš„å¼€å‘è¿è¡Œç¯å¢ƒæ­å»ºå¥½äº† <a href="https://h.lishaoy.net/flutterInstall.html">Flutterï¼šç¯å¢ƒæ­å»º</a> ï¼Œæœ¬ç¯‡æ–‡ç« å°†å®Œæˆæ‚¨çš„ç¬¬ä¸€ä¸ª <strong>Flutter</strong> å°åº”ç”¨ï¼Œä¸ç”¨ä½†æ˜¯ä¸ä¼šï¼Œè·Ÿç€æ–‡ç« åšå°±è¡Œï¼Œå¼€å§‹ä¸å¿…å¤ªçº ç»“è¿™äº›ä»£ç ç»†èŠ‚ï¼Œæ˜ç™½å®ƒæ˜¯å¹²ä»€ä¹ˆçš„å°±è¡Œï¼Œåªæ˜¯ä¸€ä¸ªä½¿ç”¨ä½“éªŒï¼Œä½“éªŒ <strong>Flutter</strong> æ¡†æ¶ç»™ä½ å¸¦æ¥çš„å¼€å‘æ„Ÿå—ï¼Œåé¢ä¼šæœ‰å…·ä½“çš„ç»„ä»¶ï¼ˆwidgetï¼‰çš„æ–‡ç« ã€‚</p><hr><a id="more"></a><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>åœ¨ä¸Šç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ª Flutter é¡¹ç›® <span class="label success">new_flutter</span>ï¼Œå¦‚æœæ‚¨è¿˜æ²¡æœ‰åˆ›å»ºï¼Œå¯ä»¥åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/desktop <span class="comment">#è¿›å…¥æ¡Œé¢</span></span><br><span class="line">flutter create new_flutter <span class="comment">#åˆ›å»º Flutter é¡¹ç›®</span></span><br><span class="line"><span class="built_in">cd</span> new_flutter <span class="comment">#è¿›å…¥é¡¹ç›®</span></span><br><span class="line">code ./ <span class="comment">#ç”¨ VS Code æ‰“å¼€</span></span><br></pre></td></tr></table></figure><p>ç”¨ VS Code æ‰“å¼€é¡¹ç›®åï¼ŒæŒ‰ <strong>F5</strong> é€‰æ‹©æ¨¡æ‹Ÿå™¨è¿è¡Œé¡¹ç›®çœ‹çœ‹æ•ˆæœï¼Œè¿™äº›æ“ä½œåœ¨ä¸Šç¯‡æ–‡ç« éƒ½å·²ç»åšè¿‡äº†ï¼Œæ‚¨åº”è¯¥æœ‰äº›å°è±¡ï¼Œå¦‚æˆåŠŸçš„è¯ï¼Œä¼šçœ‹åˆ°å¦‚å›¾æ•ˆæœï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/demo.png" alt="no-shadow" title="Flutter run"></p><p>ä¸Šå›¾ç•Œé¢æ˜¯ <code>flutter create</code> å‘½ä»¤åˆ›å»ºé¡¹ç›®æ—¶ï¼Œç»™æˆ‘ä»¬çš„æ¡ˆä¾‹ï¼ˆè®¡æ•°å™¨ï¼‰ï¼Œè¿™äº›ä»£ç åœ¨ <em><span class="label default"> lib->main.dart</span></em> æ–‡ä»¶é‡Œï¼Œå¦‚ä½ å…³æ³¨çš„è¯å¯ä»¥çœ‹çœ‹è¿™äº›ä»£ç éƒ½åšäº†äº›ä»€ä¹ˆï¼Œä¸è¿‡ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦è¿™äº›ä»£ç ï¼Œ<kbd>âŒ˜</kbd> - <kbd>A</kbd> å…¨é€‰åˆ é™¤ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å†™ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#åˆ›å»ºé¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(</span><br><span class="line">    Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        <span class="string">'Hello'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">        style: TextStyle(fontSize: <span class="number">36.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    )</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™å…¥ä»¥ä¸Šä»£ç ï¼ŒæŒ‰ <kbd>âŒ˜</kbd> - <kbd>â‡§</kbd> - <kbd>P</kbd> æ‰“å¼€ VS Code çš„å‘½ä»¤é¢æ¿ï¼Œæœç´¢ <code>hot restart</code> æ‰§è¡Œå‘½ä»¤ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/flutter_hello.png" alt="no-shadow" title="hello"></div><p><code>main()</code> æ˜¯ Flutter çš„å…¥å£å‡½æ•°ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šæŠŠä»£ç å†™åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹ä»£ç ï¼ˆè‡ªå®šä¹‰ widgetï¼‰ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#åˆ›å»ºé¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(App());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        <span class="string">'Hello'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">        style: TextStyle(fontSize: <span class="number">36.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œæˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€ä¸ª <code>StatelessWidget</code> ç±»å‹çš„ widget å« <span class="label primary">App</span>ã€‚</p><h2 id="æ–°å¢-Material-AppBar"><a href="#æ–°å¢-Material-AppBar" class="headerlink" title="æ–°å¢ Material AppBar"></a>æ–°å¢ Material AppBar</h2><p>æˆ‘ä»¬å†æ¥ä¿®æ”¹ä¸‹ä»£ç ï¼Œè®©æˆ‘ä»¬çš„åº”ç”¨å»ä½¿ç”¨ <span class="label success">Material Design</span> çš„ AppBar</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#æ–°å¢-Material-AppBar">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(App());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">            style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: Hello(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        <span class="string">'Hello'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">        style: TextStyle(fontSize: <span class="number">36.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/Appbar.png" alt="no-shadow" title="hello"></div><div class="note success"><p><i class="fa fa-fw fa-bell faa-horizontal animated faa-slow" style="color: #009688;"></i><strong>Tipï¼š</strong></p><ol><li>è‡ªå®šä¹‰äº†ä¸€ä¸ª Hello çš„ <span class="label info">StatelessWidget</span> ç±»å‹çš„ widget</li><li>æ–°å¢äº† MaterialApp ï¼Œè¿™é‡Œé¢å°±æœ‰æˆ‘ä»¬éœ€è¦ç”¨çš„ AppBar ï¼ˆMaterialApp é‡Œé¢æœ‰å¾ˆå¤š <span class="label info">Material Design</span> é£æ ¼çš„ç»„ä»¶ï¼Œåé¢çš„æ–‡ç« æåˆ°ï¼‰</li><li>Scaffold å¯ä»¥ç†è§£ä¸º MaterialApp å¸ƒå±€çš„æ¶å­ï¼Œ<span class="label info">Material Design</span> é£æ ¼çš„ç»„ä»¶éƒ½ä¼šæ”¾åˆ°è¿™é‡Œé¢</li><li>AppBar å°±æ˜¯é¡¶éƒ¨è“è‰²è¿™éƒ¨åˆ†ï¼ŒåŠ äº†ä¸€ä¸ª title è½¬ä¸ºå¤§å†™å’Œå¢åŠ è¯é—´è·</li><li>body æ˜¯ä¸»æ˜¾ç¤ºåŒºï¼Œä¸‹é¢ç™½è‰²éƒ¨åˆ†ï¼Œæ”¾çš„æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ Hello å°éƒ¨ä»¶</li></ol></div>  <h2 id="æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰"><a href="#æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰" class="headerlink" title="æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰"></a>æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰</h2><p>åœ¨æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€äº›æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ lib ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½• model å’Œæ–‡ä»¶ <span class="label default">post.dart</span>ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/fristFlutter/model.png" alt="post.dart" width="26%" title="post.dart" align="center"></p><p>ç„¶åï¼ŒæŠŠåœ¨ <span class="label success">GitHub</span> å‡†å¤‡å¥½çš„ <a href="https://github.com/persilee/flutter_pro/blob/master/lib/model/post.dart" target="_blank" rel="noopener">post.dart</a> æ•°æ®æ”¾åˆ°é‡Œé¢ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å†æ¥æ”¹è¿›ä¸‹ä»£ç ï¼Œè®©å®ƒæ›´å…·æœ‰ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬æŠŠ <code>home</code> å±æ€§ä¸‹çš„ Scaffold æ”¾åˆ°å•ç‹¬çš„ widget ï¼Œå–åä¸º <span class="label default">HomePage</span></p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(App());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      home: HomePage(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">            style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: Hello(),</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥åˆ›å»º <span class="label primary">è§†å›¾åˆ—è¡¨</span> </p><p>é¦–å…ˆï¼Œåœ¨å¤´éƒ¨å¼•å…¥åˆšæ‰åˆ›å»ºçš„æ•°æ® <code>post.dart</code> æ–‡ä»¶</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./model/post.dart'</span>;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå†æŠŠ <code>body</code> ä¸‹çš„ Hello() æ¢æˆ <code>ListView</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#æ–°å¢åˆ—è¡¨è§†å›¾ï¼ˆListViewï¼‰">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">            style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: ListView.builder(</span><br><span class="line">          itemCount: posts.length,</span><br><span class="line">          itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; Text(posts[index].title),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/listView.png" alt="no-shadow" title="ListView"></div><h2 id="å®Œå–„åˆ—è¡¨é¡¹ç›®"><a href="#å®Œå–„åˆ—è¡¨é¡¹ç›®" class="headerlink" title="å®Œå–„åˆ—è¡¨é¡¹ç›®"></a>å®Œå–„åˆ—è¡¨é¡¹ç›®</h2><p>ç°åœ¨ï¼Œæ•°æ®å·²ç»å‘ˆç°åœ¨åº”ç”¨ç•Œé¢ä¸Šäº†ï¼Œæ¥ä¸‹æ¥è¦åšçš„æ˜¯è®©æ•°æ®å±•ç¤ºæ›´å‹å¥½ä¸€ç‚¹ã€‚</p><p>æˆ‘ä»¬å†æ¥æ”¹é€ ä¸€ä¸‹ <code>itemBuilder</code> ä¸‹çš„æ–¹æ³•ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#å®Œå–„åˆ—è¡¨é¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      backgroundColor: Colors.grey[<span class="number">100</span>],</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(</span><br><span class="line">          <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">          style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemCount: posts.length,</span><br><span class="line">        itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; Container(</span><br><span class="line">              margin: EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">              color: Colors.white,</span><br><span class="line">              child: Column(</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  Image.network(</span><br><span class="line">                    posts[index].imageUrl,</span><br><span class="line">                    fit: BoxFit.cover,</span><br><span class="line">                  ),</span><br><span class="line">                  SizedBox(</span><br><span class="line">                    height: <span class="number">16.0</span>,</span><br><span class="line">                  ),</span><br><span class="line">                  Text(</span><br><span class="line">                    posts[index].title,</span><br><span class="line">                    style: Theme.of(context).textTheme.title,</span><br><span class="line">                  ),</span><br><span class="line">                  Text(</span><br><span class="line">                    posts[index].author,</span><br><span class="line">                    style: Theme.of(context).textTheme.subhead,</span><br><span class="line">                  ),</span><br><span class="line">                  SizedBox(</span><br><span class="line">                    height: <span class="number">16.0</span>,</span><br><span class="line">                  ),</span><br><span class="line">                ],</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚å›¾ï¼š</p><div style="padding: 0 30%;"><img src="https://cdn.lishaoy.net/fristFlutter/listView1.png" alt="no-shadow" title="ListView"></div><div class="note success"><p><i class="fa fa-fw fa-bell faa-horizontal animated faa-slow" style="color: #009688;"></i><strong>Tipï¼š</strong></p><ol><li><span class="label info">itemBuilder</span> å±æ€§æ˜¯ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¼  2 ä¸ªå‚æ•°ï¼Œcontextï¼ˆå†…å®¹ï¼‰ã€indexï¼ˆç´¢å¼•ï¼‰</li><li>æˆ‘ä»¬ç”¨äº† <span class="label info">Container</span> çš„ widget æ¥è£…è½½æˆ‘ä»¬çš„é¡¹ç›®ï¼Œå› ä¸º <span class="label info">Container</span> æœ‰å¾ˆå¤šå±æ€§ï¼Œä¾‹å¦‚ marginã€paddingã€colorã€widthã€heightç­‰ï¼Œåé¢æˆ‘ä»¬ä¼šæ…¢æ…¢çš„ç†Ÿæ‚‰å®ƒ</li><li>æˆ‘ä»¬ç”¨äº†ä¸€ä¸ª <span class="label info">Column</span> çš„ widget æ¥å¸ƒå±€ï¼Œå› ä¸ºæˆ‘ä»¬çš„å›¾ç‰‡ã€æ ‡é¢˜ã€å°æ ‡é¢˜è¦çºµå‘æ’åˆ—ï¼ˆRowã€Columnç­‰ä¸€äº›å¸ƒå±€çš„ widget æˆ‘ä»¬ä¼šç»å¸¸ç”¨åˆ°ï¼‰</li><li>ç”¨äº† <span class="label info">Image.network</span> æ¥åŠ è½½ä¸€ä¸ªæ¥è‡ªç½‘ç»œçš„å›¾ç‰‡ï¼ˆImage.assetå¯ä»¥åŠ è½½æœ¬åœ°å›¾åƒï¼‰</li><li><span class="label info">Theme.of(context).textTheme.title</span> æ˜¯ç”¨ <span class="label info">Material Design</span> ä¸»é¢˜é‡Œçš„æ ‡é¢˜æ ·å¼</li></ol></div>  <p>æœ€åï¼Œä¸ºäº†å¯é˜…è¯»æ€§å’Œç»´æŠ¤æ€§è€ƒé‡ï¼Œæˆ‘ä»¬å†å¯ä»¥è°ƒæ•´ä¸€ä¸‹ä»£ç  <span class="label success">ListView.builder</span> æ–¹æ³•å•ç‹¬æç‚¼å‡ºæ¥ï¼š</p><figure class="highlight dart"><figcaption><span>Dart</span><a href="https://h.lishaoy.net/fristFlutter.html#å®Œå–„åˆ—è¡¨é¡¹ç›®">main.dart</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  Widget _listItemBuilder(BuildContext context, <span class="built_in">int</span> index) =&gt; Container(</span><br><span class="line">        margin: EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">        color: Colors.white,</span><br><span class="line">        child: Column(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Image.network(</span><br><span class="line">              posts[index].imageUrl,</span><br><span class="line">              fit: BoxFit.cover,</span><br><span class="line">            ),</span><br><span class="line">            SizedBox(</span><br><span class="line">              height: <span class="number">16.0</span>,</span><br><span class="line">            ),</span><br><span class="line">            Text(</span><br><span class="line">              posts[index].title,</span><br><span class="line">              style: Theme.of(context).textTheme.title,</span><br><span class="line">            ),</span><br><span class="line">            Text(</span><br><span class="line">              posts[index].author,</span><br><span class="line">              style: Theme.of(context).textTheme.subhead,</span><br><span class="line">            ),</span><br><span class="line">            SizedBox(</span><br><span class="line">              height: <span class="number">16.0</span>,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      backgroundColor: Colors.grey[<span class="number">100</span>],</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(</span><br><span class="line">          <span class="string">'lishaoy.net'</span>.toUpperCase(),</span><br><span class="line">          style: TextStyle(letterSpacing: <span class="number">3.0</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemCount: posts.length,</span><br><span class="line">        itemBuilder: _listItemBuilder,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œç¬¬ä¸€ä¸ªæ¼‚äº®çš„ç•Œé¢å·²ç»å®Œæˆï¼Œåé¢çš„æ–‡ç« æˆ‘ä»¬ä¸€èµ·æ¥å®Œæˆå…¶ä»–éƒ¨åˆ†ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/fristFlutter.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutterï¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å»ºæ¼‚äº®çš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ âœ¿ ç¯å¢ƒæ­å»º</title>
      <link>https://h.lishaoy.net/flutterInstall.html</link>
      <guid>https://h.lishaoy.net/flutterInstall.html</guid>
      <pubDate>Thu, 08 Nov 2018 02:22:29 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/flutterInstall/flutterCover8.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;ä¸Šç¯‡æ–‡ç« å¸¦å¤§å®¶è®¤è¯†äº† &lt;code&gt;Flutter&lt;/code&gt; ï¼Œæƒ³å¿…å¤§å®¶å·²è¿«ä¸åŠå¾…çš„æƒ³ç»ƒç»ƒæ‰‹ï¼Œæ‰€ä»¥è¦è¡ŒåŠ¨èµ·æ¥ï¼Œç°åœ¨è¿™ç¯‡æ–‡ç« å°±å¸¦æ‚¨æ­å»ºä¸€ä¸ª &lt;code&gt;Flutter&lt;/code&gt; è¿è¡ŒåŠå¼€å‘ç¯å¢ƒã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/flutterInstall/flutterCover8.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>ä¸Šç¯‡æ–‡ç« å¸¦å¤§å®¶è®¤è¯†äº† <code>Flutter</code> ï¼Œæƒ³å¿…å¤§å®¶å·²è¿«ä¸åŠå¾…çš„æƒ³ç»ƒç»ƒæ‰‹ï¼Œæ‰€ä»¥è¦è¡ŒåŠ¨èµ·æ¥ï¼Œç°åœ¨è¿™ç¯‡æ–‡ç« å°±å¸¦æ‚¨æ­å»ºä¸€ä¸ª <code>Flutter</code> è¿è¡ŒåŠå¼€å‘ç¯å¢ƒã€‚</p><hr><a id="more"></a><h2 id="å®‰è£…-Flutter-SDK"><a href="#å®‰è£…-Flutter-SDK" class="headerlink" title="å®‰è£… Flutter SDK"></a>å®‰è£… Flutter SDK</h2><p>æƒ³è¦åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡Œ <strong>Flutter</strong> ï¼Œéœ€è¦å®‰è£… <strong>Flutter SDK</strong> æ‰å¯ä»¥è¿è¡Œï¼Œ <strong>SDK</strong> é‡Œé¢æœ‰ä¸€äº›ç”¨äºåˆ›å»ºã€æ„å»ºã€æµ‹è¯•å’Œç¼–è¯‘åº”ç”¨ç¨‹åºçš„å‘½ä»¤è¡Œå·¥å…·ç­‰ï¼Œè¿™äº›åœ¨å¼€å‘çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ 2 ç§æ–¹æ³•è·å– <strong>SDK</strong></p><ul><li>å¯ä»¥åˆ° <a href="https://flutter.io/docs/development/tools/sdk/archive#macos" target="_blank" rel="noopener">ä¸‹è½½ Flutter SDK </a> åˆ°æœ¬åœ°ç”µè„‘</li><li>å¯ä»¥ç”¨ <code>git clone</code> å‘½ä»¤ä¸‹è½½åˆ°æœ¬åœ°ç”µè„‘</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/flutter/flutter.git</span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼ŒæŠŠä¸‹è½½ä¸‹æ¥çš„ <strong>Flutter SDK</strong> è§£å‹ï¼Œæ”¾åˆ°ç³»ç»Ÿçš„æŸä¸ªç›®å½•ï¼Œæ¯”å¦‚æˆ‘æ˜¯æ”¾åˆ°ï¼š <code>/Applications/flutter</code> ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutterSDK.png" alt="no-shadow" title="Flutter SDK"></p><h2 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h2><p>é…ç½®ç¯å¢ƒå˜é‡çš„ç›®çš„æ˜¯ä¸ºäº†è®© <strong>Flutter SDK</strong> å‘½ä»¤è¡Œå·¥å…·åœ¨å…¨å±€èŒƒå›´éƒ½èµ·ä½œç”¨ï¼Œä»¥ä¾¿å¼€å‘ä½¿ç”¨ã€‚</p><p>é¦–å…ˆï¼Œæ‚¨å¯ä»¥ç”¨ç¼–è¾‘å™¨æ‰“å¼€ä¸»ç›®å½•ä¸‹çš„ <code>.bash_profile</code>ï¼Œæˆ–è€…ç”¨ <code>vi</code> å‘½ä»¤ç¼–è¾‘ï¼Œæˆ‘ä¹ æƒ¯ç”¨ <code>vi</code> å‘½ä»¤ï¼Œå¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="variable">$HOME</span>/.bash_profile</span><br></pre></td></tr></table></figure><p>æ–°å¢ä»¥ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/Applications/flutter/bin</span><br><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure><div class="note warning"><p><i class="fa fa-fw fa-bell faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> <br>ç¬¬ä¸€è¡Œ <span class="label danger">export PATH=$PATH:/Applications/flutter/bin</span> ä¸­çš„ <span class="label danger">/Applications/flutter/bin</span> å°±æ˜¯åˆšæ‰ä¸‹è½½çš„ <strong>Flutter SDK</strong> è§£å‹åæ”¾åœ¨æœ¬åœ°ç”µè„‘çš„ç›®å½•ï¼Œæ‚¨è¦æ ¹æ®è‡ªå·±æ“ä½œæ›´æ”¹ä¸ºè‡ªå·±ç”µè„‘å¯¹åº”çš„ç›®å½•ã€‚<br>ç¬¬äºŒã€ä¸‰è¡Œä¸ºè§£å†³å›½å†…ä¸‹è½½æˆ–æ›´æ–°èµ„æºæ…¢çš„å›½å†…é•œåƒï¼Œé…ç½®è¿™ä¸ªä¸‹è½½æˆ–æ›´æ–°èµ„æºä¼šå¿«ä¸€äº›ã€‚</p></div>  <p>å†æ‰§è¡Œ <code>source $HOME/.bash_profile</code> å‘½ä»¤åˆ·æ–°å½“å‰å‘½ä»¤è¡Œçª—å£ï¼Œæˆ–è€…å…³æ‰å½“å‰å‘½ä»¤è¡Œçª—å£é‡æ–°æ‰“å¼€ï¼Œæ•ˆæœä¸€æ ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> <span class="variable">$HOME</span>/.bash_profile</span><br></pre></td></tr></table></figure><p>å†æ‰§è¡Œ <code>flutter --help</code>ï¼Œæ¥æµ‹è¯•ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterSDK3.png" alt="no-shadow" title="flutter help"></p><div class="note warning"><p><i class="fa fa-fw fa-bell  faa-horizontal animated faa-slow" style="color: #faab33;"></i> <strong>Tipsï¼š</strong> å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <span class="label danger">zsh</span>ï¼Œéœ€è¦åœ¨ ~/.zshrc æ–‡ä»¶ä¸­æ·»åŠ ï¼š<span class="label danger">source ~/.bash_profile</span> ï¼Œå¦åˆ™ <span class="label danger">flutter</span> å‘½ä»¤å°†æ— æ³•è¿è¡Œã€‚</p></div> <h2 id="é…ç½®-iOS-å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®-iOS-å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½® iOS å¼€å‘ç¯å¢ƒ"></a>é…ç½® iOS å¼€å‘ç¯å¢ƒ</h2><p>æƒ³ç”¨ <strong>Flutter</strong> ä¸º iOS å¹³å°å¼€å‘åº”ç”¨ï¼Œéœ€è¦å®‰è£… Xcodeï¼Œæˆ‘ä»¬å¯ä»¥å»è‹¹æœåº”ç”¨å•†åº—ä¸‹è½½ã€‚</p><p>å®‰è£…å¥½ Xcode åï¼Œä½ éœ€è¦æ‰“å¼€ä¸€æ¬¡ Xcode åŒæ„è®¸å¯åè®®ï¼ˆä¼šæç¤ºï¼‰ï¼Œæˆ–è€…æ‰§è¡Œ <code>sudo xcodebuild -license</code> åŒæ„è®¸å¯åè®®ã€‚</p><p>ç„¶åæ‰§è¡Œ <code>open -a Simulator</code> å‘½ä»¤ï¼Œå°±å¯ä»¥æ‰“å¼€ä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œæ¥è¿è¡Œå’Œæµ‹è¯• <strong>Flutter</strong> ç¨‹åºï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/Simulator2.png" alt="no-shadow" title="Simulator"></p><h2 id="é…ç½®-Android-å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®-Android-å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½® Android å¼€å‘ç¯å¢ƒ"></a>é…ç½® Android å¼€å‘ç¯å¢ƒ</h2><p>æƒ³ç”¨ <strong>Flutter</strong> ä¸º Android å¹³å°å¼€å‘åº”ç”¨ï¼Œéœ€è¦ä¸‹è½½å®‰è£… <a href="https://developer.android.com/studio/" target="_blank" rel="noopener">Android Studio</a>ã€‚</p><p>å®‰è£…å¥½ Android Studio åï¼Œå¯åŠ¨å®ƒï¼Œé¦–æ¬¡å¯åŠ¨ä¼šå®‰è£…æœ€æ–°çš„ <strong>Android SDK</strong> ï¼Œä½†æ˜¯ä½ å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio.png" alt="Android Studio" width="50%" title="Android Studio" align="center"></p><p>å¦‚æœé‡åˆ°è¿™ä¸ªé—®é¢˜åº”è¯¥å°±æ˜¯ç½‘ç»œé—®é¢˜ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œç‚¹ <strong>Setup Proxy</strong> æ¥è®¾ç½®ä»£ç†ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio1.png" alt="Android Studio" width="50%" title="Android Studio" align="center"></p><p>å¦‚ä¸€åˆ‡æ­£å¸¸ï¼Œå°±ä¼šæç¤ºä½ éœ€è¦ä¸‹è½½ä¸€äº›ä¸œè¥¿ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio2.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>ç‚¹å‡» Finish æŒ‰é’®åå°±ä¼šä¸‹è½½å®‰è£…ä»¥ä¸Šåˆ—è¡¨çš„ä¸œè¥¿,ä¸‹è½½å®‰è£…å®Œ SDK åï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio3.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>éœ€è¦æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆšæ‰å·²ç»é…ç½®å¥½çš„ <strong>Flutter SDK</strong> çš„å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ª Flutter é¡¹ç›®ï¼Œå¦‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/desktop</span><br><span class="line">flutter create new_flutter</span><br></pre></td></tr></table></figure><p>å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œåœ¨æ¡Œé¢å°±ä¼šç”Ÿæˆä¸€ä¸ª Flutter é¡¹ç›®ï¼Œå†ç”¨ Android Studio æ‰“å¼€ï¼Œé¡¹ç›®æ‰“å¼€åä¼šæç¤ºå®‰è£… Flutter æ’ä»¶å’Œä¾èµ– Dart è¯­è¨€æ’ä»¶ ï¼Œå®‰è£…å®Œä¹‹åæˆ‘ä»¬å¯ä»¥å»åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿå™¨ã€‚</p><p>æ‰“å¼€ <strong>Tools&gt;AVD Manager</strong> ï¼Œç‚¹å‡» <code>Create Virtual Device...</code> æ¥åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œé€‰æ‹©ä¸€ä¸ªè®¾å¤‡ï¼Œç‚¹å‡» Nextï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio4.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>ä¸ºæ¨¡æ‹Ÿå™¨é€‰æ‹©ä¸€ä¸ªç³»ç»Ÿé•œåƒï¼ˆæˆ‘é€‰æ‹©çš„æ˜¯ç¬¬ä¸€ä¸ªï¼‰ï¼Œç‚¹å‡» Download ï¼Œä¸‹è½½å®Œæˆåï¼Œç‚¹å‡» Next åï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio5.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><p>æœ€åï¼Œåœ¨æ¨¡æ‹Ÿæ€§èƒ½è¿™é‡Œé€‰æ‹© <strong>Hardware - GLES 2.0</strong> å¯åŠ¨ç¡¬ä»¶åŠ é€Ÿï¼Œç‚¹å‡» Finish å®Œæˆ</p><p><img src="https://cdn.lishaoy.net/flutterInstall/AndroidStudio6.png" alt="Android Studio" width="85%" title="Android Studio" align="center"></p><h2 id="é…ç½®ç¼–è¾‘å™¨"><a href="#é…ç½®ç¼–è¾‘å™¨" class="headerlink" title="é…ç½®ç¼–è¾‘å™¨"></a>é…ç½®ç¼–è¾‘å™¨</h2><p>å‰é¢æˆ‘ä»¬å·²ç»é…ç½®å¥½äº† <strong>Flutter SDK</strong> ã€<strong>iOS æ¨¡æ‹Ÿå™¨</strong> ã€<strong>Android æ¨¡æ‹Ÿå™¨</strong> ï¼Œæœ€åæˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€ä¸‹ç¼–è¾‘å™¨ï¼Œå½“ç„¶æ‚¨å¯ä»¥é€‰æ‹© <code>Android Studio</code> æˆ–è€… <code>VS Code</code>ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯è½»é‡çº§çš„ <code>VS Code</code>ã€‚</p><div class="note default"><p>å¦‚å¯¹ VS Code ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå¯å‚è€ƒæˆ‘ä¹‹å‰å†™çš„ <a href="https://h.lishaoy.net/VSCodeCodingSkills.html">VS Code ç¼–è¾‘æŠ€å·§</a> </p></div>  <p>æ‰“å¼€ç»ˆç«¯è¿›å…¥æˆ‘ä»¬åˆšæ‰æ–°å»ºçš„ Flutter é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> new_flutter</span><br></pre></td></tr></table></figure><p>å†ç”¨ VS Code æ‰“å¼€é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code ./</span><br></pre></td></tr></table></figure><p>æ‰“å¼€é¡¹ç›®ä¹‹å <kbd>âŒ˜</kbd> - <kbd>â‡§</kbd> - <kbd>X</kbd> ,æ‰“å¼€æ‰©å±•ï¼Œå®‰è£… <strong>Flutter</strong> æ’ä»¶ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_install.gif" alt="Android Studio" width="88%" title="Flutter install" align="center"></p><p>å®Œæˆä¹‹åï¼Œæ‰“å¼€é¡¹ç›®ç›®å½• <code>lib-&gt;main.dart</code> æ–‡ä»¶ï¼Œ VS Code ä¼šè‡ªåŠ¨æç¤ºä½ å®‰è£… Dart è¯­è¨€æ‰©å±•åŒ…ã€‚</p><h2 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h2><p>ç°åœ¨ï¼Œæ‰€æœ‰çš„å‡†å¤‡å·¥ä½œéƒ½å®Œæˆäº†ï¼Œå°±å¯ä»¥å¼€å‘ã€æµ‹è¯•æˆ–è¿è¡Œé¡¹ç›®äº†ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬ç”¨ <code>Flutter create</code> å‘½ä»¤åˆ›å»ºçš„ Flutter é¡¹ç›®ï¼Œè‡ªå¸¦ä¸€ä¸ªè®¡æ•°å™¨çš„å°åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œçœ‹çœ‹æ•ˆæœ</p><p>é¦–å…ˆï¼Œæ‚¨éœ€è¦æ‰§è¡Œ <code>flutter doctor</code> æ¥æ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒæ˜¯å¦æ­£å¸¸</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run.png" alt="no-shadow" title="Flutter run"></p><p>å¦‚ä¸Šå›¾ç¬¬äºŒé¡¹æç¤º <code>Android license status unknown.</code> æ„æ€æ˜¯ Android åè®®æ²¡å®‰è£…å¥½ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ¥è§£å†³é—®é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter doctor --android-licenses</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šå›¾ç¬¬ä¸‰é¡¹æ˜¯ iOS çœŸæœºçš„æ£€æŸ¥é¡¹ï¼Œå¯ä»¥æŒ‰ç…§æç¤ºæ“ä½œ<br>å¦‚ä¸Šå›¾ç¬¬å››é¡¹æ˜¯ Java çš„ç¼–è¾‘å™¨æ£€æŸ¥ï¼Œå¯ä¸ç”¨ç†ä¼šï¼Œå¦‚ä½ æ²¡æœ‰å®‰è£… IDEA ä¹Ÿä¸ä¼šæœ‰è¿™ä¸ªæç¤º</p><p>å…¶å®åœ¨æˆ‘å¦ä¸€å°ç”µè„‘ä¸Šå…¨éƒ¨éƒ½é…ç½®å¥½äº† ğŸ˜ ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run1.png" alt="no-shadow" title="Flutter run"></p><p>æœ€åï¼Œåœ¨ VS Code ç¼–è¾‘å™¨é‡ŒæŒ‰ <strong>F5</strong> åï¼Œä¼šè®©ä½ é€‰æ‹©æ¨¡æ‹Ÿå™¨æ¥è¿è¡Œ Flutter ç¨‹åºï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run1.gif" alt="Flutter run" width="88%" title="Flutter run" align="center"></p><p>è¿™ä¸ªæ˜¯åˆ†åˆ«åœ¨ iOS å’Œ Android è¿è¡Œ Flutter çš„æ•ˆæœï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/demo.png" alt="no-shadow" title="Flutter run"></p><h2 id="è¿è¡Œ-Flutter-æ¡ˆä¾‹"><a href="#è¿è¡Œ-Flutter-æ¡ˆä¾‹" class="headerlink" title="è¿è¡Œ Flutter æ¡ˆä¾‹"></a>è¿è¡Œ Flutter æ¡ˆä¾‹</h2><p>ç°åœ¨æ‰€æœ‰çš„éƒ½å‡†å¤‡å¥½äº†ï¼Œæ‚¨å¯ä»¥å»æˆ‘çš„ GitHub ä¸Šä¸‹è½½ä¸Šç¯‡æ–‡ç« ä¸­çš„æ¡ˆä¾‹ä»£ç ï¼Œä¹Ÿå¯ä»¥ <code>git clone</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$HOME</span>/Desktop <span class="comment">#è¿›åˆ°æ¡Œé¢</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/persilee/flutter_pro.git <span class="comment">#ä¸‹è½½æ¡ˆä¾‹</span></span><br><span class="line"><span class="built_in">cd</span> flutter_pro <span class="comment">#è¿›å…¥æ¡ˆä¾‹ç›®å½•</span></span><br><span class="line">flutter packages get <span class="comment">#è·å–ä¾èµ–åŒ…</span></span><br><span class="line">code ./ <span class="comment">#ç”¨ VS Code æ‰“å¼€</span></span><br></pre></td></tr></table></figure><p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œåœ¨ VS Code æŒ‰ F5 é€‰æ‹©æ¨¡æ‹Ÿå™¨ï¼ŒæŸ¥çœ‹è¿è¡Œæ•ˆæœï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/flutterInstall/flutter_run5.png" alt="no-shadow" title="Flutter Demo"></p><p>å¥½çš„ï¼Œå¤§åŠŸå‘Šæˆï¼Œè¿™ç¯‡åˆ°å¤„ä¸ºæ­¢ï¼Œä¸‹ç¯‡å°†æ‰‹æ‹‰æ‰‹å¸¦å¤§å®¶å®Œæˆä¸€ä¸ªå®æ“å°æ¡ˆä¾‹ ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/flutterInstall.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flutterï¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å»ºæ¼‚äº®çš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ âœ¿ åˆè¯†</title>
      <link>https://h.lishaoy.net/beautifulFlutter.html</link>
      <guid>https://h.lishaoy.net/beautifulFlutter.html</guid>
      <pubDate>Mon, 05 Nov 2018 02:41:09 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/beautifulFlutter/flutter_750x400.png&quot; class=&quot;full-image&quot; alt=&quot;Flutter&quot; title=&quot;Flutter&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æœ€è¿‘ï¼Œå­¦ä¹ äº†ä¸€äº› &lt;code&gt;Flutter&lt;/code&gt; ç›¸å…³çš„çŸ¥è¯†ï¼Œåšäº†å¦‚ä¸‹çš„å°ç§»åŠ¨åº”ç”¨ï¼Œå½“ç„¶æ˜¯ä¸€å¥—ä»£ç å³å¯åœ¨ &lt;code&gt;iOS&lt;/code&gt; å¹³å°è¿è¡Œ,ä¹Ÿå¯ä»¥åœ¨ &lt;code&gt;Android&lt;/code&gt; è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘å°†æ‰‹æ‹‰æ‰‹å¸¦æ‚¨å¿«é€Ÿæ„å»ºå‡ºæ¼‚äº®çš„ç§»åŠ¨åº”ç”¨ç•Œé¢ï¼ˆå¦‚ä¸‹ğŸ‘‡å°è§†é¢‘ï¼‰&lt;/p&gt;
&lt;video id=&quot;flutter&quot; class=&quot;video-js vjs-default-skin&quot; controls preload=&quot;auto&quot; poster=&quot;https://cdn.lishaoy.net/flutter_start/flutter5.1.png&quot; data-setup=&quot;{&#39;example_option&#39;:true}&quot;&gt;
    &lt;source src=&quot;https://cdn.lishaoy.net/flutter_start/flutter7.mp4&quot; type=&quot;video/mp4&quot;&gt;
&lt;/video&gt;

&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/beautifulFlutter/flutter_750x400.png" class="full-image" alt="Flutter" title="Flutter"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æœ€è¿‘ï¼Œå­¦ä¹ äº†ä¸€äº› <code>Flutter</code> ç›¸å…³çš„çŸ¥è¯†ï¼Œåšäº†å¦‚ä¸‹çš„å°ç§»åŠ¨åº”ç”¨ï¼Œå½“ç„¶æ˜¯ä¸€å¥—ä»£ç å³å¯åœ¨ <code>iOS</code> å¹³å°è¿è¡Œ,ä¹Ÿå¯ä»¥åœ¨ <code>Android</code> è¿è¡Œã€‚</p><p>ä¸‹é¢æˆ‘å°†æ‰‹æ‹‰æ‰‹å¸¦æ‚¨å¿«é€Ÿæ„å»ºå‡ºæ¼‚äº®çš„ç§»åŠ¨åº”ç”¨ç•Œé¢ï¼ˆå¦‚ä¸‹ğŸ‘‡å°è§†é¢‘ï¼‰</p><video id="flutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/flutter_start/flutter5.1.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/flutter_start/flutter7.mp4" type="video/mp4"></video><hr><a id="more"></a><h2 id="åˆè¯†-Flutter"><a href="#åˆè¯†-Flutter" class="headerlink" title="åˆè¯† Flutter"></a>åˆè¯† Flutter</h2><p><a href="https://flutterchina.club" target="_blank" rel="noopener">Flutter</a> æ˜¯è°·æ­Œçš„ç§»åŠ¨UIæ¡†æ¶ï¼Œå¯ä»¥å¿«é€Ÿåœ¨iOSå’ŒAndroidä¸Šæ„å»ºé«˜è´¨é‡çš„åŸç”Ÿç”¨æˆ·ç•Œé¢ã€‚</p><p>Google æ¨å‡º Flutter ç§»åŠ¨åº”ç”¨æ¡†æ¶å·²ç»æœ‰ä¸‰å¹´ï¼Œç›´åˆ°ä»Šå¹´çš„ Google I/O å¼€å‘å¤§ä¼šæ‰æ­£å¼ä»‹ç» <code>Flutter</code> ä¸”å‘å¸ƒ Beta ç‰ˆæœ¬, <a href="https://www.youtube.com/watch?v=w2TcYP8qiRI" target="_blank" rel="noopener">Flutter Google I/O è§†é¢‘</a> è¿™ä¸ªæ˜¯ <code>Flutter</code> åœ¨æ²¹ç®¡ï¼ˆYouTubeï¼‰çš„ Google I/O å¼€å‘è€…å¤§ä¼šçš„è§†é¢‘ï¼Œè¯·è‡ªè¡Œè§‚çœ‹ã€‚</p><p>å†æ¥çœ‹çœ‹æ›´åŠ ç”ŸåŠ¨çš„è§†é¢‘ä»‹ç»ï¼ŒåŠ é€Ÿæ‚¨çš„åˆè¯† <code>Flutter</code></p><video id="IntroducingFlutter" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/beautifulFlutter/IntroducingFlutter1.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/beautifulFlutter/IntroducingFlutter.mp4" type="video/mp4"></video><hr><p>Google çš„å¹¿å‘Šåº”ç”¨ Adwordsï¼Œé˜¿é‡Œçš„é—²é±¼ App éƒ½æ˜¯åŸºäº <code>Flutter</code> æ¡†æ¶å¼€å‘çš„ã€‚</p><p>ä»¥ä¸‹æ˜¯é˜¿é‡Œå·´å·´ç”¨ Flutter æ‰“é€ äº†5000å¤šä¸‡ç”¨æˆ·é—²é±¼ App (Flutter Developer Story) çš„æ•…äº‹è§†é¢‘</p><video id="FlutterDeveloperStory" class="video-js vjs-default-skin" controls preload="auto" poster="https://cdn.lishaoy.net/beautifulFlutter/FlutterDeveloperStory2.png" data-setup="{'example_option':true}">    <source src="https://cdn.lishaoy.net/beautifulFlutter/FlutterDeveloperStory.mp4" type="video/mp4"></video><hr><p><code>Flutter</code> ä½œä¸ºè°·æ­Œæ¨å‡ºçš„è·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œä¸€ç»æ¨å‡ºä¾¿å¸å¼•äº†ä¸å°‘æ³¨æ„,åœ¨ GitHub ä¸Šçš„ Star æ•°å·²è¶…è¿‡ <strong>4W+</strong> ã€‚</p><p><a href="https://www.bilibili.com/video/av27857568/" target="_blank" rel="noopener">CMTCå…¨çƒå¤§å‰ç«¯æŠ€æœ¯å¤§ä¼š ã„§ Flutterè§†é¢‘</a> è¿™æ˜¯ Googleä¸­å›½åœ¨ <strong>bilibili</strong> ä¸Šå‘å¸ƒçš„è§†é¢‘ï¼Œè¯·è‡ªè¡Œè§‚çœ‹ã€‚</p><h2 id="Flutter-ç‰¹æ€§"><a href="#Flutter-ç‰¹æ€§" class="headerlink" title="Flutter ç‰¹æ€§"></a>Flutter ç‰¹æ€§</h2><p>é€šè¿‡ä»¥ä¸Šçš„è§†é¢‘ï¼Œå¯¹äº <code>Flutter</code> å·²æœ‰æ‰€è®¤è¯†ï¼Œä¸‹é¢å†æ¥çœ‹çœ‹ <code>Flutter</code> çš„ä»¥ä¸‹ç‰¹æ€§</p><h3 id="çƒ­é‡è½½"><a href="#çƒ­é‡è½½" class="headerlink" title="çƒ­é‡è½½"></a>çƒ­é‡è½½</h3><p>å½“ä½ ä¿®æ”¹äº†ä»£ç  <kbd>âŒ˜</kbd> - <kbd>S</kbd> ï¼Œå¯ç«‹åˆ»çœ‹åˆ°æ•ˆæœï¼Œè€Œä¸”å¯ä»¥ä¿æŒç•Œé¢çŠ¶æ€ä¸å˜ï¼ˆå¦‚æ–‡æœ¬æ¡†è¾“å…¥çš„ä¿¡æ¯ä¸ä¼šæ”¹å˜ï¼‰ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/beautifulFlutter/HotReload1.gif" alt="no-shadow" title="Hot reload"></p><h3 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h3><p><code>Flutter</code> è‡ªå¸¦ Google æ¨è¡Œçš„è®¾è®¡ç³»ç»Ÿï¼š<a href="https://www.material.io" target="_blank" rel="noopener">Material Design</a> ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„ <strong>Material Design</strong> é£æ ¼çš„ç»„ä»¶ï¼ˆæ¯”å¦‚ï¼šæŒ‰é’®ã€è¾“å…¥æ¡†ã€å¯¹è¯æ¡†ã€å¯¼èˆªæ ã€è¾¹æ ç­‰ï¼‰ï¼Œè€Œä¸”ä¹Ÿæä¾›äº†ä¸°å¯Œçš„ <strong>iOSï¼ˆCupertinoï¼‰</strong> é£æ ¼çš„ç»„ä»¶ï¼Œåˆ©ç”¨è¿™äº›é£æ ¼çš„ç»„ä»¶èƒ½å¤Ÿå¿«é€Ÿçš„æ„å»ºåº”ç”¨ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/beautifulFlutter/Material.jpg" alt="no-shadow" title="Material Design"></p><h3 id="widget"><a href="#widget" class="headerlink" title="widget"></a>widget</h3><p><strong>widget</strong> æ˜¯ <code>Flutter</code> åº”ç”¨ç¨‹åºåŸºæœ¬æ„å»ºå—, <code>Flutter</code> æ—¢ä¸ä½¿ç”¨ WebViewï¼Œä¹Ÿä¸ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„åŸç”Ÿæ§ä»¶ï¼Œç›¸å <code>Flutter</code> ä½¿ç”¨è‡ªå·±çš„é«˜æ€§èƒ½æ¸²æŸ“å¼•æ“æ¥ç»˜åˆ¶<strong>widget</strong> ï¼Œ <code>Flutter</code> çš„ä¸­å¿ƒæ€æƒ³æ˜¯ç”¨ <strong>widget</strong> æ„å»ºä½ çš„ UIï¼ˆ<strong>ä¸€åˆ‡çš†ä¸º widget</strong>ï¼‰ ï¼Œå¦‚å›¾æ˜¯å®˜ç½‘ç»™å‡ºçš„æ¡†æ¶å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/beautifulFlutter/widget.png" alt="no-shadow" title="widget"></p><p>åœ¨è¿™ä¸ªæ¶æ„é‡Œï¼Œä½ å¯ä»¥å®ç° <code>Flutter</code> æä¾›çš„æ‰€æœ‰ç°æˆçš„ <strong>widget</strong> ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±å®šåˆ¶çš„ <strong>widget</strong> ï¼Œæ¯ä¸ª <strong>widget</strong> éƒ½æ˜¯å…¬å¼€çš„ï¼Œä½ å¯ä»¥ä»é«˜å±‚æ¬¡ä¸”ç»Ÿä¸€çš„ <strong>widget</strong> ä¸­è·å¾—å¼€å‘æ•ˆç‡ä¼˜åŠ¿ï¼Œè¿™ä¸ªè®¾è®¡çš„ç›®æ ‡æ˜¯ä¸ºäº†ç”¨æ›´å°‘çš„ä»£ç åšæ›´å¤šçš„äº‹æƒ…ã€‚</p><h3 id="è¯­è¨€"><a href="#è¯­è¨€" class="headerlink" title="è¯­è¨€"></a>è¯­è¨€</h3><p><code>Flutter</code> ä½¿ç”¨ Cã€C ++ã€Dart å’Œ Skiaï¼ˆ2Dæ¸²æŸ“å¼•æ“ï¼‰æŠ€æœ¯æ„å»ºï¼Œå¦‚ä¸Šå›¾ï¼Œåº•å±‚ï¼ˆengineï¼‰æ˜¯ç”¨ C ++ ï¼Œæ¡†æ¶æ˜¯ç”¨ Dart ï¼Œå½“ç„¶æˆ‘ä»¬å¼€å‘ä½¿ç”¨çš„ä¹Ÿæ˜¯ Dartã€‚</p><p>Dart æ˜¯ Google å‘å¸ƒçš„ä¸€ç§é«˜æ•ˆã€ç®€æ´ã€æ‹¥æœ‰å®Œæ•´ç±»å‹ç³»ç»Ÿçš„ <code>ç»“æ„åŒ–çš„Webç¼–ç¨‹</code> è¯­è¨€ï¼Œ <code>Flutter</code> å®˜æ–¹ç»™å‡ºä¸ºä»€ä¹ˆé€‰æ‹© Dart ä½œä¸ºå¼€å‘è¯­è¨€çš„åŸå› ï¼Œå¦‚ä¸‹</p><ul><li>å¼€å‘äººå‘˜çš„æ•ˆç‡</li><li>é¢å‘å¯¹è±¡</li><li>å¯é¢„æµ‹ï¼Œé«˜æ€§èƒ½</li><li>å¿«é€Ÿå†…å­˜åˆ†é…</li></ul><p>å¯¹äºå¼€å‘è€…ï¼ˆè¯­è¨€ä½¿ç”¨è€…ï¼‰æ¥è¯´ï¼Œä¸å¿…å¤ªæ‹…å¿ƒï¼ŒDart å’Œ Java ã€ JavaScript æ¯”è¾ƒç±»ä¼¼ï¼Œæœ‰ä¸€äº›ç¨‹åºè¯­è¨€åŸºç¡€ï¼Œä¾¿å¯æ‹¿æ¥å³ç”¨ï¼ˆä¸æ¸…æ¥šçš„çœ‹çœ‹è¯­æ³•ã€å…³é”®å­—ã€ç±»å‹å³å¯ï¼‰ã€‚</p><p>ç°åœ¨æƒ³å¿…æ‚¨å¯¹ <code>Flutter</code> å·²ç»æœ‰äº†ä¸€å®šçš„è®¤è¯†ï¼Œåœ¨ä¹‹åçš„ç¯‡å¹…äº†ä¼šæ‰‹æ‹‰æ‰‹å¸¦ä½ æé€Ÿæ„å¦‚æ–‡å¤´å°è§†é¢‘çš„å°åº”ç”¨ã€‚</p><p><img class="hidden" src="https://cdn.lishaoy.net/beautifulFlutter/flutter_750x400.png" alt="VS Code" width="100%" title="VS Code" align="center"></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/beautifulFlutter.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>VS Codeï¼šè®©ä½ å·¥ä½œæ•ˆç‡ç¿»å€çš„23ä¸ªæ’ä»¶å’Œ23ä¸ªç¼–è¾‘æŠ€å·§</title>
      <link>https://h.lishaoy.net/VSCodeCodingSkills.html</link>
      <guid>https://h.lishaoy.net/VSCodeCodingSkills.html</guid>
      <pubDate>Sat, 13 Oct 2018 07:39:44 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code.jpg&quot; class=&quot;full-image&quot; alt=&quot;VS Code&quot; title=&quot;VS Code&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;æ€»ç»“äº†ä¸€äº›å¹³æ—¶å¸¸ç”¨ä¸”å¥½ç”¨çš„ &lt;strong&gt;VS Code&lt;/strong&gt; çš„æ’ä»¶å’Œç¼–è¾‘æŠ€å·§åˆ†äº«å‡ºæ¥ã€‚&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code.jpg" class="full-image" alt="VS Code" title="VS Code"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>æ€»ç»“äº†ä¸€äº›å¹³æ—¶å¸¸ç”¨ä¸”å¥½ç”¨çš„ <strong>VS Code</strong> çš„æ’ä»¶å’Œç¼–è¾‘æŠ€å·§åˆ†äº«å‡ºæ¥ã€‚</p><a id="more"></a><h2 id="å¤–è§‚"><a href="#å¤–è§‚" class="headerlink" title="å¤–è§‚"></a>å¤–è§‚</h2><h3 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h3><p>è¿™é‡Œæˆ‘åˆ†äº«ä¸¤æ¬¾ä¸»é¢˜ï¼š</p><ol><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=Equinusocio.vsc-material-theme" target="_blank" rel="noopener">Material Theme</a></strong></li></ol><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_theme1.jpg" alt="no-shadow" title="Material Theme"></p><ol start="2"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=dustinsanders.an-old-hope-theme-vscode" target="_blank" rel="noopener">An Old Hope Theme</a></strong></li></ol><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_theme2.jpg" alt="no-shadow" title="An Old Hope Theme"></p><h3 id="å›¾æ ‡"><a href="#å›¾æ ‡" class="headerlink" title="å›¾æ ‡"></a>å›¾æ ‡</h3><ol start="3"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme" target="_blank" rel="noopener">Material Icon Theme</a></strong>å½“ç„¶ï¼Œè¿™ä¸¤æ¬¾ä¸»é¢˜çš„æ–‡ä»¶ç®¡ç†å™¨ï¼ˆå·¦ä¾§ï¼‰çš„ icon å°å›¾æ ‡ä½¿ç”¨çš„æ˜¯ Material Icon Theme</li></ol><h3 id="å­—ä½“åŠå…¶ä»–"><a href="#å­—ä½“åŠå…¶ä»–" class="headerlink" title="å­—ä½“åŠå…¶ä»–"></a>å­—ä½“åŠå…¶ä»–</h3><p>å…¶ä»–å’Œå¤–è§‚ç›¸å…³çš„è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"editor.multiCursorModifier"</span>: <span class="string">"ctrlCmd"</span>,</span><br><span class="line">    <span class="attr">"editor.formatOnPaste"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workbench.activityBar.visible"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workbench.iconTheme"</span>: <span class="string">"eq-material-theme-icons-darker"</span>,</span><br><span class="line">    <span class="attr">"workbench.colorCustomizations"</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">"materialTheme.cache.workbench.settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"themeColours"</span>: <span class="string">"Darker"</span>,</span><br><span class="line">        <span class="attr">"accentPrevious"</span>: <span class="string">"Acid Lime"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"workbench.colorTheme"</span>: <span class="string">"Material Theme Darker"</span>,</span><br><span class="line">    <span class="attr">"material-icon-theme.angular.iconsEnabled"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"material-icon-theme.folders.icons"</span>: <span class="string">"specific"</span>,</span><br><span class="line">    <span class="attr">"editor.lineHeight"</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">"editor.fontLigatures"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"editor.fontFamily"</span>: <span class="string">"FiraCode-Medium"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹åˆ«æ³¨æ„çš„æ˜¯ <code>&quot;editor.lineHeight&quot;: 24,</code> å’Œ <code>&quot;editor.fontFamily&quot;: &quot;FiraCode-Medium&quot;</code> ã€‚</p><p><code>&quot;editor.lineHeight&quot;: 24,</code> ï¼š è®¾ç½®ä»£ç çš„è¡Œé—´è·ï¼Œè¿™é‡Œæ¯”é»˜è®¤çš„ç¨å¤§äº›ï¼Œå°±è¿™ä¸€ç‚¹å°å°çš„æ”¹å˜ï¼Œè®©ä»£ç çœ‹èµ·æ¥æ¸…çˆ½æ•´æ´ã€‚</p><p><code>&quot;editor.fontFamily&quot;: &quot;FiraCode-Medium&quot;</code> ï¼š è®¾ç½®å­—ä½“ï¼Œè¿™ç§å­—ä½“ä¼šè®©ä»£ç çœ‹èµ·æ¥æ›´å½¢è±¡ç”ŸåŠ¨ï¼Œå¦‚ä¸‹</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_code3.png" alt="FiraCode-Mediumå­—ä½“" width="100%" title="FiraCode-Mediumå­—ä½“" align="center"></p><p>çº¢è‰²ç«–çº¿å·¦è¾¹æ˜¯ä½¿ç”¨äº† <strong>FiraCode-Medium</strong> å­—ä½“çš„æ•ˆæœï¼Œçº¢è‰²ç«–çº¿å³è¾¹æ˜¯æ²¡æœ‰ä½¿ç”¨ <strong>FiraCode-Medium</strong> å­—ä½“çš„æ•ˆæœ</p><p>å…³äº <strong>FiraCode-Medium</strong> å­—ä½“æ›´å¤šæ•ˆæœå¯æŸ¥é˜… <a href="https://github.com/tonsky/FiraCode" target="_blank" rel="noopener">https://github.com/tonsky/FiraCode</a> åœ°å€ã€‚</p><h2 id="ä»£ç ç®¡ç†"><a href="#ä»£ç ç®¡ç†" class="headerlink" title="ä»£ç ç®¡ç†"></a>ä»£ç ç®¡ç†</h2><h3 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h3><ol start="4"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=HookyQR.beautify" target="_blank" rel="noopener">Beautify</a></strong> ï¼šæ ¼å¼åŒ–çš„æ—¶å€™ï¼Œç»™å‡ºæ ¼å¼åŒ–æ–‡æœ¬é€‰é¡¹ï¼Œå¦‚ä¸‹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_Beatify.gif" alt="Beautify" width="100%" title="Beautify" align="center"></p><ol start="5"><li><strong><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" target="_blank" rel="noopener">Prettier</a></strong> ï¼šä¸ªäººæ¯”è¾ƒå–œæ¬¢è¿™ä¸ªï¼Œçœ‹èµ·æ¥ä»£ç æ›´æ¸…æ™°ï¼Œå¦‚ä¸‹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_Prettier.gif" alt="Prettier" width="100%" title="Prettier" align="center"></p><div class="note info"><p>å½“ç„¶ï¼Œå¤§å®¶å¯ä»¥è‡ªå®šä¹‰å¿«æ·é”®ï¼Œä¹Ÿå¯ä»¥æŒ‰ <kbd>âŒ˜</kbd> - <kbd>â‡§</kbd> - <kbd>P</kbd>  æ¥æœç´¢ç›¸å…³å‘½ä»¤ </p></div>  <h3 id="ä»£ç æ£€æŸ¥"><a href="#ä»£ç æ£€æŸ¥" class="headerlink" title="ä»£ç æ£€æŸ¥"></a>ä»£ç æ£€æŸ¥</h3><ol start="6"><li><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener">ESLint</a> ï¼šæ£€æŸ¥ <code>js</code> è¯­æ³•è§„èŒƒï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„è§„èŒƒï¼Œå¦‚ <a href="https://www.npmjs.com/package/eslint-config-airbnb" target="_blank" rel="noopener">airbnb</a> ã€<a href="https://github.com/standard/eslint-config-standard" target="_blank" rel="noopener">standard</a> ã€<a href="https://github.com/google/eslint-config-google" target="_blank" rel="noopener">google</a>ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=eg2.tslint" target="_blank" rel="noopener">TSLint</a> ï¼šæ£€æŸ¥ <code>typescript</code> è¯­æ³•è§„èŒƒã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=shinnn.stylelint" target="_blank" rel="noopener">Stylelint</a> ï¼šæ£€æŸ¥ <code>CSS/SCSS/Less</code> è¯­æ³•è§„èŒƒã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint" target="_blank" rel="noopener">Markdownlint</a> ï¼šæ£€æŸ¥ <code>markdown</code> è¯­æ³•è§„èŒƒã€‚</li></ol><h3 id="è‡ªåŠ¨è¡¥å…¨"><a href="#è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨"></a>è‡ªåŠ¨è¡¥å…¨</h3><p>ä»¥ä¸‹æ’ä»¶ç‚¹å‡»é“¾æ¥å¯ä»¥æŸ¥çœ‹gifåŠ¨å›¾ï¼Œè¯¦ç»†äº†è§£å…·ä½“åŠŸèƒ½ã€‚</p><ol start="10"><li><a href="https://emmet.io" target="_blank" rel="noopener">Emmet</a> ï¼šå¤§å®¶åº”è¯¥å¾ˆç†Ÿæ‚‰è¿™ä¸ªæ’ä»¶äº†ï¼ˆå¾ˆå¥½ç”¨ï¼‰ï¼ŒVS Code å·²ç»å†…ç½®äº†ï¼Œå¾ˆåˆ°ä½ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag" target="_blank" rel="noopener">Auto Close Tag</a> ï¼šè‡ªåŠ¨é—­åˆ <code>html</code> ç­‰æ ‡ç­¾ ï¼ˆ&lt;/â€¦&gt;ï¼‰ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag" target="_blank" rel="noopener">Auto Rename Tag</a> ï¼šä¿®æ”¹ <code>html</code> æ ‡ç­¾æ—¶ï¼Œè‡ªåŠ¨ä¿®æ”¹é—­åˆæ ‡ç­¾ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense" target="_blank" rel="noopener">Path Intellisense</a> ï¼šè‡ªåŠ¨æç¤ºè¡¥å…¨è·¯å¾„ã€‚</li></ol><h3 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h3><ol start="14"><li><strong>snippets</strong> ï¼šæ­å»ºå¯ä»¥è‡ªå·±å®‰è£…å„ç§ä»£ç ç‰‡æ®µï¼ˆvueã€reactã€angularç­‰ï¼‰ï¼Œè¿™é‡Œå°±ä¸åˆ—ä¸¾ã€‚</li></ol><h2 id="åŠŸèƒ½æ‰©å±•"><a href="#åŠŸèƒ½æ‰©å±•" class="headerlink" title="åŠŸèƒ½æ‰©å±•"></a>åŠŸèƒ½æ‰©å±•</h2><p>ä»¥ä¸‹çš„åŠŸèƒ½æ‰©å±•æ’ä»¶å¤§éƒ¨åˆ†éƒ½æœ‰gifåŠ¨å›¾ï¼Œå¯ç‚¹å‡»é“¾æ¥äº†è§£è¯¦ç»†åŠŸèƒ½</p><ol start="15"><li><a href="https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer" target="_blank" rel="noopener">Bracket Pair Colorizer</a> ï¼šè®©ä»£ç çš„å„ç§æ‹¬å·å‘ˆç°ä¸åŒçš„é¢œè‰²ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner" target="_blank" rel="noopener">Code Runner</a> ï¼šå¯ä»¥åœ¨ç¼–è¾‘å™¨é‡Œç›´æ¥è¿è¡Œä»£ç ï¼ŒæŸ¥çœ‹ç»“æœã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=anseki.vscode-color" target="_blank" rel="noopener">Color Picker</a> ï¼šå¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨é‡Œæ‰“å¼€è‰²æ¿ï¼Œé€‰æ‹©å„ç§æ¨¡å¼çš„é¢œè‰²ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=joelday.docthis" target="_blank" rel="noopener">Document This</a> ï¼šå¯ä»¥ç»™å‡½æ•°ã€ç±»ç­‰è‡ªåŠ¨çš„åŠ ä¸Šè¯¦ç»†çš„æ³¨é‡Šã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory" target="_blank" rel="noopener">Git History</a> ï¼šæ–¹ä¾¿çš„æŸ¥çœ‹gitç‰ˆæœ¬ç®¡ç†çš„è¯¦ç»†ä¿¡æ¯ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer" target="_blank" rel="noopener">Live Server</a> ï¼šå¯ä»¥ä¸€é”®åœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync" target="_blank" rel="noopener">Settings Sync</a> ï¼šé‡ç‚¹ä»‹ç»ä¸‹è¿™ä¸ªæ’ä»¶ï¼Œå¦‚æœä½ æœ‰ä¸¤å°ç”µè„‘ï¼ˆæ¯”å¦‚ï¼Œå®¶é‡Œå’Œå…¬å¸ï¼‰éƒ½ä½¿ç”¨ VS Code ï¼Œå¯æ˜¯åœ¨å…¬å¸æˆ–å®¶é‡Œå¯¹ VS Code å®‰è£…äº†æ’ä»¶æˆ–è€…ä¿®æ”¹äº†é…ç½®ï¼Œå›åˆ°å®¶æˆ–å…¬å¸åˆè¦é‡æ–°å¼„ä¸€æ¬¡ï¼Œè¿™ä¸ªæ’ä»¶å°±èƒ½è§£å†³é—®é¢˜ï¼ŒåŒæ­¥å¤šå°ç”µè„‘è®¾ç½®ã€‚</li></ol><p>åªéœ€è¦æŠŠé…ç½®ä¸Šä¼ åˆ°GitHubï¼Œåœ¨å¦ä¸€ä¸ªåœ°æ–¹ä¸‹è½½é…ç½®å³å¯ï¼Œå¦‚ä¸‹</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_Sync.gif" alt="Settings Sync" width="100%" title="Settings Sync" align="center"></p><ol start="22"><li><a href="https://marketplace.visualstudio.com/items?itemName=rubbersheep.gi" target="_blank" rel="noopener">gi</a> ï¼šå¯ä»¥ç»™ <code>.gitignore</code> æ–‡ä»¶æ·»åŠ å„ç§è¯­è¨€å¿½ç•¥æ–‡ä»¶é…ç½®ã€‚</li><li><a href="https://marketplace.visualstudio.com/items?itemName=pnp.polacode" target="_blank" rel="noopener">Polacode</a> ï¼šå¯ä»¥æŠŠä»£ç ç”Ÿæˆå›¾ç‰‡ï¼ˆæœ‰äº›åœ°æ–¹å‘ä»£ç ç»“æ„ä¼šä¹±ä¹Ÿæ²¡æœ‰ä»£ç é«˜äº®ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”Ÿæˆå›¾ç‰‡å†å‘ï¼‰ã€‚</li></ol><h2 id="ç¼–è¾‘æŠ€å·§"><a href="#ç¼–è¾‘æŠ€å·§" class="headerlink" title="ç¼–è¾‘æŠ€å·§"></a>ç¼–è¾‘æŠ€å·§</h2><h3 id="å…‰æ ‡"><a href="#å…‰æ ‡" class="headerlink" title="å…‰æ ‡"></a>å…‰æ ‡</h3><ol><li>æŠŠå…‰æ ‡ç§»åˆ°æ–‡ä»¶çš„é¦–éƒ¨æˆ–å°¾éƒ¨</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_1.gif" alt="âŒ˜ - â†‘ æˆ– âŒ˜ - â†“" width="100%" title="âŒ˜ - â†‘ æˆ– âŒ˜ - â†“" align="center"></p><ol start="2"><li>æŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¡Œçš„é¦–éƒ¨æˆ–è€…å°¾éƒ¨</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_2.gif" alt="âŒ˜ - â† æˆ– âŒ˜ - â†’" width="100%" title="âŒ˜ - â† æˆ– âŒ˜ - â†’" align="center"></p><ol start="3"><li>æŒ‰å•è¯ç§»åŠ¨</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_3.gif" alt="âŒ¥ - â† æˆ– âŒ¥ - â†’" width="100%" title="âŒ¥ - â† æˆ– âŒ¥ - â†’" align="center"></p><ol start="4"><li>æŒ‰å•è¯å¤§å°å†™åˆ†è§£ç§»åŠ¨å…‰æ ‡</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_4.gif" alt="âŒ¥ - âŒƒ - â† æˆ– âŒ¥ - âŒƒ - â†’" width="100%" title="âŒ¥ - âŒƒ - â† æˆ– âŒ¥ - âŒƒ - â†’" align="center"></p><h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><ol start="5"><li>é€‰æ‹©è¡Œä»¥ä¸Šæˆ–ä»¥ä¸‹å…¨éƒ¨å†…å®¹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_5.gif" alt="â‡§ - âŒ˜ - â†‘ æˆ– â‡§ - âŒ˜ - â†“" width="100%" title="â‡§ - âŒ˜ - â†‘ æˆ– â‡§ - âŒ˜ - â†“" align="center"></p><ol start="6"><li>é€‰æ‹©åˆ°è¡Œé¦–æˆ–è¡Œå°¾çš„å†…å®¹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_6.gif" alt="â‡§ - âŒ˜ - â† æˆ– â‡§ - âŒ˜ - â†’" width="100%" title="â‡§ - âŒ˜ - â† æˆ– â‡§ - âŒ˜ - â†’" align="center"></p><ol start="7"><li>æŒ‰å­—æ¯æˆ–å•è¯é€‰æ‹©</li></ol><ul><li><kbd>â‡§</kbd> - <kbd>â†</kbd> ã€ <kbd>â‡§</kbd> - <kbd>â†’</kbd> æŒ‰å­—æ¯é€‰æ‹©   </li><li><kbd>â‡§</kbd> - <kbd>âŒ¥</kbd> - <kbd>â†</kbd> ã€ <kbd>â‡§</kbd> - <kbd>âŒ¥</kbd> - <kbd>â†’</kbd> æŒ‰å•è¯é€‰æ‹©</li></ul><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_7.gif" alt="â‡§ - â† ã€ â‡§ - â†’ æˆ– â‡§ - âŒ¥ - â† ã€ â‡§ - âŒ¥ - â†’" width="100%" title="â‡§ - â† ã€ â‡§ - â†’ æˆ– â‡§ - âŒ¥ - â† ã€â‡§ - âŒ¥ - â†’" align="center"></p><ol start="8"><li>ä¼¸ç¼©é€‰æ‹©</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_8.gif" alt="â‡§ - âŒƒ - âŒ˜ - â† æˆ– â‡§ - âŒƒ - âŒ˜ - â†’" width="100%" title="â‡§ - âŒƒ - âŒ˜ - â† æˆ– â‡§ - âŒƒ - âŒ˜ - â†’" align="center"></p><ol start="9"><li>é€‰æ‹©åŒ¹é…å•è¯</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_9.gif" alt="âŒ˜ - D æˆ– âŒ˜ - U" width="100%" title="âŒ˜ - D æˆ– âŒ˜ - U" align="center"></p><h3 id="è¡Œ"><a href="#è¡Œ" class="headerlink" title="è¡Œ"></a>è¡Œ</h3><ol start="10"><li>å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_10.gif" alt="âŒ¥ - â†‘ æˆ– âŒ¥ - â†“" width="100%" title="âŒ¥ - â†‘ æˆ– âŒ¥ - â†“" align="center"></p><ol start="11"><li>å¤åˆ¶æˆ–åˆ é™¤è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_11.gif" alt="âŒ¥ - â‡§ - â†“ æˆ– âŒ˜ - â‡§ - K" width="100%" title="âŒ¥ - â‡§ - â†“ æˆ– âŒ˜ - â‡§ - K" align="center"></p><ol start="12"><li>å¤šè¡Œåˆå¹¶æˆä¸€è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_12.gif" alt="âŒ˜ - J" width="100%" title="âŒ˜ - J" align="center"></p><ol start="13"><li>ç¼©è¿›æˆ–ä¼¸ç¼©è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_13.gif" alt="âŒ˜ - [ æˆ– âŒ˜ - ]" width="100%" title="âŒ˜ - [ æˆ– âŒ˜ - ]" align="center"></p><ol start="14"><li>åœ¨å½“å‰è¡Œä¹‹ä¸Šæˆ–ä¸‹æ’å…¥è¡Œ</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_14.gif" alt="âŒ˜ - â†© æˆ– âŒ˜ - â‡§ - â†©" width="100%" title="âŒ˜ - â†© æˆ– âŒ˜ - â‡§ - â†©" align="center"></p><h3 id="å¤šè¡Œ"><a href="#å¤šè¡Œ" class="headerlink" title="å¤šè¡Œ"></a>å¤šè¡Œ</h3><ol start="15"><li>é¼ æ ‡ç‚¹å‡»ï¼Œå¤šè¡Œç¼–è¾‘</li></ol><p>æŒ‰ <kbd>âŒ˜</kbd> é€‰æ‹©ç¼–è¾‘ç‚¹ï¼ŒæŒ‰ <kbd>â‹</kbd> é€€å‡ºå¤šè¡Œç¼–è¾‘</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_15.gif" alt="âŒ˜" width="100%" title="âŒ˜" align="center"></p><ol start="16"><li>ä½¿ç”¨å¿«æ·é”®å¤šè¡Œç¼–è¾‘</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_16.gif" alt="âŒ˜ - âŒ¥ - â†“ æˆ– âŒ˜ - âŒ¥ - â†‘" width="100%" title="âŒ˜ - âŒ¥ - â†“ æˆ– âŒ˜ - âŒ¥ - â†‘" align="center"></p><ol start="17"><li>åœ¨æ‰€é€‰æ‹©çš„è¡Œçš„ç»“å°¾æ’å…¥ç¼–è¾‘ç‚¹</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_17.gif" alt="â‡§ - âŒ¥ - I" width="100%" title="â‡§ - âŒ¥ - I" align="center"></p><ol start="18"><li>é€‰æ‹©æ ä½</li></ol><p>æŒ‰ <kbd>â‡§</kbd> - <kbd>âŒ˜</kbd> å†é€‰æ‹©æ ä½</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_18.gif" alt="â‡§ - âŒ˜" width="100%" title="â‡§ - âŒ˜" align="center"></p><h3 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h3><ol start="19"><li>æŸ¥çœ‹ç±»æˆ–æ–¹æ³•çš„å®šä¹‰</li></ol><ul><li>æŒ‰ <kbd>âŒ¥</kbd> ç‚¹å‡»ï¼Œå¯ä»¥åœ¨æ–°é¡µé¢æŸ¥çœ‹</li><li>æŒ‰ <kbd>â‡§</kbd> - <kbd>âŒ¥</kbd> - <kbd>âŒ˜</kbd> ç‚¹å‡»ï¼Œå¯ä»¥åœ¨æ–°ç»„æŸ¥çœ‹</li><li>æŒ‰ <kbd>â‡§</kbd> - <kbd>F12</kbd> ç‚¹å‡»ï¼Œå¯ä»¥åœ¨å½“å‰é¡µé¢æŸ¥çœ‹</li></ul><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_19.gif" alt="æŸ¥çœ‹å®šä¹‰" width="100%" title="æŸ¥çœ‹å®šä¹‰" align="center"></p><ol start="20"><li>æŠ˜å ä»£ç </li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_20.gif" alt="âŒ¥ - âŒ˜ - ] æˆ– âŒ¥ - âŒ˜ - [" width="100%" title="âŒ¥ - âŒ˜ - ] æˆ– âŒ¥ - âŒ˜ - [" align="center"></p><ol start="21"><li>å»æ‰é€‰æ‹©è¡Œçš„å°¾éƒ¨ç©ºæ ¼</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_21.gif" alt="âŒ˜ - K ã€ âŒ˜ - X" width="100%" title="âŒ˜ - K ã€ âŒ˜ - X" align="center"></p><ol start="22"><li>å®šä½åˆ°æŒ‡å®šè¡Œå·</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_22.gif" alt="âŒƒ - G" width="100%" title="âŒƒ - G" align="center"></p><ol start="23"><li>åœ¨æ–‡ä»¶é‡ŒæŸ¥æ‰¾ç±»æˆ–æ–¹æ³•</li></ol><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_23.gif" alt="@" width="100%" title="@" align="center"></p><p>æœ€åï¼Œå¦‚æœè®°ä¸ä½è¿™äº›å¿«æ·é”®ï¼Œå¯ä»¥æŒ‰ <kbd>âŒ˜</kbd> - <kbd>K</kbd> ã€ <kbd>âŒ˜</kbd> - <kbd>S</kbd> æœç´¢å¯¹åº”å¿«æ·é”®ç»‘å®š</p><p><img src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code_24.gif" alt="æœç´¢å¿«æ·é”®" width="100%" title="æœç´¢å¿«æ·é”®" align="center"></p><p><img class="hidden" src="https://cdn.lishaoy.net/VSCodeCodingSkills/vs-code.jpg" alt="VS Code" width="100%" title="VS Code" align="center"></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/VSCodeCodingSkills.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç™¾åº¦ç»Ÿè®¡</title>
      <link>https://h.lishaoy.net/baidustatistics.html</link>
      <guid>https://h.lishaoy.net/baidustatistics.html</guid>
      <pubDate>Tue, 29 May 2018 19:48:15 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;/images/loading.gif&quot; data-original=&quot;https://cdn.lishaoy.net/baidustatistics/lishaoy.net.990x699.jpg&quot; class=&quot;full-image&quot; alt=&quot;lishaoy.net&quot; title=&quot;lishaoy.net&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å‰å¤©ï¼Œå¼„äº†ä¸ªç™¾åº¦ç»Ÿè®¡ï¼Œçœ‹çœ‹æ•°æ®è¿˜æŒºæœ‰æ„æ€ã€‚ã€‚ã€‚&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/loading.gif" data-original="https://cdn.lishaoy.net/baidustatistics/lishaoy.net.990x699.jpg" class="full-image" alt="lishaoy.net" title="lishaoy.net"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å‰å¤©ï¼Œå¼„äº†ä¸ªç™¾åº¦ç»Ÿè®¡ï¼Œçœ‹çœ‹æ•°æ®è¿˜æŒºæœ‰æ„æ€ã€‚ã€‚ã€‚</p><a id="more"></a><p><strong>ç«™ç‚¹</strong> æ¥å…¥ <strong>ç™¾åº¦ç»Ÿè®¡</strong> ï¼Œè¿˜æ˜¯æŒºç®€å•çš„ï¼š</p><ul><li>é¦–å…ˆï¼Œå» <a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="noopener">ç™¾åº¦ç»Ÿè®¡</a> æ³¨å†Œè´¦å·ï¼Œæ ¹æ®æç¤ºç»‘å®šè‡ªå·±ç«™ç‚¹åŸŸå</li><li>ä¹‹åï¼ŒæŠŠæä¾›çš„ <code>js</code> ä»£ç æ”¾åˆ°è‡ªå·±ç«™ç‚¹</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç™¾åº¦ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">var</span> _hmt = _hmt || [];</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">  hm.src = <span class="string">"https://hm.baidu.com/hm.js?5fd52c901f2213883f51a476eab3914b"</span>;</span><br><span class="line">  <span class="keyword">var</span> l = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>).length;</span><br><span class="line">  <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[l - <span class="number">1</span>];</span><br><span class="line">  s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>è¿™äº›è®¾ç½®å¥½ä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°ç»Ÿè®¡æ•°æ®äº†ï¼Œæ¥çœ‹çœ‹ ğŸ‘€ <em>2018-05-29</em> å½“å¤©çš„ç»Ÿè®¡æ•°æ®æƒ…å†µå¦‚ä½•</p><h4 id="ä»Šæ—¥æµé‡"><a href="#ä»Šæ—¥æµé‡" class="headerlink" title="ä»Šæ—¥æµé‡"></a>ä»Šæ—¥æµé‡</h4><p>çºµè½´åˆ†åˆ«æ˜¯ <em>ä»Šæ—¥ã€æ˜¨æ—¥ã€é¢„è®¡ä»Šæ—¥</em> ï¼Œæ¨ªè½´åˆ†åˆ«æ˜¯ <em>PVã€UVã€IPã€è·³å‡ºç‡ã€å¹³å‡è®¿é—®æ—¶é•¿</em> ç­‰ ï¼ˆé¢„è®¡ä»Šæ—¥çš„æ•°æ®ï¼Œä¸æ˜¯å¾ˆé è°±ï¼‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/1.png" alt="ä»Šæ—¥æµé‡" width="100%" title="ä»Šæ—¥æµé‡" align="center"></p><h4 id="æ¥æºç½‘ç«™"><a href="#æ¥æºç½‘ç«™" class="headerlink" title="æ¥æºç½‘ç«™"></a>æ¥æºç½‘ç«™</h4><p>ä¼šåˆ—å‡ºè®¿å®¢ä»å“ªå„¿æ¥åˆ°ä½ çš„<strong>ç«™ç‚¹</strong>ï¼Œä»¥åŠä¼šç»Ÿè®¡è®¿é—®æ—¶é•¿ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/2.png" alt="æ¥æºç½‘ç«™" width="100%" title="æ¥æºç½‘ç«™" align="center"></p><h4 id="å—æ¬¢è¿é¡µé¢"><a href="#å—æ¬¢è¿é¡µé¢" class="headerlink" title="å—æ¬¢è¿é¡µé¢"></a>å—æ¬¢è¿é¡µé¢</h4><p>ä¼šç»Ÿè®¡æ¯ä¸ªé¡µé¢çš„ <em>æµè§ˆé‡ã€é€€å‡ºæ¬¡æ•°ã€å¹³å‡åœç•™æ—¶é—´</em> ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/3.png" alt="å—æ¬¢è¿é¡µé¢" width="100%" title="å—æ¬¢è¿é¡µé¢" align="center"></p><h4 id="æ–°è€è®¿å®¢"><a href="#æ–°è€è®¿å®¢" class="headerlink" title="æ–°è€è®¿å®¢"></a>æ–°è€è®¿å®¢</h4><p>ä¼šç»Ÿè®¡æ–°è€è®¿å®¢ <em>æµè§ˆé‡ã€å¹³å‡è®¿é—®æ—¶é•¿ã€å¹³å‡è®¿é—®é¡µæ•°</em> ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/4.png" alt="æ–°è€è®¿å®¢" width="100%" title="æ–°è€è®¿å®¢" align="center"></p><h4 id="åœ°åŸŸåˆ†å¸ƒ"><a href="#åœ°åŸŸåˆ†å¸ƒ" class="headerlink" title="åœ°åŸŸåˆ†å¸ƒ"></a>åœ°åŸŸåˆ†å¸ƒ</h4><p>ä¼šç»Ÿè®¡è®¿å®¢æ¥è‡ªå“ªä¸ª <em>å›½å®¶ã€çœä»½ã€åŸå¸‚ã€ç½‘ç»œè¿è¥å•†</em> ç­‰</p><p><img src="https://cdn.lishaoy.net/baidustatistics/5.png" alt="åœ°åŸŸåˆ†å¸ƒ" width="100%" title="åœ°åŸŸåˆ†å¸ƒ" align="center"></p><p>è¿™é‡Œæˆ‘åªå±•ç¤ºéƒ¨åˆ†ç»Ÿè®¡åŠŸèƒ½ï¼Œå¦‚æƒ³äº†è§£å…¶å®ƒæ›´å¤šåŠŸèƒ½ï¼Œå¯å» <a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="noopener">ç™¾åº¦ç»Ÿè®¡</a> ç½‘ç«™æŸ¥çœ‹ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/baidustatistics.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</title>
      <link>https://h.lishaoy.net/webOptimize.html</link>
      <guid>https://h.lishaoy.net/webOptimize.html</guid>
      <pubDate>Thu, 10 May 2018 04:55:59 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/webOptimize/Optimize.png&quot; class=&quot;full-image&quot; alt=&quot;web optimize&quot; title=&quot;web optimize&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å…³äº &lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; æ˜¯ä¸ªå¤§çš„é¢ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ¶‰åŠåˆ° &lt;strong&gt;å‰ç«¯&lt;/strong&gt; çš„å‡ ä¸ªç‚¹ï¼Œå¦‚ &lt;strong&gt;å‰ç«¯æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; çš„æµç¨‹ã€å¸¸è§æŠ€æœ¯æ‰‹æ®µã€å·¥å…·ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æåŠ &lt;strong&gt;å‰ç«¯æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt; ï¼Œå¤§å®¶åº”è¯¥éƒ½ä¼šæƒ³åˆ° &lt;strong&gt;é›…è™å†›è§„&lt;/strong&gt;ï¼Œæœ¬æ–‡ä¼šç»“åˆ &lt;strong&gt;é›…è™å†›è§„&lt;/strong&gt; èå…¥è‡ªå·±çš„äº†è§£çŸ¥è¯†ï¼Œè¿›è¡Œçš„æ€»ç»“å’Œæ¢³ç† ğŸ˜œ&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/webOptimize/Optimize.png" class="full-image" alt="web optimize" title="web optimize"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å…³äº <strong>æ€§èƒ½ä¼˜åŒ–</strong> æ˜¯ä¸ªå¤§çš„é¢ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ¶‰åŠåˆ° <strong>å‰ç«¯</strong> çš„å‡ ä¸ªç‚¹ï¼Œå¦‚ <strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong> çš„æµç¨‹ã€å¸¸è§æŠ€æœ¯æ‰‹æ®µã€å·¥å…·ç­‰ã€‚</p><p>æåŠ <strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong> ï¼Œå¤§å®¶åº”è¯¥éƒ½ä¼šæƒ³åˆ° <strong>é›…è™å†›è§„</strong>ï¼Œæœ¬æ–‡ä¼šç»“åˆ <strong>é›…è™å†›è§„</strong> èå…¥è‡ªå·±çš„äº†è§£çŸ¥è¯†ï¼Œè¿›è¡Œçš„æ€»ç»“å’Œæ¢³ç† ğŸ˜œ</p><a id="more"></a><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ ğŸ‘€ <strong>é›…è™å†›è§„</strong> çš„ <strong>35</strong> æ¡ã€‚</p><div class="note info"><ol><li>å°½é‡å‡å°‘ HTTP è¯·æ±‚ä¸ªæ•°â€”â€”é¡»æƒè¡¡</li><li>ä½¿ç”¨ <strong>CDN</strong>ï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰</li><li>ä¸ºæ–‡ä»¶å¤´æŒ‡å®š Expires æˆ– Cache-Control ï¼Œä½¿å†…å®¹å…·æœ‰ç¼“å­˜æ€§ã€‚</li><li>é¿å…ç©ºçš„ src å’Œ href</li><li>ä½¿ç”¨ gzip å‹ç¼©å†…å®¹</li><li>æŠŠ CSS æ”¾åˆ°é¡¶éƒ¨</li><li>æŠŠ JS æ”¾åˆ°åº•éƒ¨</li><li>é¿å…ä½¿ç”¨ CSS è¡¨è¾¾å¼</li><li>å°† CSS å’Œ JS æ”¾åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­</li><li>å‡å°‘ DNS æŸ¥æ‰¾æ¬¡æ•°</li><li>ç²¾ç®€ CSS å’Œ JS</li><li>é¿å…è·³è½¬</li><li>å‰”é™¤é‡å¤çš„ JS å’Œ CSS</li><li>é…ç½® ETags</li><li>ä½¿ AJAX å¯ç¼“å­˜</li><li>å°½æ—©åˆ·æ–°è¾“å‡ºç¼“å†²</li><li>ä½¿ç”¨ GET æ¥å®Œæˆ AJAX è¯·æ±‚</li><li>å»¶è¿ŸåŠ è½½</li><li>é¢„åŠ è½½</li><li>å‡å°‘ DOM å…ƒç´ ä¸ªæ•°</li><li>æ ¹æ®åŸŸååˆ’åˆ†é¡µé¢å†…å®¹</li><li>å°½é‡å‡å°‘ iframe çš„ä¸ªæ•°</li><li>é¿å… 404</li><li>å‡å°‘ Cookie çš„å¤§å°</li><li>ä½¿ç”¨æ—  cookie çš„åŸŸ</li><li>å‡å°‘ DOM è®¿é—®</li><li>å¼€å‘æ™ºèƒ½äº‹ä»¶å¤„ç†ç¨‹åº</li><li>ç”¨ <link> ä»£æ›¿ @import</li><li>é¿å…ä½¿ç”¨æ»¤é•œ</li><li>ä¼˜åŒ–å›¾åƒ</li><li>ä¼˜åŒ– CSS Spirite</li><li>ä¸è¦åœ¨ HTML ä¸­ç¼©æ”¾å›¾åƒâ€”â€”é¡»æƒè¡¡</li><li>favicon.icoè¦å°è€Œä¸”å¯ç¼“å­˜</li><li>ä¿æŒå•ä¸ªå†…å®¹å°äº25K</li><li>æ‰“åŒ…ç»„ä»¶æˆå¤åˆæ–‡æœ¬</li></ol></div>  <p>å¦‚å¯¹ <strong>é›…è™å†›è§„</strong> çš„å…·ä½“ç»†åˆ™å†…å®¹ä¸æ˜¯å¾ˆäº†è§£ï¼Œå¯è‡ªè¡Œå»å„æœç´¢ ğŸ” å¼•æ“ ï¼Œæœç´¢ <strong>é›…è™å†›è§„</strong> äº†è§£è¯¦æƒ…ã€‚</p><h2 id="å‹ç¼©-åˆå¹¶"><a href="#å‹ç¼©-åˆå¹¶" class="headerlink" title="å‹ç¼© åˆå¹¶"></a>å‹ç¼© åˆå¹¶</h2><p>å¯¹äº <strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong> è‡ªç„¶è¦å…³æ³¨ <strong>é¦–å±</strong> æ‰“å¼€é€Ÿåº¦ï¼Œè€Œè¿™ä¸ªé€Ÿåº¦ï¼Œå¾ˆå¤§å› ç´ æ˜¯èŠ±è´¹åœ¨ç½‘ç»œè¯·æ±‚ä¸Šï¼Œé‚£ä¹ˆæ€ä¹ˆå‡å°‘ç½‘ç»œè¯·æ±‚çš„æ—¶é—´å‘¢ï¼Ÿ</p><ul><li>å‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•° </li><li>å‡å°æ–‡ä»¶ä½“ç§¯</li><li>ä½¿ç”¨ <code>CDN</code> åŠ é€Ÿ</li></ul><p>æ‰€ä»¥ <strong>å‹ç¼©ã€åˆå¹¶</strong> å°±æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå½“ç„¶å¯ä»¥ç”¨ <code>gulp</code> ã€ <code>webpack</code> ã€ <code>grunt</code> ç­‰æ„å»ºå·¥å…· <strong>å‹ç¼©ã€åˆå¹¶</strong></p><h3 id="JSã€CSS-å‹ç¼©-åˆå¹¶"><a href="#JSã€CSS-å‹ç¼©-åˆå¹¶" class="headerlink" title="JSã€CSS å‹ç¼© åˆå¹¶"></a><code>JSã€CSS</code> å‹ç¼© åˆå¹¶</h3><p>ä¾‹å¦‚ï¼š<code>gulp jsã€css</code> å‹ç¼©ã€åˆå¹¶ä»£ç å¦‚ä¸‹ ğŸ‘‡</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#JSã€CSS-å‹ç¼©-åˆå¹¶" target="_blank" rel="noopener">gulpfile.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‹ç¼©ã€åˆå¹¶js</span></span><br><span class="line">gulp.task(<span class="string">'scripts'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([</span><br><span class="line">        <span class="string">'./public/lib/fastclick/lib/fastclick.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/jquery_lazyload/jquery.lazyload.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/velocity/velocity.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/velocity/velocity.ui.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/lib/fancybox/source/jquery.fancybox.pack.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/utils.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/motion.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/scrollspy.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/post-details.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/bootstrap.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/push.js'</span>,</span><br><span class="line">        <span class="string">'./public/live2dw/js/perTips.js'</span>,</span><br><span class="line">        <span class="string">'./public/live2dw/lib/L2Dwidget.min.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/love.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/busuanzi.pure.mini.js'</span>,</span><br><span class="line">        <span class="string">'./public/js/src/activate-power-mode.js'</span></span><br><span class="line">    ]).pipe(concat(<span class="string">'all.js'</span>)).pipe(minify()).pipe(gulp.dest(<span class="string">'./public/dist/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼©ã€åˆå¹¶ CSS </span></span><br><span class="line">gulp.task(<span class="string">'css'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([</span><br><span class="line">        <span class="string">'./public/lib/font-awesome/css/font-awesome.min.css'</span>,</span><br><span class="line">        <span class="string">'./public/lib/fancybox/source/jquery.fancybox.css'</span>,</span><br><span class="line">        <span class="string">'./public/css/main.css'</span>,</span><br><span class="line">        <span class="string">'./public/css/lib.css'</span>,</span><br><span class="line">        <span class="string">'./public/live2dw/css/perTips.css'</span></span><br><span class="line">    ]).pipe(concat(<span class="string">'all.css'</span>)).pipe(minify()).pipe(gulp.dest(<span class="string">'./public/dist/'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå†æŠŠ <strong>å‹ç¼©ã€åˆå¹¶</strong> çš„ <code>JSã€CSS</code> æ”¾å…¥ <code>CDN</code> , ğŸ‘€ çœ‹çœ‹æ•ˆæœå¦‚ä½•</p><p>å¦‚å›¾ï¼š<em> <strong>å‹ç¼©ã€åˆå¹¶</strong> ä¸”æ”¾å…¥ <code>CND</code> ä¹‹åçš„æ•ˆæœ </em></p><p><img src="https://cdn.lishaoy.net/webOptimize/concatJs.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦(js)" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦(js)" align="center"></p><p><img src="https://cdn.lishaoy.net/webOptimize/concatCss.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦(css)" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦(css)" align="center"></p><p>ä»¥ä¸Šæ˜¯ <a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a> æ¸…é™¤ç¼“å­˜åçš„ <strong>é¦–é¡µ</strong> è¯·æ±‚é€Ÿåº¦ã€‚</p><p>å¯è§ï¼Œè¯·æ±‚æ—¶é—´æ˜¯ <strong>4.59 s</strong> ï¼Œæ€»è¯·æ±‚ä¸ªæ•° <strong>51</strong> ï¼Œ è€Œ <code>js</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>8</strong> ï¼Œ<code>css</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>3</strong> <em>ï¼ˆå…¶å®å°± all.css ä¸€ä¸ªï¼Œå…¶å®ƒ 2 ä¸ªæ˜¯ Googleæµè§ˆå™¨åŠ è½½çš„ï¼‰</em>ï¼Œ è€Œæ²¡ä½¿ç”¨ <strong>å‹ç¼©ã€åˆå¹¶</strong> æ—¶å€™ï¼Œè¯·æ±‚æ—¶é—´æ˜¯ <strong>10</strong> å¤šç§’ï¼Œæ€»è¯·æ±‚ä¸ªæ•°æœ‰ <strong>70</strong> å¤šä¸ªï¼Œ<code>js</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>20</strong> å¤šä¸ª ï¼Œå¯¹æ¯”è¯·æ±‚æ—¶é—´ <strong>æ€§èƒ½</strong> æå‡ <strong>1å€</strong> å¤š</p><p>å¦‚å›¾ï¼š<em>æœ‰ç¼“å­˜ä¸‹çš„é¦–é¡µæ•ˆæœ</em></p><p><img src="https://cdn.lishaoy.net/webOptimize/concatJs2.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆç¼“å­˜ï¼‰" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆç¼“å­˜ï¼‰" align="center"></p><p>åŸºæœ¬éƒ½æ˜¯ç§’å¼€ ğŸ˜</p><div class="note warning"><p><em>Tipsï¼šåœ¨ <strong>å‹ç¼©ã€åˆå¹¶</strong> åï¼Œå•ä¸ªæ–‡ä»¶æ§åˆ¶åœ¨ 25 ~ 30 KBå·¦å³ï¼ŒåŒä¸€ä¸ªåŸŸä¸‹ï¼Œæœ€å¥½ä¸è¦å¤šäº5ä¸ªèµ„æº</em></p></div> <h3 id="å›¾ç‰‡å‹ç¼©ã€åˆå¹¶"><a href="#å›¾ç‰‡å‹ç¼©ã€åˆå¹¶" class="headerlink" title="å›¾ç‰‡å‹ç¼©ã€åˆå¹¶"></a>å›¾ç‰‡å‹ç¼©ã€åˆå¹¶</h3><p>ä¾‹å¦‚ï¼š<code>gulp</code> å›¾ç‰‡å‹ç¼©ä»£ç å¦‚ä¸‹ ğŸ‘‡</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#å›¾ç‰‡å‹ç¼©ã€åˆå¹¶" target="_blank" rel="noopener">gulpfile.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‹ç¼©image</span></span><br><span class="line">gulp.task(<span class="string">'imagemin'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'./public/**/*.&#123;png,jpg,gif,ico,jpeg&#125;'</span>)</span><br><span class="line">        .pipe(imagemin())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡çš„åˆå¹¶å¯ä»¥é‡‡ç”¨ <code>CSS Spirite</code>ï¼Œæ–¹æ³•å°±æ˜¯æŠŠä¸€äº›å°å›¾ç”¨ <code>PS</code> åˆæˆä¸€å¼ å›¾ï¼Œç”¨ <code>css</code> å®šä½æ˜¾ç¤ºæ¯å¼ å›¾ç‰‡çš„ä½ç½®</p><figure class="highlight css"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.top_right</span> <span class="selector-class">.phone</span> &#123;</span><br><span class="line">Â Â Â Â <span class="attribute">background</span>: <span class="built_in">url</span>(../images/top_right.png) no-repeat <span class="number">7px</span> -<span class="number">17px</span>;</span><br><span class="line">Â Â Â Â <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">38px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-class">.help</span> &#123;</span><br><span class="line">Â Â Â Â <span class="attribute">background</span>: <span class="built_in">url</span>(../images/top_right.png) no-repeat <span class="number">0</span> -<span class="number">47px</span>;</span><br><span class="line">Â Â Â Â <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">38px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼ŒæŠŠ <strong>å‹ç¼©</strong> çš„å›¾ç‰‡æ”¾å…¥ <code>CDN</code> , ğŸ‘€ çœ‹çœ‹ï¼Œæ•ˆæœå¦‚ä½•</p><p><img src="https://cdn.lishaoy.net/webOptimize/minImages.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimagesï¼‰" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimagesï¼‰" align="center"></p><p>å¯è§ï¼Œè¯·æ±‚æ—¶é—´æ˜¯ <strong>1.70 s</strong> ,æ€»è¯·æ±‚ä¸ªæ•° <strong>50</strong> ï¼Œ è€Œ <code>img</code> çš„è¯·æ±‚ä¸ªæ•°æ˜¯ <strong>15</strong> <em>ï¼ˆè¿™é‡Œå› ä¸ºé¦–é¡µéƒ½æ˜¯å¤§å›¾ï¼Œå°±æ²¡æœ‰åˆå¹¶ï¼Œåªæ˜¯å‹ç¼©äº†ï¼‰</em> ï¼Œä½†æ˜¯ï¼Œæ•ˆæœå¾ˆå¥½ ğŸ˜€ ï¼Œä» <strong>4.59 s</strong> ç¼©çŸ­åˆ° <strong>1.70 s</strong>, æ€§èƒ½åˆæå‡ä¸€å€ã€‚</p><p>å†çœ‹çœ‹æœ‰ç¼“å­˜æƒ…å†µå¦‚ä½• ğŸ˜</p><p><img src="https://cdn.lishaoy.net/webOptimize/minImages1.png" alt="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimages ç¼“å­˜ï¼‰" width="100%" title="é¦–é¡µè¯·æ±‚é€Ÿåº¦ï¼ˆimages ç¼“å­˜ï¼‰" align="center"></p><p>è¯·æ±‚æ—¶é—´æ˜¯ <strong>1.05 s</strong> ï¼Œæœ‰ç¼“å­˜å’Œæ— ç¼“å­˜åŸºæœ¬å·®ä¸å¤š</p><div class="note warning"><p><em>Tipsï¼šå¤§çš„å›¾ç‰‡åœ¨ä¸åŒç»ˆç«¯ï¼Œåº”è¯¥ä½¿ç”¨ä¸åŒåˆ†è¾¨ç‡ï¼Œè€Œä¸åº”è¯¥ä½¿ç”¨ç¼©æ”¾ï¼ˆç™¾åˆ†æ¯”ï¼‰</em></p></div> <p>æ•´ä¸ª <strong>å‹ç¼©ã€åˆå¹¶</strong> <em>ï¼ˆjsã€cssã€imgï¼‰</em> å†æ”¾å…¥ <code>CDN</code> ï¼Œè¯·æ±‚æ—¶é—´ä» <strong>10</strong> å¤šç§’ ï¼Œåˆ°æœ€åçš„ <strong>1.70 s</strong> ï¼Œæ€§èƒ½æå‡ <strong>5</strong> å€å¤šï¼Œå¯è§ï¼Œè¿™ä¸ªæ“ä½œå¿…è¦æ€§ã€‚</p><hr><h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p>ç¼“å­˜ä¼šæ ¹æ®è¯·æ±‚ä¿å­˜è¾“å‡ºå†…å®¹çš„å‰¯æœ¬ï¼Œä¾‹å¦‚ <strong>é¡µé¢ã€å›¾ç‰‡ã€æ–‡ä»¶</strong>ï¼Œå½“ä¸‹ä¸€ä¸ªè¯·æ±‚æ¥åˆ°çš„æ—¶å€™:å¦‚æœæ˜¯ç›¸åŒçš„<code>URL</code>ï¼Œç¼“å­˜ç›´æ¥ä½¿ ç”¨æœ¬åœ°çš„å‰¯æœ¬å“åº”è®¿é—®è¯·æ±‚ï¼Œè€Œä¸æ˜¯å‘æºæœåŠ¡å™¨å†æ¬¡å‘é€è¯·æ±‚ã€‚å› æ­¤ï¼Œå¯ä»¥ä»ä»¥ä¸‹ <strong>2</strong> ä¸ªæ–¹é¢æå‡æ€§èƒ½ã€‚</p><ul><li>å‡å°‘ç›¸åº”å»¶è¿Ÿï¼Œæå‡å“åº”æ—¶é—´</li><li>å‡å°‘ç½‘ç»œå¸¦å®½æ¶ˆè€—ï¼ŒèŠ‚çœæµé‡</li></ul><p>æˆ‘ä»¬ç”¨ä¸¤å¹…å›¾æ¥äº†è§£ä¸‹æµè§ˆå™¨çš„ <strong>ç¼“å­˜æœºåˆ¶</strong></p><p><strong>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚</strong></p><p><img src="https://cdn.lishaoy.net/webOptimize/webCache3.png" alt="no-shadow" title="ç¬¬ä¸€æ¬¡è¯·æ±‚"></p><p><strong>æµè§ˆå™¨å†æ¬¡è¯·æ±‚</strong></p><p><img src="https://cdn.lishaoy.net/webOptimize/webCache4.png" alt="no-shadow" title="å†æ¬¡è¯·æ±‚"></p><p>ä»ä»¥ä¸Šä¸¤å¹…å›¾ä¸­ï¼Œå¯ä»¥æ¸…æ¥šçš„äº†è§£æµè§ˆå™¨ <strong>ç¼“å­˜</strong> çš„è¿‡ç¨‹ã€‚é¦–æ¬¡è®¿é—®ä¸€ä¸ª <code>URL</code> ï¼Œæ²¡æœ‰ <strong>ç¼“å­˜</strong> ï¼Œä½†æ˜¯ï¼ŒæœåŠ¡å™¨ä¼šå“åº”ä¸€äº› <code>header</code> ä¿¡æ¯ï¼Œå¦‚ï¼š<code>expiresã€cache-controlã€last-modifiedã€etag</code> ç­‰ï¼Œæ¥è®°å½•ä¸‹æ¬¡è¯·æ±‚æ˜¯å¦ç¼“å­˜ã€å¦‚ä½•ç¼“å­˜ã€‚å†æ¬¡è®¿é—®è¿™ä¸ª <code>URL</code> æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®é¦–æ¬¡è®¿é—®è¿”å›çš„ <code>header</code> ä¿¡æ¯ï¼Œæ¥å†³ç­–æ˜¯å¦ç¼“å­˜ã€å¦‚ä½•ç¼“å­˜ã€‚æˆ‘ä»¬é‡ç‚¹æ¥åˆ†æä¸‹ç¬¬äºŒå¹…å›¾ï¼Œå…¶å®æ˜¯åˆ†ä¸¤æ¡çº¿è·¯ï¼Œå¦‚ä¸‹ ğŸ‘‡</p><ul><li><strong>ç¬¬ä¸€æ¡çº¿è·¯ï¼š</strong> å½“æµè§ˆå™¨å†æ¬¡è®¿é—®æŸä¸ª <code>URL</code> æ—¶ï¼Œä¼šå…ˆè·å–èµ„æºçš„ <code>header</code> ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ <em>ï¼ˆcache-controlå’Œexpiresï¼‰</em> ï¼Œå¦‚å‘½ä¸­ï¼Œç›´æ¥ä»ç¼“å­˜è·å–èµ„æºï¼ŒåŒ…æ‹¬å“åº”çš„ <code>header</code> ä¿¡æ¯ <em>ï¼ˆè¯·æ±‚ä¸ä¼šå’ŒæœåŠ¡å™¨é€šä¿¡ï¼‰</em> ï¼Œä¹Ÿå°±æ˜¯ <strong>å¼ºç¼“å­˜</strong> ï¼Œå¦‚å›¾</li></ul><p><img src="https://cdn.lishaoy.net/webOptimize/webCache2.png" alt="å¼ºç¼“å­˜" width="100%" title="å¼ºç¼“å­˜" align="center"></p><ul><li><strong>ç¬¬äºŒæ¡çº¿è·¯ï¼š</strong> å¦‚æ²¡æœ‰å‘½ä¸­ <strong>å¼ºç¼“å­˜</strong> ï¼Œæµè§ˆå™¨ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚ä¼šæºå¸¦ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„æœ‰å…³ç¼“å­˜çš„ <code>header</code> ä¿¡æ¯ <em>ï¼ˆLast-Modified/If-Modified-Sinceå’ŒEtag/If-None-Matchï¼‰</em> ï¼Œç”±æœåŠ¡å™¨æ ¹æ®è¯·æ±‚ä¸­çš„ç›¸å…³ <code>header</code> ä¿¡æ¯æ¥æ¯”å¯¹ç»“æœæ˜¯å¦åå•†ç¼“å­˜å‘½ä¸­ï¼›è‹¥å‘½ä¸­ï¼Œåˆ™æœåŠ¡å™¨è¿”å›æ–°çš„å“åº” <code>header</code> ä¿¡æ¯æ›´æ–°ç¼“å­˜ä¸­çš„å¯¹åº” <code>header</code> ä¿¡æ¯ï¼Œä½†æ˜¯å¹¶ä¸è¿”å›èµ„æºå†…å®¹ï¼Œå®ƒä¼šå‘ŠçŸ¥æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»ç¼“å­˜è·å–ï¼›å¦åˆ™è¿”å›æœ€æ–°çš„èµ„æºå†…å®¹ï¼Œä¹Ÿå°±æ˜¯ <strong>åå•†ç¼“å­˜</strong>ã€‚</li></ul><p>ç°åœ¨ï¼Œæˆ‘ä»¬äº†è§£åˆ°æµè§ˆå™¨ç¼“å­˜æœºåˆ¶åˆ†ä¸º <strong>å¼ºç¼“å­˜ã€åå•†ç¼“å­˜</strong>ï¼Œå†æ¥çœ‹çœ‹ä»–ä»¬çš„åŒºåˆ« ğŸ‘‡</p><table><thead><tr><th style="text-align:center">ç¼“å­˜ç­–ç•¥</th><th style="text-align:center">è·å–èµ„æºå½¢å¼</th><th style="text-align:center">çŠ¶æ€ç </th><th style="text-align:center">å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨</th></tr></thead><tbody><tr><td style="text-align:center">å¼ºç¼“å­˜</td><td style="text-align:center">ä»ç¼“å­˜å–</td><td style="text-align:center">200ï¼ˆfrom memory cacheï¼‰</td><td style="text-align:center">å¦ï¼Œç›´æ¥ä»ç¼“å­˜å–</td></tr><tr><td style="text-align:center">åå•†ç¼“å­˜</td><td style="text-align:center">ä»ç¼“å­˜å–</td><td style="text-align:center">304ï¼ˆnot modifiedï¼‰</td><td style="text-align:center">æ˜¯ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥å‘ŠçŸ¥ç¼“å­˜æ˜¯å¦å¯ç”¨</td></tr></tbody></table><h3 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h3><p>ä¸å¼ºç¼“å­˜ç›¸å…³çš„ <code>header</code> å­—æ®µæœ‰ä¸¤ä¸ªï¼š</p><h4 id="expires"><a href="#expires" class="headerlink" title="expires"></a>expires</h4><p><strong>expiresï¼š</strong> è¿™æ˜¯ <code>http1.0</code> æ—¶çš„è§„èŒƒï¼Œå®ƒçš„å€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´çš„ <strong>GMT</strong> æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œå¦‚ <code>Mon, 10 Jun 2015 21:31:12 GMT</code> ï¼Œå¦‚æœå‘é€è¯·æ±‚çš„æ—¶é—´åœ¨ <strong>expires</strong> ä¹‹å‰ï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å§‹ç»ˆæœ‰æ•ˆï¼Œå¦åˆ™å°±ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨æ¥è·å–èµ„æº</p><h4 id="cache-control"><a href="#cache-control" class="headerlink" title="cache-control"></a>cache-control</h4><p><strong>cache-control:</strong> <code>max-age=number</code> ï¼Œè¿™æ˜¯ <code>http1.1</code> æ—¶å‡ºç°çš„ <code>header</code> ä¿¡æ¯ï¼Œä¸»è¦æ˜¯åˆ©ç”¨è¯¥å­—æ®µçš„ <code>max-age</code> å€¼æ¥è¿›è¡Œåˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼›èµ„æºç¬¬ä¸€æ¬¡çš„è¯·æ±‚æ—¶é—´å’Œ <strong>Cache-Control</strong> è®¾å®šçš„æœ‰æ•ˆæœŸï¼Œè®¡ç®—å‡ºä¸€ä¸ªèµ„æºè¿‡æœŸæ—¶é—´ï¼Œå†æ‹¿è¿™ä¸ªè¿‡æœŸæ—¶é—´è·Ÿå½“å‰çš„è¯·æ±‚æ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœè¯·æ±‚æ—¶é—´åœ¨è¿‡æœŸæ—¶é—´ä¹‹å‰ï¼Œå°±èƒ½å‘½ä¸­ç¼“å­˜ï¼Œå¦åˆ™æœªå‘½ä¸­ï¼Œ <strong>cache-control</strong> é™¤äº†è¯¥å­—æ®µå¤–ï¼Œè¿˜æœ‰ä¸‹é¢å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„è®¾ç½®å€¼ï¼š</p><ul><li><strong>no-cacheï¼š</strong> ä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨ <code>ETag</code> ï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½ã€‚</li><li><strong>no-storeï¼š</strong> ç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æºã€‚</li><li><strong>publicï¼š</strong> å¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’Œ <code>CDN</code> ç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚</li><li><strong>privateï¼š</strong> åªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸ <code>CDN</code> ç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚</li></ul><div class="note warning"><p><em>Tipsï¼šå¦‚æœ cache-control ä¸ expires åŒæ—¶å­˜åœ¨çš„è¯ï¼Œcache-control çš„ä¼˜å…ˆçº§é«˜äº expires</em></p></div> <h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>åå•†ç¼“å­˜éƒ½æ˜¯ç”±æµè§ˆå™¨å’ŒæœåŠ¡å™¨åå•†ï¼Œæ¥ç¡®å®šæ˜¯å¦ç¼“å­˜ï¼Œåå•†ä¸»è¦é€šè¿‡ä¸‹é¢ä¸¤ç»„ <code>header</code> å­—æ®µï¼Œè¿™ä¸¤ç»„å­—æ®µéƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œå³ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å“åº”å¤´å¸¦ä¸ŠæŸä¸ªå­—æ®µ <em>ï¼ˆ <strong>Last-Modified</strong> æˆ–è€… <strong>Etag</strong> ï¼‰</em> ï¼Œåˆ™åç»­è¯·æ±‚ä¼šå¸¦ä¸Šå¯¹åº”çš„è¯·æ±‚å­—æ®µ <em>ï¼ˆ<strong>If-Modified-Since</strong> æˆ–è€… <strong>If-None-Match</strong> ï¼‰</em> ï¼Œè‹¥å“åº”å¤´æ²¡æœ‰ <strong>Last-Modified</strong> æˆ–è€… <strong>Etag</strong> å­—æ®µï¼Œåˆ™è¯·æ±‚å¤´ä¹Ÿä¸ä¼šæœ‰å¯¹åº”çš„å­—æ®µã€‚</p><h4 id="Last-Modified-If-Modified-Since"><a href="#Last-Modified-If-Modified-Since" class="headerlink" title="Last-Modified/If-Modified-Since"></a>Last-Modified/If-Modified-Since</h4><p>äºŒè€…çš„å€¼éƒ½æ˜¯ <code>GMT</code> æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œå…·ä½“è¿‡ç¨‹ï¼š</p><ul><li><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªèµ„æºï¼ŒæœåŠ¡å™¨åœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨ <code>respone</code> çš„ <code>header</code> åŠ ä¸Š <strong>Last-Modified</strong> å­—æ®µï¼Œè¿™ä¸ª <code>header</code> å­—æ®µè¡¨ç¤ºè¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´</p></li><li><p>æµè§ˆå™¨å†æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚è¿™ä¸ªèµ„æºæ—¶ï¼Œåœ¨ <code>request</code> çš„ <code>header</code> ä¸ŠåŠ ä¸Š <strong>If-Modified-Since</strong> å­—æ®µï¼Œè¿™ä¸ª <code>header</code> å­—æ®µçš„å€¼å°±æ˜¯ä¸Šä¸€æ¬¡è¯·æ±‚æ—¶è¿”å›çš„ <strong>Last-Modified</strong> çš„å€¼</p></li><li><p>æœåŠ¡å™¨å†æ¬¡æ”¶åˆ°èµ„æºè¯·æ±‚æ—¶ï¼Œæ ¹æ®æµè§ˆå™¨ä¼ è¿‡æ¥ <strong>If-Modified-Since</strong> å’Œèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–åˆ™è¿”å› <code>304 Not Modified</code> ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›èµ„æºå†…å®¹ï¼›å¦‚æœæœ‰å˜åŒ–ï¼Œå°±æ­£å¸¸è¿”å›èµ„æºå†…å®¹ã€‚å½“æœåŠ¡å™¨è¿”å› <code>304 Not Modified</code> çš„å“åº”æ—¶ï¼Œ<code>response header</code> ä¸­ä¸ä¼šå†æ·»åŠ  <strong>Last-Modifiedçš„header</strong> ï¼Œå› ä¸ºæ—¢ç„¶èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆ <strong>Last-Modified</strong> ä¹Ÿå°±ä¸ä¼šæ”¹å˜ï¼Œè¿™æ˜¯æœåŠ¡å™¨è¿”å› <code>304</code> æ—¶çš„ <code>response header</code></p></li><li><p>æµè§ˆå™¨æ”¶åˆ° <code>304</code> çš„å“åº”åï¼Œå°±ä¼šä»ç¼“å­˜ä¸­åŠ è½½èµ„æº</p></li><li><p>å¦‚æœåå•†ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œæµè§ˆå™¨ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ—¶ï¼Œ<strong>Last-Modified</strong> çš„ <code>Header</code> åœ¨é‡æ–°åŠ è½½çš„æ—¶å€™ä¼šè¢«æ›´æ–°ï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ï¼Œ<strong>If-Modified-Since</strong> ä¼šå¯ç”¨ä¸Šæ¬¡è¿”å›çš„<strong>Last-Modified</strong> å€¼</p></li></ul><h4 id="Etag-If-None-Match"><a href="#Etag-If-None-Match" class="headerlink" title="Etag/If-None-Match"></a>Etag/If-None-Match</h4><p>è¿™ä¸¤ä¸ªå€¼æ˜¯ç”±æœåŠ¡å™¨ç”Ÿæˆçš„æ¯ä¸ªèµ„æºçš„å”¯ä¸€æ ‡è¯†å­—ç¬¦ä¸²ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–å°±è¿™ä¸ªå€¼å°±ä¼šæ”¹å˜ï¼›å…¶åˆ¤æ–­è¿‡ç¨‹ä¸ <strong>Last-Modifiedã€If-Modified-Since</strong> ç±»ä¼¼ï¼Œä¸ <strong>Last-Modified</strong> ä¸ä¸€æ ·çš„æ˜¯ï¼Œå½“æœåŠ¡å™¨è¿”å› <code>304 Not Modified</code> çš„å“åº”æ—¶ï¼Œç”±äº <strong>ETag</strong> é‡æ–°ç”Ÿæˆè¿‡ï¼Œ<code>response header</code> ä¸­è¿˜ä¼šæŠŠè¿™ä¸ª <strong>ETag</strong> è¿”å›ï¼Œå³ä½¿è¿™ä¸ª <strong>ETag</strong> è·Ÿä¹‹å‰çš„æ²¡æœ‰å˜åŒ–ã€‚</p><div class="note warning"><p><em>Tipsï¼šLast-Modifiedä¸ETagæ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­æ¯”å¯¹Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å›304ã€‚</em></p></div> <h3 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h3><h4 id="ä»€ä¹ˆæ˜¯-Service-Worker"><a href="#ä»€ä¹ˆæ˜¯-Service-Worker" class="headerlink" title="ä»€ä¹ˆæ˜¯ Service Worker"></a>ä»€ä¹ˆæ˜¯ Service Worker</h4><blockquote><p><strong>Service Worker</strong> æœ¬è´¨ä¸Šå……å½“Webåº”ç”¨ç¨‹åºä¸æµè§ˆå™¨ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥åœ¨ç½‘ç»œå¯ç”¨æ—¶ä½œä¸ºæµè§ˆå™¨å’Œç½‘ç»œé—´çš„ä»£ç†ã€‚å®ƒä»¬æ—¨åœ¨ï¼ˆé™¤å…¶ä»–ä¹‹å¤–ï¼‰ä½¿å¾—èƒ½å¤Ÿåˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶åŸºäºç½‘ç»œæ˜¯å¦å¯ç”¨ä»¥åŠæ›´æ–°çš„èµ„æºæ˜¯å¦é©»ç•™åœ¨æœåŠ¡å™¨ä¸Šæ¥é‡‡å–é€‚å½“çš„åŠ¨ä½œã€‚ä»–ä»¬è¿˜å…è®¸è®¿é—®æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥APIã€‚</p><footer><strong>Service Worker API</strong><cite><a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html" target="_blank" rel="noopener">developer.mozilla.org</a></cite></footer></blockquote><p><br><strong>Service worker</strong> å¯ä»¥è§£å†³ç›®å‰ç¦»çº¿åº”ç”¨çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åšæ›´å¤šçš„äº‹ã€‚ <strong>Service Worker</strong> å¯ä»¥ä½¿ä½ çš„åº”ç”¨å…ˆè®¿é—®æœ¬åœ°ç¼“å­˜èµ„æºï¼Œæ‰€ä»¥åœ¨ç¦»çº¿çŠ¶æ€æ—¶ï¼Œåœ¨æ²¡æœ‰é€šè¿‡ç½‘ç»œæ¥æ”¶åˆ°æ›´å¤šçš„æ•°æ®å‰ï¼Œä»å¯ä»¥æä¾›åŸºæœ¬çš„åŠŸèƒ½ï¼ˆä¸€èˆ¬ç§°ä¹‹ä¸º Offline Firstï¼‰ã€‚è¿™æ˜¯åŸç”ŸAPP æœ¬æ¥å°±æ”¯æŒçš„åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯ç›¸æ¯”äº <code>web app</code> ï¼ŒåŸç”Ÿ <code>app</code> æ›´å—é’ççš„ä¸»è¦åŸå› </p><p>å†æ¥çœ‹çœ‹ ğŸ‘€ <strong>service worker</strong> èƒ½åšäº›ä»€ä¹ˆ</p><ul><li>åå°æ¶ˆæ¯ä¼ é€’</li><li>ç½‘ç»œä»£ç†ï¼Œè½¬å‘è¯·æ±‚ï¼Œä¼ªé€ å“åº”</li><li>ç¦»çº¿ç¼“å­˜</li><li>æ¶ˆæ¯æ¨é€</li><li>â€¦</li></ul><div class="note success"><p><strong><em>æœ¬æ–‡ä¸»è¦ä»¥ï¼ˆ<a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a>ï¼‰èµ„æºç¼“å­˜ä¸ºä¾‹,é˜è¿°ä¸‹ service workerå¦‚ä½•å·¥ä½œ</em></strong></p></div>  <h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p><strong>service worker</strong> åˆæ¬¡å®‰è£…çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚å›¾ ğŸŒ </p><p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker.png" alt="no-shadow" title="swç”Ÿå‘½å‘¨æœŸ"></p><p>ä»ä¸Š ğŸ‘† å›¾å¯çŸ¥ï¼Œ<strong>service worker</strong> å·¥ä½œçš„æµç¨‹ï¼š</p><ol><li><strong>å®‰è£…ï¼š</strong>  <code>service worker URL</code> é€šè¿‡ <code>serviceWorkerContainer.register()</code> æ¥è·å–å’Œæ³¨å†Œã€‚</li><li><strong>æ¿€æ´»ï¼š</strong> å½“ <code>service worker</code> å®‰è£…å®Œæˆåï¼Œä¼šæ¥æ”¶åˆ°ä¸€ä¸ªæ¿€æ´»äº‹ä»¶(activate event)ã€‚ <code>onactivate</code> ä¸»è¦ç”¨é€”æ˜¯æ¸…ç†å…ˆå‰ç‰ˆæœ¬çš„ <code>service worker</code> è„šæœ¬ä¸­ä½¿ç”¨çš„èµ„æºã€‚</li><li><strong>ç›‘å¬ï¼š</strong> ä¸¤ç§çŠ¶æ€<ul><li>ç»ˆæ­¢ä»¥èŠ‚çœå†…å­˜ï¼›</li><li>ç›‘å¬è·å– <code>fetch</code> å’Œæ¶ˆæ¯ <code>message</code> äº‹ä»¶ã€‚</li></ul></li><li><strong>é”€æ¯ï¼š</strong> æ˜¯å¦é”€æ¯ç”±æµè§ˆå™¨å†³å®šï¼Œå¦‚æœä¸€ä¸ª <code>service worker</code> é•¿æœŸä¸ä½¿ç”¨æˆ–è€…æœºå™¨å†…å­˜æœ‰é™ï¼Œåˆ™å¯èƒ½ä¼šé”€æ¯è¿™ä¸ª <code>worker</code> ã€‚</li></ol><div class="note warning"><p><em>Tipsï¼šæ¿€æ´»æˆåŠŸä¹‹åï¼Œåœ¨ Chrome æµè§ˆå™¨é‡Œï¼Œå¯ä»¥è®¿é—® chrome://inspect/#service-workerså’Œ chrome://serviceworker-internals/ å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰è¿è¡Œçš„service worker ï¼Œå¦‚å›¾ ğŸ‘‡ã€‚</em></p></div> <p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker1.png" alt="service worker" width="100%" title="service worker" align="center"></p><p><strong>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å†™ä¸ªç®€å•çš„ä¾‹å­ ğŸŒ° </strong></p><h4 id="æ³¨å†Œ-service-worker"><a href="#æ³¨å†Œ-service-worker" class="headerlink" title="æ³¨å†Œ service worker"></a>æ³¨å†Œ service worker</h4><p>è¦å®‰è£… <code>service worker</code> ï¼Œä½ éœ€è¦åœ¨ä½ çš„é¡µé¢ä¸Šæ³¨å†Œå®ƒã€‚è¿™ä¸ªæ­¥éª¤å‘Šè¯‰æµè§ˆå™¨ä½ çš„ <code>service worker</code> è„šæœ¬åœ¨å“ªé‡Œã€‚</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#æ³¨å†Œ-service-worker" target="_blank" rel="noopener">app.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'serviceWorker'</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  navigator.serviceWorker.register(<span class="string">'/sw.js'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">registration</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Registration was successful</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ServiceWorker registration successful with scope: '</span>,    registration.scope);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// registration failed :(</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ServiceWorker registration failed: '</span>, err);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æ£€æŸ¥ <code>service worker API</code> æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœå¯ç”¨ï¼Œ<code>service worker /sw.js</code> è¢«æ³¨å†Œã€‚å¦‚æœè¿™ä¸ª <code>service worker</code> å·²ç»è¢«æ³¨å†Œè¿‡ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¿½ç•¥ä¸Šé¢çš„ä»£ç ã€‚</p><h4 id="æ¿€æ´»-service-worker"><a href="#æ¿€æ´»-service-worker" class="headerlink" title="æ¿€æ´» service worker"></a>æ¿€æ´» service worker</h4><p>åœ¨ä½ çš„ <code>service worker</code> æ³¨å†Œä¹‹åï¼Œæµè§ˆå™¨ä¼šå°è¯•ä¸ºä½ çš„é¡µé¢æˆ–ç«™ç‚¹å®‰è£…å¹¶æ¿€æ´»å®ƒã€‚ <code>install</code> äº‹ä»¶ä¼šåœ¨å®‰è£…å®Œæˆä¹‹åè§¦å‘ã€‚<code>install</code> äº‹ä»¶ä¸€èˆ¬æ˜¯è¢«ç”¨æ¥å¡«å……ä½ çš„æµè§ˆå™¨çš„ç¦»çº¿ç¼“å­˜èƒ½åŠ›ã€‚ä½ éœ€è¦ä¸º <code>install</code> äº‹ä»¶å®šä¹‰ä¸€ä¸ª <code>callback</code> ï¼Œå¹¶å†³å®šå“ªäº›æ–‡ä»¶ä½ æƒ³è¦ç¼“å­˜.</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#æ¿€æ´»-service-worker" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The files we want to cache</span></span><br><span class="line"><span class="keyword">var</span> CACHE_NAME = <span class="string">'my-site-cache-v1'</span>;</span><br><span class="line"><span class="keyword">var</span> urlsToCache = [</span><br><span class="line">  <span class="string">'/'</span>,</span><br><span class="line">  <span class="string">'/css/main.css'</span>,</span><br><span class="line">  <span class="string">'/js/main.js'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">self.addEventListener(<span class="string">'install'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Perform install steps</span></span><br><span class="line">  event.waitUntil(</span><br><span class="line">    caches.open(CACHE_NAME)</span><br><span class="line">      .then(<span class="function"><span class="keyword">function</span>(<span class="params">cache</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Opened cache'</span>);</span><br><span class="line">        <span class="keyword">return</span> cache.addAll(urlsToCache);</span><br><span class="line">      &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬çš„ <code>install callback</code> ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>å¼€å¯ä¸€ä¸ªç¼“å­˜</li><li>ç¼“å­˜æˆ‘ä»¬çš„æ–‡ä»¶</li><li>å†³å®šæ˜¯å¦æ‰€æœ‰çš„èµ„æºæ˜¯å¦è¦è¢«ç¼“å­˜</li></ul><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>caches.open</code> æ‰“å¼€æˆ‘ä»¬æŒ‡å®šçš„ <code>cache</code> æ–‡ä»¶åï¼Œç„¶åæˆ‘ä»¬è°ƒç”¨ <code>cache.addAll</code> å¹¶ä¼ å…¥æˆ‘ä»¬çš„æ–‡ä»¶æ•°ç»„ã€‚è¿™æ˜¯é€šè¿‡ä¸€è¿ä¸² <code>promise</code> <em>ï¼ˆcaches.open å’Œ cache.addAllï¼‰</em> å®Œæˆçš„ã€‚<code>event.waitUntil</code> æ‹¿åˆ°ä¸€ä¸ª <code>promise</code> å¹¶ä½¿ç”¨å®ƒæ¥è·å¾—å®‰è£…è€—è´¹çš„æ—¶é—´ä»¥åŠæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><h4 id="ç›‘å¬-service-worker"><a href="#ç›‘å¬-service-worker" class="headerlink" title="ç›‘å¬ service worker"></a>ç›‘å¬ service worker</h4><p>ç°åœ¨æˆ‘ä»¬å·²ç»å°†ä½ çš„ç«™ç‚¹èµ„æºç¼“å­˜äº†ï¼Œä½ éœ€è¦å‘Šè¯‰ <code>service worker</code> è®©å®ƒç”¨è¿™äº›ç¼“å­˜å†…å®¹æ¥åšç‚¹ä»€ä¹ˆã€‚æœ‰äº† <code>fetch</code> äº‹ä»¶ï¼Œè¿™æ˜¯å¾ˆå®¹æ˜“åšåˆ°çš„ã€‚</p><p>æ¯æ¬¡ä»»ä½•è¢« <code>service worker</code> æ§åˆ¶çš„èµ„æºè¢«è¯·æ±‚åˆ°æ—¶ï¼Œéƒ½ä¼šè§¦å‘ <code>fetch</code> äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <code>service worker</code> æ·»åŠ ä¸€ä¸ª <code>fetch</code> çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œæ¥ç€è°ƒç”¨ <code>event</code> ä¸Šçš„ <code>respondWith()</code> æ–¹æ³•æ¥åŠ«æŒæˆ‘ä»¬çš„ <strong>HTTP</strong> å“åº”ï¼Œç„¶åä½ ç”¨å¯ä»¥ç”¨è‡ªå·±çš„æ–¹æ³•æ¥æ›´æ–°ä»–ä»¬ã€‚</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#ç›‘å¬-service-worker" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">'fetch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request);</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>caches.match(event.request)</code> å…è®¸æˆ‘ä»¬å¯¹ç½‘ç»œè¯·æ±‚çš„èµ„æºå’Œ <code>cache</code> é‡Œå¯è·å–çš„èµ„æºè¿›è¡ŒåŒ¹é…ï¼ŒæŸ¥çœ‹æ˜¯å¦ç¼“å­˜ä¸­æœ‰ç›¸åº”çš„èµ„æºã€‚è¿™ä¸ªåŒ¹é…é€šè¿‡ <code>url</code> å’Œ <code>vary header</code> è¿›è¡Œï¼Œå°±åƒæ­£å¸¸çš„ <strong>HTTP</strong> è¯·æ±‚ä¸€æ ·ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è¿”å› <code>request</code> å‘¢ï¼Œä¸‹é¢ ğŸ‘‡ å°±æ˜¯ä¸€ä¸ªä¾‹å­ ğŸŒ°</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#ç›‘å¬-service-worker" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">'fetch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request)</span><br><span class="line">      .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Cache hit - return response</span></span><br><span class="line">        <span class="keyword">if</span> (response) &#123;</span><br><span class="line">          <span class="keyword">return</span> response;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fetch(event.request);</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç é‡Œæˆ‘ä»¬å®šä¹‰äº† <code>fetch</code> äº‹ä»¶ï¼Œåœ¨ <code>event.respondWith</code> é‡Œï¼Œæˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªç”± <code>caches.match</code> äº§ç”Ÿçš„ <code>promise.caches.match</code> æŸ¥æ‰¾ <code>request</code> ä¸­è¢« <code>service worker</code> ç¼“å­˜å‘½ä¸­çš„ <code>response</code> ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå‘½ä¸­çš„ <code>response</code> ï¼Œæˆ‘ä»¬è¿”å›è¢«ç¼“å­˜çš„å€¼ï¼Œå¦åˆ™æˆ‘ä»¬è¿”å›ä¸€ä¸ªå®æ—¶ä»ç½‘ç»œè¯·æ±‚ <code>fetch</code> çš„ç»“æœã€‚</p><h4 id="sw-toolbox"><a href="#sw-toolbox" class="headerlink" title="sw-toolbox"></a>sw-toolbox</h4><div class="note success"><p><em>å½“ç„¶ï¼Œæˆ‘ä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚ï¼š<a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a> ä½¿ç”¨äº† <strong>sw-toolbox</strong>ã€‚</em></p></div><p><strong>sw-toolbox</strong> ä½¿ç”¨éå¸¸ç®€å•ï¼Œä¸‹é¢ ğŸ‘‡ å°±æ˜¯ <a href="https://lishaoy.net" target="_blank" rel="noopener">lishaoy.net</a> çš„ä¸€ä¸ªä¾‹å­ ğŸŒ°</p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#sw-toolbox" target="_blank" rel="noopener">persilee.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"serviceWorker"</span> <span class="keyword">in</span> navigator ? navigator.serviceWorker.register(<span class="string">'/sw.js'</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  navigator.serviceWorker.controller ? <span class="built_in">console</span>.log(<span class="string">"Assets cached by the controlling service worker."</span>) : <span class="built_in">console</span>.log(<span class="string">"Please reload this page to allow the service worker to handle network operations."</span>)</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"ERROR: "</span> + e)</span><br><span class="line">&#125;) : <span class="built_in">console</span>.log(<span class="string">"Service workers are not supported in the current browser."</span>)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ <strong>æ³¨å†Œ</strong> ä¸€ä¸ª <code>service woker</code></p><figure class="highlight javascript"><figcaption><span>javascript</span><a href="https://lishaoy.net/webOptimize.html#sw-toolbox" target="_blank" rel="noopener">sw.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cacheVersion = <span class="string">"20180527"</span>;</span><br><span class="line">    <span class="keyword">var</span> staticImageCacheName = <span class="string">"image"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> staticAssetsCacheName = <span class="string">"assets"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> contentCacheName = <span class="string">"content"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> vendorCacheName = <span class="string">"vendor"</span> + cacheVersion;</span><br><span class="line">    <span class="keyword">var</span> maxEntries = <span class="number">100</span>;</span><br><span class="line">    self.importScripts(<span class="string">"/lib/sw-toolbox/sw-toolbox.js"</span>);</span><br><span class="line">    self.toolbox.options.debug = <span class="literal">false</span>;</span><br><span class="line">    self.toolbox.options.networkTimeoutSeconds = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    self.toolbox.router.get(<span class="string">"/images/(.*)"</span>, self.toolbox.cacheFirst, &#123;</span><br><span class="line">        cache: &#123;</span><br><span class="line">            name: staticImageCacheName,</span><br><span class="line">            maxEntries: maxEntries</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    self.toolbox.router.get(<span class="string">'/js/(.*)'</span>, self.toolbox.cacheFirst, &#123;</span><br><span class="line">        cache: &#123;</span><br><span class="line">            name: staticAssetsCacheName,</span><br><span class="line">            maxEntries: maxEntries</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    self.toolbox.router.get(<span class="string">'/css/(.*)'</span>, self.toolbox.cacheFirst, &#123;</span><br><span class="line">        cache: &#123;</span><br><span class="line">            name: staticAssetsCacheName,</span><br><span class="line">            maxEntries: maxEntries</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    self.addEventListener(<span class="string">"install"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> event.waitUntil(self.skipWaiting())</span><br><span class="line">    &#125;);</span><br><span class="line">    self.addEventListener(<span class="string">"activate"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> event.waitUntil(self.clients.claim())</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>å°±è¿™æ ·æå®šäº† ğŸ‰ <em>(å…·ä½“çš„ç”¨æ³•å¯ä»¥å» <a href="https://googlechromelabs.github.io/sw-toolbox/api.html#main" target="_blank" rel="noopener">sw-toolbox</a> æŸ¥çœ‹)</em></p><p>æœ‰çš„åŒå­¦å°±é—®ï¼Œ<code>service worker</code> è¿™ä¹ˆå¥½ç”¨ï¼Œè¿™ä¸ªç¼“å­˜ç©ºé—´åˆ°åº•æ˜¯å¤šå¤§ï¼Ÿå…¶å®ï¼Œåœ¨  <strong>Chrome</strong> å¯ä»¥çœ‹åˆ°ï¼Œå¦‚å›¾</p><p><img src="https://cdn.lishaoy.net/webOptimize/storageQuota.png" alt="fstorage quota" width="100%" title="storage quota" align="center"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¤§æ¦‚æœ‰ <strong>30G</strong> ï¼Œæˆ‘çš„ç«™ç‚¹åªç”¨äº† <strong>183MB</strong> ï¼Œå®Œå…¨å¤Ÿç”¨äº† ğŸ“</p><p>æœ€åï¼Œæ¥ä¸¤å¼ å›¾ </p><p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker2.png" alt="from ServiceWorker" width="100%" title="from ServiceWorker" align="center"></p><p><img src="https://cdn.lishaoy.net/webOptimize/serviceWorker3.png" alt="Cache Storage" width="100%" title="Cache Storage" align="center"></p><p><img class="hidden" src="https://cdn.lishaoy.net/webOptimize/Optimize.png" alt="web optimize" width="100%" title="web optimize" align="center"></p><h2 id="æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚-ğŸ˜œ"><a href="#æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚-ğŸ˜œ" class="headerlink" title="æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚ ğŸ˜œ"></a>æœªå®Œï¼Œå¾…ç»­ã€‚ã€‚ã€‚ ğŸ˜œ</h2>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/webOptimize.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Promiseè¯ç”Ÿè®°</title>
      <link>https://h.lishaoy.net/createPromise.html</link>
      <guid>https://h.lishaoy.net/createPromise.html</guid>
      <pubDate>Tue, 17 Apr 2018 17:34:09 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/createPromise/promise.png&quot; class=&quot;full-image&quot; alt=&quot;Promise&quot; title=&quot;Promise&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å‰ç«¯è¿‘å¹´çš„å…´èµ·ï¼Œæœ‰å¤§éƒ¨åˆ†æ˜¯å› ä¸º &lt;code&gt;NodeJS&lt;/code&gt; çš„è¯ç”Ÿï¼Œè€Œ &lt;code&gt;NodeJS&lt;/code&gt; æ˜¯ä¸ªé€‚ç”¨äº &lt;strong&gt;å¼‚æ­¥IO&lt;/strong&gt; å¯†é›†å‹çš„è¯­è¨€ï¼Œä¸€äº›åŸºäº &lt;code&gt;NodeJS&lt;/code&gt; çš„æ¡†æ¶ï¼Œæ¯”å–» &lt;em&gt;KOA2ã€Adonis&lt;/em&gt; å°±æœ‰å¤§é‡çš„ &lt;code&gt;async&lt;/code&gt; å’Œ &lt;code&gt;await&lt;/code&gt; è¯­æ³•ï¼Œ&lt;code&gt;async&lt;/code&gt;çš„å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯ &lt;code&gt;Promise&lt;/code&gt; å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ &lt;code&gt;async&lt;/code&gt; å’Œ &lt;code&gt;await&lt;/code&gt; è¯­æ³•ï¼Œå†™å‡ºä¼˜é›…çš„å¼‚æ­¥ä»£ç ï¼Œæ¥æ›¿æ¢éš¾çœ‹ä¸”éš¾ç»´æŠ¤çš„å›è°ƒå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä¼šæ¸è¿›å¼çš„æ¥åˆ›å»ºä¸€ä¸ª &lt;code&gt;Promise&lt;/code&gt; çš„å®ç°ï¼Œå¦‚æœï¼Œä½ è¿˜ä¸äº†è§£ &lt;code&gt;Promise&lt;/code&gt; ï¼Œèµ¶å¿«ç§»æ­¥ &lt;a href=&quot;http://es6.ruanyifeng.com/#docs/promise&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Promise&lt;/a&gt; äº†è§£å­¦ä¹ ï¼Œå½“ç„¶è¿™ä¸ªå®ç°ä¼šç¬¦åˆ &lt;a href=&quot;https://promisesaplus.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Promise/A+&lt;/a&gt; è§„èŒƒï¼Œ&lt;code&gt;JavaScript&lt;/code&gt; ä¸­æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„ &lt;code&gt;Promise&lt;/code&gt; åº“ï¼Œ&lt;a href=&quot;http://bluebirdjs.com/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;bluebird&lt;/a&gt; å°±æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ &lt;code&gt;Promise&lt;/code&gt; ç±»åº“ï¼Œç›¸æ¯”å…¶å®ƒç¬¬ä¸‰æ–¹ç±»åº“æˆ–æ ‡å‡†å¯¹è±¡æ¥è¯´ï¼Œå…¶æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šåŠŸèƒ½æ›´é½å…¨è€Œä¸è‡ƒè‚¿ã€æµè§ˆå™¨å…¼å®¹æ€§æ›´å¥½,å¤§å®¶å¯ä»¥äº†è§£ä¸‹ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/createPromise/promise.png" class="full-image" alt="Promise" title="Promise"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å‰ç«¯è¿‘å¹´çš„å…´èµ·ï¼Œæœ‰å¤§éƒ¨åˆ†æ˜¯å› ä¸º <code>NodeJS</code> çš„è¯ç”Ÿï¼Œè€Œ <code>NodeJS</code> æ˜¯ä¸ªé€‚ç”¨äº <strong>å¼‚æ­¥IO</strong> å¯†é›†å‹çš„è¯­è¨€ï¼Œä¸€äº›åŸºäº <code>NodeJS</code> çš„æ¡†æ¶ï¼Œæ¯”å–» <em>KOA2ã€Adonis</em> å°±æœ‰å¤§é‡çš„ <code>async</code> å’Œ <code>await</code> è¯­æ³•ï¼Œ<code>async</code>çš„å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯ <code>Promise</code> å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>async</code> å’Œ <code>await</code> è¯­æ³•ï¼Œå†™å‡ºä¼˜é›…çš„å¼‚æ­¥ä»£ç ï¼Œæ¥æ›¿æ¢éš¾çœ‹ä¸”éš¾ç»´æŠ¤çš„å›è°ƒå‡½æ•°ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä¼šæ¸è¿›å¼çš„æ¥åˆ›å»ºä¸€ä¸ª <code>Promise</code> çš„å®ç°ï¼Œå¦‚æœï¼Œä½ è¿˜ä¸äº†è§£ <code>Promise</code> ï¼Œèµ¶å¿«ç§»æ­¥ <a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">Promise</a> äº†è§£å­¦ä¹ ï¼Œå½“ç„¶è¿™ä¸ªå®ç°ä¼šç¬¦åˆ <a href="https://promisesaplus.com" target="_blank" rel="noopener">Promise/A+</a> è§„èŒƒï¼Œ<code>JavaScript</code> ä¸­æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„ <code>Promise</code> åº“ï¼Œ<a href="http://bluebirdjs.com/docs/getting-started.html" target="_blank" rel="noopener">bluebird</a> å°±æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ <code>Promise</code> ç±»åº“ï¼Œç›¸æ¯”å…¶å®ƒç¬¬ä¸‰æ–¹ç±»åº“æˆ–æ ‡å‡†å¯¹è±¡æ¥è¯´ï¼Œå…¶æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šåŠŸèƒ½æ›´é½å…¨è€Œä¸è‡ƒè‚¿ã€æµè§ˆå™¨å…¼å®¹æ€§æ›´å¥½,å¤§å®¶å¯ä»¥äº†è§£ä¸‹ã€‚</p><hr><a id="more"></a><p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å¹²ã€‚ã€‚ã€‚ ğŸ˜ </p><h2 id="å®šä¹‰-Promise-ç±»å‹"><a href="#å®šä¹‰-Promise-ç±»å‹" class="headerlink" title="å®šä¹‰ Promise ç±»å‹"></a>å®šä¹‰ Promise ç±»å‹</h2><p>ä¸€ä¸ªç®€å• <code>Promise</code> è¯­æ³•ï¼Œå¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ... doSomething</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="comment">/* å¼‚æ­¥æ“ä½œæˆåŠŸ */</span>)&#123;</span><br><span class="line">    resolve(value);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å®ç°-resolve-å’Œ-then"><a href="#å®ç°-resolve-å’Œ-then" class="headerlink" title="å®ç° resolve å’Œ then"></a>å®ç° resolve å’Œ then</h3><p>é¦–å…ˆæˆ‘ä»¬ä»¥ä¸Š ğŸ‘† çš„è¯­æ³•ï¼Œè‡ªå·±å®šä¹‰ä¸€ä¸ª <code>Promise</code> å®ä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Promise</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//å®ç° then æ–¹æ³• , å…ˆä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå®ç°ä¼ ä¸€ä¸ªå‚æ•° -- resolve</span></span><br><span class="line">  <span class="keyword">this</span>.then = <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    callback = cb;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®ç° resolve , value:å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå€¼</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    callback(value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ‰§è¡Œ function å‚æ•°</span></span><br><span class="line">  fn(resolve);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªç®€å•çš„å®ä¾‹å†™å¥½äº†ï¼Œç„¶åï¼Œæ¥ç”¨ä¸€ä¸‹,çœ‹çœ‹ ğŸ‘€ ç»“æœå¦‚ä½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">  resolve(<span class="number">66</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><div class="note info"><p>æ‰§è¡Œç»“æœæ˜¯ï¼š<code>callback is not a function</code></p></div><h3 id="ä¿®æ”¹-callback-ä¸ºå¼‚æ­¥"><a href="#ä¿®æ”¹-callback-ä¸ºå¼‚æ­¥" class="headerlink" title="ä¿®æ”¹ callback ä¸ºå¼‚æ­¥"></a>ä¿®æ”¹ callback ä¸ºå¼‚æ­¥</h3><p><strong>è¿™é‡Œå°±é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼š </strong>  </p><p><strong> å‘ç° <code>resolve()</code> åœ¨ <code>then()</code> ä¹‹å‰è°ƒç”¨ï¼Œåœ¨ <code>resolve()</code> è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œ <code>callback</code> è¿˜æ˜¯ <code>null</code> ï¼Œæˆ‘ä»¬çš„ä»£ç æ˜¯åŒæ­¥çš„ï¼Œè€Œä¸æ˜¯å¼‚æ­¥çš„ã€‚<br> å¦‚æ˜¯ï¼Œæƒ³åŠæ³•è§£å†³æ‰è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ©ç”¨ <code>setTimeout</code> , æŠŠ <code>callback</code> åŠ å…¥å¼‚æ­¥é˜Ÿåˆ—</strong> </p><p>ä»£ç å¦‚ä¸‹ ğŸ‘‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Promise</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> callback = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//å®ç° then æ–¹æ³• , å…ˆä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå®ç°ä¼ ä¸€ä¸ªå‚æ•° -- resolve</span></span><br><span class="line">  <span class="keyword">this</span>.then = <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    callback = cb;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®ç° resolve , value:å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå€¼</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨ setTimeout æŠŠ callback åŠ å…¥åˆ°å¼‚æ­¥é˜Ÿåˆ—ï¼Œè¿™æ ·å°±ä¼šï¼Œå…ˆæ‰§è¡Œ then() æ–¹æ³•</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      callback(value);</span><br><span class="line">    &#125;,<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ‰§è¡Œ function å‚æ•°</span></span><br><span class="line">  fn(resolve);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå†æ¥ç”¨ä¸€ä¸‹,çœ‹çœ‹ ğŸ‘€ ç»“æœå¦‚ä½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">  resolve(<span class="number">66</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><div class="note info"><p>æ‰§è¡Œç»“æœæ˜¯ï¼š<code>66</code></p></div><h2 id="æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚"><a href="#æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚" class="headerlink" title="æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚"></a>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</h2>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/createPromise.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>CSSModules</title>
      <link>https://h.lishaoy.net/CSSModules.html</link>
      <guid>https://h.lishaoy.net/CSSModules.html</guid>
      <pubDate>Sat, 07 Apr 2018 01:58:11 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/CSSModules/cssModules.png&quot; class=&quot;full-image&quot; alt=&quot;CSS Modules&quot; title=&quot;CSS Modules&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æ¥ä¸€èµ·äº†è§£ &lt;code&gt;css&lt;/code&gt; æ¨¡å—åŒ–çš„ç”¨æ³•å’ŒåŸç† ï¼Œ&lt;strong&gt;dome&lt;/strong&gt; åœ°å€ï¼š&lt;a href=&quot;https://github.com/persilee/webpack_test&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;css modules&lt;/a&gt; ğŸ˜®&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/CSSModules/cssModules.png" class="full-image" alt="CSS Modules" title="CSS Modules"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>è¿™ç¯‡æ–‡ç« æ¥ä¸€èµ·äº†è§£ <code>css</code> æ¨¡å—åŒ–çš„ç”¨æ³•å’ŒåŸç† ï¼Œ<strong>dome</strong> åœ°å€ï¼š<a href="https://github.com/persilee/webpack_test" target="_blank" rel="noopener">css modules</a> ğŸ˜®</p><hr><a id="more"></a><h4 id="å±€éƒ¨ä½œç”¨åŸŸ"><a href="#å±€éƒ¨ä½œç”¨åŸŸ" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸ"></a>å±€éƒ¨ä½œç”¨åŸŸ</h4><p>ä¸€èˆ¬æˆ‘ä»¬å¼•å…¥é¡µé¢çš„ <code>CSS</code> çš„ä½œç”¨åŸŸéƒ½æ˜¯å…¨å±€çš„ï¼Œéƒ½æ˜¯å¯¹è¿™ä¸ªé¡µé¢èµ·ä½œç”¨ï¼Œäº§ç”Ÿå±€éƒ¨çš„ä½œç”¨åŸŸï¼Œå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ <code>class</code> çš„åç§°ï¼Œä¸ä¼šå’Œå…¶å®ƒé€‰æ‹©å™¨é‡åçš„ï¼Œ <strong><code>CSS Modules</code></strong> å°±æ˜¯è¿™ä¸ªåŸç†ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€æ®µä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./main.css'</span>;</span><br><span class="line"><span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">'./test.html'</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'body'</span>).append($(<span class="string">'&lt;div&gt;&lt;h1&gt;æˆ‘ä¼šå˜ç»¿&lt;/h1&gt;&lt;/div&gt;'</span>));</span><br><span class="line">$(<span class="string">'div h1'</span>).addClass(styles.testGreen);</span><br><span class="line">$(<span class="string">'body'</span>).append(test).find(<span class="string">'h2'</span>).addClass(styles.testBlue);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æˆ‘æŠŠ <code>main.css</code> è¾“å…¥åˆ° <code>style</code> å¯¹è±¡ï¼Œç„¶åä¸‹é¢ç”¨äº† <code>styles.testGreen</code> å¯¹è±¡çš„å±æ€§å½¢å¼è°ƒç”¨ï¼Œå°±ä¼šåº”ç”¨ <code>main.css</code> é‡Œçš„æ ·å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.testGreen</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ„å»ºå·¥å…·ï¼ˆ <code>webpack</code> ï¼‰ç¼–è¯‘æˆä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ä¸²</p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h1 class="_305zeUSoiGREv3GqPa9H8F"&gt;æˆ‘ä¼šå˜ç»¿&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p><code>main.css</code> ä¹Ÿä¼šåŒæ—¶ç¼–è¯‘</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">._305zeUSoiGREv3GqPa9H8F</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#aaf200</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªç±»åå°±æ˜¯ç‹¬ä¸€æ— äºŒçš„äº†ï¼Œåªå¯¹åº”ç”¨çš„ç»„ä»¶æœ‰æ•ˆã€‚<strong><code>CSS Modules</code></strong> æ”¯æŒä¸åŒçš„æ„å»ºå·¥å…·ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>webpack</code> ,ä¸‹æ–‡éƒ½æ˜¯ä»¥ <code>webpack</code> ä¸ºä¾‹ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ <strong><code>webpack.config.js</code></strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  context: __dirname + <span class="string">'/src'</span>,</span><br><span class="line">  devtool: <span class="string">'eval-source-map'</span>, <span class="comment">//é…ç½®ç”ŸæˆSource Mapsï¼Œé€‰æ‹©åˆé€‚çš„é€‰é¡¹</span></span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: [<span class="string">'./app.js'</span>, <span class="string">'./test.js'</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: __dirname + <span class="string">'/dist'</span>,</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    publicPath: <span class="string">'/assets'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.json$/</span>,<span class="attr">loader</span>: <span class="string">'json-loader'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.js$/</span>,<span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,<span class="attr">loader</span>: <span class="string">'babel-loader'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.css$/</span>,<span class="attr">loader</span>: ExtractTextPlugin.extract(&#123;</span><br><span class="line">          fallbackLoader: <span class="string">"style-loader"</span>,</span><br><span class="line">          loader: &#123;</span><br><span class="line">            loader: <span class="string">"css-loader"</span>,</span><br><span class="line">            query: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;<span class="attr">test</span>: <span class="regexp">/\.html$/</span>,<span class="attr">loader</span>: <span class="string">'html-loader'</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> ExtractTextPlugin(<span class="string">'style.css'</span>)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œ<code>query:{modules:true}</code> ä»£è¡¨å¼€å¯ <strong><code>CSS Modules</code></strong> æ¨¡å—ï¼Œè¿™é‡Œè¿˜é…ç½®äº†æŠŠæ‰€ä»¥å¾— <code>css</code> åˆå¹¶ä¸€ä¸ªæ–‡ä»¶ï¼Œå…·ä½“çš„å¯ä»¥äº†è§£ <code>webpack</code> çš„ <code>extract-text-webpack-plugin</code>æ’ä»¶ã€‚</p><h4 id="å…¨å±€ä½œç”¨åŸŸ"><a href="#å…¨å±€ä½œç”¨åŸŸ" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸ"></a>å…¨å±€ä½œç”¨åŸŸ</h4><p><strong><code>CSS Modules</code></strong> å…è®¸ç”¨ <code>:global(.className)</code> çš„è¯­æ³•å£°æ˜ä¸€ä¸ªå…¨å±€çš„ä½œç”¨åŸŸã€‚åŠ äº† <code>:global</code> çš„ä¸ä¼šè¢«ç¼–è¯‘æˆå“ˆå¸Œå€¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:global(.title)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>test.js</code> ä½¿ç”¨æ™®é€šçš„å†™æ³•ï¼Œå°±ä¼šå¼•ç”¨å…¨å±€çš„ <code>.title</code> çš„æ ·å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./main.css'</span>;</span><br><span class="line"><span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">'./test.html'</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'body'</span>).append($(<span class="string">'&lt;div&gt;&lt;h1&gt;æˆ‘æ˜¯title&lt;/h1&gt;&lt;/div&gt;'</span>));</span><br><span class="line">$(<span class="string">'div h1'</span>).addClass(<span class="string">'title'</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœ <code>h1</code> çš„titleæ˜¾ç¤ºé»‘è‰²ã€‚</p><h4 id="Classçš„ç»„åˆ"><a href="#Classçš„ç»„åˆ" class="headerlink" title="Classçš„ç»„åˆ"></a>Classçš„ç»„åˆ</h4><p>åœ¨ <strong><code>CSS Modules</code></strong> é‡Œï¼Œä¸€ä¸ªé€‰æ‹©å™¨å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªé€‰æ‹©å™¨ã€‚</p><p>åœ¨ <code>mian.css</code> é‡Œï¼Œæˆ‘è®© <code>.testBlue</code> ç»§æ‰¿ <code>.testBg</code> ç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.testBg</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testBlue</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">composes</span>: testBg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ç”¨ä¿®æ”¹ <code>test.js</code> ,åº”ç”¨äº† <code>.testBlue</code> å°±ä¼šæœ‰ä¸€ä¸ªçº¢è‰²çš„èƒŒæ™¯ã€‚</p><p>ç¼–è¯‘ç»“æœï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.eh33VC37uFHXkCZ8LfKYd</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.xrmZso54fTBX29J9G65Ai</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0c77f8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸åº”çš„ <code>html</code> ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"xrmZso54fTBX29J9G65Ai eh33VC37uFHXkCZ8LfKYd _2gsuNWm9029FHPYJP62C-t"</span>&gt;</span></span><br><span class="line">    æˆ‘ä¼šå˜è“</span><br><span class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¾“å…¥å˜é‡"><a href="#è¾“å…¥å˜é‡" class="headerlink" title="è¾“å…¥å˜é‡"></a>è¾“å…¥å˜é‡</h4><p><strong><code>CSS Modules</code></strong> æ”¯æŒä½¿ç”¨å˜é‡ï¼Œä¸è¿‡è¦å®‰è£… <strong>PsotCSS</strong> å’Œ <strong>postcss-modules-values</strong>ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save postcss-loader postcss-modules-<span class="built_in">values</span></span><br></pre></td></tr></table></figure><p>æŠŠ <code>postcss-loader</code> åŠ å…¥ <code>webpack.config.js</code> .</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    loader: <span class="string">'style-loader!css-loader?modules!postcss-loader'</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘åœ¨ <code>colors.css</code> é‡Œå®šä¹‰äº†ä¸€äº›å˜é‡ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">value</span> blue: #<span class="number">0</span>c77f8;</span><br><span class="line">@<span class="keyword">value</span> red: #ff0000;</span><br><span class="line">@<span class="keyword">value</span> green: #aaf200;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>main.css</code> é‡Œå¯ä»¥è¿™æ ·å¼•ç”¨å˜é‡</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">value</span> colors: <span class="string">"./color.css"</span>;</span><br><span class="line">@<span class="keyword">value</span> blue, red, green from colors;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testBg</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testGreen</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.testBlue</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">composes</span>: testBg;</span><br><span class="line">  <span class="attribute">composes</span>: div;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æŠŠ <code>colors.css</code> çš„å˜é‡æ‹¿è¿‡æ¥ç”¨äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ã€‚</p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/CSSModules.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¦‚ä½•ä½¿ç”¨ markdown è¯­æ³•å†™åšå®¢</title>
      <link>https://h.lishaoy.net/markdownGrammar.html</link>
      <guid>https://h.lishaoy.net/markdownGrammar.html</guid>
      <pubDate>Fri, 06 Apr 2018 23:25:19 GMT</pubDate>
      <description>
      
        &lt;span itemprop=&quot;image&quot; itemscope=&quot;&quot; itemtype=&quot;http://schema.org/ImageObject&quot;&gt;&lt;img itemprop=&quot;url image&quot; src=&quot;https://cdn.lishaoy.net/markdownGrammar/markdown.png&quot; class=&quot;full-image&quot; alt=&quot;markdown&quot; title=&quot;markdown&quot;&gt;&lt;meta itemprop=&quot;width&quot; content=&quot;auto&quot;&gt;&lt;meta itemprop=&quot;height&quot; content=&quot;auto&quot;&gt;&lt;/span&gt;
&lt;p&gt;å¹³æ—¶æˆ‘å†™æ—¥è®°ã€æ–‡æ¡£å’Œåšå®¢éƒ½ä¼šç”¨åˆ° &lt;code&gt;markdown&lt;/code&gt; è¯­æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯ &lt;code&gt;é©¬å…‹é£è±¡&lt;/code&gt; å…ˆåœ¨æœ¬åœ°å†™å¥½ï¼Œè€Œä¸”å¯ä»¥å’Œ &lt;code&gt;å°è±¡ç¬”è®°&lt;/code&gt; åŒæ­¥ï¼Œå¦‚æœçŸ¥è¯†ç§¯ç´¯çš„å¤šäº†ï¼Œä¹Ÿä¼šæ€»ç»“ä¸‹ï¼Œåˆ†äº«åˆ°ç¤¾åŒºï¼Œç›´æ¥ &lt;kbd&gt;âŒ˜ -  C&lt;/kbd&gt;  ç„¶å &lt;kbd&gt;âŒ˜ -  V&lt;/kbd&gt;  å°±å¯ä»¥äº†ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚ ğŸ™‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://cdn.lishaoy.net/markdownGrammar/markdown.png" class="full-image" alt="markdown" title="markdown"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span><p>å¹³æ—¶æˆ‘å†™æ—¥è®°ã€æ–‡æ¡£å’Œåšå®¢éƒ½ä¼šç”¨åˆ° <code>markdown</code> è¯­æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯ <code>é©¬å…‹é£è±¡</code> å…ˆåœ¨æœ¬åœ°å†™å¥½ï¼Œè€Œä¸”å¯ä»¥å’Œ <code>å°è±¡ç¬”è®°</code> åŒæ­¥ï¼Œå¦‚æœçŸ¥è¯†ç§¯ç´¯çš„å¤šäº†ï¼Œä¹Ÿä¼šæ€»ç»“ä¸‹ï¼Œåˆ†äº«åˆ°ç¤¾åŒºï¼Œç›´æ¥ <kbd>âŒ˜ -  C</kbd>  ç„¶å <kbd>âŒ˜ -  V</kbd>  å°±å¯ä»¥äº†ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚ ğŸ™‚</p><hr><a id="more"></a><h3 id="ä»€ä¹ˆæ˜¯Markdownè¯­æ³•"><a href="#ä»€ä¹ˆæ˜¯Markdownè¯­æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯Markdownè¯­æ³•"></a>ä»€ä¹ˆæ˜¯Markdownè¯­æ³•</h3><p><code>Markdown</code> æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œç›®æ ‡æ˜¯å®ç°ã€Œæ˜“è¯»æ˜“å†™ã€ã€‚</p><blockquote><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæ ¼å¼ä¸°å¯Œçš„HTMLé¡µé¢ã€‚    â€”â€” <a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p></blockquote><hr><h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h3><p><strong>åœ¨ <code>Markdown</code> ä¸­ï¼Œä½ åªéœ€è¦åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Š <code>#</code> å³å¯ï¼ŒåŒç†ã€ä½ è¿˜å¯ä»¥å¢åŠ äºŒçº§æ ‡é¢˜ã€ä¸‰çº§æ ‡é¢˜ã€å››çº§æ ‡é¢˜ã€äº”çº§æ ‡é¢˜å’Œå…­çº§æ ‡é¢˜ï¼Œæ€»å…±å…­çº§ï¼Œåªéœ€è¦å¢åŠ  <code>#</code> å³å¯ï¼Œæ ‡é¢˜å­—å·ç›¸åº”é™ä½ã€‚ä¾‹å¦‚ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ ï¼š</p><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><hr><h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p><strong><code>Markdown</code> æ ‡è®°åŒºå—å¼•ç”¨æ˜¯ä½¿ç”¨ç±»ä¼¼ email ä¸­ç”¨çš„å¼•ç”¨æ–¹å¼ï¼Œåªéœ€è¦åœ¨æ•´ä¸ªæ®µè½çš„ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Š &gt; ã€‚</strong>ä¾‹å¦‚ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨ç¤ºä¾‹</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨ç¤ºä¾‹</p></blockquote><p><strong>åŒºå—å¼•ç”¨å¯ä»¥åµŒå¥—ï¼Œåªè¦æ ¹æ®å±‚æ¬¡åŠ ä¸Šä¸åŒæ•°é‡çš„ &gt; ï¼š</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; è¿™æ˜¯ç¬¬ä¸€çº§å¼•ç”¨ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; &gt; è¿™æ˜¯ç¬¬äºŒçº§å¼•ç”¨ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; ç°åœ¨å›åˆ°ç¬¬ä¸€çº§å¼•ç”¨ã€‚</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>è¿™æ˜¯ç¬¬ä¸€çº§å¼•ç”¨ã€‚</p><blockquote><p>è¿™æ˜¯ç¬¬äºŒçº§å¼•ç”¨ã€‚</p></blockquote><p>ç°åœ¨å›åˆ°ç¬¬ä¸€çº§å¼•ç”¨ã€‚</p></blockquote><hr><h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><p><strong>Markdown æ”¯æŒæœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨ã€‚</strong></p><ol><li>æ— åºåˆ—è¡¨ä½¿ç”¨æ˜Ÿå·ã€åŠ å·æˆ–æ˜¯å‡å·ä½œä¸ºåˆ—è¡¨æ ‡è®°ï¼š</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*   Red</span><br><span class="line">*   Green</span><br><span class="line">*   Blue</span><br></pre></td></tr></table></figure><p>ç­‰åŒäº<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+   Red</span><br><span class="line">+   Green</span><br><span class="line">+   Blue</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿç­‰åŒäº<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-   Red</span><br><span class="line">-   Green</span><br><span class="line">-   Blue</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li>Red</li><li>Green</li><li>Blue</li></ul><hr><ol start="2"><li>æœ‰åºåˆ—è¡¨åˆ™ä½¿ç”¨æ•°å­—æ¥ç€ä¸€ä¸ªè‹±æ–‡å¥ç‚¹ï¼š</li></ol><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.  Bird</span><br><span class="line"><span class="number">2</span>.  McHale</span><br><span class="line"><span class="number">3</span>.  Parish</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ol><li>Bird</li><li>McHale</li><li>Parish</li></ol><p>å¦‚æœä½ çš„åˆ—è¡¨æ ‡è®°å†™æˆï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.  Bird</span><br><span class="line"><span class="number">1</span>.  McHale</span><br><span class="line"><span class="number">1</span>.  Parish</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœæ˜¯ï¼š</p><ol><li>Bird</li><li>McHale</li><li>Parish</li></ol><p>ç”šè‡³æ˜¯ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>. Bird</span><br><span class="line"><span class="number">1</span>. McHale</span><br><span class="line"><span class="number">8</span>. Parish</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœæ˜¯ï¼š</p><ol start="3"><li>Bird</li><li>McHale</li><li>Parish</li></ol><p>å¯ä»¥çœ‹åˆ°ï¼Œæ•°å­—è¿˜æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥ï¼Œä½ å¯ä»¥è®© <code>Markdown</code> æ–‡ä»¶çš„åˆ—è¡¨æ•°å­—å’Œè¾“å‡ºçš„ç»“æœç›¸åŒï¼Œæˆ–æ˜¯ä½ æ‡’ä¸€ç‚¹ï¼Œä½ å¯ä»¥å®Œå…¨ä¸ç”¨åœ¨æ„æ•°å­—çš„æ­£ç¡®æ€§ã€‚</p><p>å¦‚æœè¦åœ¨åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›å¼•ç”¨ï¼Œé‚£ &gt; å°±éœ€è¦ç¼©è¿›ï¼š<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*   A <span class="keyword">list</span> item with <span class="keyword">a</span> blockquote:</span><br><span class="line"></span><br><span class="line">    &gt; This <span class="keyword">is</span> <span class="keyword">a</span> blockquote</span><br><span class="line">    &gt; inside <span class="keyword">a</span> <span class="keyword">list</span> item.</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li><p>A list item with a blockquote:</p><blockquote><p>This is a blockquoteinside a list item.</p></blockquote></li></ul><hr><h3 id="ä»£ç åŒºå—"><a href="#ä»£ç åŒºå—" class="headerlink" title="ä»£ç åŒºå—"></a>ä»£ç åŒºå—</h3><p>åªè¦æŠŠä½ çš„ä»£ç å—åŒ…è£¹åœ¨  <code>```</code>  ä¹‹é—´ï¼Œä½ å°±ä¸éœ€è¦é€šè¿‡æ— ä¼‘æ­¢çš„ç¼©è¿›æ¥æ ‡è®°ä»£ç å—äº†ã€‚ åœ¨å›´æ å¼ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯é€‰çš„è¯­è¨€æ ‡è¯†ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸ºå®ƒå¯ç”¨è¯­æ³•ç€è‰²äº†ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œè¿™æ ·å¯ä»¥ä¸ºä¸€æ®µ <code>Ruby</code> ä»£ç ç€è‰²ï¼š</p><p><code>```ruby <br>require â€˜redcarpetâ€™ <br>markdown = Redcarpet.new(â€œHello World!â€) <br>puts markdown.to_html <br>```</code></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'redcarpet'</span></span><br><span class="line">markdown = Redcarpet.new(<span class="string">"Hello World!"</span>)</span><br><span class="line">puts markdown.to_html</span><br></pre></td></tr></table></figure><hr><h3 id="å¼ºè°ƒ"><a href="#å¼ºè°ƒ" class="headerlink" title="å¼ºè°ƒ"></a>å¼ºè°ƒ</h3><p>åœ¨ <code>Markdown</code> ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ * å’Œ _ æ¥è¡¨ç¤ºæ–œä½“å’ŒåŠ ç²—ã€‚</p><p>æ–œä½“ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*Codingï¼Œè®©å¼€å‘æ›´ç®€å•*</span><br><span class="line">_Codingï¼Œè®©å¼€å‘æ›´ç®€å•_</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><em>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</em> <br><em>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</em></p><p>åŠ ç²—ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**Codingï¼Œè®©å¼€å‘æ›´ç®€å•**</span><br><span class="line">__Codingï¼Œè®©å¼€å‘æ›´ç®€å•__</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><strong>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</strong> <br><strong>Codingï¼Œè®©å¼€å‘æ›´ç®€å•</strong></p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>å¦‚æœè¦æ ‡è®°ä¸€å°æ®µè¡Œå†…ä»£ç ï¼Œä½ å¯ä»¥ç”¨åå¼•å·æŠŠå®ƒåŒ…èµ·æ¥ <code>```</code> ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Use the `<span class="built_in">printf</span>()` <span class="function"><span class="keyword">function</span>.</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>Use the <code>printf()</code> function.</p><hr><h3 id="è‡ªåŠ¨é“¾æ¥"><a href="#è‡ªåŠ¨é“¾æ¥" class="headerlink" title="è‡ªåŠ¨é“¾æ¥"></a>è‡ªåŠ¨é“¾æ¥</h3><p><code>Markdown</code> æ”¯æŒä»¥æ¯”è¾ƒç®€çŸ­çš„è‡ªåŠ¨é“¾æ¥å½¢å¼æ¥å¤„ç†ç½‘å€å’Œç”µå­é‚®ä»¶ä¿¡ç®±ï¼Œåªè¦æ˜¯ç”¨å°–æ‹¬å·åŒ…èµ·æ¥ï¼Œ<code>Markdown</code> å°±ä¼šè‡ªåŠ¨æŠŠå®ƒè½¬æˆé“¾æ¥ã€‚ä¸€èˆ¬ç½‘å€çš„é“¾æ¥æ–‡å­—å°±å’Œé“¾æ¥åœ°å€ä¸€æ ·ï¼Œä¾‹å¦‚ï¼š<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;http://example.com/&gt;</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><a href="http://example.com/" target="_blank" rel="noopener">http://example.com/</a></p><h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p><code>Markdown</code> æ”¯æŒä¸¤ç§å½¢å¼çš„é“¾æ¥è¯­æ³•ï¼š <em>è¡Œå†…å¼</em> å’Œ <em>å‚è€ƒå¼</em> ä¸¤ç§å½¢å¼ã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç”¨ <em>å‚è€ƒå¼</em> ã€‚</p><p>ä¸ç®¡æ˜¯å“ªä¸€ç§ï¼Œé“¾æ¥æ–‡å­—éƒ½æ˜¯ç”¨ [æ–¹æ‹¬å·] æ¥æ ‡è®°ã€‚</p><ol><li><em>è¡Œå†…å¼</em> çš„é“¾æ¥ï¼Œåªè¦åœ¨æ–¹å—æ‹¬å·åé¢ç´§æ¥ç€åœ†æ‹¬å·å¹¶æ’å…¥ç½‘å€é“¾æ¥å³å¯ï¼Œå¦‚æœä½ è¿˜æƒ³è¦åŠ ä¸Šé“¾æ¥çš„ <code>title</code> æ–‡å­—ï¼Œåªè¦åœ¨ç½‘å€åé¢ï¼Œç”¨åŒå¼•å·æŠŠ <code>title</code> æ–‡å­—åŒ…èµ·æ¥å³å¯ï¼Œä¾‹å¦‚ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This is [an example](http://example.com/ &quot;Title&quot;) inline link.</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>This is <a href="http://example.com/" title="Title" target="_blank" rel="noopener">an example</a> inline link.</p><hr><h3 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h3><p><code>Markdown</code> ä½¿ç”¨ä¸€ç§å’Œé“¾æ¥å¾ˆç›¸ä¼¼çš„è¯­æ³•æ¥æ ‡è®°å›¾ç‰‡ï¼ŒåŒæ ·ä¹Ÿå…è®¸ä¸¤ç§æ ·å¼ï¼š <em>è¡Œå†…å¼</em> å’Œ <em>å‚è€ƒå¼</em> ã€‚</p><ol><li>è¡Œå†…å¼çš„å›¾ç‰‡è¯­æ³•çœ‹èµ·æ¥åƒæ˜¯ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![Alt text](/path/to/img.jpg)</span><br><span class="line"></span><br><span class="line">![Alt text](/path/to/img.jpg &quot;Optional title&quot;)</span><br></pre></td></tr></table></figure><p>è¯¦ç»†å™è¿°å¦‚ä¸‹ï¼š</p><ul><li>ä¸€ä¸ªæƒŠå¹å· <code>!</code></li><li>æ¥ç€ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„æ›¿ä»£æ–‡å­—</li><li>æ¥ç€ä¸€ä¸ªæ™®é€šæ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„ç½‘å€ï¼Œæœ€åè¿˜å¯ä»¥ç”¨å¼•å·åŒ…ä½å¹¶åŠ ä¸Š é€‰æ‹©æ€§çš„ <code>title</code> æ–‡å­—ã€‚</li></ul><hr><ol start="2"><li>å‚è€ƒå¼çš„å›¾ç‰‡è¯­æ³•åˆ™é•¿å¾—åƒè¿™æ ·ï¼š</li></ol><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="meta">[</span>Alt text<span class="meta">]</span><span class="meta">[</span>id<span class="meta">]</span></span><br></pre></td></tr></table></figure><p><code>id</code> æ˜¯å›¾ç‰‡å‚è€ƒçš„åç§°ï¼Œå›¾ç‰‡å‚è€ƒçš„å®šä¹‰æ–¹å¼åˆ™å’Œè¿ç»“å‚è€ƒä¸€æ ·ï¼š<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[</span>id<span class="meta">]</span>: url/to/image  "Optional title attribute"</span><br></pre></td></tr></table></figure></p><p><code>Markdown</code> è¿˜æ²¡æœ‰åŠæ³•æŒ‡å®šå›¾ç‰‡çš„å®½é«˜ï¼Œå¦‚æœä½ éœ€è¦çš„è¯ï¼Œä½ å¯ä»¥ä½¿ç”¨æ™®é€šçš„ <code>&lt;img&gt;</code>  æ ‡ç­¾ã€‚</p><hr><h3 id="LaTeX-å…¬å¼"><a href="#LaTeX-å…¬å¼" class="headerlink" title="LaTeX å…¬å¼"></a>LaTeX å…¬å¼</h3><p>å¯ä»¥åˆ›å»ºè¡Œå†…å…¬å¼ï¼Œä¾‹å¦‚ :<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>$\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$</p><p>æˆ–è€…å—çº§å…¬å¼ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$x = \dfrac&#123;-b \pm \sqrt&#123;b^2 - 4ac&#125;&#125;&#123;2a&#125; $$</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>$$ x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} $$</p><hr><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| Item      |    Value | Qty  |</span><br><span class="line">| :-------- | --------:| :--: |</span><br><span class="line">| Computer  | <span class="number">1600</span> USD |  <span class="number">5</span>   |</span><br><span class="line">| Phone     |   <span class="number">12</span> USD |  <span class="number">12</span>  |</span><br><span class="line">| Pipe      |    <span class="number">1</span> USD | <span class="number">234</span>  |</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:left">Item</th><th style="text-align:right">Value</th><th style="text-align:center">Qty</th></tr></thead><tbody><tr><td style="text-align:left">Computer</td><td style="text-align:right">1600 USD</td><td style="text-align:center">5</td></tr><tr><td style="text-align:left">Phone</td><td style="text-align:right">12 USD</td><td style="text-align:center">12</td></tr><tr><td style="text-align:left">Pipe</td><td style="text-align:right">1 USD</td><td style="text-align:center">234</td></tr></tbody></table><hr><h3 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h3><p><code>```flow <br>st=&gt;start: Start <br>e=&gt;end <br>op=&gt;operation: My Operation <br>cond=&gt;condition: Yes or No? <br><br>st-&gt;op-&gt;cond <br>cond(yes)-&gt;e <br>cond(no)-&gt;op <br>```</code></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><div id="flowchart-0" class="flow-chart"></div><p>ä»¥åŠæ—¶åºå›¾:</p><p><code>```sequence <br>Alice-&gt;Bob: Hello Bob, how are you? <br>Note right of Bob: Bob thinks <br>Bobâ€“&gt;Alice: I am good thanks! <br>```</code></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><div id="sequence-0"></div><h3 id="å¤é€‰æ¡†"><a href="#å¤é€‰æ¡†" class="headerlink" title="å¤é€‰æ¡†"></a>å¤é€‰æ¡†</h3><p>ä½¿ç”¨ <code>- [ ]</code> å’Œ <code>- [x]</code> è¯­æ³•å¯ä»¥åˆ›å»ºå¤é€‰æ¡†ï¼Œå®ç° todo-list ç­‰åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="meta">[</span>x<span class="meta">]</span> å·²å®Œæˆäº‹é¡¹</span><br><span class="line">- <span class="meta">[</span> <span class="meta">]</span> å¾…åŠäº‹é¡¹1</span><br><span class="line">- <span class="meta">[</span> <span class="meta">]</span> å¾…åŠäº‹é¡¹2</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li style="list-style: none"><input type="checkbox" checked> å·²å®Œæˆäº‹é¡¹</li><li style="list-style: none"><input type="checkbox"> å¾…åŠäº‹é¡¹1</li><li style="list-style: none"><input type="checkbox"> å¾…åŠäº‹é¡¹2</li></ul><hr><h3 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h3><p>åœ¨ <code>Markdown</code> ä¸­ï¼Œå¯ä»¥åˆ¶ä½œåˆ†å‰²çº¿ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">---</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><hr><h3 id="åæ–œæ "><a href="#åæ–œæ " class="headerlink" title="åæ–œæ "></a>åæ–œæ </h3><p><code>Markdown</code> å¯ä»¥åˆ©ç”¨åæ–œæ æ¥æ’å…¥ä¸€äº›åœ¨è¯­æ³•ä¸­æœ‰å…¶å®ƒæ„ä¹‰çš„ç¬¦å·ï¼Œä¾‹å¦‚ï¼šå¦‚æœä½ æƒ³è¦ç”¨æ˜Ÿå·åŠ åœ¨æ–‡å­—æ—è¾¹çš„æ–¹å¼æ¥åšå‡ºå¼ºè°ƒæ•ˆæœï¼ˆä½†ä¸ç”¨ <code>&lt;em&gt;</code> æ ‡ç­¾ï¼‰ï¼Œä½ å¯ä»¥åœ¨æ˜Ÿå·çš„å‰é¢åŠ ä¸Šåæ–œæ ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\*literal asterisks\*</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>*literal asterisks*</p><p><code>Markdown</code> æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   åæ–œçº¿</span><br><span class="line">`   åå¼•å·</span><br><span class="line">*   æ˜Ÿå·</span><br><span class="line">_   åº•çº¿</span><br><span class="line">&#123;&#125;  èŠ±æ‹¬å·</span><br><span class="line">[]  æ–¹æ‹¬å·</span><br><span class="line">()  æ‹¬å¼§</span><br><span class="line">#   äº•å­—å·</span><br><span class="line">+   åŠ å·</span><br><span class="line">-   å‡å·</span><br><span class="line">.   è‹±æ–‡å¥ç‚¹</span><br><span class="line">!   æƒŠå¹å·</span><br></pre></td></tr></table></figure><p><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Starte=>endop=>operation: My Operationcond=>condition: Yes or No?st->op->condcond(yes)->econd(no)->op</textarea><textarea id="flowchart-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">Alice->Bob: Hello Bob, how are you?Note right of Bob: Bob thinksBob-->Alice: I am good thanks!</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script></p>]]></content:encoded>
      
      <comments>https://h.lishaoy.net/markdownGrammar.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
