$(function(){var e=["/live2dw/assets/hijiki.model.json","/live2dw/assets/tororo.model.json"][Math.round(Math.random())],t=0,a=0,s=0,n=0;$(window).width()<=1024?(t=1,a=1.6,s=6,n=-116):(a=1.8,t=.8,s=0,n=-126),L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",model:{jsonPath:e},display:{superSample:a,position:"left",width:90,height:220,hOffset:s,vOffset:n},mobile:{show:!0,scale:.8},react:{opacityDefault:t,opacityOnHover:.2}});const o=(e,t)=>{for(var a=e.toString();a.length<t;)a="0"+a;return a};var i=function(e){try{var t=e.getTime(),a=(new Date).getTime()-t,s=e.getMonth()+1,n=(new Date).getMonth()+1-s;e.setMonth(s),e.setDate(0);var i=e.getDate(),r=Math.floor(a/864e5);if(0===r){var l=a%864e5,h=Math.floor(l/36e5);if(0===h){var d=l%36e5,c=Math.floor(d/6e4);if(0===c){var p=d%6e4;return{counts:Math.round(p/1e3),text:"ç§’å‰"}}return{counts:c,text:"åˆ†é’Ÿå‰"}}return{counts:h,text:"å°æ—¶å‰"}}return r<0?{counts:"ğŸ˜œ",text:"åˆšåˆš"}:r<=i?{counts:r,text:"å¤©å‰"}:n<3?{counts:n,text:"æœˆå‰"}:(e=>{var t=o(e.getDate(),2),a=o(e.getMonth()+1,2);o(e.getFullYear(),2);return{counts:t,text:a+"æœˆ"}})(e)}catch(e){console.log(e)}};function r(e,t,a){var s,n=new Date;return function(){var o=arguments,i=new Date;clearTimeout(s),i-n>=a?(e.apply(this,o),n=i):s=setTimeout(e,t)}}function l(){var e=$(document).height(),t=$(window).scrollTop(),a=$(window).height(),s=t/((e-a)/100);window.requestAnimationFrame(function(){$("#load").css("width",s+"%"),s>=99.5?$("#load").hide():$("#load").show(),t>57?$("#header").addClass("light-header").removeClass("dark"):$("#header").removeClass("light-header").addClass("dark")})}$(".post-date").each(function(){$(this).find(".post-time-text").text(i(new Date($(this).data("datetime"))).text),$(this).find(".post-time-count").text(i(new Date($(this).data("datetime"))).counts)}),$(".archive .posts-collapse .post-title a>span.archive-title").each(function(){$(this).append('<span class="archive-updated"></span>').find(".archive-updated").html('æ›´æ–°äºï¼š<time class="updated">'+$(this).attr("updated")+"</time")}),$(".category-all .category-list-item").on("click",function(){return window.location.href=$(this).find("a").attr("href"),!1}),$(".github-corner svg").css({width:"60px",height:"60px"}),POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE),$("#header").addClass("dark").addClass("animated"),$(".sidebar-toggle").on("click",function(){$("#header").toggleClass("header-has-sidebar")}),$(".popup-trigger.faa-parent.animated-hover").on("click",function(){$("#main").hide(),$(".sidebar-toggle").hide(),$(".back-to-top.back-to-top-on").hide(),$("#sidebar").hide(),$("#header").removeClass("slideInDown"),$(".local-search-popup .local-search-header").addClass("search-middle")}),$(".popup-btn-close").on("click",function(){$("#main").show(),$(".sidebar-toggle").show(),$("#sidebar").show(),$(".back-to-top.back-to-top-on").show()}),$("#local-search-input").on("change keydown",function(){$(".local-search-popup .local-search-header").removeClass("search-middle")});var h=0,d=0;$(document).on("scroll",function(e){r(l,1e3/60,100)(),h=$(this).scrollTop(),d<=h?($(window).scrollTop()>10&&($("#header").hasClass("slideOutUp")||$("#header").addClass("slideOutUp").removeClass("slideInDown"),$("#load").hasClass("header")&&$("#load").removeClass("header")),$(window).scrollTop()==$(document).height()-$(window).height()&&"function"==typeof showMessage&&showMessage("å–µ~ é¡µé¢åˆ°åº•äº†ï¼Œç‚¹å‡»å³ä¸‹è§’ç®­å¤´ â¬†ï¸ ï¼Œå¯å›åˆ°é¡¶éƒ¨",3e3)):($("#load").hasClass("header")||$("#load").addClass("header"),$("#header").hasClass("slideOutUp")&&$("#header").removeClass("slideOutUp").addClass("slideInDown")),setTimeout(function(){d=h},0)}),$(window).resize(function(){r(l,1e3/60,100)(),$(window).width()<=990?$("#header").removeClass("header-has-sidebar"):$("#sidebar").width()>0&&$("#header").addClass("header-has-sidebar")});var c=null;function p(){0==$(c).text().indexOf("Safari")?$(c).prepend('<img class="Safari" src="/images/ua/Safari.svg">'):0==$(c).text().indexOf("Mac")||0==$(c).text().indexOf("iOS")?$(c).prepend('<img class="Apple" src="/images/ua/Apple.svg">'):0==$(c).text().indexOf("Chrome")?$(c).prepend('<img class="Chrome" src="/images/ua/Chrome.svg">'):0==$(c).text().indexOf("Firefox")?$(c).prepend('<img class="Firefox" src="/images/ua/Firefox.svg">'):0==$(c).text().indexOf("Windows 10")?$(c).prepend('<img class="Windows10" src="/images/ua/windows10.svg">'):0==$(c).text().indexOf("Windows")||0==$(c).text().indexOf("Windows 7")||0==$(c).text().indexOf("Windows 8")||0==$(c).text().indexOf("Windows 9")?$(c).prepend('<img class="Windows7" src="/images/ua/windows7.svg">'):0==$(c).text().indexOf("Android")?$(c).prepend('<img class="Android" src="/images/ua/Android.svg">'):0==$(c).text().indexOf("Ubuntu")?$(c).prepend('<img class="Ubuntu" src="/images/ua/ubuntu.svg">'):0==$(c).text().indexOf("Linux")?$(c).prepend('<img class="Linux" src="/images/ua/Linux.svg">'):0==$(c).text().indexOf("Microsoft Edge")||0==$(c).text().indexOf("MSIE")?$(c).prepend('<img class="IE" src="/images/ua/IE.png">'):0==$(c).text().indexOf("Sogou")?$(c).prepend('<img class="sogou" src="/images/ua/sogou.svg">'):0==$(c).text().indexOf("XiaoMi")&&$(c).prepend('<img class="xiaomi" src="/images/ua/xiaomi.svg">')}function u(){$(window).width()<=520?($(c).text($(c).text().split(" ").shift()),p()):p()}var g=setInterval(function(){var t;if(0==$("#live2d-widget .per-tips").length){if($("#live2d-widget").prepend('<div class="per-tips"></div >'),t="/live2dw/assets/hijiki.model.json"==e?'å–µ~ æˆ‘æ˜¯ <span style="color:#fdb9b9">hijiki&nbsp;ğŸ±</span>...</br>':'å–µ~ æˆ‘æ˜¯ <span style="color:#fdb9b9">tororo&nbsp;ğŸ±</span>...</br>',""!==document.referrer&&"https://h.lishaoy.net/"!==document.referrer){var a=document.createElement("a");a.href=document.referrer;var s=a.hostname.split(".")[1];"h.lishaoy.net"==a.hostname?t+='æ¬¢è¿æ¥åˆ°&nbsp;<span style="color:rgba(239, 47, 17, 0.8);">ã€'+document.title.split(" | ")[0]+"ã€</span>,æ„Ÿè°¢æ‚¨ç»§ç»­å‚è§‚æœ¬ç«™ ğŸ™‚":t+="baidu"==s?'æ¥è‡ª ç™¾åº¦æœç´¢ çš„æœ‹å‹<br>ä½ æ˜¯æœç´¢ <span style="color:rgba(239, 47, 17, 0.8);">'+a.search.split("&wd=")[1].split("&")[0]+"</span> æ‰¾åˆ°çš„æˆ‘å—ï¼Ÿ":"so"==s?'æ¥è‡ª 360æœç´¢ çš„æœ‹å‹<br>ä½ æ˜¯æœç´¢ <span style="color:rgba(239, 47, 17, 0.8);">'+a.search.split("&q=")[1].split("&")[0]+"</span> æ‰¾åˆ°çš„æˆ‘å—ï¼Ÿ":"google"==s?'æ¥è‡ª è°·æ­Œæœç´¢ çš„æœ‹å‹<br>æ¬¢è¿é˜…è¯»<span style="color:rgba(239, 47, 17, 0.8);">ã€'+document.title.split(" - ")[0]+"ã€</span>":'æ¥è‡ª<span style="color:rgba(239, 47, 17, 0.8);">&nbsp;'+a.hostname+'&nbsp;</span>çš„æœ‹å‹,æ¬¢è¿æ¥åˆ°<span style="color:rgba(239, 47, 17, 0.8);">ã€'+document.title.split(" | ")[0]+"ã€</span>&nbsp;ç©è€ ğŸ™‚"}else if(null!==localStorage.getItem("ValineCache")&&"https://h.lishaoy.net/"==window.location.href)t+='<span style="color:rgba(239, 47, 17, 0.8);"><strong>&nbsp;'+JSON.parse(localStorage.getItem("ValineCache")).nick+"&nbsp;</strong></span>æ¬¢è¿å›æ¥ï¼è¦ç»§ç»­çœ‹ ğŸ‘€ äº›ä»€ä¹ˆå—";else if("https://h.lishaoy.net/"==window.location.href){var n=(new Date).getHours();t+=n>23||n<=5?"ä½ æ˜¯å¤œçŒ«å­å‘€ï¼Ÿè¿™ä¹ˆæ™šè¿˜ä¸ç¡è§‰ï¼Œæ˜å¤©èµ·çš„æ¥å˜›":n>5&&n<=7?"æ—©ä¸Šå¥½ï¼ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼Œç¾å¥½çš„ä¸€å¤©å°±è¦å¼€å§‹äº†":n>7&&n<=11?"ä¸Šåˆå¥½ï¼å·¥ä½œé¡ºåˆ©å˜›ï¼Œä¸è¦ä¹…åï¼Œå¤šèµ·æ¥èµ°åŠ¨èµ°åŠ¨å“¦ï¼":n>11&&n<=14?"ä¸­åˆäº†ï¼Œå·¥ä½œäº†ä¸€ä¸ªä¸Šåˆï¼Œç°åœ¨æ˜¯åˆé¤æ—¶é—´ï¼":n>14&&n<=17?"åˆåå¾ˆå®¹æ˜“çŠ¯å›°å‘¢ï¼Œä»Šå¤©çš„è¿åŠ¨ç›®æ ‡å®Œæˆäº†å—ï¼Ÿ":n>17&&n<=19?"å‚æ™šäº†ï¼çª—å¤–å¤•é˜³çš„æ™¯è‰²å¾ˆç¾ä¸½å‘¢ï¼Œæœ€ç¾ä¸è¿‡å¤•é˜³çº¢~":n>19&&n<=21?"æ™šä¸Šå¥½ï¼Œä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ":n>21&&n<=23?"å·²ç»è¿™ä¹ˆæ™šäº†å‘€ï¼Œæ—©ç‚¹ä¼‘æ¯å§ï¼Œæ™šå®‰~":"å¿«æ¥é€—æˆ‘ç©å§ï¼"}else t='æ¬¢è¿é˜…è¯»<span style="color:rgba(239, 47, 17, 0.8);">ã€'+document.title.split(" | ")[0]+"ã€</span>";showMessage(t,6e3)}else clearInterval(g)},100),f=setInterval(function(){0==$(".vhead:first .vsys>img").length?$(".vhead .vsys").each(function(){c=this,u()}):clearInterval(f)},100),v=setInterval(function(){0==$('.vhead .vname[href="https://h.lishaoy.net"]~.bozhu').length?$('.vhead .vname[href="https://h.lishaoy.net"]').after('<span class = "bozhu">åšä¸»</span>'):0==$('.vhead .vname[href="https://lishaoy.net"]~.bozhu').length?$('.vhead .vname[href="https://lishaoy.net"]').after('<span class = "bozhu">åšä¸»</span>'):clearInterval(v)},100);$(".vsubmit.vbtn").on("click",function(){var e=setInterval(function(){0==$(".vhead:first .vsys>img").length?$(".vhead:first .vsys").each(function(){c=this,u()}):clearInterval(e)},1e3),t=setInterval(function(){0==$(".vhead").eq(0).find('.vname[href="https://h.lishaoy.net"]~.bozhu').length&&0==$(".vhead").eq(0).find('.vname[href="https://lishaoy.net"]~.bozhu').length?($(".vhead").eq(0).find('.vname[href="https://h.lishaoy.net"]').after('<span class = "bozhu">åšä¸»</span>'),$(".vhead").eq(0).find('.vname[href="https://lishaoy.net"]').after('<span class = "bozhu">åšä¸»</span>')):clearInterval(t)},1e3)}),$(document).on("click",".vmore.vbtn",function(){var e=setInterval(function(){0==$(".vhead:last .vsys>img").length?$(".vhead .vsys").each(function(){-1==$(this).html().indexOf("img")&&(c=this,u())}):clearInterval(e)},1e3),t=setInterval(function(){0==$('.vhead:last .vname[href="https://h.lishaoy.net"]~.bozhu').length&&0==$('.vhead:last .vname[href="https://lishaoy.net"]~.bozhu').length?($('.vhead .vname[href="https://lishaoy.net"]').each(function(){0==$(this).siblings(".bozhu").length&&$(this).after('<span class = "bozhu">åšä¸»</span>')}),$('.vhead .vname[href="https://h.lishaoy.net"]').each(function(){0==$(this).siblings(".bozhu").length&&$(this).after('<span class = "bozhu">åšä¸»</span>')})):clearInterval(t)},1e3)});!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?a6c4f77e87e7fd898fd9fff81505d737";var t=document.getElementsByTagName("script")[0],a=document.getElementsByTagName("script").length;(t=document.getElementsByTagName("script")[a-1]).parentNode.insertBefore(e,t)}(),function(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-120619444-1")}(),"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js").then(function(){navigator.serviceWorker.controller?console.log("Assets cached by the controlling service worker."):console.log("Please reload this page to allow the service worker to handle network operations.")}).catch(function(e){console.log("ERROR: "+e)}):console.log("Service workers are not supported in the current browser."),$("img.hidden").parent("a.fancybox").css("display","none")});